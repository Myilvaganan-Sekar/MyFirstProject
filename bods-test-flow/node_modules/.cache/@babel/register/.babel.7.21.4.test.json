{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\wdio.conf.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const hookCustom = require(\"./utils/lib/hook\");\nconst allureCustom = require(\"./utils/lib/allure\");\nconst jiraIntegration = require(\"./utils/lib/jira\");\nconst capHandler = require(\"./utils/lib/cap_handler\");\nlet img_comparison_config = hookCustom.getWebCompareConfig();\nlet allure_config = hookCustom.getAllureConfig();\nlet suites = hookCustom.getSuites();\nexports.config = {\n  //\n  // ====================\n  // Runner Configuration\n  // ====================\n  // remote selenium grid config\n  hostname: \"localhost\",\n  port: 4444,\n  path: \"/wd/hub/\",\n  protocol: \"http\",\n  // WebdriverIO supports running e2e tests as well as unit and component tests.\n  runner: \"local\",\n  jira: \" \",\n  jiraAuth: \" \",\n  jenkins: \" \",\n  jobName: \"bods-test-flow\",\n  //\n  // ======================\n  // Google API Integration\n  // ======================\n  gApiVersion: \"v3\",\n  gSheetVersion: \"v4\",\n  gDriveFolders: [\"1N10h_ZxwBZ6WOYZmxN2ua_sfSFg2TDrf\"],\n  //1O32rsUAznBGv1mpYdNWXDCyH11giSFvd\n  gSheetId: \"1bMp-0WKZ8JAboKQWDTxRhsba1mszIyYHzqxBBZpsfqw\",\n  //\n  // ==================\n  // Specify Test Files\n  // ==================\n  // Define which test specs should run. The pattern is relative to the directory\n  // from which `wdio` was called.\n  //\n  // The specs are defined as an array of spec files (optionally using wildcards\n  // that will be expanded). The test for each spec file will be run in a separate\n  // worker process. In order to have a group of spec files run in the same worker\n  // process simply enclose them in an array within the specs array.\n  //\n  // If you are calling `wdio` from an NPM script (see https://docs.npmjs.com/cli/run-script),\n  // then the current working directory is where your `package.json` resides, so `wdio`\n  // will be called from there.\n  //\n  specs: [\"./test/**/screen/*.js\", \"./test/**/fullpage/*.js\", \"./test/specs/init.js\"],\n  // Patterns to exclude.\n  exclude: [\"./test/**/*-allpages.js\", \"./test/**/*.spec-generation.js\", \"./test/**/mobile/*.js\", \"./test/**/automation-samples/**/*.js\"\n  // \"./test/**/chugai/**/*.js\",\n  ],\n\n  suites: suites,\n  //\n  // ============\n  // Capabilities\n  // ============\n  // Define your capabilities here. WebdriverIO can run multiple capabilities at the same\n  // time. Depending on the number of capabilities, WebdriverIO launches several test\n  // sessions. Within your capabilities you can overwrite the spec and exclude options in\n  // order to group specific specs to a specific capability.\n  //\n  // First, you can define how many instances should be started at the same time. Let's\n  // say you have 3 different capabilities (Chrome, Firefox, and Safari) and you have\n  // set maxInstances to 1; wdio will spawn 3 processes. Therefore, if you have 10 spec\n  // files and you set maxInstances to 10, all spec files will get tested at the same time\n  // and 30 processes will get spawned. The property handles how many capabilities\n  // from the same test should run tests.\n  //\n  maxInstances: 10,\n  //\n  // If you have trouble getting all important capabilities together, check out the\n  // Sauce Labs platform configurator - a great tool to configure your capabilities:\n  // https://saucelabs.com/platform/platform-configurator\n  //\n  capabilities: [{\n    \"custom:cid\": \"cid.001\",\n    maxInstances: 3,\n    browserName: \"chrome\",\n    acceptInsecureCerts: true,\n    'goog:chromeOptions': {\n      args: ['--no-sandbox', '--incognito']\n    }\n  }],\n  //\n  // ===================\n  // Test Configurations\n  // ===================\n  // Define all options that are relevant for the WebdriverIO instance here\n  //\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\n  // logLevel: \"info\",\n  //\n  // Set specific log levels per logger\n  // loggers:\n  // - webdriver, webdriverio\n  // - @wdio/browserstack-service, @wdio/devtools-service, @wdio/sauce-service\n  // - @wdio/mocha-framework, @wdio/jasmine-framework\n  // - @wdio/local-runner\n  // - @wdio/sumologic-reporter\n  // - @wdio/cli, @wdio/config, @wdio/utils\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\n  logLevels: {\n    webdriver: \"error\",\n    webdriverio: \"error\",\n    \"@wdio/mocha-framework\": \"error\",\n    \"@wdio/local-runner\": \"error\",\n    \"@wdio/cli\": \"error\",\n    \"@wdio/config\": \"error\",\n    \"@wdio/utils\": \"error\",\n    \"@wdio/spec-reporter\": \"error\"\n  },\n  //\n  // If you only want to run your tests until a specific amount of tests have failed use\n  // bail (default is 0 - don't bail, run all tests).\n  bail: 0,\n  //\n  // Set a base URL in order to shorten url command calls. If your `url` parameter starts\n  // with `/`, the base url gets prepended, not including the path portion of your baseUrl.\n  // If your `url` parameter starts without a scheme or `/` (like `some/path`), the base url\n  // gets prepended directly.\n  baseUrl: \"\",\n  //\n  // Default timeout for all waitFor* commands.\n  waitforTimeout: 10000,\n  //\n  // Default timeout in milliseconds for request\n  // if browser driver or grid doesn't send response\n  connectionRetryTimeout: 15000000,\n  //\n  // Default request retries count\n  connectionRetryCount: 3,\n  //\n  // Test runner services\n  // Services take over a specific job you don't want to take care of. They enhance\n  // your test setup with almost no effort. Unlike plugins, they don't add new\n  // commands. Instead, they hook themselves up into the test process.\n  services: ['chromedriver', [\"image-comparison\", img_comparison_config]],\n  // Framework you want to run your specs with.\n  // The following are supported: Mocha, Jasmine, and Cucumber\n  // see also: https://webdriver.io/docs/frameworks\n  //\n  // Make sure you have the wdio adapter package for the specific framework installed\n  // before running any tests.\n  framework: \"mocha\",\n  //\n  // The number of times to retry the entire specfile when it fails as a whole\n  // specFileRetries: 1,\n  //\n  // Delay in seconds between the spec file retry attempts\n  // specFileRetriesDelay: 0,\n  //\n  // Whether or not retried specfiles should be retried immediately or deferred to the end of the queue\n  // specFileRetriesDeferred: false,\n  //\n  // Test reporter for stdout.\n  // The only one supported by default is 'dot'\n  // see also: https://webdriver.io/docs/dot-reporter\n  reporters: [\"spec\", [\"allure\", allure_config]],\n  //\n  // Options to be passed to Mocha.\n  // See the full list at http://mochajs.org/\n  mochaOpts: {\n    ui: \"bdd\",\n    timeout: 15000000\n  },\n  //\n  // =====\n  // Hooks\n  // =====\n  // WebdriverIO provides several hooks you can use to interfere with the test process in order to enhance\n  // it and to build services around it. You can either apply a single function or an array of\n  // methods to it. If one of them returns with a promise, WebdriverIO will wait until that promise got\n  // resolved to continue.\n  /**\r\n   * Gets executed once before all workers get launched.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   */\n  onPrepare: async function (config, capabilities) {},\n  /**\r\n   * Gets executed before a worker process is spawned and can be used to initialise specific service\r\n   * for that worker as well as modify runtime environments in an async fashion.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {[type]} caps     object containing capabilities for session that will be spawn in the worker\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {[type]} args     object that will be merged with the main configuration once worker is initialized\r\n   * @param  {[type]} execArgv list of string arguments passed to the worker process\r\n   */\n  onWorkerStart: async function (cid, caps, specs, args, execArgv) {\n    // GENERATE CAPABILITIES\n    await capHandler.generateCapabilities(specs, caps);\n    if (typeof caps[\"appium:deviceName\"] == \"undefined\") caps[\"appium:deviceName\"] = \"undefined\";\n\n    // AUTO FIX CODE\n    hookCustom.autoFixCode(specs);\n\n    // INIT NEW PROJECT --- BASE ON DATA JSON\n    hookCustom.initProject(specs);\n\n    // CONVERT TEST CASES TO JSON\n    hookCustom.tc2json(specs);\n\n    // UPDATE CODES VERSION\n    // await hookCustom.updateCodeVersion(specs);\n  },\n\n  /**\r\n   * Gets executed just after a worker process has exited.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {Number} exitCode 0 - success, 1 - fail\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {Number} retries  number of retries used\r\n   */\n  // onWorkerEnd: function (cid, exitCode, specs, retries) {\n  // },\n  /**\r\n   * Gets executed just before initialising the webdriver session and test framework. It allows you\r\n   * to manipulate configurations depending on the capability or spec.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that are to be run\r\n   * @param {String} cid worker id (e.g. 0-0)\r\n   */\n  // beforeSession: function (config, capabilities, specs, cid) {\n  // },\n  /**\r\n   * Gets executed before test execution begins. At this point you can access to all global\r\n   * variables like `browser`. It is the perfect place to define custom commands.\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs        List of spec file paths that are to be run\r\n   * @param {Object}         browser      instance of created browser/device session\r\n   */\n  before: async function (capabilities, specs) {\n    await browser.maximizeWindow();\n  },\n  /**\r\n   * Runs before a WebdriverIO command gets executed.\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   */\n  // beforeCommand: function (commandName, args) {\n  // },\n  /**\r\n   * Hook that gets executed before the suite starts\r\n   * @param {Object} suite suite details\r\n   */\n  // beforeSuite: function (suite) {\n  // },\n  /**\r\n   * Function to be executed before a test (in Mocha/Jasmine) starts.\r\n   */\n  beforeTest: function (test, context) {},\n  /**\r\n   * Hook that gets executed _before_ a hook within the suite starts (e.g. runs before calling\r\n   * beforeEach in Mocha)\r\n   */\n  // beforeHook: function (test, context) {\n  // },\n  /**\r\n   * Hook that gets executed _after_ a hook within the suite starts (e.g. runs after calling\r\n   * afterEach in Mocha)\r\n   */\n  // afterHook: function (test, context, { error, result, duration, passed, retries }) {\n  // },\n  /**\r\n   * Function to be executed after a test (in Mocha/Jasmine only)\r\n   * @param {Object}  test             test object\r\n   * @param {Object}  context          scope object the test was executed with\r\n   * @param {Error}   result.error     error object in case the test fails, otherwise `undefined`\r\n   * @param {Any}     result.result    return object of test function\r\n   * @param {Number}  result.duration  duration of test\r\n   * @param {Boolean} result.passed    true if test has passed, otherwise false\r\n   * @param {Object}  result.retries   informations to spec related retries, e.g. `{ attempts: 0, limit: 0 }`\r\n   */\n  afterTest: async function (test, context, {\n    error,\n    result,\n    duration,\n    passed,\n    retries\n  }) {\n    await allureCustom.groupTest(test.file, test.title);\n    await jiraIntegration.jobs(test.file, test.title, passed, error);\n  },\n  /**\r\n   * Hook that gets executed after the suite has ended\r\n   * @param {Object} suite suite details\r\n   */\n  // afterSuite: function (suite) {\n  // },\n  /**\r\n   * Runs after a WebdriverIO command gets executed\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   * @param {Number} result 0 - command success, 1 - command error\r\n   * @param {Object} error error object if any\r\n   */\n  // afterCommand: function (commandName, args, result, error) {\n  // },\n  /**\r\n   * Gets executed after all tests are done. You still have access to all global variables from\r\n   * the test.\r\n   * @param {Number} result 0 - test pass, 1 - test fail\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\n  after: function (result, capabilities, specs) {}\n  /**\r\n   * Gets executed right after terminating the webdriver session.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\n  // afterSession: function (config, capabilities, specs) {\n  // },\n  /**\r\n   * Gets executed after all workers got shut down and the process is about to exit. An error\r\n   * thrown in the onComplete hook will result in the test run failing.\r\n   * @param {Object} exitCode 0 - success, 1 - fail\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {<Object>} results object containing test results\r\n   */\n  // onComplete: async function (exitCode, config, capabilities, results) {},\n  /**\r\n   * Gets executed when a refresh happens.\r\n   * @param {String} oldSessionId session ID of the old session\r\n   * @param {String} newSessionId session ID of the new session\r\n   */\n  // onReload: function(oldSessionId, newSessionId) {\n  // }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJob29rQ3VzdG9tIiwicmVxdWlyZSIsImFsbHVyZUN1c3RvbSIsImppcmFJbnRlZ3JhdGlvbiIsImNhcEhhbmRsZXIiLCJpbWdfY29tcGFyaXNvbl9jb25maWciLCJnZXRXZWJDb21wYXJlQ29uZmlnIiwiYWxsdXJlX2NvbmZpZyIsImdldEFsbHVyZUNvbmZpZyIsInN1aXRlcyIsImdldFN1aXRlcyIsImV4cG9ydHMiLCJjb25maWciLCJob3N0bmFtZSIsInBvcnQiLCJwYXRoIiwicHJvdG9jb2wiLCJydW5uZXIiLCJqaXJhIiwiamlyYUF1dGgiLCJqZW5raW5zIiwiam9iTmFtZSIsImdBcGlWZXJzaW9uIiwiZ1NoZWV0VmVyc2lvbiIsImdEcml2ZUZvbGRlcnMiLCJnU2hlZXRJZCIsInNwZWNzIiwiZXhjbHVkZSIsIm1heEluc3RhbmNlcyIsImNhcGFiaWxpdGllcyIsImJyb3dzZXJOYW1lIiwiYWNjZXB0SW5zZWN1cmVDZXJ0cyIsImFyZ3MiLCJsb2dMZXZlbHMiLCJ3ZWJkcml2ZXIiLCJ3ZWJkcml2ZXJpbyIsImJhaWwiLCJiYXNlVXJsIiwid2FpdGZvclRpbWVvdXQiLCJjb25uZWN0aW9uUmV0cnlUaW1lb3V0IiwiY29ubmVjdGlvblJldHJ5Q291bnQiLCJzZXJ2aWNlcyIsImZyYW1ld29yayIsInJlcG9ydGVycyIsIm1vY2hhT3B0cyIsInVpIiwidGltZW91dCIsIm9uUHJlcGFyZSIsIm9uV29ya2VyU3RhcnQiLCJjaWQiLCJjYXBzIiwiZXhlY0FyZ3YiLCJnZW5lcmF0ZUNhcGFiaWxpdGllcyIsImF1dG9GaXhDb2RlIiwiaW5pdFByb2plY3QiLCJ0YzJqc29uIiwiYmVmb3JlIiwiYnJvd3NlciIsIm1heGltaXplV2luZG93IiwiYmVmb3JlVGVzdCIsInRlc3QiLCJjb250ZXh0IiwiYWZ0ZXJUZXN0IiwiZXJyb3IiLCJyZXN1bHQiLCJkdXJhdGlvbiIsInBhc3NlZCIsInJldHJpZXMiLCJncm91cFRlc3QiLCJmaWxlIiwidGl0bGUiLCJqb2JzIiwiYWZ0ZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXCIsInNvdXJjZXMiOlsid2Rpby5jb25mLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhvb2tDdXN0b20gPSByZXF1aXJlKFwiLi91dGlscy9saWIvaG9va1wiKTtcclxuY29uc3QgYWxsdXJlQ3VzdG9tID0gcmVxdWlyZShcIi4vdXRpbHMvbGliL2FsbHVyZVwiKTtcclxuY29uc3QgamlyYUludGVncmF0aW9uID0gcmVxdWlyZShcIi4vdXRpbHMvbGliL2ppcmFcIik7XHJcbmNvbnN0IGNhcEhhbmRsZXIgPSByZXF1aXJlKFwiLi91dGlscy9saWIvY2FwX2hhbmRsZXJcIik7XHJcblxyXG5sZXQgaW1nX2NvbXBhcmlzb25fY29uZmlnID0gaG9va0N1c3RvbS5nZXRXZWJDb21wYXJlQ29uZmlnKCk7XHJcbmxldCBhbGx1cmVfY29uZmlnID0gaG9va0N1c3RvbS5nZXRBbGx1cmVDb25maWcoKTtcclxubGV0IHN1aXRlcyA9IGhvb2tDdXN0b20uZ2V0U3VpdGVzKCk7XHJcblxyXG5leHBvcnRzLmNvbmZpZyA9IHtcclxuICAvL1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gUnVubmVyIENvbmZpZ3VyYXRpb25cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIHJlbW90ZSBzZWxlbml1bSBncmlkIGNvbmZpZ1xyXG4gIGhvc3RuYW1lOiBcImxvY2FsaG9zdFwiLFxyXG4gIHBvcnQ6IDQ0NDQsXHJcbiAgcGF0aDogXCIvd2QvaHViL1wiLFxyXG4gIHByb3RvY29sOiBcImh0dHBcIixcclxuICAvLyBXZWJkcml2ZXJJTyBzdXBwb3J0cyBydW5uaW5nIGUyZSB0ZXN0cyBhcyB3ZWxsIGFzIHVuaXQgYW5kIGNvbXBvbmVudCB0ZXN0cy5cclxuICBydW5uZXI6IFwibG9jYWxcIixcclxuICBqaXJhOiBcIiBcIixcclxuICBqaXJhQXV0aDogXCIgXCIsXHJcbiAgamVua2luczogXCIgXCIsXHJcbiAgam9iTmFtZTogXCJib2RzLXRlc3QtZmxvd1wiLFxyXG4gIC8vXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEdvb2dsZSBBUEkgSW50ZWdyYXRpb25cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgZ0FwaVZlcnNpb246IFwidjNcIixcclxuICBnU2hlZXRWZXJzaW9uOiBcInY0XCIsXHJcbiAgZ0RyaXZlRm9sZGVyczogW1wiMU4xMGhfWnh3Qlo2V09ZWm14TjJ1YV9zZlNGZzJURHJmXCJdLCAvLzFPMzJyc1VBem5CR3YxbXBZZE5XWERDeUgxMWdpU0Z2ZFxyXG4gIGdTaGVldElkOiBcIjFiTXAtMFdLWjhKQWJvS1FXRFR4UmhzYmExbXN6SXlZSHpxeEJCWnBzZnF3XCIsIFxyXG4gIC8vXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09XHJcbiAgLy8gU3BlY2lmeSBUZXN0IEZpbGVzXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRGVmaW5lIHdoaWNoIHRlc3Qgc3BlY3Mgc2hvdWxkIHJ1bi4gVGhlIHBhdHRlcm4gaXMgcmVsYXRpdmUgdG8gdGhlIGRpcmVjdG9yeVxyXG4gIC8vIGZyb20gd2hpY2ggYHdkaW9gIHdhcyBjYWxsZWQuXHJcbiAgLy9cclxuICAvLyBUaGUgc3BlY3MgYXJlIGRlZmluZWQgYXMgYW4gYXJyYXkgb2Ygc3BlYyBmaWxlcyAob3B0aW9uYWxseSB1c2luZyB3aWxkY2FyZHNcclxuICAvLyB0aGF0IHdpbGwgYmUgZXhwYW5kZWQpLiBUaGUgdGVzdCBmb3IgZWFjaCBzcGVjIGZpbGUgd2lsbCBiZSBydW4gaW4gYSBzZXBhcmF0ZVxyXG4gIC8vIHdvcmtlciBwcm9jZXNzLiBJbiBvcmRlciB0byBoYXZlIGEgZ3JvdXAgb2Ygc3BlYyBmaWxlcyBydW4gaW4gdGhlIHNhbWUgd29ya2VyXHJcbiAgLy8gcHJvY2VzcyBzaW1wbHkgZW5jbG9zZSB0aGVtIGluIGFuIGFycmF5IHdpdGhpbiB0aGUgc3BlY3MgYXJyYXkuXHJcbiAgLy9cclxuICAvLyBJZiB5b3UgYXJlIGNhbGxpbmcgYHdkaW9gIGZyb20gYW4gTlBNIHNjcmlwdCAoc2VlIGh0dHBzOi8vZG9jcy5ucG1qcy5jb20vY2xpL3J1bi1zY3JpcHQpLFxyXG4gIC8vIHRoZW4gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkgaXMgd2hlcmUgeW91ciBgcGFja2FnZS5qc29uYCByZXNpZGVzLCBzbyBgd2Rpb2BcclxuICAvLyB3aWxsIGJlIGNhbGxlZCBmcm9tIHRoZXJlLlxyXG4gIC8vXHJcbiAgc3BlY3M6IFtcclxuICAgIFwiLi90ZXN0LyoqL3NjcmVlbi8qLmpzXCIsXHJcbiAgICBcIi4vdGVzdC8qKi9mdWxscGFnZS8qLmpzXCIsXHJcbiAgICBcIi4vdGVzdC9zcGVjcy9pbml0LmpzXCIsXHJcbiAgXSxcclxuICAvLyBQYXR0ZXJucyB0byBleGNsdWRlLlxyXG4gIGV4Y2x1ZGU6IFtcclxuICAgIFwiLi90ZXN0LyoqLyotYWxscGFnZXMuanNcIixcclxuICAgIFwiLi90ZXN0LyoqLyouc3BlYy1nZW5lcmF0aW9uLmpzXCIsXHJcbiAgICBcIi4vdGVzdC8qKi9tb2JpbGUvKi5qc1wiLFxyXG4gICAgXCIuL3Rlc3QvKiovYXV0b21hdGlvbi1zYW1wbGVzLyoqLyouanNcIixcclxuICAgIC8vIFwiLi90ZXN0LyoqL2NodWdhaS8qKi8qLmpzXCIsXHJcbiAgXSxcclxuICBzdWl0ZXM6IHN1aXRlcyxcclxuICAvL1xyXG4gIC8vID09PT09PT09PT09PVxyXG4gIC8vIENhcGFiaWxpdGllc1xyXG4gIC8vID09PT09PT09PT09PVxyXG4gIC8vIERlZmluZSB5b3VyIGNhcGFiaWxpdGllcyBoZXJlLiBXZWJkcml2ZXJJTyBjYW4gcnVuIG11bHRpcGxlIGNhcGFiaWxpdGllcyBhdCB0aGUgc2FtZVxyXG4gIC8vIHRpbWUuIERlcGVuZGluZyBvbiB0aGUgbnVtYmVyIG9mIGNhcGFiaWxpdGllcywgV2ViZHJpdmVySU8gbGF1bmNoZXMgc2V2ZXJhbCB0ZXN0XHJcbiAgLy8gc2Vzc2lvbnMuIFdpdGhpbiB5b3VyIGNhcGFiaWxpdGllcyB5b3UgY2FuIG92ZXJ3cml0ZSB0aGUgc3BlYyBhbmQgZXhjbHVkZSBvcHRpb25zIGluXHJcbiAgLy8gb3JkZXIgdG8gZ3JvdXAgc3BlY2lmaWMgc3BlY3MgdG8gYSBzcGVjaWZpYyBjYXBhYmlsaXR5LlxyXG4gIC8vXHJcbiAgLy8gRmlyc3QsIHlvdSBjYW4gZGVmaW5lIGhvdyBtYW55IGluc3RhbmNlcyBzaG91bGQgYmUgc3RhcnRlZCBhdCB0aGUgc2FtZSB0aW1lLiBMZXQnc1xyXG4gIC8vIHNheSB5b3UgaGF2ZSAzIGRpZmZlcmVudCBjYXBhYmlsaXRpZXMgKENocm9tZSwgRmlyZWZveCwgYW5kIFNhZmFyaSkgYW5kIHlvdSBoYXZlXHJcbiAgLy8gc2V0IG1heEluc3RhbmNlcyB0byAxOyB3ZGlvIHdpbGwgc3Bhd24gMyBwcm9jZXNzZXMuIFRoZXJlZm9yZSwgaWYgeW91IGhhdmUgMTAgc3BlY1xyXG4gIC8vIGZpbGVzIGFuZCB5b3Ugc2V0IG1heEluc3RhbmNlcyB0byAxMCwgYWxsIHNwZWMgZmlsZXMgd2lsbCBnZXQgdGVzdGVkIGF0IHRoZSBzYW1lIHRpbWVcclxuICAvLyBhbmQgMzAgcHJvY2Vzc2VzIHdpbGwgZ2V0IHNwYXduZWQuIFRoZSBwcm9wZXJ0eSBoYW5kbGVzIGhvdyBtYW55IGNhcGFiaWxpdGllc1xyXG4gIC8vIGZyb20gdGhlIHNhbWUgdGVzdCBzaG91bGQgcnVuIHRlc3RzLlxyXG4gIC8vXHJcbiAgbWF4SW5zdGFuY2VzOiAxMCxcclxuICAvL1xyXG4gIC8vIElmIHlvdSBoYXZlIHRyb3VibGUgZ2V0dGluZyBhbGwgaW1wb3J0YW50IGNhcGFiaWxpdGllcyB0b2dldGhlciwgY2hlY2sgb3V0IHRoZVxyXG4gIC8vIFNhdWNlIExhYnMgcGxhdGZvcm0gY29uZmlndXJhdG9yIC0gYSBncmVhdCB0b29sIHRvIGNvbmZpZ3VyZSB5b3VyIGNhcGFiaWxpdGllczpcclxuICAvLyBodHRwczovL3NhdWNlbGFicy5jb20vcGxhdGZvcm0vcGxhdGZvcm0tY29uZmlndXJhdG9yXHJcbiAgLy9cclxuICBjYXBhYmlsaXRpZXM6IFtcclxuICAgIHtcclxuICAgICAgXCJjdXN0b206Y2lkXCI6IFwiY2lkLjAwMVwiLFxyXG4gICAgICBtYXhJbnN0YW5jZXM6IDMsXHJcbiAgICAgIGJyb3dzZXJOYW1lOiBcImNocm9tZVwiLFxyXG4gICAgICBhY2NlcHRJbnNlY3VyZUNlcnRzOiB0cnVlLFxyXG4gICAgICAnZ29vZzpjaHJvbWVPcHRpb25zJzoge1xyXG4gICAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94JywnLS1pbmNvZ25pdG8nXVxyXG4gICAgfVxyXG4gICAgfSxcclxuICBdLFxyXG4gIC8vXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFRlc3QgQ29uZmlndXJhdGlvbnNcclxuICAvLyA9PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRGVmaW5lIGFsbCBvcHRpb25zIHRoYXQgYXJlIHJlbGV2YW50IGZvciB0aGUgV2ViZHJpdmVySU8gaW5zdGFuY2UgaGVyZVxyXG4gIC8vXHJcbiAgLy8gTGV2ZWwgb2YgbG9nZ2luZyB2ZXJib3NpdHk6IHRyYWNlIHwgZGVidWcgfCBpbmZvIHwgd2FybiB8IGVycm9yIHwgc2lsZW50XHJcbiAgLy8gbG9nTGV2ZWw6IFwiaW5mb1wiLFxyXG4gIC8vXHJcbiAgLy8gU2V0IHNwZWNpZmljIGxvZyBsZXZlbHMgcGVyIGxvZ2dlclxyXG4gIC8vIGxvZ2dlcnM6XHJcbiAgLy8gLSB3ZWJkcml2ZXIsIHdlYmRyaXZlcmlvXHJcbiAgLy8gLSBAd2Rpby9icm93c2Vyc3RhY2stc2VydmljZSwgQHdkaW8vZGV2dG9vbHMtc2VydmljZSwgQHdkaW8vc2F1Y2Utc2VydmljZVxyXG4gIC8vIC0gQHdkaW8vbW9jaGEtZnJhbWV3b3JrLCBAd2Rpby9qYXNtaW5lLWZyYW1ld29ya1xyXG4gIC8vIC0gQHdkaW8vbG9jYWwtcnVubmVyXHJcbiAgLy8gLSBAd2Rpby9zdW1vbG9naWMtcmVwb3J0ZXJcclxuICAvLyAtIEB3ZGlvL2NsaSwgQHdkaW8vY29uZmlnLCBAd2Rpby91dGlsc1xyXG4gIC8vIExldmVsIG9mIGxvZ2dpbmcgdmVyYm9zaXR5OiB0cmFjZSB8IGRlYnVnIHwgaW5mbyB8IHdhcm4gfCBlcnJvciB8IHNpbGVudFxyXG4gIGxvZ0xldmVsczoge1xyXG4gICAgd2ViZHJpdmVyOiBcImVycm9yXCIsXHJcbiAgICB3ZWJkcml2ZXJpbzogXCJlcnJvclwiLFxyXG4gICAgXCJAd2Rpby9tb2NoYS1mcmFtZXdvcmtcIjogXCJlcnJvclwiLFxyXG4gICAgXCJAd2Rpby9sb2NhbC1ydW5uZXJcIjogXCJlcnJvclwiLFxyXG4gICAgXCJAd2Rpby9jbGlcIjogXCJlcnJvclwiLFxyXG4gICAgXCJAd2Rpby9jb25maWdcIjogXCJlcnJvclwiLFxyXG4gICAgXCJAd2Rpby91dGlsc1wiOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL3NwZWMtcmVwb3J0ZXJcIjogXCJlcnJvclwiLFxyXG4gIH0sXHJcbiAgLy9cclxuICAvLyBJZiB5b3Ugb25seSB3YW50IHRvIHJ1biB5b3VyIHRlc3RzIHVudGlsIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRlc3RzIGhhdmUgZmFpbGVkIHVzZVxyXG4gIC8vIGJhaWwgKGRlZmF1bHQgaXMgMCAtIGRvbid0IGJhaWwsIHJ1biBhbGwgdGVzdHMpLlxyXG4gIGJhaWw6IDAsXHJcbiAgLy9cclxuICAvLyBTZXQgYSBiYXNlIFVSTCBpbiBvcmRlciB0byBzaG9ydGVuIHVybCBjb21tYW5kIGNhbGxzLiBJZiB5b3VyIGB1cmxgIHBhcmFtZXRlciBzdGFydHNcclxuICAvLyB3aXRoIGAvYCwgdGhlIGJhc2UgdXJsIGdldHMgcHJlcGVuZGVkLCBub3QgaW5jbHVkaW5nIHRoZSBwYXRoIHBvcnRpb24gb2YgeW91ciBiYXNlVXJsLlxyXG4gIC8vIElmIHlvdXIgYHVybGAgcGFyYW1ldGVyIHN0YXJ0cyB3aXRob3V0IGEgc2NoZW1lIG9yIGAvYCAobGlrZSBgc29tZS9wYXRoYCksIHRoZSBiYXNlIHVybFxyXG4gIC8vIGdldHMgcHJlcGVuZGVkIGRpcmVjdGx5LlxyXG4gIGJhc2VVcmw6IFwiXCIsXHJcbiAgLy9cclxuICAvLyBEZWZhdWx0IHRpbWVvdXQgZm9yIGFsbCB3YWl0Rm9yKiBjb21tYW5kcy5cclxuICB3YWl0Zm9yVGltZW91dDogMTAwMDAsXHJcbiAgLy9cclxuICAvLyBEZWZhdWx0IHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciByZXF1ZXN0XHJcbiAgLy8gaWYgYnJvd3NlciBkcml2ZXIgb3IgZ3JpZCBkb2Vzbid0IHNlbmQgcmVzcG9uc2VcclxuICBjb25uZWN0aW9uUmV0cnlUaW1lb3V0OiAxNTAwMDAwMCxcclxuICAvL1xyXG4gIC8vIERlZmF1bHQgcmVxdWVzdCByZXRyaWVzIGNvdW50XHJcbiAgY29ubmVjdGlvblJldHJ5Q291bnQ6IDMsXHJcbiAgLy9cclxuICAvLyBUZXN0IHJ1bm5lciBzZXJ2aWNlc1xyXG4gIC8vIFNlcnZpY2VzIHRha2Ugb3ZlciBhIHNwZWNpZmljIGpvYiB5b3UgZG9uJ3Qgd2FudCB0byB0YWtlIGNhcmUgb2YuIFRoZXkgZW5oYW5jZVxyXG4gIC8vIHlvdXIgdGVzdCBzZXR1cCB3aXRoIGFsbW9zdCBubyBlZmZvcnQuIFVubGlrZSBwbHVnaW5zLCB0aGV5IGRvbid0IGFkZCBuZXdcclxuICAvLyBjb21tYW5kcy4gSW5zdGVhZCwgdGhleSBob29rIHRoZW1zZWx2ZXMgdXAgaW50byB0aGUgdGVzdCBwcm9jZXNzLlxyXG4gIHNlcnZpY2VzOiBbJ2Nocm9tZWRyaXZlcicsW1wiaW1hZ2UtY29tcGFyaXNvblwiLCBpbWdfY29tcGFyaXNvbl9jb25maWddLF0sXHJcblxyXG4gIC8vIEZyYW1ld29yayB5b3Ugd2FudCB0byBydW4geW91ciBzcGVjcyB3aXRoLlxyXG4gIC8vIFRoZSBmb2xsb3dpbmcgYXJlIHN1cHBvcnRlZDogTW9jaGEsIEphc21pbmUsIGFuZCBDdWN1bWJlclxyXG4gIC8vIHNlZSBhbHNvOiBodHRwczovL3dlYmRyaXZlci5pby9kb2NzL2ZyYW1ld29ya3NcclxuICAvL1xyXG4gIC8vIE1ha2Ugc3VyZSB5b3UgaGF2ZSB0aGUgd2RpbyBhZGFwdGVyIHBhY2thZ2UgZm9yIHRoZSBzcGVjaWZpYyBmcmFtZXdvcmsgaW5zdGFsbGVkXHJcbiAgLy8gYmVmb3JlIHJ1bm5pbmcgYW55IHRlc3RzLlxyXG4gIGZyYW1ld29yazogXCJtb2NoYVwiLFxyXG4gIC8vXHJcbiAgLy8gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXRyeSB0aGUgZW50aXJlIHNwZWNmaWxlIHdoZW4gaXQgZmFpbHMgYXMgYSB3aG9sZVxyXG4gIC8vIHNwZWNGaWxlUmV0cmllczogMSxcclxuICAvL1xyXG4gIC8vIERlbGF5IGluIHNlY29uZHMgYmV0d2VlbiB0aGUgc3BlYyBmaWxlIHJldHJ5IGF0dGVtcHRzXHJcbiAgLy8gc3BlY0ZpbGVSZXRyaWVzRGVsYXk6IDAsXHJcbiAgLy9cclxuICAvLyBXaGV0aGVyIG9yIG5vdCByZXRyaWVkIHNwZWNmaWxlcyBzaG91bGQgYmUgcmV0cmllZCBpbW1lZGlhdGVseSBvciBkZWZlcnJlZCB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxyXG4gIC8vIHNwZWNGaWxlUmV0cmllc0RlZmVycmVkOiBmYWxzZSxcclxuICAvL1xyXG4gIC8vIFRlc3QgcmVwb3J0ZXIgZm9yIHN0ZG91dC5cclxuICAvLyBUaGUgb25seSBvbmUgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgaXMgJ2RvdCdcclxuICAvLyBzZWUgYWxzbzogaHR0cHM6Ly93ZWJkcml2ZXIuaW8vZG9jcy9kb3QtcmVwb3J0ZXJcclxuICByZXBvcnRlcnM6IFtcInNwZWNcIiwgW1wiYWxsdXJlXCIsIGFsbHVyZV9jb25maWddXSxcclxuXHJcbiAgLy9cclxuICAvLyBPcHRpb25zIHRvIGJlIHBhc3NlZCB0byBNb2NoYS5cclxuICAvLyBTZWUgdGhlIGZ1bGwgbGlzdCBhdCBodHRwOi8vbW9jaGFqcy5vcmcvXHJcbiAgbW9jaGFPcHRzOiB7XHJcbiAgICB1aTogXCJiZGRcIixcclxuICAgIHRpbWVvdXQ6IDE1MDAwMDAwLFxyXG4gIH0sXHJcbiAgLy9cclxuICAvLyA9PT09PVxyXG4gIC8vIEhvb2tzXHJcbiAgLy8gPT09PT1cclxuICAvLyBXZWJkcml2ZXJJTyBwcm92aWRlcyBzZXZlcmFsIGhvb2tzIHlvdSBjYW4gdXNlIHRvIGludGVyZmVyZSB3aXRoIHRoZSB0ZXN0IHByb2Nlc3MgaW4gb3JkZXIgdG8gZW5oYW5jZVxyXG4gIC8vIGl0IGFuZCB0byBidWlsZCBzZXJ2aWNlcyBhcm91bmQgaXQuIFlvdSBjYW4gZWl0aGVyIGFwcGx5IGEgc2luZ2xlIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mXHJcbiAgLy8gbWV0aG9kcyB0byBpdC4gSWYgb25lIG9mIHRoZW0gcmV0dXJucyB3aXRoIGEgcHJvbWlzZSwgV2ViZHJpdmVySU8gd2lsbCB3YWl0IHVudGlsIHRoYXQgcHJvbWlzZSBnb3RcclxuICAvLyByZXNvbHZlZCB0byBjb250aW51ZS5cclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIG9uY2UgYmVmb3JlIGFsbCB3b3JrZXJzIGdldCBsYXVuY2hlZC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIHdkaW8gY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBjYXBhYmlsaXRpZXMgbGlzdCBvZiBjYXBhYmlsaXRpZXMgZGV0YWlsc1xyXG4gICAqL1xyXG4gIG9uUHJlcGFyZTogYXN5bmMgZnVuY3Rpb24gKGNvbmZpZywgY2FwYWJpbGl0aWVzKSB7fSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIGJlZm9yZSBhIHdvcmtlciBwcm9jZXNzIGlzIHNwYXduZWQgYW5kIGNhbiBiZSB1c2VkIHRvIGluaXRpYWxpc2Ugc3BlY2lmaWMgc2VydmljZVxyXG4gICAqIGZvciB0aGF0IHdvcmtlciBhcyB3ZWxsIGFzIG1vZGlmeSBydW50aW1lIGVudmlyb25tZW50cyBpbiBhbiBhc3luYyBmYXNoaW9uLlxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gY2lkICAgICAgY2FwYWJpbGl0eSBpZCAoZS5nIDAtMClcclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGNhcHMgICAgIG9iamVjdCBjb250YWluaW5nIGNhcGFiaWxpdGllcyBmb3Igc2Vzc2lvbiB0aGF0IHdpbGwgYmUgc3Bhd24gaW4gdGhlIHdvcmtlclxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gc3BlY3MgICAgc3BlY3MgdG8gYmUgcnVuIGluIHRoZSB3b3JrZXIgcHJvY2Vzc1xyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gYXJncyAgICAgb2JqZWN0IHRoYXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGUgbWFpbiBjb25maWd1cmF0aW9uIG9uY2Ugd29ya2VyIGlzIGluaXRpYWxpemVkXHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSBleGVjQXJndiBsaXN0IG9mIHN0cmluZyBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSB3b3JrZXIgcHJvY2Vzc1xyXG4gICAqL1xyXG4gIG9uV29ya2VyU3RhcnQ6IGFzeW5jIGZ1bmN0aW9uIChjaWQsIGNhcHMsIHNwZWNzLCBhcmdzLCBleGVjQXJndikge1xyXG4gICAgLy8gR0VORVJBVEUgQ0FQQUJJTElUSUVTXHJcbiAgICBhd2FpdCBjYXBIYW5kbGVyLmdlbmVyYXRlQ2FwYWJpbGl0aWVzKHNwZWNzLCBjYXBzKTtcclxuICAgIGlmICh0eXBlb2YgY2Fwc1tcImFwcGl1bTpkZXZpY2VOYW1lXCJdID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgIGNhcHNbXCJhcHBpdW06ZGV2aWNlTmFtZVwiXSA9IFwidW5kZWZpbmVkXCI7XHJcblxyXG4gICAgLy8gQVVUTyBGSVggQ09ERVxyXG4gICAgaG9va0N1c3RvbS5hdXRvRml4Q29kZShzcGVjcyk7XHJcblxyXG4gICAgLy8gSU5JVCBORVcgUFJPSkVDVCAtLS0gQkFTRSBPTiBEQVRBIEpTT05cclxuICAgIGhvb2tDdXN0b20uaW5pdFByb2plY3Qoc3BlY3MpO1xyXG5cclxuICAgIC8vIENPTlZFUlQgVEVTVCBDQVNFUyBUTyBKU09OXHJcbiAgICBob29rQ3VzdG9tLnRjMmpzb24oc3BlY3MpO1xyXG5cclxuICAgIC8vIFVQREFURSBDT0RFUyBWRVJTSU9OXHJcbiAgICAvLyBhd2FpdCBob29rQ3VzdG9tLnVwZGF0ZUNvZGVWZXJzaW9uKHNwZWNzKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXhlY3V0ZWQganVzdCBhZnRlciBhIHdvcmtlciBwcm9jZXNzIGhhcyBleGl0ZWQuXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBjaWQgICAgICBjYXBhYmlsaXR5IGlkIChlLmcgMC0wKVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZXhpdENvZGUgMCAtIHN1Y2Nlc3MsIDEgLSBmYWlsXHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSBzcGVjcyAgICBzcGVjcyB0byBiZSBydW4gaW4gdGhlIHdvcmtlciBwcm9jZXNzXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSByZXRyaWVzICBudW1iZXIgb2YgcmV0cmllcyB1c2VkXHJcbiAgICovXHJcbiAgLy8gb25Xb3JrZXJFbmQ6IGZ1bmN0aW9uIChjaWQsIGV4aXRDb2RlLCBzcGVjcywgcmV0cmllcykge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCBqdXN0IGJlZm9yZSBpbml0aWFsaXNpbmcgdGhlIHdlYmRyaXZlciBzZXNzaW9uIGFuZCB0ZXN0IGZyYW1ld29yay4gSXQgYWxsb3dzIHlvdVxyXG4gICAqIHRvIG1hbmlwdWxhdGUgY29uZmlndXJhdGlvbnMgZGVwZW5kaW5nIG9uIHRoZSBjYXBhYmlsaXR5IG9yIHNwZWMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyB3ZGlvIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gY2FwYWJpbGl0aWVzIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIGRldGFpbHNcclxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBzcGVjcyBMaXN0IG9mIHNwZWMgZmlsZSBwYXRocyB0aGF0IGFyZSB0byBiZSBydW5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2lkIHdvcmtlciBpZCAoZS5nLiAwLTApXHJcbiAgICovXHJcbiAgLy8gYmVmb3JlU2Vzc2lvbjogZnVuY3Rpb24gKGNvbmZpZywgY2FwYWJpbGl0aWVzLCBzcGVjcywgY2lkKSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIGJlZm9yZSB0ZXN0IGV4ZWN1dGlvbiBiZWdpbnMuIEF0IHRoaXMgcG9pbnQgeW91IGNhbiBhY2Nlc3MgdG8gYWxsIGdsb2JhbFxyXG4gICAqIHZhcmlhYmxlcyBsaWtlIGBicm93c2VyYC4gSXQgaXMgdGhlIHBlcmZlY3QgcGxhY2UgdG8gZGVmaW5lIGN1c3RvbSBjb21tYW5kcy5cclxuICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBjYXBhYmlsaXRpZXMgbGlzdCBvZiBjYXBhYmlsaXRpZXMgZGV0YWlsc1xyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHNwZWNzICAgICAgICBMaXN0IG9mIHNwZWMgZmlsZSBwYXRocyB0aGF0IGFyZSB0byBiZSBydW5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICBicm93c2VyICAgICAgaW5zdGFuY2Ugb2YgY3JlYXRlZCBicm93c2VyL2RldmljZSBzZXNzaW9uXHJcbiAgICovXHJcbiAgYmVmb3JlOiBhc3luYyBmdW5jdGlvbiAoY2FwYWJpbGl0aWVzLCBzcGVjcykge1xyXG4gICAgYXdhaXQgYnJvd3Nlci5tYXhpbWl6ZVdpbmRvdygpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogUnVucyBiZWZvcmUgYSBXZWJkcml2ZXJJTyBjb21tYW5kIGdldHMgZXhlY3V0ZWQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbW1hbmROYW1lIGhvb2sgY29tbWFuZCBuYW1lXHJcbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBhcmd1bWVudHMgdGhhdCBjb21tYW5kIHdvdWxkIHJlY2VpdmVcclxuICAgKi9cclxuICAvLyBiZWZvcmVDb21tYW5kOiBmdW5jdGlvbiAoY29tbWFuZE5hbWUsIGFyZ3MpIHtcclxuICAvLyB9LFxyXG4gIC8qKlxyXG4gICAqIEhvb2sgdGhhdCBnZXRzIGV4ZWN1dGVkIGJlZm9yZSB0aGUgc3VpdGUgc3RhcnRzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHN1aXRlIHN1aXRlIGRldGFpbHNcclxuICAgKi9cclxuICAvLyBiZWZvcmVTdWl0ZTogZnVuY3Rpb24gKHN1aXRlKSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBiZSBleGVjdXRlZCBiZWZvcmUgYSB0ZXN0IChpbiBNb2NoYS9KYXNtaW5lKSBzdGFydHMuXHJcbiAgICovXHJcbiAgYmVmb3JlVGVzdDogZnVuY3Rpb24gKHRlc3QsIGNvbnRleHQpIHt9LFxyXG4gIC8qKlxyXG4gICAqIEhvb2sgdGhhdCBnZXRzIGV4ZWN1dGVkIF9iZWZvcmVfIGEgaG9vayB3aXRoaW4gdGhlIHN1aXRlIHN0YXJ0cyAoZS5nLiBydW5zIGJlZm9yZSBjYWxsaW5nXHJcbiAgICogYmVmb3JlRWFjaCBpbiBNb2NoYSlcclxuICAgKi9cclxuICAvLyBiZWZvcmVIb29rOiBmdW5jdGlvbiAodGVzdCwgY29udGV4dCkge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogSG9vayB0aGF0IGdldHMgZXhlY3V0ZWQgX2FmdGVyXyBhIGhvb2sgd2l0aGluIHRoZSBzdWl0ZSBzdGFydHMgKGUuZy4gcnVucyBhZnRlciBjYWxsaW5nXHJcbiAgICogYWZ0ZXJFYWNoIGluIE1vY2hhKVxyXG4gICAqL1xyXG4gIC8vIGFmdGVySG9vazogZnVuY3Rpb24gKHRlc3QsIGNvbnRleHQsIHsgZXJyb3IsIHJlc3VsdCwgZHVyYXRpb24sIHBhc3NlZCwgcmV0cmllcyB9KSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlciBhIHRlc3QgKGluIE1vY2hhL0phc21pbmUgb25seSlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gIHRlc3QgICAgICAgICAgICAgdGVzdCBvYmplY3RcclxuICAgKiBAcGFyYW0ge09iamVjdH0gIGNvbnRleHQgICAgICAgICAgc2NvcGUgb2JqZWN0IHRoZSB0ZXN0IHdhcyBleGVjdXRlZCB3aXRoXHJcbiAgICogQHBhcmFtIHtFcnJvcn0gICByZXN1bHQuZXJyb3IgICAgIGVycm9yIG9iamVjdCBpbiBjYXNlIHRoZSB0ZXN0IGZhaWxzLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcclxuICAgKiBAcGFyYW0ge0FueX0gICAgIHJlc3VsdC5yZXN1bHQgICAgcmV0dXJuIG9iamVjdCBvZiB0ZXN0IGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICByZXN1bHQuZHVyYXRpb24gIGR1cmF0aW9uIG9mIHRlc3RcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlc3VsdC5wYXNzZWQgICAgdHJ1ZSBpZiB0ZXN0IGhhcyBwYXNzZWQsIG90aGVyd2lzZSBmYWxzZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgcmVzdWx0LnJldHJpZXMgICBpbmZvcm1hdGlvbnMgdG8gc3BlYyByZWxhdGVkIHJldHJpZXMsIGUuZy4gYHsgYXR0ZW1wdHM6IDAsIGxpbWl0OiAwIH1gXHJcbiAgICovXHJcbiAgYWZ0ZXJUZXN0OiBhc3luYyBmdW5jdGlvbiAoXHJcbiAgICB0ZXN0LFxyXG4gICAgY29udGV4dCxcclxuICAgIHsgZXJyb3IsIHJlc3VsdCwgZHVyYXRpb24sIHBhc3NlZCwgcmV0cmllcyB9XHJcbiAgKSB7XHJcbiAgICBhd2FpdCBhbGx1cmVDdXN0b20uZ3JvdXBUZXN0KHRlc3QuZmlsZSwgdGVzdC50aXRsZSk7XHJcbiAgICBhd2FpdCBqaXJhSW50ZWdyYXRpb24uam9icyh0ZXN0LmZpbGUsIHRlc3QudGl0bGUsIHBhc3NlZCwgZXJyb3IpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEhvb2sgdGhhdCBnZXRzIGV4ZWN1dGVkIGFmdGVyIHRoZSBzdWl0ZSBoYXMgZW5kZWRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3VpdGUgc3VpdGUgZGV0YWlsc1xyXG4gICAqL1xyXG4gIC8vIGFmdGVyU3VpdGU6IGZ1bmN0aW9uIChzdWl0ZSkge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogUnVucyBhZnRlciBhIFdlYmRyaXZlcklPIGNvbW1hbmQgZ2V0cyBleGVjdXRlZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb21tYW5kTmFtZSBob29rIGNvbW1hbmQgbmFtZVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgYXJndW1lbnRzIHRoYXQgY29tbWFuZCB3b3VsZCByZWNlaXZlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc3VsdCAwIC0gY29tbWFuZCBzdWNjZXNzLCAxIC0gY29tbWFuZCBlcnJvclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJvciBlcnJvciBvYmplY3QgaWYgYW55XHJcbiAgICovXHJcbiAgLy8gYWZ0ZXJDb21tYW5kOiBmdW5jdGlvbiAoY29tbWFuZE5hbWUsIGFyZ3MsIHJlc3VsdCwgZXJyb3IpIHtcclxuICAvLyB9LFxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXhlY3V0ZWQgYWZ0ZXIgYWxsIHRlc3RzIGFyZSBkb25lLiBZb3Ugc3RpbGwgaGF2ZSBhY2Nlc3MgdG8gYWxsIGdsb2JhbCB2YXJpYWJsZXMgZnJvbVxyXG4gICAqIHRoZSB0ZXN0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByZXN1bHQgMCAtIHRlc3QgcGFzcywgMSAtIHRlc3QgZmFpbFxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPE9iamVjdD59IGNhcGFiaWxpdGllcyBsaXN0IG9mIGNhcGFiaWxpdGllcyBkZXRhaWxzXHJcbiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gc3BlY3MgTGlzdCBvZiBzcGVjIGZpbGUgcGF0aHMgdGhhdCByYW5cclxuICAgKi9cclxuICBhZnRlcjogZnVuY3Rpb24gKHJlc3VsdCwgY2FwYWJpbGl0aWVzLCBzcGVjcykge30sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCByaWdodCBhZnRlciB0ZXJtaW5hdGluZyB0aGUgd2ViZHJpdmVyIHNlc3Npb24uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyB3ZGlvIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gY2FwYWJpbGl0aWVzIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIGRldGFpbHNcclxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBzcGVjcyBMaXN0IG9mIHNwZWMgZmlsZSBwYXRocyB0aGF0IHJhblxyXG4gICAqL1xyXG4gIC8vIGFmdGVyU2Vzc2lvbjogZnVuY3Rpb24gKGNvbmZpZywgY2FwYWJpbGl0aWVzLCBzcGVjcykge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCBhZnRlciBhbGwgd29ya2VycyBnb3Qgc2h1dCBkb3duIGFuZCB0aGUgcHJvY2VzcyBpcyBhYm91dCB0byBleGl0LiBBbiBlcnJvclxyXG4gICAqIHRocm93biBpbiB0aGUgb25Db21wbGV0ZSBob29rIHdpbGwgcmVzdWx0IGluIHRoZSB0ZXN0IHJ1biBmYWlsaW5nLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleGl0Q29kZSAwIC0gc3VjY2VzcywgMSAtIGZhaWxcclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIHdkaW8gY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBjYXBhYmlsaXRpZXMgbGlzdCBvZiBjYXBhYmlsaXRpZXMgZGV0YWlsc1xyXG4gICAqIEBwYXJhbSB7PE9iamVjdD59IHJlc3VsdHMgb2JqZWN0IGNvbnRhaW5pbmcgdGVzdCByZXN1bHRzXHJcbiAgICovXHJcbiAgLy8gb25Db21wbGV0ZTogYXN5bmMgZnVuY3Rpb24gKGV4aXRDb2RlLCBjb25maWcsIGNhcGFiaWxpdGllcywgcmVzdWx0cykge30sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCB3aGVuIGEgcmVmcmVzaCBoYXBwZW5zLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRTZXNzaW9uSWQgc2Vzc2lvbiBJRCBvZiB0aGUgb2xkIHNlc3Npb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3U2Vzc2lvbklkIHNlc3Npb24gSUQgb2YgdGhlIG5ldyBzZXNzaW9uXHJcbiAgICovXHJcbiAgLy8gb25SZWxvYWQ6IGZ1bmN0aW9uKG9sZFNlc3Npb25JZCwgbmV3U2Vzc2lvbklkKSB7XHJcbiAgLy8gfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBQzlDLE1BQU1DLFlBQVksR0FBR0QsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ2xELE1BQU1FLGVBQWUsR0FBR0YsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0FBQ25ELE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLHlCQUF5QixDQUFDO0FBRXJELElBQUlJLHFCQUFxQixHQUFHTCxVQUFVLENBQUNNLG1CQUFtQixDQUFDLENBQUM7QUFDNUQsSUFBSUMsYUFBYSxHQUFHUCxVQUFVLENBQUNRLGVBQWUsQ0FBQyxDQUFDO0FBQ2hELElBQUlDLE1BQU0sR0FBR1QsVUFBVSxDQUFDVSxTQUFTLENBQUMsQ0FBQztBQUVuQ0MsT0FBTyxDQUFDQyxNQUFNLEdBQUc7RUFDZjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FDLFFBQVEsRUFBRSxXQUFXO0VBQ3JCQyxJQUFJLEVBQUUsSUFBSTtFQUNWQyxJQUFJLEVBQUUsVUFBVTtFQUNoQkMsUUFBUSxFQUFFLE1BQU07RUFDaEI7RUFDQUMsTUFBTSxFQUFFLE9BQU87RUFDZkMsSUFBSSxFQUFFLEdBQUc7RUFDVEMsUUFBUSxFQUFFLEdBQUc7RUFDYkMsT0FBTyxFQUFFLEdBQUc7RUFDWkMsT0FBTyxFQUFFLGdCQUFnQjtFQUN6QjtFQUNBO0VBQ0E7RUFDQTtFQUNBQyxXQUFXLEVBQUUsSUFBSTtFQUNqQkMsYUFBYSxFQUFFLElBQUk7RUFDbkJDLGFBQWEsRUFBRSxDQUFDLG1DQUFtQyxDQUFDO0VBQUU7RUFDdERDLFFBQVEsRUFBRSw4Q0FBOEM7RUFDeEQ7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsS0FBSyxFQUFFLENBQ0wsdUJBQXVCLEVBQ3ZCLHlCQUF5QixFQUN6QixzQkFBc0IsQ0FDdkI7RUFDRDtFQUNBQyxPQUFPLEVBQUUsQ0FDUCx5QkFBeUIsRUFDekIsZ0NBQWdDLEVBQ2hDLHVCQUF1QixFQUN2QjtFQUNBO0VBQUEsQ0FDRDs7RUFDRGxCLE1BQU0sRUFBRUEsTUFBTTtFQUNkO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FtQixZQUFZLEVBQUUsRUFBRTtFQUNoQjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0FDLFlBQVksRUFBRSxDQUNaO0lBQ0UsWUFBWSxFQUFFLFNBQVM7SUFDdkJELFlBQVksRUFBRSxDQUFDO0lBQ2ZFLFdBQVcsRUFBRSxRQUFRO0lBQ3JCQyxtQkFBbUIsRUFBRSxJQUFJO0lBQ3pCLG9CQUFvQixFQUFFO01BQ3BCQyxJQUFJLEVBQUUsQ0FBQyxjQUFjLEVBQUMsYUFBYTtJQUN2QztFQUNBLENBQUMsQ0FDRjtFQUNEO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBQyxTQUFTLEVBQUU7SUFDVEMsU0FBUyxFQUFFLE9BQU87SUFDbEJDLFdBQVcsRUFBRSxPQUFPO0lBQ3BCLHVCQUF1QixFQUFFLE9BQU87SUFDaEMsb0JBQW9CLEVBQUUsT0FBTztJQUM3QixXQUFXLEVBQUUsT0FBTztJQUNwQixjQUFjLEVBQUUsT0FBTztJQUN2QixhQUFhLEVBQUUsT0FBTztJQUN0QixxQkFBcUIsRUFBRTtFQUN6QixDQUFDO0VBQ0Q7RUFDQTtFQUNBO0VBQ0FDLElBQUksRUFBRSxDQUFDO0VBQ1A7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBQyxPQUFPLEVBQUUsRUFBRTtFQUNYO0VBQ0E7RUFDQUMsY0FBYyxFQUFFLEtBQUs7RUFDckI7RUFDQTtFQUNBO0VBQ0FDLHNCQUFzQixFQUFFLFFBQVE7RUFDaEM7RUFDQTtFQUNBQyxvQkFBb0IsRUFBRSxDQUFDO0VBQ3ZCO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsUUFBUSxFQUFFLENBQUMsY0FBYyxFQUFDLENBQUMsa0JBQWtCLEVBQUVwQyxxQkFBcUIsQ0FBQyxDQUFFO0VBRXZFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBcUMsU0FBUyxFQUFFLE9BQU87RUFDbEI7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFcEMsYUFBYSxDQUFDLENBQUM7RUFFOUM7RUFDQTtFQUNBO0VBQ0FxQyxTQUFTLEVBQUU7SUFDVEMsRUFBRSxFQUFFLEtBQUs7SUFDVEMsT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0VDLFNBQVMsRUFBRSxlQUFBQSxDQUFnQm5DLE1BQU0sRUFBRWlCLFlBQVksRUFBRSxDQUFDLENBQUM7RUFDbkQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0VtQixhQUFhLEVBQUUsZUFBQUEsQ0FBZ0JDLEdBQUcsRUFBRUMsSUFBSSxFQUFFeEIsS0FBSyxFQUFFTSxJQUFJLEVBQUVtQixRQUFRLEVBQUU7SUFDL0Q7SUFDQSxNQUFNL0MsVUFBVSxDQUFDZ0Qsb0JBQW9CLENBQUMxQixLQUFLLEVBQUV3QixJQUFJLENBQUM7SUFDbEQsSUFBSSxPQUFPQSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxXQUFXLEVBQ2pEQSxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxXQUFXOztJQUV6QztJQUNBbEQsVUFBVSxDQUFDcUQsV0FBVyxDQUFDM0IsS0FBSyxDQUFDOztJQUU3QjtJQUNBMUIsVUFBVSxDQUFDc0QsV0FBVyxDQUFDNUIsS0FBSyxDQUFDOztJQUU3QjtJQUNBMUIsVUFBVSxDQUFDdUQsT0FBTyxDQUFDN0IsS0FBSyxDQUFDOztJQUV6QjtJQUNBO0VBQ0YsQ0FBQzs7RUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U7RUFDQTtFQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U4QixNQUFNLEVBQUUsZUFBQUEsQ0FBZ0IzQixZQUFZLEVBQUVILEtBQUssRUFBRTtJQUMzQyxNQUFNK0IsT0FBTyxDQUFDQyxjQUFjLENBQUMsQ0FBQztFQUNoQyxDQUFDO0VBQ0Q7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7QUFDQTtFQUNFO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7RUFDRUMsVUFBVSxFQUFFLFNBQUFBLENBQVVDLElBQUksRUFBRUMsT0FBTyxFQUFFLENBQUMsQ0FBQztFQUN2QztBQUNGO0FBQ0E7QUFDQTtFQUNFO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7QUFDQTtFQUNFO0VBQ0E7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxTQUFTLEVBQUUsZUFBQUEsQ0FDVEYsSUFBSSxFQUNKQyxPQUFPLEVBQ1A7SUFBRUUsS0FBSztJQUFFQyxNQUFNO0lBQUVDLFFBQVE7SUFBRUMsTUFBTTtJQUFFQztFQUFRLENBQUMsRUFDNUM7SUFDQSxNQUFNakUsWUFBWSxDQUFDa0UsU0FBUyxDQUFDUixJQUFJLENBQUNTLElBQUksRUFBRVQsSUFBSSxDQUFDVSxLQUFLLENBQUM7SUFDbkQsTUFBTW5FLGVBQWUsQ0FBQ29FLElBQUksQ0FBQ1gsSUFBSSxDQUFDUyxJQUFJLEVBQUVULElBQUksQ0FBQ1UsS0FBSyxFQUFFSixNQUFNLEVBQUVILEtBQUssQ0FBQztFQUNsRSxDQUFDO0VBRUQ7QUFDRjtBQUNBO0FBQ0E7RUFDRTtFQUNBO0VBQ0E7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBO0VBQ0E7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRVMsS0FBSyxFQUFFLFNBQUFBLENBQVVSLE1BQU0sRUFBRW5DLFlBQVksRUFBRUgsS0FBSyxFQUFFLENBQUM7RUFDL0M7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U7RUFDQTtFQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBO0FBQ0YsQ0FBQyJ9","map":{"version":3,"names":["hookCustom","require","allureCustom","jiraIntegration","capHandler","img_comparison_config","getWebCompareConfig","allure_config","getAllureConfig","suites","getSuites","exports","config","hostname","port","path","protocol","runner","jira","jiraAuth","jenkins","jobName","gApiVersion","gSheetVersion","gDriveFolders","gSheetId","specs","exclude","maxInstances","capabilities","browserName","acceptInsecureCerts","args","logLevels","webdriver","webdriverio","bail","baseUrl","waitforTimeout","connectionRetryTimeout","connectionRetryCount","services","framework","reporters","mochaOpts","ui","timeout","onPrepare","onWorkerStart","cid","caps","execArgv","generateCapabilities","autoFixCode","initProject","tc2json","before","browser","maximizeWindow","beforeTest","test","context","afterTest","error","result","duration","passed","retries","groupTest","file","title","jobs","after"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\","sources":["wdio.conf.js"],"sourcesContent":["const hookCustom = require(\"./utils/lib/hook\");\r\nconst allureCustom = require(\"./utils/lib/allure\");\r\nconst jiraIntegration = require(\"./utils/lib/jira\");\r\nconst capHandler = require(\"./utils/lib/cap_handler\");\r\n\r\nlet img_comparison_config = hookCustom.getWebCompareConfig();\r\nlet allure_config = hookCustom.getAllureConfig();\r\nlet suites = hookCustom.getSuites();\r\n\r\nexports.config = {\r\n  //\r\n  // ====================\r\n  // Runner Configuration\r\n  // ====================\r\n  // remote selenium grid config\r\n  hostname: \"localhost\",\r\n  port: 4444,\r\n  path: \"/wd/hub/\",\r\n  protocol: \"http\",\r\n  // WebdriverIO supports running e2e tests as well as unit and component tests.\r\n  runner: \"local\",\r\n  jira: \" \",\r\n  jiraAuth: \" \",\r\n  jenkins: \" \",\r\n  jobName: \"bods-test-flow\",\r\n  //\r\n  // ======================\r\n  // Google API Integration\r\n  // ======================\r\n  gApiVersion: \"v3\",\r\n  gSheetVersion: \"v4\",\r\n  gDriveFolders: [\"1N10h_ZxwBZ6WOYZmxN2ua_sfSFg2TDrf\"], //1O32rsUAznBGv1mpYdNWXDCyH11giSFvd\r\n  gSheetId: \"1bMp-0WKZ8JAboKQWDTxRhsba1mszIyYHzqxBBZpsfqw\", \r\n  //\r\n  // ==================\r\n  // Specify Test Files\r\n  // ==================\r\n  // Define which test specs should run. The pattern is relative to the directory\r\n  // from which `wdio` was called.\r\n  //\r\n  // The specs are defined as an array of spec files (optionally using wildcards\r\n  // that will be expanded). The test for each spec file will be run in a separate\r\n  // worker process. In order to have a group of spec files run in the same worker\r\n  // process simply enclose them in an array within the specs array.\r\n  //\r\n  // If you are calling `wdio` from an NPM script (see https://docs.npmjs.com/cli/run-script),\r\n  // then the current working directory is where your `package.json` resides, so `wdio`\r\n  // will be called from there.\r\n  //\r\n  specs: [\r\n    \"./test/**/screen/*.js\",\r\n    \"./test/**/fullpage/*.js\",\r\n    \"./test/specs/init.js\",\r\n  ],\r\n  // Patterns to exclude.\r\n  exclude: [\r\n    \"./test/**/*-allpages.js\",\r\n    \"./test/**/*.spec-generation.js\",\r\n    \"./test/**/mobile/*.js\",\r\n    \"./test/**/automation-samples/**/*.js\",\r\n    // \"./test/**/chugai/**/*.js\",\r\n  ],\r\n  suites: suites,\r\n  //\r\n  // ============\r\n  // Capabilities\r\n  // ============\r\n  // Define your capabilities here. WebdriverIO can run multiple capabilities at the same\r\n  // time. Depending on the number of capabilities, WebdriverIO launches several test\r\n  // sessions. Within your capabilities you can overwrite the spec and exclude options in\r\n  // order to group specific specs to a specific capability.\r\n  //\r\n  // First, you can define how many instances should be started at the same time. Let's\r\n  // say you have 3 different capabilities (Chrome, Firefox, and Safari) and you have\r\n  // set maxInstances to 1; wdio will spawn 3 processes. Therefore, if you have 10 spec\r\n  // files and you set maxInstances to 10, all spec files will get tested at the same time\r\n  // and 30 processes will get spawned. The property handles how many capabilities\r\n  // from the same test should run tests.\r\n  //\r\n  maxInstances: 10,\r\n  //\r\n  // If you have trouble getting all important capabilities together, check out the\r\n  // Sauce Labs platform configurator - a great tool to configure your capabilities:\r\n  // https://saucelabs.com/platform/platform-configurator\r\n  //\r\n  capabilities: [\r\n    {\r\n      \"custom:cid\": \"cid.001\",\r\n      maxInstances: 3,\r\n      browserName: \"chrome\",\r\n      acceptInsecureCerts: true,\r\n      'goog:chromeOptions': {\r\n        args: ['--no-sandbox','--incognito']\r\n    }\r\n    },\r\n  ],\r\n  //\r\n  // ===================\r\n  // Test Configurations\r\n  // ===================\r\n  // Define all options that are relevant for the WebdriverIO instance here\r\n  //\r\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\r\n  // logLevel: \"info\",\r\n  //\r\n  // Set specific log levels per logger\r\n  // loggers:\r\n  // - webdriver, webdriverio\r\n  // - @wdio/browserstack-service, @wdio/devtools-service, @wdio/sauce-service\r\n  // - @wdio/mocha-framework, @wdio/jasmine-framework\r\n  // - @wdio/local-runner\r\n  // - @wdio/sumologic-reporter\r\n  // - @wdio/cli, @wdio/config, @wdio/utils\r\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\r\n  logLevels: {\r\n    webdriver: \"error\",\r\n    webdriverio: \"error\",\r\n    \"@wdio/mocha-framework\": \"error\",\r\n    \"@wdio/local-runner\": \"error\",\r\n    \"@wdio/cli\": \"error\",\r\n    \"@wdio/config\": \"error\",\r\n    \"@wdio/utils\": \"error\",\r\n    \"@wdio/spec-reporter\": \"error\",\r\n  },\r\n  //\r\n  // If you only want to run your tests until a specific amount of tests have failed use\r\n  // bail (default is 0 - don't bail, run all tests).\r\n  bail: 0,\r\n  //\r\n  // Set a base URL in order to shorten url command calls. If your `url` parameter starts\r\n  // with `/`, the base url gets prepended, not including the path portion of your baseUrl.\r\n  // If your `url` parameter starts without a scheme or `/` (like `some/path`), the base url\r\n  // gets prepended directly.\r\n  baseUrl: \"\",\r\n  //\r\n  // Default timeout for all waitFor* commands.\r\n  waitforTimeout: 10000,\r\n  //\r\n  // Default timeout in milliseconds for request\r\n  // if browser driver or grid doesn't send response\r\n  connectionRetryTimeout: 15000000,\r\n  //\r\n  // Default request retries count\r\n  connectionRetryCount: 3,\r\n  //\r\n  // Test runner services\r\n  // Services take over a specific job you don't want to take care of. They enhance\r\n  // your test setup with almost no effort. Unlike plugins, they don't add new\r\n  // commands. Instead, they hook themselves up into the test process.\r\n  services: ['chromedriver',[\"image-comparison\", img_comparison_config],],\r\n\r\n  // Framework you want to run your specs with.\r\n  // The following are supported: Mocha, Jasmine, and Cucumber\r\n  // see also: https://webdriver.io/docs/frameworks\r\n  //\r\n  // Make sure you have the wdio adapter package for the specific framework installed\r\n  // before running any tests.\r\n  framework: \"mocha\",\r\n  //\r\n  // The number of times to retry the entire specfile when it fails as a whole\r\n  // specFileRetries: 1,\r\n  //\r\n  // Delay in seconds between the spec file retry attempts\r\n  // specFileRetriesDelay: 0,\r\n  //\r\n  // Whether or not retried specfiles should be retried immediately or deferred to the end of the queue\r\n  // specFileRetriesDeferred: false,\r\n  //\r\n  // Test reporter for stdout.\r\n  // The only one supported by default is 'dot'\r\n  // see also: https://webdriver.io/docs/dot-reporter\r\n  reporters: [\"spec\", [\"allure\", allure_config]],\r\n\r\n  //\r\n  // Options to be passed to Mocha.\r\n  // See the full list at http://mochajs.org/\r\n  mochaOpts: {\r\n    ui: \"bdd\",\r\n    timeout: 15000000,\r\n  },\r\n  //\r\n  // =====\r\n  // Hooks\r\n  // =====\r\n  // WebdriverIO provides several hooks you can use to interfere with the test process in order to enhance\r\n  // it and to build services around it. You can either apply a single function or an array of\r\n  // methods to it. If one of them returns with a promise, WebdriverIO will wait until that promise got\r\n  // resolved to continue.\r\n  /**\r\n   * Gets executed once before all workers get launched.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   */\r\n  onPrepare: async function (config, capabilities) {},\r\n  /**\r\n   * Gets executed before a worker process is spawned and can be used to initialise specific service\r\n   * for that worker as well as modify runtime environments in an async fashion.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {[type]} caps     object containing capabilities for session that will be spawn in the worker\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {[type]} args     object that will be merged with the main configuration once worker is initialized\r\n   * @param  {[type]} execArgv list of string arguments passed to the worker process\r\n   */\r\n  onWorkerStart: async function (cid, caps, specs, args, execArgv) {\r\n    // GENERATE CAPABILITIES\r\n    await capHandler.generateCapabilities(specs, caps);\r\n    if (typeof caps[\"appium:deviceName\"] == \"undefined\")\r\n      caps[\"appium:deviceName\"] = \"undefined\";\r\n\r\n    // AUTO FIX CODE\r\n    hookCustom.autoFixCode(specs);\r\n\r\n    // INIT NEW PROJECT --- BASE ON DATA JSON\r\n    hookCustom.initProject(specs);\r\n\r\n    // CONVERT TEST CASES TO JSON\r\n    hookCustom.tc2json(specs);\r\n\r\n    // UPDATE CODES VERSION\r\n    // await hookCustom.updateCodeVersion(specs);\r\n  },\r\n  /**\r\n   * Gets executed just after a worker process has exited.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {Number} exitCode 0 - success, 1 - fail\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {Number} retries  number of retries used\r\n   */\r\n  // onWorkerEnd: function (cid, exitCode, specs, retries) {\r\n  // },\r\n  /**\r\n   * Gets executed just before initialising the webdriver session and test framework. It allows you\r\n   * to manipulate configurations depending on the capability or spec.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that are to be run\r\n   * @param {String} cid worker id (e.g. 0-0)\r\n   */\r\n  // beforeSession: function (config, capabilities, specs, cid) {\r\n  // },\r\n  /**\r\n   * Gets executed before test execution begins. At this point you can access to all global\r\n   * variables like `browser`. It is the perfect place to define custom commands.\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs        List of spec file paths that are to be run\r\n   * @param {Object}         browser      instance of created browser/device session\r\n   */\r\n  before: async function (capabilities, specs) {\r\n    await browser.maximizeWindow();\r\n  },\r\n  /**\r\n   * Runs before a WebdriverIO command gets executed.\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   */\r\n  // beforeCommand: function (commandName, args) {\r\n  // },\r\n  /**\r\n   * Hook that gets executed before the suite starts\r\n   * @param {Object} suite suite details\r\n   */\r\n  // beforeSuite: function (suite) {\r\n  // },\r\n  /**\r\n   * Function to be executed before a test (in Mocha/Jasmine) starts.\r\n   */\r\n  beforeTest: function (test, context) {},\r\n  /**\r\n   * Hook that gets executed _before_ a hook within the suite starts (e.g. runs before calling\r\n   * beforeEach in Mocha)\r\n   */\r\n  // beforeHook: function (test, context) {\r\n  // },\r\n  /**\r\n   * Hook that gets executed _after_ a hook within the suite starts (e.g. runs after calling\r\n   * afterEach in Mocha)\r\n   */\r\n  // afterHook: function (test, context, { error, result, duration, passed, retries }) {\r\n  // },\r\n  /**\r\n   * Function to be executed after a test (in Mocha/Jasmine only)\r\n   * @param {Object}  test             test object\r\n   * @param {Object}  context          scope object the test was executed with\r\n   * @param {Error}   result.error     error object in case the test fails, otherwise `undefined`\r\n   * @param {Any}     result.result    return object of test function\r\n   * @param {Number}  result.duration  duration of test\r\n   * @param {Boolean} result.passed    true if test has passed, otherwise false\r\n   * @param {Object}  result.retries   informations to spec related retries, e.g. `{ attempts: 0, limit: 0 }`\r\n   */\r\n  afterTest: async function (\r\n    test,\r\n    context,\r\n    { error, result, duration, passed, retries }\r\n  ) {\r\n    await allureCustom.groupTest(test.file, test.title);\r\n    await jiraIntegration.jobs(test.file, test.title, passed, error);\r\n  },\r\n\r\n  /**\r\n   * Hook that gets executed after the suite has ended\r\n   * @param {Object} suite suite details\r\n   */\r\n  // afterSuite: function (suite) {\r\n  // },\r\n  /**\r\n   * Runs after a WebdriverIO command gets executed\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   * @param {Number} result 0 - command success, 1 - command error\r\n   * @param {Object} error error object if any\r\n   */\r\n  // afterCommand: function (commandName, args, result, error) {\r\n  // },\r\n  /**\r\n   * Gets executed after all tests are done. You still have access to all global variables from\r\n   * the test.\r\n   * @param {Number} result 0 - test pass, 1 - test fail\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\r\n  after: function (result, capabilities, specs) {},\r\n  /**\r\n   * Gets executed right after terminating the webdriver session.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\r\n  // afterSession: function (config, capabilities, specs) {\r\n  // },\r\n  /**\r\n   * Gets executed after all workers got shut down and the process is about to exit. An error\r\n   * thrown in the onComplete hook will result in the test run failing.\r\n   * @param {Object} exitCode 0 - success, 1 - fail\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {<Object>} results object containing test results\r\n   */\r\n  // onComplete: async function (exitCode, config, capabilities, results) {},\r\n  /**\r\n   * Gets executed when a refresh happens.\r\n   * @param {String} oldSessionId session ID of the old session\r\n   * @param {String} newSessionId session ID of the new session\r\n   */\r\n  // onReload: function(oldSessionId, newSessionId) {\r\n  // }\r\n};\r\n"],"mappings":"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K,EAAEwB,IAAI,CAAC;IAClD,IAAI,OAAOA,IAAI,CAAC,mBAAmB,CAAC,IAAI,WAAW,EACjDA,IAAI,CAAC,mBAAmB,CAAC,GAAG,WAAW;;IAEzC;IACAlD,UAAU,CAACqD,WAAW,CAAC3B,KAAK,CAAC;;IAE7B;IACA1B,UAAU,CAACsD,WAAW,CAAC5B,KAAK,CAAC;;IAE7B;IACA1B,UAAU,CAACuD,OAAO,CAAC7B,KAAK,CAAC;;IAEzB;IACA;EACF,CAAC;;EACD;AACF;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACE8B,MAAM,EAAE,eAAAA,CAAgB3B,YAAY,EAAEH,KAAK,EAAE;IAC3C,MAAM+B,OAAO,CAACC,cAAc,CAAC,CAAC;EAChC,CAAC;EACD;AACF;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;EACEC,UAAU,EAAE,SAAAA,CAAUC,IAAI,EAAEC,OAAO,EAAE,CAAC,CAAC;EACvC;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,SAAS,EAAE,eAAAA,CACTF,IAAI,EACJC,OAAO,EACP;IAAEE,KAAK;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,MAAM;IAAEC;EAAQ,CAAC,EAC5C;IACA,MAAMjE,YAAY,CAACkE,SAAS,CAACR,IAAI,CAACS,IAAI,EAAET,IAAI,CAACU,KAAK,CAAC;IACnD,MAAMnE,eAAe,CAACoE,IAAI,CAACX,IAAI,CAACS,IAAI,EAAET,IAAI,CAACU,KAAK,EAAEJ,MAAM,EAAEH,KAAK,CAAC;EAClE,CAAC;EAED;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACES,KAAK,EAAE,SAAAA,CAAUR,MAAM,EAAEnC,YAAY,EAAEH,KAAK,EAAE,CAAC;EAC/C;AACF;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EACA;AACF;AACA;AACA;AACA;EACE;EACA;AACF,CAAC"}},"mtime":1704461795813},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\hook.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const dataHandler = require(\"./data_handler\");\nconst utils = require(\"./../utils\");\nconst common = require(\"./../common\");\nclass hookCustom {\n  constructor() {\n    this.mobile_compare_config = {\n      imageNameFormat: \"{tag}\",\n      screenshotPath: `.tmp/`,\n      savePerDevice: true,\n      autoSaveBaseline: true,\n      blockOutStatusBar: true,\n      blockOutIphoneHomeBar: true,\n      blockOutNavigationBar: true\n      // baselineFolder: this.getMobileBaselineFolder(),\n    };\n\n    this.web_compare_config = {\n      formatImageName: \"{tag}\",\n      screenshotPath: `.tmp/`,\n      savePerInstance: true,\n      autoSaveBaseline: true,\n      blockOutStatusBar: true,\n      blockOutToolBar: true,\n      disableCSSAnimation: true,\n      // NOTE: When you are testing a hybrid app please use this setting\n      isHybridApp: false\n    };\n    this.allure_config = {\n      outputDir: \"allure-results\",\n      disableWebdriverStepsReporting: true,\n      disableWebdriverScreenshotsReporting: true,\n      addConsoleLogs: true,\n      issueLinkTemplate: \"https://jira.sutrix.com/browse/{}\",\n      disableMochaHooks: true\n    };\n  }\n\n  /**\r\n   * Get mobile comparison config\r\n   * @returns {String}\r\n   */\n  getMobileCompareConfig() {\n    return this.mobile_compare_config;\n  }\n\n  /**\r\n   * Generate config for mobile image comparison\r\n   * @param {Array} specs list of all spec files\r\n   * @param {Object} args config will be merged into main config\r\n   */\n  async generateMobileCompareConfig(specs, args) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const baselineFolder = `./test/specs/${info.clientId}/${info.projectId}/baseline`;\n        let compareConfig = this.getMobileCompareConfig();\n        compareConfig.baselineFolder = baselineFolder;\n        args.services = [[\"native-app-compare\", compareConfig]];\n      }\n    }\n  }\n\n  /**\r\n   * Get web comparison config\r\n   * @returns {String}\r\n   */\n  getWebCompareConfig() {\n    return this.web_compare_config;\n  }\n\n  /**\r\n   * Get allure config\r\n   * @returns {String}\r\n   */\n  getAllureConfig() {\n    return this.allure_config;\n  }\n\n  /**\r\n   * Get all suites from all projects and merged to config\r\n   * @returns {JSON}\r\n   */\n  getSuites() {\n    // 1. SEARCH ALL suites.json\n    const allSuites = dataHandler.searchAllSuites();\n\n    // 2. READ EACH JSON AND MERGE INTO ONE\n    let suites = {};\n    for (let i = 0; i < allSuites.length; i++) {\n      const suiteJson = dataHandler.readFileJSONSync(allSuites[i], \"utf8\");\n      suites = Object.assign({}, suites, suiteJson);\n    }\n\n    // 3. RETURN MERGED SUITES\n    return suites;\n  }\n\n  /**\r\n   * Auto fix spec code if it's not correct or latest version\r\n   * @param {Array} specs List of running spec file paths\r\n   */\n  async autoFixCode(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (common.isNormalSpec(specFilePath)) {\n        // GET PROJECT DATA\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n        const jsonData = await dataHandler.getGlobalDataJson();\n        const newVersion = jsonData.version;\n\n        // READ FILE\n        let contents = await dataHandler.readFile(specFilePath, \"utf8\");\n        contents = String(contents);\n\n        // CHECK CAPTURE OPTS\n        await this.checkCaptureOpts(info, contents);\n\n        // SKIP IF LATEST VERSION\n        if (contents.includes(`image comparison ${newVersion}`)) {\n          // CHECK & UPDATE STATUS\n          await this.checkStatus(info, specFilePath, contents);\n          continue;\n        }\n\n        // GET COMMON INFO\n        let clientName = excelData[\"config\"][0][\"client\"];\n        let prjName = excelData[\"config\"][0][\"project\"];\n        if (clientName == \"\") clientName = info.clientId;\n        if (prjName == \"\") prjName = info.projectId;\n\n        // ADD ASYNC BEFORE FUNCTION\n        contents = this.addAsync2Func(contents);\n\n        // UPDATE SPEC TITLE\n        contents = this.updateSpecTitle(contents, prjName, info.captureType);\n\n        // UPDATE CASE TITLE\n        contents = this.updateCaseTitle(contents, info.caseId);\n\n        // CONVERT COMMANDS\n        contents = this.updateCommand(contents);\n\n        // GENERATE CORE FRAMEWORK\n        contents = await this.addCoreFramework(contents, clientName, prjName, info, jsonData);\n\n        // WRITE CONTENTS BACK TO FILE\n        if (contents != \"\") {\n          // MAKE UP CODE\n          contents = utils.codeMakeUp(contents);\n\n          // CHECK & UPDATE STATUS\n          contents = await this.checkStatus(info, specFilePath, contents, false);\n          await dataHandler.writeSpec(specFilePath, contents);\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Auto update spec script based on new change\r\n   * @param {Array} specs list of all running spec files\r\n   * @param {String} pattern filter pattern\r\n   * @param {Int} from start index\r\n   * @param {Int} to end index\r\n   */\n  async autoBatchFixCode(specs, pattern = \"\", from = 0, to = 0) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        // SEARCH JS FILES\n        const allSpecs = await dataHandler.searchAllSpecs(pattern);\n\n        // GET GLOBAL DATA JSON\n        const jsonData = await dataHandler.getGlobalDataJson();\n        const newVersion = jsonData.version;\n        if (to == 0) to = allSpecs.length;\n        for (let i = from; i < to; i++) {\n          const file = allSpecs[i];\n          if (common.isNormalSpec(file)) {\n            // GET PROJECT DATA\n            const info = await dataHandler.getInfoFromFilePath(file);\n            const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n            // GET COMMON INFO\n            let clientName = excelData[\"config\"][0][\"client\"];\n            let prjName = excelData[\"config\"][0][\"project\"];\n            if (clientName == \"\") clientName = info.clientId;\n            if (prjName == \"\") prjName = info.projectId;\n\n            // READ FILE\n            let contents = await dataHandler.readFile(file, \"utf8\");\n            contents = String(contents);\n\n            // SKIP IF LATEST VERSION\n            if (contents.includes(`image comparison ${newVersion}`)) continue;\n\n            // LOG FILE PATH OUT\n            console.log(file);\n\n            // ADD CORE FRAMEWORK\n            contents = await this.addCoreFramework(contents, clientName, prjName, info, jsonData);\n\n            // WRITE CONTENTS BACK TO FILE\n            if (contents != \"\") {\n              // MAKE UP CODE\n              contents = utils.codeMakeUp(contents);\n              await dataHandler.writeSpec(file, contents);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Convert unsupported commands exported from recorder tool to usable script in wdio\r\n   * @param {String} lineOfCode line of code\r\n   * @returns {String}\r\n   */\n  convertCommand(lineOfCode) {\n    // WARNING: unsupported command runScript. Object= {\"command\":\"runScript\",\"target\":\"document.querySelector(\\\"#main > section.certified-partner > div > div > div.col-md-8.col-lg-7 > div.content\\\").scrollIntoView()\",\"value\":\"\"}\n    // WARNING: unsupported command deleteCookie. Object= {\"command\":\"deleteCookie\",\"target\":\"\",\"value\":\"\"}\n    // WARNING: unsupported command deleteAllVisibleCookies. Object= {\"command\":\"deleteAllVisibleCookies\",\"target\":\"\",\"value\":\"\"}\n    var objCommand = JSON.parse(lineOfCode.substring(lineOfCode.indexOf(\"=\"), lineOfCode.length).replace(\"= \", \"\").replace(`\\r`, \"\"));\n    if (typeof objCommand.command != \"undefined\") {\n      switch (objCommand.command) {\n        case \"runScript\":\n          return `\\t\\tawait browser.execute(\\`${objCommand.target}\\`);\\r`;\n        case \"deleteCookie\":\n          return `\\t\\tawait browser.deleteCookies([\"${objCommand.target}\"]);\\r`;\n        case \"deleteAllVisibleCookies\":\n          return `\\t\\tawait browser.deleteCookies();\\r`;\n        case \"\":\n          return \"\";\n        default:\n          return lineOfCode;\n      }\n    } else {\n      return lineOfCode;\n    }\n  }\n\n  /**\r\n   * Generate code block for image comparison\r\n   * @param {Object} info spec information\r\n   * @param {String} version latest version of code\r\n   * @returns {String}\r\n   */\n  async insertImageComparisonCode(info, version) {\n    const codeBlocks = await this.hookGeneration(info, \"img_comparison\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n    }\n    let contents = `\\r\n    // ======= IMG_COMP : START =======\n    /*\n      * This is CORE function to do the image comparison.\n      * This script is added automatically every time there is a new version released.\n      * You can open the custom scripts for capture options to apply only for current spec.\n      * Note: don't modify or remove any script here.\n    */\n    // ================================\n    it(\"image comparison ${version} :: ${info.caseId}\", async function () {\n      ${clsCodeBlock}\n      \n      ${functCodeBlock}\n    });\n    // ==============================\n    // ======= IMG_COMP : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Generate before hook code block\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async insertBeforeHookSpec(info) {\n    const codeBlocks = await this.hookGeneration(info, \"before\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n    let count = 0;\n    let beforeBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n      count++;\n    }\n    if (count > 0) {\n      beforeBlock = `before(async function () {\n        ${clsCodeBlock}\n        \n        ${functCodeBlock}\n      });`;\n    } else {\n      beforeBlock = `// before(async function () {});`;\n    }\n    let contents = `\\r\n    // ======= BEFORE_HOOK : START =======\n    /*\n      * This is CORE function to be performed ONCE before the 1st test in current spec.\n      * This script is added automatically every time there is a new version released.\n      * Note: don't modify or remove any script here.\n    */\n    // ===================================\n    ${beforeBlock}\n    // =================================\n    // ======= BEFORE_HOOK : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Generate after each hook code block\r\n   * {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async insertAfterEachHookSpec(info) {\n    const codeBlocks = await this.hookGeneration(info, \"after_each\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n    let count = 0;\n    let afterEachBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n      count++;\n    }\n    if (count > 0) {\n      afterEachBlock = `afterEach(async function () {\n        ${clsCodeBlock}\n        \n        ${functCodeBlock}\n      });`;\n    } else {\n      afterEachBlock = `// afterEach(async function () {});`;\n    }\n    let contents = `\\r\n    // ======= AFTER_EACH_HOOK : START =======\n    /*\n      * This is CORE function to be performed after EACH test in current spec.\n      * This script is added automatically every time there is a new version released.\n      * Note: don't modify or remove any script here.\n    */\n    // =======================================\n    // runs after each test in this block\n    ${afterEachBlock}\n    // =====================================\n    // ======= AFTER_EACH_HOOK : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Initialize a new project\r\n   * @param {Array} specs list of running spec file paths\r\n   */\n  async initProject(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (specFilePath.includes(`init.js`)) {\n        let jsonData = await dataHandler.getGlobalDataJson();\n        const projects = jsonData.projects;\n        for (var clientId in projects) {\n          for (var projectId in projects[clientId]) {\n            if (typeof projects[clientId][projectId][\"init\"] == \"undefined\" || projects[clientId][projectId][\"init\"] != \"done\") {\n              let basePath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\n              let dataPath = basePath + `/data`;\n              let fullpagePath = basePath + `/record/fullpage`;\n              let screenPath = basePath + `/record/screen`;\n              let mobilePath = basePath + `/record/mobile`;\n\n              // CREATE FOLDERS\n              dataHandler.createFolder(dataPath);\n              dataHandler.createFolder(fullpagePath);\n              dataHandler.createFolder(screenPath);\n              dataHandler.createFolder(mobilePath);\n\n              // COPY data.xlsx\n              const excelPath = `${dataPath}/data.xlsx`;\n              const dataExisting = await dataHandler.fileExists(excelPath);\n              if (!dataExisting) {\n                dataHandler.copyFile(\"./utils/data_template.xlsx\", excelPath);\n              }\n\n              // COPY capabilities_template.json\n              const capsPath = `${dataPath}/capabilities.json`;\n              const capsExisting = await dataHandler.fileExists(capsPath);\n              if (!capsExisting) {\n                dataHandler.copyFile(\"./utils/capabilities_template.json\", capsPath);\n              }\n\n              // COPY test-cases.xlsx\n              const tcPath = `${dataPath}/test-cases.xlsx`;\n              const tcExisting = await dataHandler.fileExists(tcPath);\n              if (!tcExisting) {\n                dataHandler.copyFile(\"./utils/test-cases_template.xlsx\", tcPath);\n              }\n\n              // COPY test-cases.json\n              const tcJsonPath = `${dataPath}/test-cases.json`;\n              const tcJsonExisting = await dataHandler.fileExists(tcJsonPath);\n              if (!tcJsonExisting) {\n                dataHandler.copyFile(\"./utils/test-cases.json\", tcJsonPath);\n              }\n\n              // COPY tc2json.js\n              const tc2jsonPath = `${dataPath}/tc2json.js`;\n              const tc2jsonExisting = await dataHandler.fileExists(tc2jsonPath);\n              if (!tc2jsonExisting) {\n                dataHandler.copyFile(\"./utils/tc2json.js\", tc2jsonPath);\n              }\n\n              // DELETE ALL readme.txt - USED FOR REGENERATION\n              const fullpageReadmePath = `${fullpagePath}/readme.txt`;\n              const screenReadmePath = `${screenPath}/readme.txt`;\n              const mobileReadmePath = `${mobilePath}/readme.txt`;\n              await dataHandler.deleteFile(fullpageReadmePath);\n              await dataHandler.deleteFile(screenReadmePath);\n              await dataHandler.deleteFile(mobileReadmePath);\n\n              // CREATE readme.txt\n              dataHandler.createFile(fullpageReadmePath, `Put the records into the corresponding folder:\n  - fullpage: the baseline and actual are captured with full web page from top to bottom.\n  - screen: the baseline and actual are captures with the screen of current position.\n  - mobile: used for mobile image comparison.\n  - Record file name must be unique and following this format: [project_id].[user_story_id]-[case_id]_[localization].js\n      Example: ${projectId}.001-C001_en.js\n                \nHow to use ${projectId}.spec-generation.js?\n  - Change the config \"spec_generation\" in data/data.xlsx to \"yes\" if you want to enable it.\n  - Update the list of pages in data/data.xlsx before generating with:\n    - page_id: is unique id\n    - domain: website domain\n    - handler: path to page\n    - status: active, deactive, support or manual\n    - flow: the id to match to your flow in ${projectId}.spec-generation.js\n  - Each spec is generated based on the flows with structure below. Depending on your purpose, you can define flexible custom preStep and addStep for each spec.\n    preStep\n    await browser.url(link);\n    addStep\n  - Keep the flow id to be \"0\" if you want to apply for all pages.\n  - Remove spec-generation out of excluded spec in wdio.config`);\n              dataHandler.copyFile(fullpageReadmePath, screenReadmePath);\n              dataHandler.copyFile(fullpageReadmePath, mobileReadmePath);\n\n              // CREATE SPEC GENERATION\n              const specGenerationPath = `${fullpagePath}/${projectId}.spec-generation.js`;\n              const specGenerationExisting = await dataHandler.fileExists(specGenerationPath);\n              if (!specGenerationExisting) {\n                let generationContent = `describe(\"spec-generation\", async function () {\n                  it(\"generate spec files\", async function () {\n                    const flows = [\n                      {\n                        id: \"0\",\n                        preStep: \"\",\n                        addStep: \"\",\n                      },\n                    ];\n\n                    const utils = require(process.cwd() + \"/utils/utils\");\n                    await utils.specGeneration(this.test.file, flows, -1, false);\n                  });\n                });`;\n                generationContent = utils.codeMakeUp(generationContent);\n                dataHandler.createFile(specGenerationPath, generationContent);\n              }\n\n              // CREATE .gitignore\n              const gitIgnorePath = `${basePath}/.gitignore`;\n              const gitIgnoreExisting = await dataHandler.fileExists(gitIgnorePath);\n              if (!gitIgnoreExisting) {\n                dataHandler.createFile(gitIgnorePath, `data/~$*`);\n              }\n\n              // UPDATE data.json\n              jsonData.projects[clientId][projectId][\"init\"] = \"done\";\n              await dataHandler.updateDataJsonFile(jsonData);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Convert test cases excel to json\r\n   * @param {String} specs list of all spec file paths\r\n   */\n  async tc2json(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (specFilePath.includes(`tc2json.js`)) {\n        // READ EXCEL DATA\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const tcPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.xlsx`;\n        const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId, tcPath);\n\n        // CREATE JSON\n        let json = {\n          data: []\n        };\n        let testCase = {\n          test_data: {},\n          steps: []\n        };\n        for (let i = 0; i < excelData[\"test_cases\"].length; i++) {\n          const row = excelData[\"test_cases\"][i];\n          const caseId = row[\"case_id\"];\n          const userType = row[\"user_type\"];\n          const feature = row[\"feature\"];\n          const caseName = row[\"case\"];\n          const localization = row[\"localization\"];\n          const desc = row[\"description\"];\n          const testData = row[\"test_data\"];\n          const steps = row[\"steps\"];\n\n          // GET CASE INFO\n          if (!common.emptyOrUndefined(caseId)) {\n            testCase[\"case_id\"] = caseId;\n          }\n          if (!common.emptyOrUndefined(userType)) {\n            testCase[\"user_type\"] = userType;\n          }\n          if (!common.emptyOrUndefined(feature)) {\n            testCase[\"feature\"] = feature;\n          }\n          if (!common.emptyOrUndefined(caseName)) {\n            testCase[\"case\"] = caseName;\n          }\n          if (!common.emptyOrUndefined(localization)) {\n            testCase[\"localization\"] = localization;\n          }\n          if (!common.emptyOrUndefined(desc)) {\n            testCase[\"description\"] = desc;\n          }\n\n          // GET TEST DATA\n          if (!common.emptyOrUndefined(testData)) {\n            const key = testData.split(\":\")[0].trim();\n            const value = testData.split(\":\")[1].trim();\n            testCase[\"test_data\"][key] = value;\n          }\n\n          // GET STEPS\n          if (!common.emptyOrUndefined(steps)) {\n            if (steps.toLowerCase() != \"[end]\") {\n              testCase[\"steps\"].push(steps);\n            } else {\n              // PUSH TO JSON\n              json.data.push(testCase);\n\n              // RESET\n              testCase = {\n                test_data: {},\n                steps: []\n              };\n            }\n          }\n        }\n\n        // SAVE JSON TO test-cases.json\n        const jsonPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.json`;\n        await dataHandler.updateDataJsonFile(json, jsonPath);\n      }\n    }\n  }\n\n  /**\r\n   * Add core funtions into every spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @param {Object} info spec information\r\n   * @param {Object} jsonData global json data\r\n   * @returns {String}\r\n   */\n  async addCoreFramework(contents, clientName, prjName, info, jsonData) {\n    // REMOVE OLD COMMENTS\n    const oldComment = `// BYPASS PAGE AUTH --- DON'T REMOVE THIS COMMENT`;\n    if (contents.includes(oldComment)) {\n      contents = contents.replaceAll(oldComment, \"\");\n    }\n\n    // REMOVE BEFORE HOOK CODE BLOCK\n    const beforeHookStart = `// ======= BEFORE_HOOK : START =======`;\n    const beforeHookEnd = `// ======= BEFORE_HOOK : END =======`;\n    if (contents.includes(beforeHookStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(beforeHookStart);\n      const endIndex = contents.indexOf(beforeHookEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + beforeHookEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    } else {\n      // BEFORE v1.0.7\n      const startIndex = contents.indexOf(`before(async function`);\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // REMOVE AFTER EACH HOOK CODE BLOCK\n    const afterEachHookStart = `// ======= AFTER_EACH_HOOK : START =======`;\n    const afterEachHookEnd = `// ======= AFTER_EACH_HOOK : END =======`;\n    if (contents.includes(afterEachHookStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(afterEachHookStart);\n      const endIndex = contents.indexOf(afterEachHookEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + afterEachHookEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // REMOVE IMG COMP CODE BLOCK\n    const imgStart = `// ======= IMG_COMP : START =======`;\n    const imgEnd = `// ======= IMG_COMP : END =======`;\n    if (contents.includes(imgStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(imgStart);\n      const endIndex = contents.indexOf(imgEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + imgEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    } else {\n      // BEFORE v1.0.7\n      const startIndex = contents.indexOf(`it(\"image comparison`);\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // GENERATE CORE FRAMEWORK\n    // 1. MAKE UP CODE\n    contents = utils.codeMakeUp(contents);\n\n    // 2. IDENTIFY THE POSITION TO ADD CODE BLOCKS\n    const capType = common.capitalize(info.captureType);\n    let specTitleCode = `describe(\"${prjName} :: ${capType}\", async function() {`;\n    let specTitleIndex = contents.indexOf(specTitleCode);\n\n    // 3. REVISE IF FACING WRONG FORMAT CODE\n    if (specTitleIndex < 0) {\n      specTitleCode = `describe(\"${prjName} :: ${capType}\", async function () {`;\n      specTitleIndex = contents.indexOf(specTitleCode);\n    }\n\n    // 4. ADD AFTER EACH HOOK CODE BLOCK\n    if (specTitleIndex >= 0) {\n      const afterEachHookCodeBlock = await this.insertAfterEachHookSpec(info);\n      contents = contents.replace(specTitleCode, specTitleCode + afterEachHookCodeBlock);\n    }\n\n    // 5. ADD BEFORE HOOK CODE BLOCK\n    if (specTitleIndex >= 0) {\n      const beforeHookCodeBlock = await this.insertBeforeHookSpec(info);\n      contents = contents.replace(specTitleCode, specTitleCode + beforeHookCodeBlock);\n    }\n\n    // 6. ADD IMAGE COMPARISON CODE BLOCK\n    var count = utils.getIndicesOf(\"});\", contents.slice(-12)).length;\n    if (count == 2) {\n      var lastLineIndex = contents.lastIndexOf(\"});\");\n      contents = contents.substring(0, lastLineIndex);\n    }\n    contents += await this.insertImageComparisonCode(info, jsonData.version);\n    contents += `\\r});`;\n\n    // 7. MAKE UP CODE\n    contents = utils.codeMakeUp(contents);\n\n    // 8. RETURN\n    return contents;\n  }\n\n  /**\r\n   * Search the code block by go until found end of block\r\n   * @param {Int} index start index\r\n   * @param {String} text string is used for searching\r\n   * @returns {String}\r\n   */\n  getCodeBlock(index, text, end = \"});\") {\n    let condition = true;\n    let next = index + 1;\n    let tmpString = \"\";\n    while (condition) {\n      tmpString = text.substring(index, next);\n      if (tmpString.includes(end) || tmpString == \"\" || tmpString.length >= text.length) {\n        condition = false;\n      }\n      next++;\n    }\n    return tmpString;\n  }\n\n  /**\r\n   * Same as getCodeBlock but ensure the full function is returned\r\n   * @param {Int} index start index\r\n   * @param {String} text contents to be searched for\r\n   * @param {String} end end signal\r\n   * @returns {String}\r\n   */\n  getFullCodeBlock(index, text, end = \"});\") {\n    let condition = true;\n    let next = index + 1;\n    let tmpString = \"\";\n    let openBracket = 0;\n    let closeBracket = 0;\n    while (condition) {\n      // GO TO EACH CHARACTER\n      tmpString = text.substring(index, next);\n\n      // IF LAST CHARACTER IS \"{\"\n      if (tmpString.slice(-1) == \"{\") openBracket++;\n      // IF LAST CHARACTER IS \"}\"\n      if (tmpString.slice(-1) == \"}\") closeBracket++;\n\n      // STOP FINDING\n      if (tmpString.length >= text.length || (tmpString.slice(-3).includes(end) || tmpString == \"\") && openBracket == closeBracket) {\n        condition = false;\n      }\n      next++;\n    }\n    return tmpString;\n  }\n\n  /**\r\n   * Add async before function if not existing\r\n   * @param {String} contents file contents\r\n   * @returns {String}\r\n   */\n  addAsync2Func(contents) {\n    let indexes = utils.getIndicesOf(`function`, contents, false);\n    const funcText = `function`;\n    const asyncText = `async`;\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      const text = contents.substring(indexes[i], indexes[i] - asyncText.length - 1);\n      if (!text.trim().includes(asyncText)) {\n        contents = contents.slice(0, indexes[i]) + asyncText + \" \" + contents.slice(indexes[i]);\n      }\n    }\n    return contents;\n  }\n\n  /**\r\n   * Fix and update the title of spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @returns {String}\r\n   */\n  updateSpecTitle(contents, prjName, captureType) {\n    let indexes = utils.getIndicesOf(`describe(`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\n      contents = contents.replace(text, `describe(\"${prjName} :: ${common.capitalize(captureType)}\", `);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Fix and update test case title\r\n   * @param {String} contents spec file script\r\n   * @param {String} caseId test case id\r\n   * @returns {String}\r\n   */\n  updateCaseTitle(contents, caseId) {\n    let indexes = utils.getIndicesOf(`it(`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\n      if (!text.includes(`image comparison`)) contents = contents.replace(text, `it(\"recorder :: ${caseId}\", `);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Check and convert unsupport commands into WDIO commands\r\n   * @param {String} contents spec file script\r\n   * @returns {String}\r\n   */\n  updateCommand(contents) {\n    let indexes = utils.getIndicesOf(`// WARNING: unsupported command`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \"}\");\n      let newText = this.convertCommand(text);\n      contents = contents.replace(text, newText);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Generate hook functions for each spec\r\n   * @param {Object} info spec information\r\n   * @param {String} hookType type of Hook defined in excel data\r\n   * @returns {String}\r\n   */\n  async hookGeneration(info, hookType) {\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    const specId = info.specId;\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const cptOptData = jsonData.projects[clientId][projectId][\"cpt_opt\"];\n    let codeBlocks = {\n      cls: [],\n      funct: []\n    };\n    for (let i = 0; i < excelData[\"hook\"].length; i++) {\n      const row = excelData[\"hook\"][i];\n      const type = row[\"type\"];\n      const cls = row[\"class\"];\n      const funct = row[\"function\"];\n      const status = row[\"status\"];\n      let script = ``;\n      if (hookType == type) {\n        // IMPORT CLASS\n        switch (cls) {\n          case \"utils\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/utils\");\\r`);\n            break;\n          case \"hook\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/hook\");\\r`);\n            break;\n          case \"allure\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/allure\");\\r`);\n            break;\n          case \"data_handler\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/data_handler\");\\r`);\n            break;\n          case \"jira\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/jira\");\\r`);\n            break;\n        }\n\n        // IMPORT FUNCTION\n        switch (funct) {\n          case \"pageAuth\":\n            script = `await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\n            if (status == \"inactive\") {\n              script = `// await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\n            }\n            codeBlocks.funct.push(`// CORE (${status}) :: BYPASS PAGE AUTH\n            ${script}\n            `);\n            break;\n          case \"checkValidCaps\":\n            script = `let valid = await utils.checkValidCaps();\n            if (!valid) await this.skip();\n            `;\n            if (status == \"inactive\") {\n              script = `// let valid = await utils.checkValidCaps();\n              // if (!valid) await this.skip();\n              `;\n            }\n            codeBlocks.funct.push(`// CORE (${status}) :: SKIP SPEC IF WRONG CAPABILITY\n            ${script}\n            `);\n            break;\n          case \"imgCompare\":\n            script = `await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\n            }\n            codeBlocks.funct.push(`\\r\n            // CORE (${status}) :: IMG COMPARISON STEP\n            ${script}\n            `);\n            break;\n          case \"addCaptureOpts\":\n            const captureOpts = await dataHandler.getCaptureOpts(clientId, projectId);\n            let platform = \"web\";\n            if (info.captureType == \"mobile\") platform = info.captureType;\n            script = `\n            /**\n             * Custom capture opts. Uncomment and change the value to use it.\n             * The global config is set in data.xlsx and is applied by default for all specs.\n             * Note: these config may be replaced if there is new version of Utils lib released.\n             */\\r\\r`;\n            for (var key in captureOpts[platform]) {\n              let value = captureOpts[platform][key];\n              if (key != \"baselineFolder\") {\n                // CHECK JSON DATA\n                if (typeof cptOptData != \"undefined\" && cptOptData.length > 0) {\n                  for (let i = 0; i < cptOptData.length; i++) {\n                    if (cptOptData[i][\"id\"] == specId) {\n                      for (let j = 0; j < cptOptData[i].values.length; j++) {\n                        const o = cptOptData[i].values[j];\n                        if (o.key == key) {\n                          const enabled = !o.enabled ? \"// \" : \"\";\n                          script += `\\t${enabled}await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${o.arg.value}, \"${o.arg.type}\");\\r`;\n                          break;\n                        }\n                      }\n                      break;\n                    }\n                  }\n                }\n\n                // CHECK GLOBAL STATUS\n                const searchText = `await utils.addCaptureOpts(\"${specId}\", \"${key}\",`;\n                if (!script.includes(searchText)) {\n                  if (status == \"inactive\") {\n                    script += `\\t// await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\n                  } else {\n                    script += `\\tawait utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\n                  }\n                }\n              }\n            }\n            codeBlocks.funct.push(script);\n            break;\n          case \"checkFireWall\":\n            script = `await utils.checkFireWall(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// await utils.checkFireWall(\"${specId}\");`;\n            }\n            codeBlocks.funct.push(`\\r\n              // CORE (${status}) :: CHECK FIREWALL\n              ${script}\n            `);\n            break;\n          case \"localize\":\n            script = `global.localization = await utils.getLocalization(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// ` + script;\n            }\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET LOCALIZATION FROM SPEC ID\n              ${script}\n              `);\n            break;\n          case \"dynamicBaseUrl\":\n            script = `global.dynamicBaseUrl = await utils.getDynamicUrl(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// ` + script;\n            }\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET DYNAMIC BASE URL\n              ${script}\n              `);\n            break;\n        }\n      }\n    }\n    return {\n      cls: Array.from(new Set(codeBlocks.cls)),\n      funct: Array.from(new Set(codeBlocks.funct))\n    };\n  }\n\n  /**\r\n   * Check spec status and update spec file\r\n   * @param {Object} info spec information\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents spec file contents\r\n   * @param {Boolean} write write file or return contents\r\n   * @returns {String}\r\n   */\n  async checkStatus(info, specFilePath, contents, write = true) {\n    // status: \"active | manual | deactivate | support\"\n\n    const caseId = info.caseId;\n    let changed = false;\n    const skipComment = `/* ======= SKIPPED =======`;\n    const startIndex = contents.indexOf(`it(\"recorder :: ${caseId}\",`);\n    const codeBlock = this.getFullCodeBlock(startIndex, contents);\n    let newCodeBlock = codeBlock;\n    const blockStartIndex = newCodeBlock.indexOf(`it(\"recorder :: ${caseId}\",`);\n    const firstCodeLine = this.getCodeBlock(blockStartIndex, newCodeBlock, \"{\");\n    if (info.status != \"active\" && !codeBlock.includes(skipComment)) {\n      // 1. ADD SKIPPED OPEN\n      newCodeBlock = newCodeBlock.replace(firstCodeLine, firstCodeLine + `\\r${skipComment}`);\n\n      // 2. ADD SKIPPED CLOSE\n      const count = utils.getIndicesOf(\"});\", codeBlock.slice(-5)).length;\n      if (count == 1) {\n        const lastLineIndex = newCodeBlock.lastIndexOf(\"});\");\n        newCodeBlock = newCodeBlock.substring(0, lastLineIndex);\n        newCodeBlock += `*/\\r});`;\n      }\n      changed = true;\n    } else if (info.status == \"active\" && codeBlock.includes(skipComment)) {\n      // REMOVE SKIPPED OPEN\n      const lineWithComment = this.getCodeBlock(blockStartIndex, newCodeBlock, skipComment);\n      newCodeBlock = newCodeBlock.replace(lineWithComment, firstCodeLine);\n\n      // REMOVE SKIPPED CLOSE\n      const lastLine = newCodeBlock.slice(-10);\n      let newLastLine = lastLine;\n      if (newLastLine.includes(`*/`)) {\n        newLastLine = newLastLine.replace(`*/`, \"\").replace(`\\r`, \"\").replace(`\\n`, \"\");\n        newCodeBlock = newCodeBlock.replace(lastLine, newLastLine);\n      }\n      changed = true;\n    }\n    if (changed) {\n      contents = contents.replace(codeBlock, newCodeBlock);\n      contents = utils.codeMakeUp(contents);\n      if (write) {\n        await dataHandler.writeSpec(specFilePath, contents);\n      }\n    }\n    return contents;\n  }\n\n  /**\r\n   * Check custom capture options code block and update Json data\r\n   * @param {Object} info spec information\r\n   * @param {String} contents spec contents\r\n   */\n  async checkCaptureOpts(info, contents) {\n    const arrOpts = [\"fullPageScrollTimeout\", \"ignoreTransparentPixel\", \"ignoreAntialiasing\", \"scaleImagesToSameSize\", \"largeImageThreshold\", \"disableCSSAnimation\", \"ignoreColors\", \"ignoreAlpha\"];\n    let jsonData = await dataHandler.getGlobalDataJson();\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\n    let changed = false;\n    let opts = {\n      id: info.specId,\n      values: []\n    };\n    if (typeof data == \"undefined\" || data.length <= 0) {\n      data = [];\n      data.push(opts);\n    }\n    for (let j = 0; j < arrOpts.length; j++) {\n      let searchText = `//await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\n\n      // TRY TO SEARCH WITH DEFAULT SEARCH TEXT\n      if (!contents.includes(searchText)) {\n        searchText = `// await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\n      }\n\n      // REMOVE OPT FROM JSON\n      if (contents.includes(searchText)) {\n        // LOOP DATA\n        for (let i = 0; i < data.length; i++) {\n          if (data[i][\"id\"] == info.specId) {\n            const tmpArr = data[i].values.filter(obj => !(obj.key === arrOpts[j]));\n            if (tmpArr.length != data[i].values.length) {\n              data[i].values = tmpArr;\n              changed = true;\n            }\n            break;\n          }\n        }\n      }\n    }\n\n    // WRITE JSON\n    if (changed) {\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\n      await dataHandler.updateDataJsonFile(jsonData);\n    }\n  }\n}\nmodule.exports = new hookCustom();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYXRhSGFuZGxlciIsInJlcXVpcmUiLCJ1dGlscyIsImNvbW1vbiIsImhvb2tDdXN0b20iLCJjb25zdHJ1Y3RvciIsIm1vYmlsZV9jb21wYXJlX2NvbmZpZyIsImltYWdlTmFtZUZvcm1hdCIsInNjcmVlbnNob3RQYXRoIiwic2F2ZVBlckRldmljZSIsImF1dG9TYXZlQmFzZWxpbmUiLCJibG9ja091dFN0YXR1c0JhciIsImJsb2NrT3V0SXBob25lSG9tZUJhciIsImJsb2NrT3V0TmF2aWdhdGlvbkJhciIsIndlYl9jb21wYXJlX2NvbmZpZyIsImZvcm1hdEltYWdlTmFtZSIsInNhdmVQZXJJbnN0YW5jZSIsImJsb2NrT3V0VG9vbEJhciIsImRpc2FibGVDU1NBbmltYXRpb24iLCJpc0h5YnJpZEFwcCIsImFsbHVyZV9jb25maWciLCJvdXRwdXREaXIiLCJkaXNhYmxlV2ViZHJpdmVyU3RlcHNSZXBvcnRpbmciLCJkaXNhYmxlV2ViZHJpdmVyU2NyZWVuc2hvdHNSZXBvcnRpbmciLCJhZGRDb25zb2xlTG9ncyIsImlzc3VlTGlua1RlbXBsYXRlIiwiZGlzYWJsZU1vY2hhSG9va3MiLCJnZXRNb2JpbGVDb21wYXJlQ29uZmlnIiwiZ2VuZXJhdGVNb2JpbGVDb21wYXJlQ29uZmlnIiwic3BlY3MiLCJhcmdzIiwibGVuZ3RoIiwic3BlY0ZpbGVQYXRoIiwiaXNOb3JtYWxTcGVjIiwiaW5mbyIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJiYXNlbGluZUZvbGRlciIsImNsaWVudElkIiwicHJvamVjdElkIiwiY29tcGFyZUNvbmZpZyIsInNlcnZpY2VzIiwiZ2V0V2ViQ29tcGFyZUNvbmZpZyIsImdldEFsbHVyZUNvbmZpZyIsImdldFN1aXRlcyIsImFsbFN1aXRlcyIsInNlYXJjaEFsbFN1aXRlcyIsInN1aXRlcyIsImkiLCJzdWl0ZUpzb24iLCJyZWFkRmlsZUpTT05TeW5jIiwiT2JqZWN0IiwiYXNzaWduIiwiYXV0b0ZpeENvZGUiLCJleGNlbERhdGEiLCJnZXRQcm9qZWN0RGF0YUV4Y2VsIiwianNvbkRhdGEiLCJnZXRHbG9iYWxEYXRhSnNvbiIsIm5ld1ZlcnNpb24iLCJ2ZXJzaW9uIiwiY29udGVudHMiLCJyZWFkRmlsZSIsIlN0cmluZyIsImNoZWNrQ2FwdHVyZU9wdHMiLCJpbmNsdWRlcyIsImNoZWNrU3RhdHVzIiwiY2xpZW50TmFtZSIsInByak5hbWUiLCJhZGRBc3luYzJGdW5jIiwidXBkYXRlU3BlY1RpdGxlIiwiY2FwdHVyZVR5cGUiLCJ1cGRhdGVDYXNlVGl0bGUiLCJjYXNlSWQiLCJ1cGRhdGVDb21tYW5kIiwiYWRkQ29yZUZyYW1ld29yayIsImNvZGVNYWtlVXAiLCJ3cml0ZVNwZWMiLCJhdXRvQmF0Y2hGaXhDb2RlIiwicGF0dGVybiIsImZyb20iLCJ0byIsImFsbFNwZWNzIiwic2VhcmNoQWxsU3BlY3MiLCJmaWxlIiwiY29uc29sZSIsImxvZyIsImNvbnZlcnRDb21tYW5kIiwibGluZU9mQ29kZSIsIm9iakNvbW1hbmQiLCJKU09OIiwicGFyc2UiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwicmVwbGFjZSIsImNvbW1hbmQiLCJ0YXJnZXQiLCJpbnNlcnRJbWFnZUNvbXBhcmlzb25Db2RlIiwiY29kZUJsb2NrcyIsImhvb2tHZW5lcmF0aW9uIiwiY2xzQ29kZUJsb2NrIiwiZnVuY3RDb2RlQmxvY2siLCJjbHMiLCJmdW5jdCIsImluc2VydEJlZm9yZUhvb2tTcGVjIiwiY291bnQiLCJiZWZvcmVCbG9jayIsImluc2VydEFmdGVyRWFjaEhvb2tTcGVjIiwiYWZ0ZXJFYWNoQmxvY2siLCJpbml0UHJvamVjdCIsInByb2plY3RzIiwiYmFzZVBhdGgiLCJwcm9jZXNzIiwiY3dkIiwiZGF0YVBhdGgiLCJmdWxscGFnZVBhdGgiLCJzY3JlZW5QYXRoIiwibW9iaWxlUGF0aCIsImNyZWF0ZUZvbGRlciIsImV4Y2VsUGF0aCIsImRhdGFFeGlzdGluZyIsImZpbGVFeGlzdHMiLCJjb3B5RmlsZSIsImNhcHNQYXRoIiwiY2Fwc0V4aXN0aW5nIiwidGNQYXRoIiwidGNFeGlzdGluZyIsInRjSnNvblBhdGgiLCJ0Y0pzb25FeGlzdGluZyIsInRjMmpzb25QYXRoIiwidGMyanNvbkV4aXN0aW5nIiwiZnVsbHBhZ2VSZWFkbWVQYXRoIiwic2NyZWVuUmVhZG1lUGF0aCIsIm1vYmlsZVJlYWRtZVBhdGgiLCJkZWxldGVGaWxlIiwiY3JlYXRlRmlsZSIsInNwZWNHZW5lcmF0aW9uUGF0aCIsInNwZWNHZW5lcmF0aW9uRXhpc3RpbmciLCJnZW5lcmF0aW9uQ29udGVudCIsImdpdElnbm9yZVBhdGgiLCJnaXRJZ25vcmVFeGlzdGluZyIsInVwZGF0ZURhdGFKc29uRmlsZSIsInRjMmpzb24iLCJqc29uIiwiZGF0YSIsInRlc3RDYXNlIiwidGVzdF9kYXRhIiwic3RlcHMiLCJyb3ciLCJ1c2VyVHlwZSIsImZlYXR1cmUiLCJjYXNlTmFtZSIsImxvY2FsaXphdGlvbiIsImRlc2MiLCJ0ZXN0RGF0YSIsImVtcHR5T3JVbmRlZmluZWQiLCJrZXkiLCJzcGxpdCIsInRyaW0iLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwicHVzaCIsImpzb25QYXRoIiwib2xkQ29tbWVudCIsInJlcGxhY2VBbGwiLCJiZWZvcmVIb29rU3RhcnQiLCJiZWZvcmVIb29rRW5kIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiY29kZUJsb2NrIiwiZ2V0RnVsbENvZGVCbG9jayIsImFmdGVyRWFjaEhvb2tTdGFydCIsImFmdGVyRWFjaEhvb2tFbmQiLCJpbWdTdGFydCIsImltZ0VuZCIsImNhcFR5cGUiLCJjYXBpdGFsaXplIiwic3BlY1RpdGxlQ29kZSIsInNwZWNUaXRsZUluZGV4IiwiYWZ0ZXJFYWNoSG9va0NvZGVCbG9jayIsImJlZm9yZUhvb2tDb2RlQmxvY2siLCJnZXRJbmRpY2VzT2YiLCJzbGljZSIsImxhc3RMaW5lSW5kZXgiLCJsYXN0SW5kZXhPZiIsImdldENvZGVCbG9jayIsImluZGV4IiwidGV4dCIsImVuZCIsImNvbmRpdGlvbiIsIm5leHQiLCJ0bXBTdHJpbmciLCJvcGVuQnJhY2tldCIsImNsb3NlQnJhY2tldCIsImluZGV4ZXMiLCJmdW5jVGV4dCIsImFzeW5jVGV4dCIsIm5ld1RleHQiLCJob29rVHlwZSIsInNwZWNJZCIsImNwdE9wdERhdGEiLCJ0eXBlIiwic3RhdHVzIiwic2NyaXB0IiwiY2FwdHVyZU9wdHMiLCJnZXRDYXB0dXJlT3B0cyIsInBsYXRmb3JtIiwiaiIsInZhbHVlcyIsIm8iLCJlbmFibGVkIiwiYXJnIiwic2VhcmNoVGV4dCIsIkFycmF5IiwiU2V0Iiwid3JpdGUiLCJjaGFuZ2VkIiwic2tpcENvbW1lbnQiLCJuZXdDb2RlQmxvY2siLCJibG9ja1N0YXJ0SW5kZXgiLCJmaXJzdENvZGVMaW5lIiwibGluZVdpdGhDb21tZW50IiwibGFzdExpbmUiLCJuZXdMYXN0TGluZSIsImFyck9wdHMiLCJvcHRzIiwiaWQiLCJ0bXBBcnIiLCJmaWx0ZXIiLCJvYmoiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx1dGlsc1xcbGliXFwiLCJzb3VyY2VzIjpbImhvb2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGF0YUhhbmRsZXIgPSByZXF1aXJlKFwiLi9kYXRhX2hhbmRsZXJcIik7XHJcbmNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vLi4vdXRpbHNcIik7XHJcbmNvbnN0IGNvbW1vbiA9IHJlcXVpcmUoXCIuLy4uL2NvbW1vblwiKTtcclxuXHJcbmNsYXNzIGhvb2tDdXN0b20ge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5tb2JpbGVfY29tcGFyZV9jb25maWcgPSB7XHJcbiAgICAgIGltYWdlTmFtZUZvcm1hdDogXCJ7dGFnfVwiLFxyXG4gICAgICBzY3JlZW5zaG90UGF0aDogYC50bXAvYCxcclxuICAgICAgc2F2ZVBlckRldmljZTogdHJ1ZSxcclxuICAgICAgYXV0b1NhdmVCYXNlbGluZTogdHJ1ZSxcclxuICAgICAgYmxvY2tPdXRTdGF0dXNCYXI6IHRydWUsXHJcbiAgICAgIGJsb2NrT3V0SXBob25lSG9tZUJhcjogdHJ1ZSxcclxuICAgICAgYmxvY2tPdXROYXZpZ2F0aW9uQmFyOiB0cnVlLFxyXG4gICAgICAvLyBiYXNlbGluZUZvbGRlcjogdGhpcy5nZXRNb2JpbGVCYXNlbGluZUZvbGRlcigpLFxyXG4gICAgfTtcclxuICAgIHRoaXMud2ViX2NvbXBhcmVfY29uZmlnID0ge1xyXG4gICAgICBmb3JtYXRJbWFnZU5hbWU6IFwie3RhZ31cIixcclxuICAgICAgc2NyZWVuc2hvdFBhdGg6IGAudG1wL2AsXHJcbiAgICAgIHNhdmVQZXJJbnN0YW5jZTogdHJ1ZSxcclxuICAgICAgYXV0b1NhdmVCYXNlbGluZTogdHJ1ZSxcclxuICAgICAgYmxvY2tPdXRTdGF0dXNCYXI6IHRydWUsXHJcbiAgICAgIGJsb2NrT3V0VG9vbEJhcjogdHJ1ZSxcclxuICAgICAgZGlzYWJsZUNTU0FuaW1hdGlvbjogdHJ1ZSxcclxuICAgICAgLy8gTk9URTogV2hlbiB5b3UgYXJlIHRlc3RpbmcgYSBoeWJyaWQgYXBwIHBsZWFzZSB1c2UgdGhpcyBzZXR0aW5nXHJcbiAgICAgIGlzSHlicmlkQXBwOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICB0aGlzLmFsbHVyZV9jb25maWcgPSB7XHJcbiAgICAgIG91dHB1dERpcjogXCJhbGx1cmUtcmVzdWx0c1wiLFxyXG4gICAgICBkaXNhYmxlV2ViZHJpdmVyU3RlcHNSZXBvcnRpbmc6IHRydWUsXHJcbiAgICAgIGRpc2FibGVXZWJkcml2ZXJTY3JlZW5zaG90c1JlcG9ydGluZzogdHJ1ZSxcclxuICAgICAgYWRkQ29uc29sZUxvZ3M6IHRydWUsXHJcbiAgICAgIGlzc3VlTGlua1RlbXBsYXRlOiBcImh0dHBzOi8vamlyYS5zdXRyaXguY29tL2Jyb3dzZS97fVwiLFxyXG4gICAgICBkaXNhYmxlTW9jaGFIb29rczogdHJ1ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgbW9iaWxlIGNvbXBhcmlzb24gY29uZmlnXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBnZXRNb2JpbGVDb21wYXJlQ29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubW9iaWxlX2NvbXBhcmVfY29uZmlnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgY29uZmlnIGZvciBtb2JpbGUgaW1hZ2UgY29tcGFyaXNvblxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNwZWNzIGxpc3Qgb2YgYWxsIHNwZWMgZmlsZXNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBjb25maWcgd2lsbCBiZSBtZXJnZWQgaW50byBtYWluIGNvbmZpZ1xyXG4gICAqL1xyXG4gIGFzeW5jIGdlbmVyYXRlTW9iaWxlQ29tcGFyZUNvbmZpZyhzcGVjcywgYXJncykge1xyXG4gICAgaWYgKHNwZWNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3Qgc3BlY0ZpbGVQYXRoID0gc3BlY3NbMF07XHJcbiAgICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKHNwZWNGaWxlUGF0aCkpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0SW5mb0Zyb21GaWxlUGF0aChzcGVjRmlsZVBhdGgpO1xyXG4gICAgICAgIGNvbnN0IGJhc2VsaW5lRm9sZGVyID0gYC4vdGVzdC9zcGVjcy8ke2luZm8uY2xpZW50SWR9LyR7aW5mby5wcm9qZWN0SWR9L2Jhc2VsaW5lYDtcclxuICAgICAgICBsZXQgY29tcGFyZUNvbmZpZyA9IHRoaXMuZ2V0TW9iaWxlQ29tcGFyZUNvbmZpZygpO1xyXG5cclxuICAgICAgICBjb21wYXJlQ29uZmlnLmJhc2VsaW5lRm9sZGVyID0gYmFzZWxpbmVGb2xkZXI7XHJcbiAgICAgICAgYXJncy5zZXJ2aWNlcyA9IFtbXCJuYXRpdmUtYXBwLWNvbXBhcmVcIiwgY29tcGFyZUNvbmZpZ11dO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgd2ViIGNvbXBhcmlzb24gY29uZmlnXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBnZXRXZWJDb21wYXJlQ29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMud2ViX2NvbXBhcmVfY29uZmlnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFsbHVyZSBjb25maWdcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldEFsbHVyZUNvbmZpZygpIHtcclxuICAgIHJldHVybiB0aGlzLmFsbHVyZV9jb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIHN1aXRlcyBmcm9tIGFsbCBwcm9qZWN0cyBhbmQgbWVyZ2VkIHRvIGNvbmZpZ1xyXG4gICAqIEByZXR1cm5zIHtKU09OfVxyXG4gICAqL1xyXG4gIGdldFN1aXRlcygpIHtcclxuICAgIC8vIDEuIFNFQVJDSCBBTEwgc3VpdGVzLmpzb25cclxuICAgIGNvbnN0IGFsbFN1aXRlcyA9IGRhdGFIYW5kbGVyLnNlYXJjaEFsbFN1aXRlcygpO1xyXG5cclxuICAgIC8vIDIuIFJFQUQgRUFDSCBKU09OIEFORCBNRVJHRSBJTlRPIE9ORVxyXG4gICAgbGV0IHN1aXRlcyA9IHt9O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxTdWl0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3VpdGVKc29uID0gZGF0YUhhbmRsZXIucmVhZEZpbGVKU09OU3luYyhhbGxTdWl0ZXNbaV0sIFwidXRmOFwiKTtcclxuICAgICAgc3VpdGVzID0gT2JqZWN0LmFzc2lnbih7fSwgc3VpdGVzLCBzdWl0ZUpzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDMuIFJFVFVSTiBNRVJHRUQgU1VJVEVTXHJcbiAgICByZXR1cm4gc3VpdGVzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXV0byBmaXggc3BlYyBjb2RlIGlmIGl0J3Mgbm90IGNvcnJlY3Qgb3IgbGF0ZXN0IHZlcnNpb25cclxuICAgKiBAcGFyYW0ge0FycmF5fSBzcGVjcyBMaXN0IG9mIHJ1bm5pbmcgc3BlYyBmaWxlIHBhdGhzXHJcbiAgICovXHJcbiAgYXN5bmMgYXV0b0ZpeENvZGUoc3BlY3MpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3BlY0ZpbGVQYXRoID0gc3BlY3NbaV07XHJcblxyXG4gICAgICBpZiAoY29tbW9uLmlzTm9ybWFsU3BlYyhzcGVjRmlsZVBhdGgpKSB7XHJcbiAgICAgICAgLy8gR0VUIFBST0pFQ1QgREFUQVxyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKHNwZWNGaWxlUGF0aCk7XHJcbiAgICAgICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSBqc29uRGF0YS52ZXJzaW9uO1xyXG5cclxuICAgICAgICAvLyBSRUFEIEZJTEVcclxuICAgICAgICBsZXQgY29udGVudHMgPSBhd2FpdCBkYXRhSGFuZGxlci5yZWFkRmlsZShzcGVjRmlsZVBhdGgsIFwidXRmOFwiKTtcclxuICAgICAgICBjb250ZW50cyA9IFN0cmluZyhjb250ZW50cyk7XHJcblxyXG4gICAgICAgIC8vIENIRUNLIENBUFRVUkUgT1BUU1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2hlY2tDYXB0dXJlT3B0cyhpbmZvLCBjb250ZW50cyk7XHJcblxyXG4gICAgICAgIC8vIFNLSVAgSUYgTEFURVNUIFZFUlNJT05cclxuICAgICAgICBpZiAoY29udGVudHMuaW5jbHVkZXMoYGltYWdlIGNvbXBhcmlzb24gJHtuZXdWZXJzaW9ufWApKSB7XHJcbiAgICAgICAgICAvLyBDSEVDSyAmIFVQREFURSBTVEFUVVNcclxuICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tTdGF0dXMoaW5mbywgc3BlY0ZpbGVQYXRoLCBjb250ZW50cyk7XHJcblxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHRVQgQ09NTU9OIElORk9cclxuICAgICAgICBsZXQgY2xpZW50TmFtZSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImNsaWVudFwiXTtcclxuICAgICAgICBsZXQgcHJqTmFtZSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcInByb2plY3RcIl07XHJcbiAgICAgICAgaWYgKGNsaWVudE5hbWUgPT0gXCJcIikgY2xpZW50TmFtZSA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICAgICAgaWYgKHByak5hbWUgPT0gXCJcIikgcHJqTmFtZSA9IGluZm8ucHJvamVjdElkO1xyXG5cclxuICAgICAgICAvLyBBREQgQVNZTkMgQkVGT1JFIEZVTkNUSU9OXHJcbiAgICAgICAgY29udGVudHMgPSB0aGlzLmFkZEFzeW5jMkZ1bmMoY29udGVudHMpO1xyXG5cclxuICAgICAgICAvLyBVUERBVEUgU1BFQyBUSVRMRVxyXG4gICAgICAgIGNvbnRlbnRzID0gdGhpcy51cGRhdGVTcGVjVGl0bGUoY29udGVudHMsIHByak5hbWUsIGluZm8uY2FwdHVyZVR5cGUpO1xyXG5cclxuICAgICAgICAvLyBVUERBVEUgQ0FTRSBUSVRMRVxyXG4gICAgICAgIGNvbnRlbnRzID0gdGhpcy51cGRhdGVDYXNlVGl0bGUoY29udGVudHMsIGluZm8uY2FzZUlkKTtcclxuXHJcbiAgICAgICAgLy8gQ09OVkVSVCBDT01NQU5EU1xyXG4gICAgICAgIGNvbnRlbnRzID0gdGhpcy51cGRhdGVDb21tYW5kKGNvbnRlbnRzKTtcclxuXHJcbiAgICAgICAgLy8gR0VORVJBVEUgQ09SRSBGUkFNRVdPUktcclxuICAgICAgICBjb250ZW50cyA9IGF3YWl0IHRoaXMuYWRkQ29yZUZyYW1ld29yayhcclxuICAgICAgICAgIGNvbnRlbnRzLFxyXG4gICAgICAgICAgY2xpZW50TmFtZSxcclxuICAgICAgICAgIHByak5hbWUsXHJcbiAgICAgICAgICBpbmZvLFxyXG4gICAgICAgICAganNvbkRhdGFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBXUklURSBDT05URU5UUyBCQUNLIFRPIEZJTEVcclxuICAgICAgICBpZiAoY29udGVudHMgIT0gXCJcIikge1xyXG4gICAgICAgICAgLy8gTUFLRSBVUCBDT0RFXHJcbiAgICAgICAgICBjb250ZW50cyA9IHV0aWxzLmNvZGVNYWtlVXAoY29udGVudHMpO1xyXG5cclxuICAgICAgICAgIC8vIENIRUNLICYgVVBEQVRFIFNUQVRVU1xyXG4gICAgICAgICAgY29udGVudHMgPSBhd2FpdCB0aGlzLmNoZWNrU3RhdHVzKFxyXG4gICAgICAgICAgICBpbmZvLFxyXG4gICAgICAgICAgICBzcGVjRmlsZVBhdGgsXHJcbiAgICAgICAgICAgIGNvbnRlbnRzLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci53cml0ZVNwZWMoc3BlY0ZpbGVQYXRoLCBjb250ZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdXRvIHVwZGF0ZSBzcGVjIHNjcmlwdCBiYXNlZCBvbiBuZXcgY2hhbmdlXHJcbiAgICogQHBhcmFtIHtBcnJheX0gc3BlY3MgbGlzdCBvZiBhbGwgcnVubmluZyBzcGVjIGZpbGVzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm4gZmlsdGVyIHBhdHRlcm5cclxuICAgKiBAcGFyYW0ge0ludH0gZnJvbSBzdGFydCBpbmRleFxyXG4gICAqIEBwYXJhbSB7SW50fSB0byBlbmQgaW5kZXhcclxuICAgKi9cclxuICBhc3luYyBhdXRvQmF0Y2hGaXhDb2RlKHNwZWNzLCBwYXR0ZXJuID0gXCJcIiwgZnJvbSA9IDAsIHRvID0gMCkge1xyXG4gICAgaWYgKHNwZWNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3Qgc3BlY0ZpbGVQYXRoID0gc3BlY3NbMF07XHJcblxyXG4gICAgICBpZiAoY29tbW9uLmlzTm9ybWFsU3BlYyhzcGVjRmlsZVBhdGgpKSB7XHJcbiAgICAgICAgLy8gU0VBUkNIIEpTIEZJTEVTXHJcbiAgICAgICAgY29uc3QgYWxsU3BlY3MgPSBhd2FpdCBkYXRhSGFuZGxlci5zZWFyY2hBbGxTcGVjcyhwYXR0ZXJuKTtcclxuXHJcbiAgICAgICAgLy8gR0VUIEdMT0JBTCBEQVRBIEpTT05cclxuICAgICAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IGpzb25EYXRhLnZlcnNpb247XHJcblxyXG4gICAgICAgIGlmICh0byA9PSAwKSB0byA9IGFsbFNwZWNzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGZpbGUgPSBhbGxTcGVjc1tpXTtcclxuXHJcbiAgICAgICAgICBpZiAoY29tbW9uLmlzTm9ybWFsU3BlYyhmaWxlKSkge1xyXG4gICAgICAgICAgICAvLyBHRVQgUFJPSkVDVCBEQVRBXHJcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKGZpbGUpO1xyXG4gICAgICAgICAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICAgICAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdFVCBDT01NT04gSU5GT1xyXG4gICAgICAgICAgICBsZXQgY2xpZW50TmFtZSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImNsaWVudFwiXTtcclxuICAgICAgICAgICAgbGV0IHByak5hbWUgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJwcm9qZWN0XCJdO1xyXG4gICAgICAgICAgICBpZiAoY2xpZW50TmFtZSA9PSBcIlwiKSBjbGllbnROYW1lID0gaW5mby5jbGllbnRJZDtcclxuICAgICAgICAgICAgaWYgKHByak5hbWUgPT0gXCJcIikgcHJqTmFtZSA9IGluZm8ucHJvamVjdElkO1xyXG5cclxuICAgICAgICAgICAgLy8gUkVBRCBGSUxFXHJcbiAgICAgICAgICAgIGxldCBjb250ZW50cyA9IGF3YWl0IGRhdGFIYW5kbGVyLnJlYWRGaWxlKGZpbGUsIFwidXRmOFwiKTtcclxuICAgICAgICAgICAgY29udGVudHMgPSBTdHJpbmcoY29udGVudHMpO1xyXG5cclxuICAgICAgICAgICAgLy8gU0tJUCBJRiBMQVRFU1QgVkVSU0lPTlxyXG4gICAgICAgICAgICBpZiAoY29udGVudHMuaW5jbHVkZXMoYGltYWdlIGNvbXBhcmlzb24gJHtuZXdWZXJzaW9ufWApKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIExPRyBGSUxFIFBBVEggT1VUXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQUREIENPUkUgRlJBTUVXT1JLXHJcbiAgICAgICAgICAgIGNvbnRlbnRzID0gYXdhaXQgdGhpcy5hZGRDb3JlRnJhbWV3b3JrKFxyXG4gICAgICAgICAgICAgIGNvbnRlbnRzLFxyXG4gICAgICAgICAgICAgIGNsaWVudE5hbWUsXHJcbiAgICAgICAgICAgICAgcHJqTmFtZSxcclxuICAgICAgICAgICAgICBpbmZvLFxyXG4gICAgICAgICAgICAgIGpzb25EYXRhXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBXUklURSBDT05URU5UUyBCQUNLIFRPIEZJTEVcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRzICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAvLyBNQUtFIFVQIENPREVcclxuICAgICAgICAgICAgICBjb250ZW50cyA9IHV0aWxzLmNvZGVNYWtlVXAoY29udGVudHMpO1xyXG5cclxuICAgICAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci53cml0ZVNwZWMoZmlsZSwgY29udGVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IHVuc3VwcG9ydGVkIGNvbW1hbmRzIGV4cG9ydGVkIGZyb20gcmVjb3JkZXIgdG9vbCB0byB1c2FibGUgc2NyaXB0IGluIHdkaW9cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZU9mQ29kZSBsaW5lIG9mIGNvZGVcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGNvbnZlcnRDb21tYW5kKGxpbmVPZkNvZGUpIHtcclxuICAgIC8vIFdBUk5JTkc6IHVuc3VwcG9ydGVkIGNvbW1hbmQgcnVuU2NyaXB0LiBPYmplY3Q9IHtcImNvbW1hbmRcIjpcInJ1blNjcmlwdFwiLFwidGFyZ2V0XCI6XCJkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXCIjbWFpbiA+IHNlY3Rpb24uY2VydGlmaWVkLXBhcnRuZXIgPiBkaXYgPiBkaXYgPiBkaXYuY29sLW1kLTguY29sLWxnLTcgPiBkaXYuY29udGVudFxcXCIpLnNjcm9sbEludG9WaWV3KClcIixcInZhbHVlXCI6XCJcIn1cclxuICAgIC8vIFdBUk5JTkc6IHVuc3VwcG9ydGVkIGNvbW1hbmQgZGVsZXRlQ29va2llLiBPYmplY3Q9IHtcImNvbW1hbmRcIjpcImRlbGV0ZUNvb2tpZVwiLFwidGFyZ2V0XCI6XCJcIixcInZhbHVlXCI6XCJcIn1cclxuICAgIC8vIFdBUk5JTkc6IHVuc3VwcG9ydGVkIGNvbW1hbmQgZGVsZXRlQWxsVmlzaWJsZUNvb2tpZXMuIE9iamVjdD0ge1wiY29tbWFuZFwiOlwiZGVsZXRlQWxsVmlzaWJsZUNvb2tpZXNcIixcInRhcmdldFwiOlwiXCIsXCJ2YWx1ZVwiOlwiXCJ9XHJcbiAgICB2YXIgb2JqQ29tbWFuZCA9IEpTT04ucGFyc2UoXHJcbiAgICAgIGxpbmVPZkNvZGVcclxuICAgICAgICAuc3Vic3RyaW5nKGxpbmVPZkNvZGUuaW5kZXhPZihcIj1cIiksIGxpbmVPZkNvZGUubGVuZ3RoKVxyXG4gICAgICAgIC5yZXBsYWNlKFwiPSBcIiwgXCJcIilcclxuICAgICAgICAucmVwbGFjZShgXFxyYCwgXCJcIilcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvYmpDb21tYW5kLmNvbW1hbmQgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBzd2l0Y2ggKG9iakNvbW1hbmQuY29tbWFuZCkge1xyXG4gICAgICAgIGNhc2UgXCJydW5TY3JpcHRcIjpcclxuICAgICAgICAgIHJldHVybiBgXFx0XFx0YXdhaXQgYnJvd3Nlci5leGVjdXRlKFxcYCR7b2JqQ29tbWFuZC50YXJnZXR9XFxgKTtcXHJgO1xyXG4gICAgICAgIGNhc2UgXCJkZWxldGVDb29raWVcIjpcclxuICAgICAgICAgIHJldHVybiBgXFx0XFx0YXdhaXQgYnJvd3Nlci5kZWxldGVDb29raWVzKFtcIiR7b2JqQ29tbWFuZC50YXJnZXR9XCJdKTtcXHJgO1xyXG4gICAgICAgIGNhc2UgXCJkZWxldGVBbGxWaXNpYmxlQ29va2llc1wiOlxyXG4gICAgICAgICAgcmV0dXJuIGBcXHRcXHRhd2FpdCBicm93c2VyLmRlbGV0ZUNvb2tpZXMoKTtcXHJgO1xyXG4gICAgICAgIGNhc2UgXCJcIjpcclxuICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gbGluZU9mQ29kZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxpbmVPZkNvZGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBjb2RlIGJsb2NrIGZvciBpbWFnZSBjb21wYXJpc29uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2ZXJzaW9uIGxhdGVzdCB2ZXJzaW9uIG9mIGNvZGVcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGFzeW5jIGluc2VydEltYWdlQ29tcGFyaXNvbkNvZGUoaW5mbywgdmVyc2lvbikge1xyXG4gICAgY29uc3QgY29kZUJsb2NrcyA9IGF3YWl0IHRoaXMuaG9va0dlbmVyYXRpb24oaW5mbywgXCJpbWdfY29tcGFyaXNvblwiKTtcclxuICAgIGxldCBjbHNDb2RlQmxvY2sgPSBgYDtcclxuICAgIGxldCBmdW5jdENvZGVCbG9jayA9IGBgO1xyXG5cclxuICAgIC8vIEdFTkVSQVRFIENMQVNTIENPREUgTElORVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlQmxvY2tzLmNscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjbHNDb2RlQmxvY2sgKz0gY29kZUJsb2Nrcy5jbHNbaV07XHJcbiAgICB9XHJcbiAgICAvLyBHRU5FUkFURSBGVU5DVElPTiBDT0RFIExJTkVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29kZUJsb2Nrcy5mdW5jdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmdW5jdENvZGVCbG9jayArPSBjb2RlQmxvY2tzLmZ1bmN0W2ldO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250ZW50cyA9IGBcXHJcclxuICAgIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgICAvKlxyXG4gICAgICAqIFRoaXMgaXMgQ09SRSBmdW5jdGlvbiB0byBkbyB0aGUgaW1hZ2UgY29tcGFyaXNvbi5cclxuICAgICAgKiBUaGlzIHNjcmlwdCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGV2ZXJ5IHRpbWUgdGhlcmUgaXMgYSBuZXcgdmVyc2lvbiByZWxlYXNlZC5cclxuICAgICAgKiBZb3UgY2FuIG9wZW4gdGhlIGN1c3RvbSBzY3JpcHRzIGZvciBjYXB0dXJlIG9wdGlvbnMgdG8gYXBwbHkgb25seSBmb3IgY3VycmVudCBzcGVjLlxyXG4gICAgICAqIE5vdGU6IGRvbid0IG1vZGlmeSBvciByZW1vdmUgYW55IHNjcmlwdCBoZXJlLlxyXG4gICAgKi9cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICBpdChcImltYWdlIGNvbXBhcmlzb24gJHt2ZXJzaW9ufSA6OiAke2luZm8uY2FzZUlkfVwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICR7Y2xzQ29kZUJsb2NrfVxyXG4gICAgICBcclxuICAgICAgJHtmdW5jdENvZGVCbG9ja31cclxuICAgIH0pO1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyA9PT09PT09IElNR19DT01QIDogRU5EID09PT09PT1cXHJgO1xyXG5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGJlZm9yZSBob29rIGNvZGUgYmxvY2tcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBpbnNlcnRCZWZvcmVIb29rU3BlYyhpbmZvKSB7XHJcbiAgICBjb25zdCBjb2RlQmxvY2tzID0gYXdhaXQgdGhpcy5ob29rR2VuZXJhdGlvbihpbmZvLCBcImJlZm9yZVwiKTtcclxuICAgIGxldCBjbHNDb2RlQmxvY2sgPSBgYDtcclxuICAgIGxldCBmdW5jdENvZGVCbG9jayA9IGBgO1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGxldCBiZWZvcmVCbG9jayA9IGBgO1xyXG5cclxuICAgIC8vIEdFTkVSQVRFIENMQVNTIENPREUgTElORVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlQmxvY2tzLmNscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjbHNDb2RlQmxvY2sgKz0gY29kZUJsb2Nrcy5jbHNbaV07XHJcbiAgICB9XHJcbiAgICAvLyBHRU5FUkFURSBGVU5DVElPTiBDT0RFIExJTkVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29kZUJsb2Nrcy5mdW5jdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmdW5jdENvZGVCbG9jayArPSBjb2RlQmxvY2tzLmZ1bmN0W2ldO1xyXG4gICAgICBjb3VudCsrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgYmVmb3JlQmxvY2sgPSBgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAke2Nsc0NvZGVCbG9ja31cclxuICAgICAgICBcclxuICAgICAgICAke2Z1bmN0Q29kZUJsb2NrfVxyXG4gICAgICB9KTtgO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmVmb3JlQmxvY2sgPSBgLy8gYmVmb3JlKGFzeW5jIGZ1bmN0aW9uICgpIHt9KTtgO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250ZW50cyA9IGBcXHJcclxuICAgIC8vID09PT09PT0gQkVGT1JFX0hPT0sgOiBTVEFSVCA9PT09PT09XHJcbiAgICAvKlxyXG4gICAgICAqIFRoaXMgaXMgQ09SRSBmdW5jdGlvbiB0byBiZSBwZXJmb3JtZWQgT05DRSBiZWZvcmUgdGhlIDFzdCB0ZXN0IGluIGN1cnJlbnQgc3BlYy5cclxuICAgICAgKiBUaGlzIHNjcmlwdCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGV2ZXJ5IHRpbWUgdGhlcmUgaXMgYSBuZXcgdmVyc2lvbiByZWxlYXNlZC5cclxuICAgICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgICovXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgJHtiZWZvcmVCbG9ja31cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gPT09PT09PSBCRUZPUkVfSE9PSyA6IEVORCA9PT09PT09XFxyYDtcclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhZnRlciBlYWNoIGhvb2sgY29kZSBibG9ja1xyXG4gICAqIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgaW5zZXJ0QWZ0ZXJFYWNoSG9va1NwZWMoaW5mbykge1xyXG4gICAgY29uc3QgY29kZUJsb2NrcyA9IGF3YWl0IHRoaXMuaG9va0dlbmVyYXRpb24oaW5mbywgXCJhZnRlcl9lYWNoXCIpO1xyXG4gICAgbGV0IGNsc0NvZGVCbG9jayA9IGBgO1xyXG4gICAgbGV0IGZ1bmN0Q29kZUJsb2NrID0gYGA7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgbGV0IGFmdGVyRWFjaEJsb2NrID0gYGA7XHJcblxyXG4gICAgLy8gR0VORVJBVEUgQ0xBU1MgQ09ERSBMSU5FXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVCbG9ja3MuY2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNsc0NvZGVCbG9jayArPSBjb2RlQmxvY2tzLmNsc1tpXTtcclxuICAgIH1cclxuICAgIC8vIEdFTkVSQVRFIEZVTkNUSU9OIENPREUgTElORVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlQmxvY2tzLmZ1bmN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZ1bmN0Q29kZUJsb2NrICs9IGNvZGVCbG9ja3MuZnVuY3RbaV07XHJcbiAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICBhZnRlckVhY2hCbG9jayA9IGBhZnRlckVhY2goYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICR7Y2xzQ29kZUJsb2NrfVxyXG4gICAgICAgIFxyXG4gICAgICAgICR7ZnVuY3RDb2RlQmxvY2t9XHJcbiAgICAgIH0pO2A7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhZnRlckVhY2hCbG9jayA9IGAvLyBhZnRlckVhY2goYXN5bmMgZnVuY3Rpb24gKCkge30pO2A7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbnRlbnRzID0gYFxcclxyXG4gICAgLy8gPT09PT09PSBBRlRFUl9FQUNIX0hPT0sgOiBTVEFSVCA9PT09PT09XHJcbiAgICAvKlxyXG4gICAgICAqIFRoaXMgaXMgQ09SRSBmdW5jdGlvbiB0byBiZSBwZXJmb3JtZWQgYWZ0ZXIgRUFDSCB0ZXN0IGluIGN1cnJlbnQgc3BlYy5cclxuICAgICAgKiBUaGlzIHNjcmlwdCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGV2ZXJ5IHRpbWUgdGhlcmUgaXMgYSBuZXcgdmVyc2lvbiByZWxlYXNlZC5cclxuICAgICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgICovXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vIHJ1bnMgYWZ0ZXIgZWFjaCB0ZXN0IGluIHRoaXMgYmxvY2tcclxuICAgICR7YWZ0ZXJFYWNoQmxvY2t9XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyA9PT09PT09IEFGVEVSX0VBQ0hfSE9PSyA6IEVORCA9PT09PT09XFxyYDtcclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIGEgbmV3IHByb2plY3RcclxuICAgKiBAcGFyYW0ge0FycmF5fSBzcGVjcyBsaXN0IG9mIHJ1bm5pbmcgc3BlYyBmaWxlIHBhdGhzXHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdFByb2plY3Qoc3BlY3MpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3BlY0ZpbGVQYXRoID0gc3BlY3NbaV07XHJcblxyXG4gICAgICBpZiAoc3BlY0ZpbGVQYXRoLmluY2x1ZGVzKGBpbml0LmpzYCkpIHtcclxuICAgICAgICBsZXQganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0ganNvbkRhdGEucHJvamVjdHM7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGNsaWVudElkIGluIHByb2plY3RzKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBwcm9qZWN0SWQgaW4gcHJvamVjdHNbY2xpZW50SWRdKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bXCJpbml0XCJdID09IFwidW5kZWZpbmVkXCIgfHxcclxuICAgICAgICAgICAgICBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtcImluaXRcIl0gIT0gXCJkb25lXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGJhc2VQYXRoID1cclxuICAgICAgICAgICAgICAgIHByb2Nlc3MuY3dkKCkgKyBgL3Rlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9YDtcclxuICAgICAgICAgICAgICBsZXQgZGF0YVBhdGggPSBiYXNlUGF0aCArIGAvZGF0YWA7XHJcbiAgICAgICAgICAgICAgbGV0IGZ1bGxwYWdlUGF0aCA9IGJhc2VQYXRoICsgYC9yZWNvcmQvZnVsbHBhZ2VgO1xyXG4gICAgICAgICAgICAgIGxldCBzY3JlZW5QYXRoID0gYmFzZVBhdGggKyBgL3JlY29yZC9zY3JlZW5gO1xyXG4gICAgICAgICAgICAgIGxldCBtb2JpbGVQYXRoID0gYmFzZVBhdGggKyBgL3JlY29yZC9tb2JpbGVgO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDUkVBVEUgRk9MREVSU1xyXG4gICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNyZWF0ZUZvbGRlcihkYXRhUGF0aCk7XHJcbiAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY3JlYXRlRm9sZGVyKGZ1bGxwYWdlUGF0aCk7XHJcbiAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY3JlYXRlRm9sZGVyKHNjcmVlblBhdGgpO1xyXG4gICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNyZWF0ZUZvbGRlcihtb2JpbGVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ09QWSBkYXRhLnhsc3hcclxuICAgICAgICAgICAgICBjb25zdCBleGNlbFBhdGggPSBgJHtkYXRhUGF0aH0vZGF0YS54bHN4YDtcclxuICAgICAgICAgICAgICBjb25zdCBkYXRhRXhpc3RpbmcgPSBhd2FpdCBkYXRhSGFuZGxlci5maWxlRXhpc3RzKGV4Y2VsUGF0aCk7XHJcbiAgICAgICAgICAgICAgaWYgKCFkYXRhRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNvcHlGaWxlKFwiLi91dGlscy9kYXRhX3RlbXBsYXRlLnhsc3hcIiwgZXhjZWxQYXRoKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENPUFkgY2FwYWJpbGl0aWVzX3RlbXBsYXRlLmpzb25cclxuICAgICAgICAgICAgICBjb25zdCBjYXBzUGF0aCA9IGAke2RhdGFQYXRofS9jYXBhYmlsaXRpZXMuanNvbmA7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2Fwc0V4aXN0aW5nID0gYXdhaXQgZGF0YUhhbmRsZXIuZmlsZUV4aXN0cyhjYXBzUGF0aCk7XHJcbiAgICAgICAgICAgICAgaWYgKCFjYXBzRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNvcHlGaWxlKFxyXG4gICAgICAgICAgICAgICAgICBcIi4vdXRpbHMvY2FwYWJpbGl0aWVzX3RlbXBsYXRlLmpzb25cIixcclxuICAgICAgICAgICAgICAgICAgY2Fwc1BhdGhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBDT1BZIHRlc3QtY2FzZXMueGxzeFxyXG4gICAgICAgICAgICAgIGNvbnN0IHRjUGF0aCA9IGAke2RhdGFQYXRofS90ZXN0LWNhc2VzLnhsc3hgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRjRXhpc3RpbmcgPSBhd2FpdCBkYXRhSGFuZGxlci5maWxlRXhpc3RzKHRjUGF0aCk7XHJcbiAgICAgICAgICAgICAgaWYgKCF0Y0V4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jb3B5RmlsZShcclxuICAgICAgICAgICAgICAgICAgXCIuL3V0aWxzL3Rlc3QtY2FzZXNfdGVtcGxhdGUueGxzeFwiLFxyXG4gICAgICAgICAgICAgICAgICB0Y1BhdGhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBDT1BZIHRlc3QtY2FzZXMuanNvblxyXG4gICAgICAgICAgICAgIGNvbnN0IHRjSnNvblBhdGggPSBgJHtkYXRhUGF0aH0vdGVzdC1jYXNlcy5qc29uYDtcclxuICAgICAgICAgICAgICBjb25zdCB0Y0pzb25FeGlzdGluZyA9IGF3YWl0IGRhdGFIYW5kbGVyLmZpbGVFeGlzdHModGNKc29uUGF0aCk7XHJcbiAgICAgICAgICAgICAgaWYgKCF0Y0pzb25FeGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY29weUZpbGUoXCIuL3V0aWxzL3Rlc3QtY2FzZXMuanNvblwiLCB0Y0pzb25QYXRoKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENPUFkgdGMyanNvbi5qc1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRjMmpzb25QYXRoID0gYCR7ZGF0YVBhdGh9L3RjMmpzb24uanNgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRjMmpzb25FeGlzdGluZyA9IGF3YWl0IGRhdGFIYW5kbGVyLmZpbGVFeGlzdHModGMyanNvblBhdGgpO1xyXG4gICAgICAgICAgICAgIGlmICghdGMyanNvbkV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jb3B5RmlsZShcIi4vdXRpbHMvdGMyanNvbi5qc1wiLCB0YzJqc29uUGF0aCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBERUxFVEUgQUxMIHJlYWRtZS50eHQgLSBVU0VEIEZPUiBSRUdFTkVSQVRJT05cclxuICAgICAgICAgICAgICBjb25zdCBmdWxscGFnZVJlYWRtZVBhdGggPSBgJHtmdWxscGFnZVBhdGh9L3JlYWRtZS50eHRgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjcmVlblJlYWRtZVBhdGggPSBgJHtzY3JlZW5QYXRofS9yZWFkbWUudHh0YDtcclxuICAgICAgICAgICAgICBjb25zdCBtb2JpbGVSZWFkbWVQYXRoID0gYCR7bW9iaWxlUGF0aH0vcmVhZG1lLnR4dGA7XHJcbiAgICAgICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIuZGVsZXRlRmlsZShmdWxscGFnZVJlYWRtZVBhdGgpO1xyXG4gICAgICAgICAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLmRlbGV0ZUZpbGUoc2NyZWVuUmVhZG1lUGF0aCk7XHJcbiAgICAgICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIuZGVsZXRlRmlsZShtb2JpbGVSZWFkbWVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ1JFQVRFIHJlYWRtZS50eHRcclxuICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jcmVhdGVGaWxlKFxyXG4gICAgICAgICAgICAgICAgZnVsbHBhZ2VSZWFkbWVQYXRoLFxyXG4gICAgICAgICAgICAgICAgYFB1dCB0aGUgcmVjb3JkcyBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIGZvbGRlcjpcclxuICAtIGZ1bGxwYWdlOiB0aGUgYmFzZWxpbmUgYW5kIGFjdHVhbCBhcmUgY2FwdHVyZWQgd2l0aCBmdWxsIHdlYiBwYWdlIGZyb20gdG9wIHRvIGJvdHRvbS5cclxuICAtIHNjcmVlbjogdGhlIGJhc2VsaW5lIGFuZCBhY3R1YWwgYXJlIGNhcHR1cmVzIHdpdGggdGhlIHNjcmVlbiBvZiBjdXJyZW50IHBvc2l0aW9uLlxyXG4gIC0gbW9iaWxlOiB1c2VkIGZvciBtb2JpbGUgaW1hZ2UgY29tcGFyaXNvbi5cclxuICAtIFJlY29yZCBmaWxlIG5hbWUgbXVzdCBiZSB1bmlxdWUgYW5kIGZvbGxvd2luZyB0aGlzIGZvcm1hdDogW3Byb2plY3RfaWRdLlt1c2VyX3N0b3J5X2lkXS1bY2FzZV9pZF1fW2xvY2FsaXphdGlvbl0uanNcclxuICAgICAgRXhhbXBsZTogJHtwcm9qZWN0SWR9LjAwMS1DMDAxX2VuLmpzXHJcbiAgICAgICAgICAgICAgICBcclxuSG93IHRvIHVzZSAke3Byb2plY3RJZH0uc3BlYy1nZW5lcmF0aW9uLmpzP1xyXG4gIC0gQ2hhbmdlIHRoZSBjb25maWcgXCJzcGVjX2dlbmVyYXRpb25cIiBpbiBkYXRhL2RhdGEueGxzeCB0byBcInllc1wiIGlmIHlvdSB3YW50IHRvIGVuYWJsZSBpdC5cclxuICAtIFVwZGF0ZSB0aGUgbGlzdCBvZiBwYWdlcyBpbiBkYXRhL2RhdGEueGxzeCBiZWZvcmUgZ2VuZXJhdGluZyB3aXRoOlxyXG4gICAgLSBwYWdlX2lkOiBpcyB1bmlxdWUgaWRcclxuICAgIC0gZG9tYWluOiB3ZWJzaXRlIGRvbWFpblxyXG4gICAgLSBoYW5kbGVyOiBwYXRoIHRvIHBhZ2VcclxuICAgIC0gc3RhdHVzOiBhY3RpdmUsIGRlYWN0aXZlLCBzdXBwb3J0IG9yIG1hbnVhbFxyXG4gICAgLSBmbG93OiB0aGUgaWQgdG8gbWF0Y2ggdG8geW91ciBmbG93IGluICR7cHJvamVjdElkfS5zcGVjLWdlbmVyYXRpb24uanNcclxuICAtIEVhY2ggc3BlYyBpcyBnZW5lcmF0ZWQgYmFzZWQgb24gdGhlIGZsb3dzIHdpdGggc3RydWN0dXJlIGJlbG93LiBEZXBlbmRpbmcgb24geW91ciBwdXJwb3NlLCB5b3UgY2FuIGRlZmluZSBmbGV4aWJsZSBjdXN0b20gcHJlU3RlcCBhbmQgYWRkU3RlcCBmb3IgZWFjaCBzcGVjLlxyXG4gICAgcHJlU3RlcFxyXG4gICAgYXdhaXQgYnJvd3Nlci51cmwobGluayk7XHJcbiAgICBhZGRTdGVwXHJcbiAgLSBLZWVwIHRoZSBmbG93IGlkIHRvIGJlIFwiMFwiIGlmIHlvdSB3YW50IHRvIGFwcGx5IGZvciBhbGwgcGFnZXMuXHJcbiAgLSBSZW1vdmUgc3BlYy1nZW5lcmF0aW9uIG91dCBvZiBleGNsdWRlZCBzcGVjIGluIHdkaW8uY29uZmlnYFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY29weUZpbGUoZnVsbHBhZ2VSZWFkbWVQYXRoLCBzY3JlZW5SZWFkbWVQYXRoKTtcclxuICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jb3B5RmlsZShmdWxscGFnZVJlYWRtZVBhdGgsIG1vYmlsZVJlYWRtZVBhdGgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDUkVBVEUgU1BFQyBHRU5FUkFUSU9OXHJcbiAgICAgICAgICAgICAgY29uc3Qgc3BlY0dlbmVyYXRpb25QYXRoID0gYCR7ZnVsbHBhZ2VQYXRofS8ke3Byb2plY3RJZH0uc3BlYy1nZW5lcmF0aW9uLmpzYDtcclxuICAgICAgICAgICAgICBjb25zdCBzcGVjR2VuZXJhdGlvbkV4aXN0aW5nID0gYXdhaXQgZGF0YUhhbmRsZXIuZmlsZUV4aXN0cyhcclxuICAgICAgICAgICAgICAgIHNwZWNHZW5lcmF0aW9uUGF0aFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgaWYgKCFzcGVjR2VuZXJhdGlvbkV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2VuZXJhdGlvbkNvbnRlbnQgPSBgZGVzY3JpYmUoXCJzcGVjLWdlbmVyYXRpb25cIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICBpdChcImdlbmVyYXRlIHNwZWMgZmlsZXNcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb3dzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZVN0ZXA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0ZXA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvdXRpbHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXRpbHMuc3BlY0dlbmVyYXRpb24odGhpcy50ZXN0LmZpbGUsIGZsb3dzLCAtMSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO2A7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ29udGVudCA9IHV0aWxzLmNvZGVNYWtlVXAoZ2VuZXJhdGlvbkNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY3JlYXRlRmlsZShzcGVjR2VuZXJhdGlvblBhdGgsIGdlbmVyYXRpb25Db250ZW50KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENSRUFURSAuZ2l0aWdub3JlXHJcbiAgICAgICAgICAgICAgY29uc3QgZ2l0SWdub3JlUGF0aCA9IGAke2Jhc2VQYXRofS8uZ2l0aWdub3JlYDtcclxuICAgICAgICAgICAgICBjb25zdCBnaXRJZ25vcmVFeGlzdGluZyA9IGF3YWl0IGRhdGFIYW5kbGVyLmZpbGVFeGlzdHMoXHJcbiAgICAgICAgICAgICAgICBnaXRJZ25vcmVQYXRoXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBpZiAoIWdpdElnbm9yZUV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jcmVhdGVGaWxlKGdpdElnbm9yZVBhdGgsIGBkYXRhL34kKmApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gVVBEQVRFIGRhdGEuanNvblxyXG4gICAgICAgICAgICAgIGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW1wiaW5pdFwiXSA9IFwiZG9uZVwiO1xyXG4gICAgICAgICAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLnVwZGF0ZURhdGFKc29uRmlsZShqc29uRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGVzdCBjYXNlcyBleGNlbCB0byBqc29uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNzIGxpc3Qgb2YgYWxsIHNwZWMgZmlsZSBwYXRoc1xyXG4gICAqL1xyXG4gIGFzeW5jIHRjMmpzb24oc3BlY3MpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3BlY0ZpbGVQYXRoID0gc3BlY3NbaV07XHJcbiAgICAgIGlmIChzcGVjRmlsZVBhdGguaW5jbHVkZXMoYHRjMmpzb24uanNgKSkge1xyXG4gICAgICAgIC8vIFJFQUQgRVhDRUwgREFUQVxyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKHNwZWNGaWxlUGF0aCk7XHJcbiAgICAgICAgY29uc3QgdGNQYXRoID0gYHRlc3Qvc3BlY3MvJHtpbmZvLmNsaWVudElkfS8ke2luZm8ucHJvamVjdElkfS9kYXRhL3Rlc3QtY2FzZXMueGxzeGA7XHJcbiAgICAgICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgICAgICBpbmZvLnByb2plY3RJZCxcclxuICAgICAgICAgIHRjUGF0aFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIENSRUFURSBKU09OXHJcbiAgICAgICAgbGV0IGpzb24gPSB7IGRhdGE6IFtdIH07XHJcbiAgICAgICAgbGV0IHRlc3RDYXNlID0geyB0ZXN0X2RhdGE6IHt9LCBzdGVwczogW10gfTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4Y2VsRGF0YVtcInRlc3RfY2FzZXNcIl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHJvdyA9IGV4Y2VsRGF0YVtcInRlc3RfY2FzZXNcIl1baV07XHJcbiAgICAgICAgICBjb25zdCBjYXNlSWQgPSByb3dbXCJjYXNlX2lkXCJdO1xyXG4gICAgICAgICAgY29uc3QgdXNlclR5cGUgPSByb3dbXCJ1c2VyX3R5cGVcIl07XHJcbiAgICAgICAgICBjb25zdCBmZWF0dXJlID0gcm93W1wiZmVhdHVyZVwiXTtcclxuICAgICAgICAgIGNvbnN0IGNhc2VOYW1lID0gcm93W1wiY2FzZVwiXTtcclxuICAgICAgICAgIGNvbnN0IGxvY2FsaXphdGlvbiA9IHJvd1tcImxvY2FsaXphdGlvblwiXTtcclxuICAgICAgICAgIGNvbnN0IGRlc2MgPSByb3dbXCJkZXNjcmlwdGlvblwiXTtcclxuICAgICAgICAgIGNvbnN0IHRlc3REYXRhID0gcm93W1widGVzdF9kYXRhXCJdO1xyXG4gICAgICAgICAgY29uc3Qgc3RlcHMgPSByb3dbXCJzdGVwc1wiXTtcclxuXHJcbiAgICAgICAgICAvLyBHRVQgQ0FTRSBJTkZPXHJcbiAgICAgICAgICBpZiAoIWNvbW1vbi5lbXB0eU9yVW5kZWZpbmVkKGNhc2VJZCkpIHtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJjYXNlX2lkXCJdID0gY2FzZUlkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZCh1c2VyVHlwZSkpIHtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJ1c2VyX3R5cGVcIl0gPSB1c2VyVHlwZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghY29tbW9uLmVtcHR5T3JVbmRlZmluZWQoZmVhdHVyZSkpIHtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJmZWF0dXJlXCJdID0gZmVhdHVyZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghY29tbW9uLmVtcHR5T3JVbmRlZmluZWQoY2FzZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRlc3RDYXNlW1wiY2FzZVwiXSA9IGNhc2VOYW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZChsb2NhbGl6YXRpb24pKSB7XHJcbiAgICAgICAgICAgIHRlc3RDYXNlW1wibG9jYWxpemF0aW9uXCJdID0gbG9jYWxpemF0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZChkZXNjKSkge1xyXG4gICAgICAgICAgICB0ZXN0Q2FzZVtcImRlc2NyaXB0aW9uXCJdID0gZGVzYztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBHRVQgVEVTVCBEQVRBXHJcbiAgICAgICAgICBpZiAoIWNvbW1vbi5lbXB0eU9yVW5kZWZpbmVkKHRlc3REYXRhKSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0ZXN0RGF0YS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRlc3REYXRhLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XHJcbiAgICAgICAgICAgIHRlc3RDYXNlW1widGVzdF9kYXRhXCJdW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBHRVQgU1RFUFNcclxuICAgICAgICAgIGlmICghY29tbW9uLmVtcHR5T3JVbmRlZmluZWQoc3RlcHMpKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGVwcy50b0xvd2VyQ2FzZSgpICE9IFwiW2VuZF1cIikge1xyXG4gICAgICAgICAgICAgIHRlc3RDYXNlW1wic3RlcHNcIl0ucHVzaChzdGVwcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gUFVTSCBUTyBKU09OXHJcbiAgICAgICAgICAgICAganNvbi5kYXRhLnB1c2godGVzdENhc2UpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBSRVNFVFxyXG4gICAgICAgICAgICAgIHRlc3RDYXNlID0geyB0ZXN0X2RhdGE6IHt9LCBzdGVwczogW10gfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU0FWRSBKU09OIFRPIHRlc3QtY2FzZXMuanNvblxyXG4gICAgICAgIGNvbnN0IGpzb25QYXRoID0gYHRlc3Qvc3BlY3MvJHtpbmZvLmNsaWVudElkfS8ke2luZm8ucHJvamVjdElkfS9kYXRhL3Rlc3QtY2FzZXMuanNvbmA7XHJcbiAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIudXBkYXRlRGF0YUpzb25GaWxlKGpzb24sIGpzb25QYXRoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGNvcmUgZnVudGlvbnMgaW50byBldmVyeSBzcGVjXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNwZWMgZmlsZSBzY3JpcHRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50TmFtZSBjbGllbnQgbmFtZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcmpOYW1lIHByb2plY3QgbmFtZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbkRhdGEgZ2xvYmFsIGpzb24gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgYWRkQ29yZUZyYW1ld29yayhjb250ZW50cywgY2xpZW50TmFtZSwgcHJqTmFtZSwgaW5mbywganNvbkRhdGEpIHtcclxuICAgIC8vIFJFTU9WRSBPTEQgQ09NTUVOVFNcclxuICAgIGNvbnN0IG9sZENvbW1lbnQgPSBgLy8gQllQQVNTIFBBR0UgQVVUSCAtLS0gRE9OJ1QgUkVNT1ZFIFRISVMgQ09NTUVOVGA7XHJcbiAgICBpZiAoY29udGVudHMuaW5jbHVkZXMob2xkQ29tbWVudCkpIHtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlQWxsKG9sZENvbW1lbnQsIFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJFTU9WRSBCRUZPUkUgSE9PSyBDT0RFIEJMT0NLXHJcbiAgICBjb25zdCBiZWZvcmVIb29rU3RhcnQgPSBgLy8gPT09PT09PSBCRUZPUkVfSE9PSyA6IFNUQVJUID09PT09PT1gO1xyXG4gICAgY29uc3QgYmVmb3JlSG9va0VuZCA9IGAvLyA9PT09PT09IEJFRk9SRV9IT09LIDogRU5EID09PT09PT1gO1xyXG4gICAgaWYgKGNvbnRlbnRzLmluY2x1ZGVzKGJlZm9yZUhvb2tTdGFydCkpIHtcclxuICAgICAgLy8gRlJPTSB2LjEuMC43XHJcbiAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjb250ZW50cy5pbmRleE9mKGJlZm9yZUhvb2tTdGFydCk7XHJcbiAgICAgIGNvbnN0IGVuZEluZGV4ID0gY29udGVudHMuaW5kZXhPZihiZWZvcmVIb29rRW5kKTtcclxuICAgICAgY29uc3QgY29kZUJsb2NrID0gY29udGVudHMuc3Vic3RyaW5nKFxyXG4gICAgICAgIHN0YXJ0SW5kZXgsXHJcbiAgICAgICAgZW5kSW5kZXggKyBiZWZvcmVIb29rRW5kLmxlbmd0aFxyXG4gICAgICApO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoY29kZUJsb2NrLCBcIlwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEJFRk9SRSB2MS4wLjdcclxuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYGJlZm9yZShhc3luYyBmdW5jdGlvbmApO1xyXG4gICAgICBjb25zdCBjb2RlQmxvY2sgPSB0aGlzLmdldEZ1bGxDb2RlQmxvY2soc3RhcnRJbmRleCwgY29udGVudHMpO1xyXG5cclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKGNvZGVCbG9jaywgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUkVNT1ZFIEFGVEVSIEVBQ0ggSE9PSyBDT0RFIEJMT0NLXHJcbiAgICBjb25zdCBhZnRlckVhY2hIb29rU3RhcnQgPSBgLy8gPT09PT09PSBBRlRFUl9FQUNIX0hPT0sgOiBTVEFSVCA9PT09PT09YDtcclxuICAgIGNvbnN0IGFmdGVyRWFjaEhvb2tFbmQgPSBgLy8gPT09PT09PSBBRlRFUl9FQUNIX0hPT0sgOiBFTkQgPT09PT09PWA7XHJcbiAgICBpZiAoY29udGVudHMuaW5jbHVkZXMoYWZ0ZXJFYWNoSG9va1N0YXJ0KSkge1xyXG4gICAgICAvLyBGUk9NIHYuMS4wLjdcclxuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYWZ0ZXJFYWNoSG9va1N0YXJ0KTtcclxuICAgICAgY29uc3QgZW5kSW5kZXggPSBjb250ZW50cy5pbmRleE9mKGFmdGVyRWFjaEhvb2tFbmQpO1xyXG4gICAgICBjb25zdCBjb2RlQmxvY2sgPSBjb250ZW50cy5zdWJzdHJpbmcoXHJcbiAgICAgICAgc3RhcnRJbmRleCxcclxuICAgICAgICBlbmRJbmRleCArIGFmdGVyRWFjaEhvb2tFbmQubGVuZ3RoXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnRlbnRzID0gY29udGVudHMucmVwbGFjZShjb2RlQmxvY2ssIFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJFTU9WRSBJTUcgQ09NUCBDT0RFIEJMT0NLXHJcbiAgICBjb25zdCBpbWdTdGFydCA9IGAvLyA9PT09PT09IElNR19DT01QIDogU1RBUlQgPT09PT09PWA7XHJcbiAgICBjb25zdCBpbWdFbmQgPSBgLy8gPT09PT09PSBJTUdfQ09NUCA6IEVORCA9PT09PT09YDtcclxuICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhpbWdTdGFydCkpIHtcclxuICAgICAgLy8gRlJPTSB2LjEuMC43XHJcbiAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjb250ZW50cy5pbmRleE9mKGltZ1N0YXJ0KTtcclxuICAgICAgY29uc3QgZW5kSW5kZXggPSBjb250ZW50cy5pbmRleE9mKGltZ0VuZCk7XHJcbiAgICAgIGNvbnN0IGNvZGVCbG9jayA9IGNvbnRlbnRzLnN1YnN0cmluZyhcclxuICAgICAgICBzdGFydEluZGV4LFxyXG4gICAgICAgIGVuZEluZGV4ICsgaW1nRW5kLmxlbmd0aFxyXG4gICAgICApO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoY29kZUJsb2NrLCBcIlwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEJFRk9SRSB2MS4wLjdcclxuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYGl0KFwiaW1hZ2UgY29tcGFyaXNvbmApO1xyXG4gICAgICBjb25zdCBjb2RlQmxvY2sgPSB0aGlzLmdldEZ1bGxDb2RlQmxvY2soc3RhcnRJbmRleCwgY29udGVudHMpO1xyXG5cclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKGNvZGVCbG9jaywgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR0VORVJBVEUgQ09SRSBGUkFNRVdPUktcclxuICAgIC8vIDEuIE1BS0UgVVAgQ09ERVxyXG4gICAgY29udGVudHMgPSB1dGlscy5jb2RlTWFrZVVwKGNvbnRlbnRzKTtcclxuXHJcbiAgICAvLyAyLiBJREVOVElGWSBUSEUgUE9TSVRJT04gVE8gQUREIENPREUgQkxPQ0tTXHJcbiAgICBjb25zdCBjYXBUeXBlID0gY29tbW9uLmNhcGl0YWxpemUoaW5mby5jYXB0dXJlVHlwZSk7XHJcbiAgICBsZXQgc3BlY1RpdGxlQ29kZSA9IGBkZXNjcmliZShcIiR7cHJqTmFtZX0gOjogJHtjYXBUeXBlfVwiLCBhc3luYyBmdW5jdGlvbigpIHtgO1xyXG4gICAgbGV0IHNwZWNUaXRsZUluZGV4ID0gY29udGVudHMuaW5kZXhPZihzcGVjVGl0bGVDb2RlKTtcclxuXHJcbiAgICAvLyAzLiBSRVZJU0UgSUYgRkFDSU5HIFdST05HIEZPUk1BVCBDT0RFXHJcbiAgICBpZiAoc3BlY1RpdGxlSW5kZXggPCAwKSB7XHJcbiAgICAgIHNwZWNUaXRsZUNvZGUgPSBgZGVzY3JpYmUoXCIke3Byak5hbWV9IDo6ICR7Y2FwVHlwZX1cIiwgYXN5bmMgZnVuY3Rpb24gKCkge2A7XHJcbiAgICAgIHNwZWNUaXRsZUluZGV4ID0gY29udGVudHMuaW5kZXhPZihzcGVjVGl0bGVDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA0LiBBREQgQUZURVIgRUFDSCBIT09LIENPREUgQkxPQ0tcclxuICAgIGlmIChzcGVjVGl0bGVJbmRleCA+PSAwKSB7XHJcbiAgICAgIGNvbnN0IGFmdGVyRWFjaEhvb2tDb2RlQmxvY2sgPSBhd2FpdCB0aGlzLmluc2VydEFmdGVyRWFjaEhvb2tTcGVjKGluZm8pO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoXHJcbiAgICAgICAgc3BlY1RpdGxlQ29kZSxcclxuICAgICAgICBzcGVjVGl0bGVDb2RlICsgYWZ0ZXJFYWNoSG9va0NvZGVCbG9ja1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDUuIEFERCBCRUZPUkUgSE9PSyBDT0RFIEJMT0NLXHJcbiAgICBpZiAoc3BlY1RpdGxlSW5kZXggPj0gMCkge1xyXG4gICAgICBjb25zdCBiZWZvcmVIb29rQ29kZUJsb2NrID0gYXdhaXQgdGhpcy5pbnNlcnRCZWZvcmVIb29rU3BlYyhpbmZvKTtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKFxyXG4gICAgICAgIHNwZWNUaXRsZUNvZGUsXHJcbiAgICAgICAgc3BlY1RpdGxlQ29kZSArIGJlZm9yZUhvb2tDb2RlQmxvY2tcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA2LiBBREQgSU1BR0UgQ09NUEFSSVNPTiBDT0RFIEJMT0NLXHJcbiAgICB2YXIgY291bnQgPSB1dGlscy5nZXRJbmRpY2VzT2YoXCJ9KTtcIiwgY29udGVudHMuc2xpY2UoLTEyKSkubGVuZ3RoO1xyXG4gICAgaWYgKGNvdW50ID09IDIpIHtcclxuICAgICAgdmFyIGxhc3RMaW5lSW5kZXggPSBjb250ZW50cy5sYXN0SW5kZXhPZihcIn0pO1wiKTtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5zdWJzdHJpbmcoMCwgbGFzdExpbmVJbmRleCk7XHJcbiAgICB9XHJcbiAgICBjb250ZW50cyArPSBhd2FpdCB0aGlzLmluc2VydEltYWdlQ29tcGFyaXNvbkNvZGUoaW5mbywganNvbkRhdGEudmVyc2lvbik7XHJcbiAgICBjb250ZW50cyArPSBgXFxyfSk7YDtcclxuXHJcbiAgICAvLyA3LiBNQUtFIFVQIENPREVcclxuICAgIGNvbnRlbnRzID0gdXRpbHMuY29kZU1ha2VVcChjb250ZW50cyk7XHJcblxyXG4gICAgLy8gOC4gUkVUVVJOXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggdGhlIGNvZGUgYmxvY2sgYnkgZ28gdW50aWwgZm91bmQgZW5kIG9mIGJsb2NrXHJcbiAgICogQHBhcmFtIHtJbnR9IGluZGV4IHN0YXJ0IGluZGV4XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgc3RyaW5nIGlzIHVzZWQgZm9yIHNlYXJjaGluZ1xyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0Q29kZUJsb2NrKGluZGV4LCB0ZXh0LCBlbmQgPSBcIn0pO1wiKSB7XHJcbiAgICBsZXQgY29uZGl0aW9uID0gdHJ1ZTtcclxuICAgIGxldCBuZXh0ID0gaW5kZXggKyAxO1xyXG4gICAgbGV0IHRtcFN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgd2hpbGUgKGNvbmRpdGlvbikge1xyXG4gICAgICB0bXBTdHJpbmcgPSB0ZXh0LnN1YnN0cmluZyhpbmRleCwgbmV4dCk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0bXBTdHJpbmcuaW5jbHVkZXMoZW5kKSB8fFxyXG4gICAgICAgIHRtcFN0cmluZyA9PSBcIlwiIHx8XHJcbiAgICAgICAgdG1wU3RyaW5nLmxlbmd0aCA+PSB0ZXh0Lmxlbmd0aFxyXG4gICAgICApIHtcclxuICAgICAgICBjb25kaXRpb24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBuZXh0Kys7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRtcFN0cmluZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhbWUgYXMgZ2V0Q29kZUJsb2NrIGJ1dCBlbnN1cmUgdGhlIGZ1bGwgZnVuY3Rpb24gaXMgcmV0dXJuZWRcclxuICAgKiBAcGFyYW0ge0ludH0gaW5kZXggc3RhcnQgaW5kZXhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBjb250ZW50cyB0byBiZSBzZWFyY2hlZCBmb3JcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kIGVuZCBzaWduYWxcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldEZ1bGxDb2RlQmxvY2soaW5kZXgsIHRleHQsIGVuZCA9IFwifSk7XCIpIHtcclxuICAgIGxldCBjb25kaXRpb24gPSB0cnVlO1xyXG4gICAgbGV0IG5leHQgPSBpbmRleCArIDE7XHJcbiAgICBsZXQgdG1wU3RyaW5nID0gXCJcIjtcclxuICAgIGxldCBvcGVuQnJhY2tldCA9IDA7XHJcbiAgICBsZXQgY2xvc2VCcmFja2V0ID0gMDtcclxuXHJcbiAgICB3aGlsZSAoY29uZGl0aW9uKSB7XHJcbiAgICAgIC8vIEdPIFRPIEVBQ0ggQ0hBUkFDVEVSXHJcbiAgICAgIHRtcFN0cmluZyA9IHRleHQuc3Vic3RyaW5nKGluZGV4LCBuZXh0KTtcclxuXHJcbiAgICAgIC8vIElGIExBU1QgQ0hBUkFDVEVSIElTIFwie1wiXHJcbiAgICAgIGlmICh0bXBTdHJpbmcuc2xpY2UoLTEpID09IFwie1wiKSBvcGVuQnJhY2tldCsrO1xyXG4gICAgICAvLyBJRiBMQVNUIENIQVJBQ1RFUiBJUyBcIn1cIlxyXG4gICAgICBpZiAodG1wU3RyaW5nLnNsaWNlKC0xKSA9PSBcIn1cIikgY2xvc2VCcmFja2V0Kys7XHJcblxyXG4gICAgICAvLyBTVE9QIEZJTkRJTkdcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRtcFN0cmluZy5sZW5ndGggPj0gdGV4dC5sZW5ndGggfHxcclxuICAgICAgICAoKHRtcFN0cmluZy5zbGljZSgtMykuaW5jbHVkZXMoZW5kKSB8fCB0bXBTdHJpbmcgPT0gXCJcIikgJiZcclxuICAgICAgICAgIG9wZW5CcmFja2V0ID09IGNsb3NlQnJhY2tldClcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uZGl0aW9uID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgbmV4dCsrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0bXBTdHJpbmc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYXN5bmMgYmVmb3JlIGZ1bmN0aW9uIGlmIG5vdCBleGlzdGluZ1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBmaWxlIGNvbnRlbnRzXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhZGRBc3luYzJGdW5jKGNvbnRlbnRzKSB7XHJcbiAgICBsZXQgaW5kZXhlcyA9IHV0aWxzLmdldEluZGljZXNPZihgZnVuY3Rpb25gLCBjb250ZW50cywgZmFsc2UpO1xyXG4gICAgY29uc3QgZnVuY1RleHQgPSBgZnVuY3Rpb25gO1xyXG4gICAgY29uc3QgYXN5bmNUZXh0ID0gYGFzeW5jYDtcclxuICAgIGZvciAobGV0IGkgPSBpbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGNvbnN0IHRleHQgPSBjb250ZW50cy5zdWJzdHJpbmcoXHJcbiAgICAgICAgaW5kZXhlc1tpXSxcclxuICAgICAgICBpbmRleGVzW2ldIC0gYXN5bmNUZXh0Lmxlbmd0aCAtIDFcclxuICAgICAgKTtcclxuICAgICAgaWYgKCF0ZXh0LnRyaW0oKS5pbmNsdWRlcyhhc3luY1RleHQpKSB7XHJcbiAgICAgICAgY29udGVudHMgPVxyXG4gICAgICAgICAgY29udGVudHMuc2xpY2UoMCwgaW5kZXhlc1tpXSkgK1xyXG4gICAgICAgICAgYXN5bmNUZXh0ICtcclxuICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgIGNvbnRlbnRzLnNsaWNlKGluZGV4ZXNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbnRlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRml4IGFuZCB1cGRhdGUgdGhlIHRpdGxlIG9mIHNwZWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgc3BlYyBmaWxlIHNjcmlwdFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnROYW1lIGNsaWVudCBuYW1lXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByak5hbWUgcHJvamVjdCBuYW1lXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICB1cGRhdGVTcGVjVGl0bGUoY29udGVudHMsIHByak5hbWUsIGNhcHR1cmVUeXBlKSB7XHJcbiAgICBsZXQgaW5kZXhlcyA9IHV0aWxzLmdldEluZGljZXNPZihgZGVzY3JpYmUoYCwgY29udGVudHMsIGZhbHNlKTtcclxuICAgIGZvciAobGV0IGkgPSBpbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGxldCB0ZXh0ID0gdGhpcy5nZXRDb2RlQmxvY2soaW5kZXhlc1tpXSwgY29udGVudHMsIFwiLFwiKTtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKFxyXG4gICAgICAgIHRleHQsXHJcbiAgICAgICAgYGRlc2NyaWJlKFwiJHtwcmpOYW1lfSA6OiAke2NvbW1vbi5jYXBpdGFsaXplKGNhcHR1cmVUeXBlKX1cIiwgYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpeCBhbmQgdXBkYXRlIHRlc3QgY2FzZSB0aXRsZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBzcGVjIGZpbGUgc2NyaXB0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNhc2VJZCB0ZXN0IGNhc2UgaWRcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNhc2VUaXRsZShjb250ZW50cywgY2FzZUlkKSB7XHJcbiAgICBsZXQgaW5kZXhlcyA9IHV0aWxzLmdldEluZGljZXNPZihgaXQoYCwgY29udGVudHMsIGZhbHNlKTtcclxuICAgIGZvciAobGV0IGkgPSBpbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGxldCB0ZXh0ID0gdGhpcy5nZXRDb2RlQmxvY2soaW5kZXhlc1tpXSwgY29udGVudHMsIFwiLFwiKTtcclxuICAgICAgaWYgKCF0ZXh0LmluY2x1ZGVzKGBpbWFnZSBjb21wYXJpc29uYCkpXHJcbiAgICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKHRleHQsIGBpdChcInJlY29yZGVyIDo6ICR7Y2FzZUlkfVwiLCBgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBhbmQgY29udmVydCB1bnN1cHBvcnQgY29tbWFuZHMgaW50byBXRElPIGNvbW1hbmRzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNwZWMgZmlsZSBzY3JpcHRcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNvbW1hbmQoY29udGVudHMpIHtcclxuICAgIGxldCBpbmRleGVzID0gdXRpbHMuZ2V0SW5kaWNlc09mKFxyXG4gICAgICBgLy8gV0FSTklORzogdW5zdXBwb3J0ZWQgY29tbWFuZGAsXHJcbiAgICAgIGNvbnRlbnRzLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICAgIGZvciAobGV0IGkgPSBpbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGxldCB0ZXh0ID0gdGhpcy5nZXRDb2RlQmxvY2soaW5kZXhlc1tpXSwgY29udGVudHMsIFwifVwiKTtcclxuICAgICAgbGV0IG5ld1RleHQgPSB0aGlzLmNvbnZlcnRDb21tYW5kKHRleHQpO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UodGV4dCwgbmV3VGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbnRlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgaG9vayBmdW5jdGlvbnMgZm9yIGVhY2ggc3BlY1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaG9va1R5cGUgdHlwZSBvZiBIb29rIGRlZmluZWQgaW4gZXhjZWwgZGF0YVxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgaG9va0dlbmVyYXRpb24oaW5mbywgaG9va1R5cGUpIHtcclxuICAgIGNvbnN0IGNsaWVudElkID0gaW5mby5jbGllbnRJZDtcclxuICAgIGNvbnN0IHByb2plY3RJZCA9IGluZm8ucHJvamVjdElkO1xyXG4gICAgY29uc3Qgc3BlY0lkID0gaW5mby5zcGVjSWQ7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBjbGllbnRJZCxcclxuICAgICAgcHJvamVjdElkXHJcbiAgICApO1xyXG4gICAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgY29uc3QgY3B0T3B0RGF0YSA9IGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW1wiY3B0X29wdFwiXTtcclxuICAgIGxldCBjb2RlQmxvY2tzID0geyBjbHM6IFtdLCBmdW5jdDogW10gfTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4Y2VsRGF0YVtcImhvb2tcIl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm93ID0gZXhjZWxEYXRhW1wiaG9va1wiXVtpXTtcclxuICAgICAgY29uc3QgdHlwZSA9IHJvd1tcInR5cGVcIl07XHJcbiAgICAgIGNvbnN0IGNscyA9IHJvd1tcImNsYXNzXCJdO1xyXG4gICAgICBjb25zdCBmdW5jdCA9IHJvd1tcImZ1bmN0aW9uXCJdO1xyXG4gICAgICBjb25zdCBzdGF0dXMgPSByb3dbXCJzdGF0dXNcIl07XHJcbiAgICAgIGxldCBzY3JpcHQgPSBgYDtcclxuXHJcbiAgICAgIGlmIChob29rVHlwZSA9PSB0eXBlKSB7XHJcbiAgICAgICAgLy8gSU1QT1JUIENMQVNTXHJcbiAgICAgICAgc3dpdGNoIChjbHMpIHtcclxuICAgICAgICAgIGNhc2UgXCJ1dGlsc1wiOlxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmNscy5wdXNoKFxyXG4gICAgICAgICAgICAgIGBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xccmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiaG9va1wiOlxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmNscy5wdXNoKFxyXG4gICAgICAgICAgICAgIGBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL2xpYi9ob29rXCIpO1xccmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiYWxsdXJlXCI6XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuY2xzLnB1c2goXHJcbiAgICAgICAgICAgICAgYGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2FsbHVyZVwiKTtcXHJgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImRhdGFfaGFuZGxlclwiOlxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmNscy5wdXNoKFxyXG4gICAgICAgICAgICAgIGBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL2xpYi9kYXRhX2hhbmRsZXJcIik7XFxyYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJqaXJhXCI6XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuY2xzLnB1c2goXHJcbiAgICAgICAgICAgICAgYGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2ppcmFcIik7XFxyYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElNUE9SVCBGVU5DVElPTlxyXG4gICAgICAgIHN3aXRjaCAoZnVuY3QpIHtcclxuICAgICAgICAgIGNhc2UgXCJwYWdlQXV0aFwiOlxyXG4gICAgICAgICAgICBzY3JpcHQgPSBgYXdhaXQgdXRpbHMucGFnZUF1dGgoXCIke2NsaWVudElkfVwiLCBcIiR7cHJvamVjdElkfVwiKTtcXHJgO1xyXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09IFwiaW5hY3RpdmVcIikge1xyXG4gICAgICAgICAgICAgIHNjcmlwdCA9IGAvLyBhd2FpdCB1dGlscy5wYWdlQXV0aChcIiR7Y2xpZW50SWR9XCIsIFwiJHtwcm9qZWN0SWR9XCIpO1xccmA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5mdW5jdC5wdXNoKGAvLyBDT1JFICgke3N0YXR1c30pIDo6IEJZUEFTUyBQQUdFIEFVVEhcclxuICAgICAgICAgICAgJHtzY3JpcHR9XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJjaGVja1ZhbGlkQ2Fwc1wiOlxyXG4gICAgICAgICAgICBzY3JpcHQgPSBgbGV0IHZhbGlkID0gYXdhaXQgdXRpbHMuY2hlY2tWYWxpZENhcHMoKTtcclxuICAgICAgICAgICAgaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICAgICAgICAgICAgLy8gaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcbiAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0XHJcbiAgICAgICAgICAgICAgLnB1c2goYC8vIENPUkUgKCR7c3RhdHVzfSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgICAgICAgICAgJHtzY3JpcHR9XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJpbWdDb21wYXJlXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBhd2FpdCB1dGlscy5pbWdDb21wYXJlKFwiJHtwcm9qZWN0SWR9XCIsIFwiJHtzcGVjSWR9XCIpO2A7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGF3YWl0IHV0aWxzLmltZ0NvbXBhcmUoXCIke3Byb2plY3RJZH1cIiwgXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0LnB1c2goYFxcclxyXG4gICAgICAgICAgICAvLyBDT1JFICgke3N0YXR1c30pIDo6IElNRyBDT01QQVJJU09OIFNURVBcclxuICAgICAgICAgICAgJHtzY3JpcHR9XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJhZGRDYXB0dXJlT3B0c1wiOlxyXG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlT3B0cyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldENhcHR1cmVPcHRzKFxyXG4gICAgICAgICAgICAgIGNsaWVudElkLFxyXG4gICAgICAgICAgICAgIHByb2plY3RJZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsZXQgcGxhdGZvcm0gPSBcIndlYlwiO1xyXG4gICAgICAgICAgICBpZiAoaW5mby5jYXB0dXJlVHlwZSA9PSBcIm1vYmlsZVwiKSBwbGF0Zm9ybSA9IGluZm8uY2FwdHVyZVR5cGU7XHJcblxyXG4gICAgICAgICAgICBzY3JpcHQgPSBgXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDdXN0b20gY2FwdHVyZSBvcHRzLiBVbmNvbW1lbnQgYW5kIGNoYW5nZSB0aGUgdmFsdWUgdG8gdXNlIGl0LlxyXG4gICAgICAgICAgICAgKiBUaGUgZ2xvYmFsIGNvbmZpZyBpcyBzZXQgaW4gZGF0YS54bHN4IGFuZCBpcyBhcHBsaWVkIGJ5IGRlZmF1bHQgZm9yIGFsbCBzcGVjcy5cclxuICAgICAgICAgICAgICogTm90ZTogdGhlc2UgY29uZmlnIG1heSBiZSByZXBsYWNlZCBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvbiBvZiBVdGlscyBsaWIgcmVsZWFzZWQuXHJcbiAgICAgICAgICAgICAqL1xcclxccmA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjYXB0dXJlT3B0c1twbGF0Zm9ybV0pIHtcclxuICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBjYXB0dXJlT3B0c1twbGF0Zm9ybV1ba2V5XTtcclxuICAgICAgICAgICAgICBpZiAoa2V5ICE9IFwiYmFzZWxpbmVGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ0hFQ0sgSlNPTiBEQVRBXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNwdE9wdERhdGEgIT0gXCJ1bmRlZmluZWRcIiAmJiBjcHRPcHREYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcHRPcHREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNwdE9wdERhdGFbaV1bXCJpZFwiXSA9PSBzcGVjSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3B0T3B0RGF0YVtpXS52YWx1ZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGNwdE9wdERhdGFbaV0udmFsdWVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5rZXkgPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5hYmxlZCA9ICFvLmVuYWJsZWQgPyBcIi8vIFwiIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQgKz0gYFxcdCR7ZW5hYmxlZH1hd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIiR7c3BlY0lkfVwiLCBcIiR7a2V5fVwiLCAke28uYXJnLnZhbHVlfSwgXCIke28uYXJnLnR5cGV9XCIpO1xccmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENIRUNLIEdMT0JBTCBTVEFUVVNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIke3NwZWNJZH1cIiwgXCIke2tleX1cIixgO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JpcHQuaW5jbHVkZXMoc2VhcmNoVGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQgKz0gYFxcdC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiJHtzcGVjSWR9XCIsIFwiJHtrZXl9XCIsICR7dmFsdWV9LCBcIiR7cGxhdGZvcm19XCIpO1xccmA7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0ICs9IGBcXHRhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIiR7c3BlY0lkfVwiLCBcIiR7a2V5fVwiLCAke3ZhbHVlfSwgXCIke3BsYXRmb3JtfVwiKTtcXHJgO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuZnVuY3QucHVzaChzY3JpcHQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJjaGVja0ZpcmVXYWxsXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiJHtzcGVjSWR9XCIpO2A7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGF3YWl0IHV0aWxzLmNoZWNrRmlyZVdhbGwoXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0LnB1c2goYFxcclxyXG4gICAgICAgICAgICAgIC8vIENPUkUgKCR7c3RhdHVzfSkgOjogQ0hFQ0sgRklSRVdBTExcclxuICAgICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImxvY2FsaXplXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBnbG9iYWwubG9jYWxpemF0aW9uID0gYXdhaXQgdXRpbHMuZ2V0TG9jYWxpemF0aW9uKFwiJHtzcGVjSWR9XCIpO2A7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGAgKyBzY3JpcHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5mdW5jdFxyXG4gICAgICAgICAgICAgIC5wdXNoKGBcXHIvLyBDT1JFICgke3N0YXR1c30pIDo6IEdFVCBMT0NBTElaQVRJT04gRlJPTSBTUEVDIElEXHJcbiAgICAgICAgICAgICAgJHtzY3JpcHR9XHJcbiAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImR5bmFtaWNCYXNlVXJsXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBnbG9iYWwuZHluYW1pY0Jhc2VVcmwgPSBhd2FpdCB1dGlscy5nZXREeW5hbWljVXJsKFwiJHtzcGVjSWR9XCIpO2A7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGAgKyBzY3JpcHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5mdW5jdC5wdXNoKGBcXHIvLyBDT1JFICgke3N0YXR1c30pIDo6IEdFVCBEWU5BTUlDIEJBU0UgVVJMXHJcbiAgICAgICAgICAgICAgJHtzY3JpcHR9XHJcbiAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNsczogQXJyYXkuZnJvbShuZXcgU2V0KGNvZGVCbG9ja3MuY2xzKSksXHJcbiAgICAgIGZ1bmN0OiBBcnJheS5mcm9tKG5ldyBTZXQoY29kZUJsb2Nrcy5mdW5jdCkpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIHNwZWMgc3RhdHVzIGFuZCB1cGRhdGUgc3BlYyBmaWxlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjRmlsZVBhdGggc3BlYyBmaWxlIHBhdGhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgc3BlYyBmaWxlIGNvbnRlbnRzXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSB3cml0ZSB3cml0ZSBmaWxlIG9yIHJldHVybiBjb250ZW50c1xyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tTdGF0dXMoaW5mbywgc3BlY0ZpbGVQYXRoLCBjb250ZW50cywgd3JpdGUgPSB0cnVlKSB7XHJcbiAgICAvLyBzdGF0dXM6IFwiYWN0aXZlIHwgbWFudWFsIHwgZGVhY3RpdmF0ZSB8IHN1cHBvcnRcIlxyXG5cclxuICAgIGNvbnN0IGNhc2VJZCA9IGluZm8uY2FzZUlkO1xyXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IHNraXBDb21tZW50ID0gYC8qID09PT09PT0gU0tJUFBFRCA9PT09PT09YDtcclxuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjb250ZW50cy5pbmRleE9mKGBpdChcInJlY29yZGVyIDo6ICR7Y2FzZUlkfVwiLGApO1xyXG4gICAgY29uc3QgY29kZUJsb2NrID0gdGhpcy5nZXRGdWxsQ29kZUJsb2NrKHN0YXJ0SW5kZXgsIGNvbnRlbnRzKTtcclxuICAgIGxldCBuZXdDb2RlQmxvY2sgPSBjb2RlQmxvY2s7XHJcbiAgICBjb25zdCBibG9ja1N0YXJ0SW5kZXggPSBuZXdDb2RlQmxvY2suaW5kZXhPZihgaXQoXCJyZWNvcmRlciA6OiAke2Nhc2VJZH1cIixgKTtcclxuICAgIGNvbnN0IGZpcnN0Q29kZUxpbmUgPSB0aGlzLmdldENvZGVCbG9jayhibG9ja1N0YXJ0SW5kZXgsIG5ld0NvZGVCbG9jaywgXCJ7XCIpO1xyXG5cclxuICAgIGlmIChpbmZvLnN0YXR1cyAhPSBcImFjdGl2ZVwiICYmICFjb2RlQmxvY2suaW5jbHVkZXMoc2tpcENvbW1lbnQpKSB7XHJcbiAgICAgIC8vIDEuIEFERCBTS0lQUEVEIE9QRU5cclxuICAgICAgbmV3Q29kZUJsb2NrID0gbmV3Q29kZUJsb2NrLnJlcGxhY2UoXHJcbiAgICAgICAgZmlyc3RDb2RlTGluZSxcclxuICAgICAgICBmaXJzdENvZGVMaW5lICsgYFxcciR7c2tpcENvbW1lbnR9YFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gMi4gQUREIFNLSVBQRUQgQ0xPU0VcclxuICAgICAgY29uc3QgY291bnQgPSB1dGlscy5nZXRJbmRpY2VzT2YoXCJ9KTtcIiwgY29kZUJsb2NrLnNsaWNlKC01KSkubGVuZ3RoO1xyXG4gICAgICBpZiAoY291bnQgPT0gMSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3RMaW5lSW5kZXggPSBuZXdDb2RlQmxvY2subGFzdEluZGV4T2YoXCJ9KTtcIik7XHJcbiAgICAgICAgbmV3Q29kZUJsb2NrID0gbmV3Q29kZUJsb2NrLnN1YnN0cmluZygwLCBsYXN0TGluZUluZGV4KTtcclxuICAgICAgICBuZXdDb2RlQmxvY2sgKz0gYCovXFxyfSk7YDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKGluZm8uc3RhdHVzID09IFwiYWN0aXZlXCIgJiYgY29kZUJsb2NrLmluY2x1ZGVzKHNraXBDb21tZW50KSkge1xyXG4gICAgICAvLyBSRU1PVkUgU0tJUFBFRCBPUEVOXHJcbiAgICAgIGNvbnN0IGxpbmVXaXRoQ29tbWVudCA9IHRoaXMuZ2V0Q29kZUJsb2NrKFxyXG4gICAgICAgIGJsb2NrU3RhcnRJbmRleCxcclxuICAgICAgICBuZXdDb2RlQmxvY2ssXHJcbiAgICAgICAgc2tpcENvbW1lbnRcclxuICAgICAgKTtcclxuICAgICAgbmV3Q29kZUJsb2NrID0gbmV3Q29kZUJsb2NrLnJlcGxhY2UobGluZVdpdGhDb21tZW50LCBmaXJzdENvZGVMaW5lKTtcclxuXHJcbiAgICAgIC8vIFJFTU9WRSBTS0lQUEVEIENMT1NFXHJcbiAgICAgIGNvbnN0IGxhc3RMaW5lID0gbmV3Q29kZUJsb2NrLnNsaWNlKC0xMCk7XHJcbiAgICAgIGxldCBuZXdMYXN0TGluZSA9IGxhc3RMaW5lO1xyXG4gICAgICBpZiAobmV3TGFzdExpbmUuaW5jbHVkZXMoYCovYCkpIHtcclxuICAgICAgICBuZXdMYXN0TGluZSA9IG5ld0xhc3RMaW5lXHJcbiAgICAgICAgICAucmVwbGFjZShgKi9gLCBcIlwiKVxyXG4gICAgICAgICAgLnJlcGxhY2UoYFxccmAsIFwiXCIpXHJcbiAgICAgICAgICAucmVwbGFjZShgXFxuYCwgXCJcIik7XHJcbiAgICAgICAgbmV3Q29kZUJsb2NrID0gbmV3Q29kZUJsb2NrLnJlcGxhY2UobGFzdExpbmUsIG5ld0xhc3RMaW5lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKGNvZGVCbG9jaywgbmV3Q29kZUJsb2NrKTtcclxuICAgICAgY29udGVudHMgPSB1dGlscy5jb2RlTWFrZVVwKGNvbnRlbnRzKTtcclxuICAgICAgaWYgKHdyaXRlKSB7XHJcbiAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIud3JpdGVTcGVjKHNwZWNGaWxlUGF0aCwgY29udGVudHMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbnRlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgY3VzdG9tIGNhcHR1cmUgb3B0aW9ucyBjb2RlIGJsb2NrIGFuZCB1cGRhdGUgSnNvbiBkYXRhXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBzcGVjIGNvbnRlbnRzXHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDYXB0dXJlT3B0cyhpbmZvLCBjb250ZW50cykge1xyXG4gICAgY29uc3QgYXJyT3B0cyA9IFtcclxuICAgICAgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIixcclxuICAgICAgXCJpZ25vcmVUcmFuc3BhcmVudFBpeGVsXCIsXHJcbiAgICAgIFwiaWdub3JlQW50aWFsaWFzaW5nXCIsXHJcbiAgICAgIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsXHJcbiAgICAgIFwibGFyZ2VJbWFnZVRocmVzaG9sZFwiLFxyXG4gICAgICBcImRpc2FibGVDU1NBbmltYXRpb25cIixcclxuICAgICAgXCJpZ25vcmVDb2xvcnNcIixcclxuICAgICAgXCJpZ25vcmVBbHBoYVwiLFxyXG4gICAgXTtcclxuICAgIGxldCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICB2YXIgZGF0YSA9IGpzb25EYXRhLnByb2plY3RzW2luZm8uY2xpZW50SWRdW2luZm8ucHJvamVjdElkXVtcImNwdF9vcHRcIl07XHJcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIGxldCBvcHRzID0ge1xyXG4gICAgICBpZDogaW5mby5zcGVjSWQsXHJcbiAgICAgIHZhbHVlczogW10sXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInVuZGVmaW5lZFwiIHx8IGRhdGEubGVuZ3RoIDw9IDApIHtcclxuICAgICAgZGF0YSA9IFtdO1xyXG4gICAgICBkYXRhLnB1c2gob3B0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJPcHRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGxldCBzZWFyY2hUZXh0ID0gYC8vYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIke2luZm8uc3BlY0lkfVwiLCBcIiR7YXJyT3B0c1tqXX1cIixgO1xyXG5cclxuICAgICAgLy8gVFJZIFRPIFNFQVJDSCBXSVRIIERFRkFVTFQgU0VBUkNIIFRFWFRcclxuICAgICAgaWYgKCFjb250ZW50cy5pbmNsdWRlcyhzZWFyY2hUZXh0KSkge1xyXG4gICAgICAgIHNlYXJjaFRleHQgPSBgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIke2luZm8uc3BlY0lkfVwiLCBcIiR7YXJyT3B0c1tqXX1cIixgO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSRU1PVkUgT1BUIEZST00gSlNPTlxyXG4gICAgICBpZiAoY29udGVudHMuaW5jbHVkZXMoc2VhcmNoVGV4dCkpIHtcclxuICAgICAgICAvLyBMT09QIERBVEFcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChkYXRhW2ldW1wiaWRcIl0gPT0gaW5mby5zcGVjSWQpIHtcclxuICAgICAgICAgICAgY29uc3QgdG1wQXJyID0gZGF0YVtpXS52YWx1ZXMuZmlsdGVyKFxyXG4gICAgICAgICAgICAgIChvYmopID0+ICEob2JqLmtleSA9PT0gYXJyT3B0c1tqXSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHRtcEFyci5sZW5ndGggIT0gZGF0YVtpXS52YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtpXS52YWx1ZXMgPSB0bXBBcnI7XHJcbiAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV1JJVEUgSlNPTlxyXG4gICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAganNvbkRhdGEucHJvamVjdHNbaW5mby5jbGllbnRJZF1baW5mby5wcm9qZWN0SWRdW1wiY3B0X29wdFwiXSA9IGRhdGE7XHJcbiAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLnVwZGF0ZURhdGFKc29uRmlsZShqc29uRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IGhv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","map":{"version":3,"names":["dataHandler","require","utils","common","hookCustom","constructor","mobile_compare_config","imageNameFormat","screenshotPath","savePerDevice","autoSaveBaseline","blockOutStatusBar","blockOutIphoneHomeBar","blockOutNavigationBar","web_compare_config","formatImageName","savePerInstance","blockOutToolBar","disableCSSAnimation","isHybridApp","allure_config","outputDir","disableWebdriverStepsReporting","disableWebdriverScreenshotsReporting","addConsoleLogs","issueLinkTemplate","disableMochaHooks","getMobileCompareConfig","generateMobileCompareConfig","specs","args","length","specFilePath","isNormalSpec","info","getInfoFromFilePath","baselineFolder","clientId","projectId","compareConfig","services","getWebCompareConfig","getAllureConfig","getSuites","allSuites","searchAllSuites","suites","i","suiteJson","readFileJSONSync","Object","assign","autoFixCode","excelData","getProjectDataExcel","jsonData","getGlobalDataJson","newVersion","version","contents","readFile","String","checkCaptureOpts","includes","checkStatus","clientName","prjName","addAsync2Func","updateSpecTitle","captureType","updateCaseTitle","caseId","updateCommand","addCoreFramework","codeMakeUp","writeSpec","autoBatchFixCode","pattern","from","to","allSpecs","searchAllSpecs","file","console","log","convertCommand","lineOfCode","objCommand","JSON","parse","substring","indexOf","replace","command","target","insertImageComparisonCode","codeBlocks","hookGeneration","clsCodeBlock","functCodeBlock","cls","funct","insertBeforeHookSpec","count","beforeBlock","insertAfterEachHookSpec","afterEachBlock","initProject","projects","basePath","process","cwd","dataPath","fullpagePath","screenPath","mobilePath","createFolder","excelPath","dataExisting","fileExists","copyFile","capsPath","capsExisting","tcPath","tcExisting","tcJsonPath","tcJsonExisting","tc2jsonPath","tc2jsonExisting","fullpageReadmePath","screenReadmePath","mobileReadmePath","deleteFile","createFile","specGenerationPath","specGenerationExisting","generationContent","gitIgnorePath","gitIgnoreExisting","updateDataJsonFile","tc2json","json","data","testCase","test_data","steps","row","userType","feature","caseName","localization","desc","testData","emptyOrUndefined","key","split","trim","value","toLowerCase","push","jsonPath","oldComment","replaceAll","beforeHookStart","beforeHookEnd","startIndex","endIndex","codeBlock","getFullCodeBlock","afterEachHookStart","afterEachHookEnd","imgStart","imgEnd","capType","capitalize","specTitleCode","specTitleIndex","afterEachHookCodeBlock","beforeHookCodeBlock","getIndicesOf","slice","lastLineIndex","lastIndexOf","getCodeBlock","index","text","end","condition","next","tmpString","openBracket","closeBracket","indexes","funcText","asyncText","newText","hookType","specId","cptOptData","type","status","script","captureOpts","getCaptureOpts","platform","j","values","o","enabled","arg","searchText","Array","Set","write","changed","skipComment","newCodeBlock","blockStartIndex","firstCodeLine","lineWithComment","lastLine","newLastLine","arrOpts","opts","id","tmpArr","filter","obj","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["hook.js"],"sourcesContent":["const dataHandler = require(\"./data_handler\");\r\nconst utils = require(\"./../utils\");\r\nconst common = require(\"./../common\");\r\n\r\nclass hookCustom {\r\n  constructor() {\r\n    this.mobile_compare_config = {\r\n      imageNameFormat: \"{tag}\",\r\n      screenshotPath: `.tmp/`,\r\n      savePerDevice: true,\r\n      autoSaveBaseline: true,\r\n      blockOutStatusBar: true,\r\n      blockOutIphoneHomeBar: true,\r\n      blockOutNavigationBar: true,\r\n      // baselineFolder: this.getMobileBaselineFolder(),\r\n    };\r\n    this.web_compare_config = {\r\n      formatImageName: \"{tag}\",\r\n      screenshotPath: `.tmp/`,\r\n      savePerInstance: true,\r\n      autoSaveBaseline: true,\r\n      blockOutStatusBar: true,\r\n      blockOutToolBar: true,\r\n      disableCSSAnimation: true,\r\n      // NOTE: When you are testing a hybrid app please use this setting\r\n      isHybridApp: false,\r\n    };\r\n    this.allure_config = {\r\n      outputDir: \"allure-results\",\r\n      disableWebdriverStepsReporting: true,\r\n      disableWebdriverScreenshotsReporting: true,\r\n      addConsoleLogs: true,\r\n      issueLinkTemplate: \"https://jira.sutrix.com/browse/{}\",\r\n      disableMochaHooks: true,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get mobile comparison config\r\n   * @returns {String}\r\n   */\r\n  getMobileCompareConfig() {\r\n    return this.mobile_compare_config;\r\n  }\r\n\r\n  /**\r\n   * Generate config for mobile image comparison\r\n   * @param {Array} specs list of all spec files\r\n   * @param {Object} args config will be merged into main config\r\n   */\r\n  async generateMobileCompareConfig(specs, args) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const baselineFolder = `./test/specs/${info.clientId}/${info.projectId}/baseline`;\r\n        let compareConfig = this.getMobileCompareConfig();\r\n\r\n        compareConfig.baselineFolder = baselineFolder;\r\n        args.services = [[\"native-app-compare\", compareConfig]];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get web comparison config\r\n   * @returns {String}\r\n   */\r\n  getWebCompareConfig() {\r\n    return this.web_compare_config;\r\n  }\r\n\r\n  /**\r\n   * Get allure config\r\n   * @returns {String}\r\n   */\r\n  getAllureConfig() {\r\n    return this.allure_config;\r\n  }\r\n\r\n  /**\r\n   * Get all suites from all projects and merged to config\r\n   * @returns {JSON}\r\n   */\r\n  getSuites() {\r\n    // 1. SEARCH ALL suites.json\r\n    const allSuites = dataHandler.searchAllSuites();\r\n\r\n    // 2. READ EACH JSON AND MERGE INTO ONE\r\n    let suites = {};\r\n    for (let i = 0; i < allSuites.length; i++) {\r\n      const suiteJson = dataHandler.readFileJSONSync(allSuites[i], \"utf8\");\r\n      suites = Object.assign({}, suites, suiteJson);\r\n    }\r\n\r\n    // 3. RETURN MERGED SUITES\r\n    return suites;\r\n  }\r\n\r\n  /**\r\n   * Auto fix spec code if it's not correct or latest version\r\n   * @param {Array} specs List of running spec file paths\r\n   */\r\n  async autoFixCode(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        // GET PROJECT DATA\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const excelData = await dataHandler.getProjectDataExcel(\r\n          info.clientId,\r\n          info.projectId\r\n        );\r\n        const jsonData = await dataHandler.getGlobalDataJson();\r\n        const newVersion = jsonData.version;\r\n\r\n        // READ FILE\r\n        let contents = await dataHandler.readFile(specFilePath, \"utf8\");\r\n        contents = String(contents);\r\n\r\n        // CHECK CAPTURE OPTS\r\n        await this.checkCaptureOpts(info, contents);\r\n\r\n        // SKIP IF LATEST VERSION\r\n        if (contents.includes(`image comparison ${newVersion}`)) {\r\n          // CHECK & UPDATE STATUS\r\n          await this.checkStatus(info, specFilePath, contents);\r\n\r\n          continue;\r\n        }\r\n\r\n        // GET COMMON INFO\r\n        let clientName = excelData[\"config\"][0][\"client\"];\r\n        let prjName = excelData[\"config\"][0][\"project\"];\r\n        if (clientName == \"\") clientName = info.clientId;\r\n        if (prjName == \"\") prjName = info.projectId;\r\n\r\n        // ADD ASYNC BEFORE FUNCTION\r\n        contents = this.addAsync2Func(contents);\r\n\r\n        // UPDATE SPEC TITLE\r\n        contents = this.updateSpecTitle(contents, prjName, info.captureType);\r\n\r\n        // UPDATE CASE TITLE\r\n        contents = this.updateCaseTitle(contents, info.caseId);\r\n\r\n        // CONVERT COMMANDS\r\n        contents = this.updateCommand(contents);\r\n\r\n        // GENERATE CORE FRAMEWORK\r\n        contents = await this.addCoreFramework(\r\n          contents,\r\n          clientName,\r\n          prjName,\r\n          info,\r\n          jsonData\r\n        );\r\n\r\n        // WRITE CONTENTS BACK TO FILE\r\n        if (contents != \"\") {\r\n          // MAKE UP CODE\r\n          contents = utils.codeMakeUp(contents);\r\n\r\n          // CHECK & UPDATE STATUS\r\n          contents = await this.checkStatus(\r\n            info,\r\n            specFilePath,\r\n            contents,\r\n            false\r\n          );\r\n\r\n          await dataHandler.writeSpec(specFilePath, contents);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Auto update spec script based on new change\r\n   * @param {Array} specs list of all running spec files\r\n   * @param {String} pattern filter pattern\r\n   * @param {Int} from start index\r\n   * @param {Int} to end index\r\n   */\r\n  async autoBatchFixCode(specs, pattern = \"\", from = 0, to = 0) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        // SEARCH JS FILES\r\n        const allSpecs = await dataHandler.searchAllSpecs(pattern);\r\n\r\n        // GET GLOBAL DATA JSON\r\n        const jsonData = await dataHandler.getGlobalDataJson();\r\n        const newVersion = jsonData.version;\r\n\r\n        if (to == 0) to = allSpecs.length;\r\n        for (let i = from; i < to; i++) {\r\n          const file = allSpecs[i];\r\n\r\n          if (common.isNormalSpec(file)) {\r\n            // GET PROJECT DATA\r\n            const info = await dataHandler.getInfoFromFilePath(file);\r\n            const excelData = await dataHandler.getProjectDataExcel(\r\n              info.clientId,\r\n              info.projectId\r\n            );\r\n\r\n            // GET COMMON INFO\r\n            let clientName = excelData[\"config\"][0][\"client\"];\r\n            let prjName = excelData[\"config\"][0][\"project\"];\r\n            if (clientName == \"\") clientName = info.clientId;\r\n            if (prjName == \"\") prjName = info.projectId;\r\n\r\n            // READ FILE\r\n            let contents = await dataHandler.readFile(file, \"utf8\");\r\n            contents = String(contents);\r\n\r\n            // SKIP IF LATEST VERSION\r\n            if (contents.includes(`image comparison ${newVersion}`)) continue;\r\n\r\n            // LOG FILE PATH OUT\r\n            console.log(file);\r\n\r\n            // ADD CORE FRAMEWORK\r\n            contents = await this.addCoreFramework(\r\n              contents,\r\n              clientName,\r\n              prjName,\r\n              info,\r\n              jsonData\r\n            );\r\n\r\n            // WRITE CONTENTS BACK TO FILE\r\n            if (contents != \"\") {\r\n              // MAKE UP CODE\r\n              contents = utils.codeMakeUp(contents);\r\n\r\n              await dataHandler.writeSpec(file, contents);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert unsupported commands exported from recorder tool to usable script in wdio\r\n   * @param {String} lineOfCode line of code\r\n   * @returns {String}\r\n   */\r\n  convertCommand(lineOfCode) {\r\n    // WARNING: unsupported command runScript. Object= {\"command\":\"runScript\",\"target\":\"document.querySelector(\\\"#main > section.certified-partner > div > div > div.col-md-8.col-lg-7 > div.content\\\").scrollIntoView()\",\"value\":\"\"}\r\n    // WARNING: unsupported command deleteCookie. Object= {\"command\":\"deleteCookie\",\"target\":\"\",\"value\":\"\"}\r\n    // WARNING: unsupported command deleteAllVisibleCookies. Object= {\"command\":\"deleteAllVisibleCookies\",\"target\":\"\",\"value\":\"\"}\r\n    var objCommand = JSON.parse(\r\n      lineOfCode\r\n        .substring(lineOfCode.indexOf(\"=\"), lineOfCode.length)\r\n        .replace(\"= \", \"\")\r\n        .replace(`\\r`, \"\")\r\n    );\r\n\r\n    if (typeof objCommand.command != \"undefined\") {\r\n      switch (objCommand.command) {\r\n        case \"runScript\":\r\n          return `\\t\\tawait browser.execute(\\`${objCommand.target}\\`);\\r`;\r\n        case \"deleteCookie\":\r\n          return `\\t\\tawait browser.deleteCookies([\"${objCommand.target}\"]);\\r`;\r\n        case \"deleteAllVisibleCookies\":\r\n          return `\\t\\tawait browser.deleteCookies();\\r`;\r\n        case \"\":\r\n          return \"\";\r\n        default:\r\n          return lineOfCode;\r\n      }\r\n    } else {\r\n      return lineOfCode;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate code block for image comparison\r\n   * @param {Object} info spec information\r\n   * @param {String} version latest version of code\r\n   * @returns {String}\r\n   */\r\n  async insertImageComparisonCode(info, version) {\r\n    const codeBlocks = await this.hookGeneration(info, \"img_comparison\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= IMG_COMP : START =======\r\n    /*\r\n      * This is CORE function to do the image comparison.\r\n      * This script is added automatically every time there is a new version released.\r\n      * You can open the custom scripts for capture options to apply only for current spec.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // ================================\r\n    it(\"image comparison ${version} :: ${info.caseId}\", async function () {\r\n      ${clsCodeBlock}\r\n      \r\n      ${functCodeBlock}\r\n    });\r\n    // ==============================\r\n    // ======= IMG_COMP : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate before hook code block\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async insertBeforeHookSpec(info) {\r\n    const codeBlocks = await this.hookGeneration(info, \"before\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n    let count = 0;\r\n    let beforeBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n      count++;\r\n    }\r\n\r\n    if (count > 0) {\r\n      beforeBlock = `before(async function () {\r\n        ${clsCodeBlock}\r\n        \r\n        ${functCodeBlock}\r\n      });`;\r\n    } else {\r\n      beforeBlock = `// before(async function () {});`;\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= BEFORE_HOOK : START =======\r\n    /*\r\n      * This is CORE function to be performed ONCE before the 1st test in current spec.\r\n      * This script is added automatically every time there is a new version released.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // ===================================\r\n    ${beforeBlock}\r\n    // =================================\r\n    // ======= BEFORE_HOOK : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate after each hook code block\r\n   * {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async insertAfterEachHookSpec(info) {\r\n    const codeBlocks = await this.hookGeneration(info, \"after_each\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n    let count = 0;\r\n    let afterEachBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n      count++;\r\n    }\r\n\r\n    if (count > 0) {\r\n      afterEachBlock = `afterEach(async function () {\r\n        ${clsCodeBlock}\r\n        \r\n        ${functCodeBlock}\r\n      });`;\r\n    } else {\r\n      afterEachBlock = `// afterEach(async function () {});`;\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= AFTER_EACH_HOOK : START =======\r\n    /*\r\n      * This is CORE function to be performed after EACH test in current spec.\r\n      * This script is added automatically every time there is a new version released.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // =======================================\r\n    // runs after each test in this block\r\n    ${afterEachBlock}\r\n    // =====================================\r\n    // ======= AFTER_EACH_HOOK : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Initialize a new project\r\n   * @param {Array} specs list of running spec file paths\r\n   */\r\n  async initProject(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n\r\n      if (specFilePath.includes(`init.js`)) {\r\n        let jsonData = await dataHandler.getGlobalDataJson();\r\n        const projects = jsonData.projects;\r\n\r\n        for (var clientId in projects) {\r\n          for (var projectId in projects[clientId]) {\r\n            if (\r\n              typeof projects[clientId][projectId][\"init\"] == \"undefined\" ||\r\n              projects[clientId][projectId][\"init\"] != \"done\"\r\n            ) {\r\n              let basePath =\r\n                process.cwd() + `/test/specs/${clientId}/${projectId}`;\r\n              let dataPath = basePath + `/data`;\r\n              let fullpagePath = basePath + `/record/fullpage`;\r\n              let screenPath = basePath + `/record/screen`;\r\n              let mobilePath = basePath + `/record/mobile`;\r\n\r\n              // CREATE FOLDERS\r\n              dataHandler.createFolder(dataPath);\r\n              dataHandler.createFolder(fullpagePath);\r\n              dataHandler.createFolder(screenPath);\r\n              dataHandler.createFolder(mobilePath);\r\n\r\n              // COPY data.xlsx\r\n              const excelPath = `${dataPath}/data.xlsx`;\r\n              const dataExisting = await dataHandler.fileExists(excelPath);\r\n              if (!dataExisting) {\r\n                dataHandler.copyFile(\"./utils/data_template.xlsx\", excelPath);\r\n              }\r\n\r\n              // COPY capabilities_template.json\r\n              const capsPath = `${dataPath}/capabilities.json`;\r\n              const capsExisting = await dataHandler.fileExists(capsPath);\r\n              if (!capsExisting) {\r\n                dataHandler.copyFile(\r\n                  \"./utils/capabilities_template.json\",\r\n                  capsPath\r\n                );\r\n              }\r\n\r\n              // COPY test-cases.xlsx\r\n              const tcPath = `${dataPath}/test-cases.xlsx`;\r\n              const tcExisting = await dataHandler.fileExists(tcPath);\r\n              if (!tcExisting) {\r\n                dataHandler.copyFile(\r\n                  \"./utils/test-cases_template.xlsx\",\r\n                  tcPath\r\n                );\r\n              }\r\n\r\n              // COPY test-cases.json\r\n              const tcJsonPath = `${dataPath}/test-cases.json`;\r\n              const tcJsonExisting = await dataHandler.fileExists(tcJsonPath);\r\n              if (!tcJsonExisting) {\r\n                dataHandler.copyFile(\"./utils/test-cases.json\", tcJsonPath);\r\n              }\r\n\r\n              // COPY tc2json.js\r\n              const tc2jsonPath = `${dataPath}/tc2json.js`;\r\n              const tc2jsonExisting = await dataHandler.fileExists(tc2jsonPath);\r\n              if (!tc2jsonExisting) {\r\n                dataHandler.copyFile(\"./utils/tc2json.js\", tc2jsonPath);\r\n              }\r\n\r\n              // DELETE ALL readme.txt - USED FOR REGENERATION\r\n              const fullpageReadmePath = `${fullpagePath}/readme.txt`;\r\n              const screenReadmePath = `${screenPath}/readme.txt`;\r\n              const mobileReadmePath = `${mobilePath}/readme.txt`;\r\n              await dataHandler.deleteFile(fullpageReadmePath);\r\n              await dataHandler.deleteFile(screenReadmePath);\r\n              await dataHandler.deleteFile(mobileReadmePath);\r\n\r\n              // CREATE readme.txt\r\n              dataHandler.createFile(\r\n                fullpageReadmePath,\r\n                `Put the records into the corresponding folder:\r\n  - fullpage: the baseline and actual are captured with full web page from top to bottom.\r\n  - screen: the baseline and actual are captures with the screen of current position.\r\n  - mobile: used for mobile image comparison.\r\n  - Record file name must be unique and following this format: [project_id].[user_story_id]-[case_id]_[localization].js\r\n      Example: ${projectId}.001-C001_en.js\r\n                \r\nHow to use ${projectId}.spec-generation.js?\r\n  - Change the config \"spec_generation\" in data/data.xlsx to \"yes\" if you want to enable it.\r\n  - Update the list of pages in data/data.xlsx before generating with:\r\n    - page_id: is unique id\r\n    - domain: website domain\r\n    - handler: path to page\r\n    - status: active, deactive, support or manual\r\n    - flow: the id to match to your flow in ${projectId}.spec-generation.js\r\n  - Each spec is generated based on the flows with structure below. Depending on your purpose, you can define flexible custom preStep and addStep for each spec.\r\n    preStep\r\n    await browser.url(link);\r\n    addStep\r\n  - Keep the flow id to be \"0\" if you want to apply for all pages.\r\n  - Remove spec-generation out of excluded spec in wdio.config`\r\n              );\r\n              dataHandler.copyFile(fullpageReadmePath, screenReadmePath);\r\n              dataHandler.copyFile(fullpageReadmePath, mobileReadmePath);\r\n\r\n              // CREATE SPEC GENERATION\r\n              const specGenerationPath = `${fullpagePath}/${projectId}.spec-generation.js`;\r\n              const specGenerationExisting = await dataHandler.fileExists(\r\n                specGenerationPath\r\n              );\r\n              if (!specGenerationExisting) {\r\n                let generationContent = `describe(\"spec-generation\", async function () {\r\n                  it(\"generate spec files\", async function () {\r\n                    const flows = [\r\n                      {\r\n                        id: \"0\",\r\n                        preStep: \"\",\r\n                        addStep: \"\",\r\n                      },\r\n                    ];\r\n\r\n                    const utils = require(process.cwd() + \"/utils/utils\");\r\n                    await utils.specGeneration(this.test.file, flows, -1, false);\r\n                  });\r\n                });`;\r\n                generationContent = utils.codeMakeUp(generationContent);\r\n                dataHandler.createFile(specGenerationPath, generationContent);\r\n              }\r\n\r\n              // CREATE .gitignore\r\n              const gitIgnorePath = `${basePath}/.gitignore`;\r\n              const gitIgnoreExisting = await dataHandler.fileExists(\r\n                gitIgnorePath\r\n              );\r\n              if (!gitIgnoreExisting) {\r\n                dataHandler.createFile(gitIgnorePath, `data/~$*`);\r\n              }\r\n\r\n              // UPDATE data.json\r\n              jsonData.projects[clientId][projectId][\"init\"] = \"done\";\r\n              await dataHandler.updateDataJsonFile(jsonData);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert test cases excel to json\r\n   * @param {String} specs list of all spec file paths\r\n   */\r\n  async tc2json(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n      if (specFilePath.includes(`tc2json.js`)) {\r\n        // READ EXCEL DATA\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const tcPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.xlsx`;\r\n        const excelData = await dataHandler.getProjectDataExcel(\r\n          info.clientId,\r\n          info.projectId,\r\n          tcPath\r\n        );\r\n\r\n        // CREATE JSON\r\n        let json = { data: [] };\r\n        let testCase = { test_data: {}, steps: [] };\r\n        for (let i = 0; i < excelData[\"test_cases\"].length; i++) {\r\n          const row = excelData[\"test_cases\"][i];\r\n          const caseId = row[\"case_id\"];\r\n          const userType = row[\"user_type\"];\r\n          const feature = row[\"feature\"];\r\n          const caseName = row[\"case\"];\r\n          const localization = row[\"localization\"];\r\n          const desc = row[\"description\"];\r\n          const testData = row[\"test_data\"];\r\n          const steps = row[\"steps\"];\r\n\r\n          // GET CASE INFO\r\n          if (!common.emptyOrUndefined(caseId)) {\r\n            testCase[\"case_id\"] = caseId;\r\n          }\r\n          if (!common.emptyOrUndefined(userType)) {\r\n            testCase[\"user_type\"] = userType;\r\n          }\r\n          if (!common.emptyOrUndefined(feature)) {\r\n            testCase[\"feature\"] = feature;\r\n          }\r\n          if (!common.emptyOrUndefined(caseName)) {\r\n            testCase[\"case\"] = caseName;\r\n          }\r\n          if (!common.emptyOrUndefined(localization)) {\r\n            testCase[\"localization\"] = localization;\r\n          }\r\n          if (!common.emptyOrUndefined(desc)) {\r\n            testCase[\"description\"] = desc;\r\n          }\r\n\r\n          // GET TEST DATA\r\n          if (!common.emptyOrUndefined(testData)) {\r\n            const key = testData.split(\":\")[0].trim();\r\n            const value = testData.split(\":\")[1].trim();\r\n            testCase[\"test_data\"][key] = value;\r\n          }\r\n\r\n          // GET STEPS\r\n          if (!common.emptyOrUndefined(steps)) {\r\n            if (steps.toLowerCase() != \"[end]\") {\r\n              testCase[\"steps\"].push(steps);\r\n            } else {\r\n              // PUSH TO JSON\r\n              json.data.push(testCase);\r\n\r\n              // RESET\r\n              testCase = { test_data: {}, steps: [] };\r\n            }\r\n          }\r\n        }\r\n\r\n        // SAVE JSON TO test-cases.json\r\n        const jsonPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.json`;\r\n        await dataHandler.updateDataJsonFile(json, jsonPath);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add core funtions into every spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @param {Object} info spec information\r\n   * @param {Object} jsonData global json data\r\n   * @returns {String}\r\n   */\r\n  async addCoreFramework(contents, clientName, prjName, info, jsonData) {\r\n    // REMOVE OLD COMMENTS\r\n    const oldComment = `// BYPASS PAGE AUTH --- DON'T REMOVE THIS COMMENT`;\r\n    if (contents.includes(oldComment)) {\r\n      contents = contents.replaceAll(oldComment, \"\");\r\n    }\r\n\r\n    // REMOVE BEFORE HOOK CODE BLOCK\r\n    const beforeHookStart = `// ======= BEFORE_HOOK : START =======`;\r\n    const beforeHookEnd = `// ======= BEFORE_HOOK : END =======`;\r\n    if (contents.includes(beforeHookStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(beforeHookStart);\r\n      const endIndex = contents.indexOf(beforeHookEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + beforeHookEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    } else {\r\n      // BEFORE v1.0.7\r\n      const startIndex = contents.indexOf(`before(async function`);\r\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // REMOVE AFTER EACH HOOK CODE BLOCK\r\n    const afterEachHookStart = `// ======= AFTER_EACH_HOOK : START =======`;\r\n    const afterEachHookEnd = `// ======= AFTER_EACH_HOOK : END =======`;\r\n    if (contents.includes(afterEachHookStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(afterEachHookStart);\r\n      const endIndex = contents.indexOf(afterEachHookEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + afterEachHookEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // REMOVE IMG COMP CODE BLOCK\r\n    const imgStart = `// ======= IMG_COMP : START =======`;\r\n    const imgEnd = `// ======= IMG_COMP : END =======`;\r\n    if (contents.includes(imgStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(imgStart);\r\n      const endIndex = contents.indexOf(imgEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + imgEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    } else {\r\n      // BEFORE v1.0.7\r\n      const startIndex = contents.indexOf(`it(\"image comparison`);\r\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // GENERATE CORE FRAMEWORK\r\n    // 1. MAKE UP CODE\r\n    contents = utils.codeMakeUp(contents);\r\n\r\n    // 2. IDENTIFY THE POSITION TO ADD CODE BLOCKS\r\n    const capType = common.capitalize(info.captureType);\r\n    let specTitleCode = `describe(\"${prjName} :: ${capType}\", async function() {`;\r\n    let specTitleIndex = contents.indexOf(specTitleCode);\r\n\r\n    // 3. REVISE IF FACING WRONG FORMAT CODE\r\n    if (specTitleIndex < 0) {\r\n      specTitleCode = `describe(\"${prjName} :: ${capType}\", async function () {`;\r\n      specTitleIndex = contents.indexOf(specTitleCode);\r\n    }\r\n\r\n    // 4. ADD AFTER EACH HOOK CODE BLOCK\r\n    if (specTitleIndex >= 0) {\r\n      const afterEachHookCodeBlock = await this.insertAfterEachHookSpec(info);\r\n      contents = contents.replace(\r\n        specTitleCode,\r\n        specTitleCode + afterEachHookCodeBlock\r\n      );\r\n    }\r\n\r\n    // 5. ADD BEFORE HOOK CODE BLOCK\r\n    if (specTitleIndex >= 0) {\r\n      const beforeHookCodeBlock = await this.insertBeforeHookSpec(info);\r\n      contents = contents.replace(\r\n        specTitleCode,\r\n        specTitleCode + beforeHookCodeBlock\r\n      );\r\n    }\r\n\r\n    // 6. ADD IMAGE COMPARISON CODE BLOCK\r\n    var count = utils.getIndicesOf(\"});\", contents.slice(-12)).length;\r\n    if (count == 2) {\r\n      var lastLineIndex = contents.lastIndexOf(\"});\");\r\n      contents = contents.substring(0, lastLineIndex);\r\n    }\r\n    contents += await this.insertImageComparisonCode(info, jsonData.version);\r\n    contents += `\\r});`;\r\n\r\n    // 7. MAKE UP CODE\r\n    contents = utils.codeMakeUp(contents);\r\n\r\n    // 8. RETURN\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Search the code block by go until found end of block\r\n   * @param {Int} index start index\r\n   * @param {String} text string is used for searching\r\n   * @returns {String}\r\n   */\r\n  getCodeBlock(index, text, end = \"});\") {\r\n    let condition = true;\r\n    let next = index + 1;\r\n    let tmpString = \"\";\r\n\r\n    while (condition) {\r\n      tmpString = text.substring(index, next);\r\n      if (\r\n        tmpString.includes(end) ||\r\n        tmpString == \"\" ||\r\n        tmpString.length >= text.length\r\n      ) {\r\n        condition = false;\r\n      }\r\n      next++;\r\n    }\r\n\r\n    return tmpString;\r\n  }\r\n\r\n  /**\r\n   * Same as getCodeBlock but ensure the full function is returned\r\n   * @param {Int} index start index\r\n   * @param {String} text contents to be searched for\r\n   * @param {String} end end signal\r\n   * @returns {String}\r\n   */\r\n  getFullCodeBlock(index, text, end = \"});\") {\r\n    let condition = true;\r\n    let next = index + 1;\r\n    let tmpString = \"\";\r\n    let openBracket = 0;\r\n    let closeBracket = 0;\r\n\r\n    while (condition) {\r\n      // GO TO EACH CHARACTER\r\n      tmpString = text.substring(index, next);\r\n\r\n      // IF LAST CHARACTER IS \"{\"\r\n      if (tmpString.slice(-1) == \"{\") openBracket++;\r\n      // IF LAST CHARACTER IS \"}\"\r\n      if (tmpString.slice(-1) == \"}\") closeBracket++;\r\n\r\n      // STOP FINDING\r\n      if (\r\n        tmpString.length >= text.length ||\r\n        ((tmpString.slice(-3).includes(end) || tmpString == \"\") &&\r\n          openBracket == closeBracket)\r\n      ) {\r\n        condition = false;\r\n      }\r\n      next++;\r\n    }\r\n\r\n    return tmpString;\r\n  }\r\n\r\n  /**\r\n   * Add async before function if not existing\r\n   * @param {String} contents file contents\r\n   * @returns {String}\r\n   */\r\n  addAsync2Func(contents) {\r\n    let indexes = utils.getIndicesOf(`function`, contents, false);\r\n    const funcText = `function`;\r\n    const asyncText = `async`;\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      const text = contents.substring(\r\n        indexes[i],\r\n        indexes[i] - asyncText.length - 1\r\n      );\r\n      if (!text.trim().includes(asyncText)) {\r\n        contents =\r\n          contents.slice(0, indexes[i]) +\r\n          asyncText +\r\n          \" \" +\r\n          contents.slice(indexes[i]);\r\n      }\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Fix and update the title of spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @returns {String}\r\n   */\r\n  updateSpecTitle(contents, prjName, captureType) {\r\n    let indexes = utils.getIndicesOf(`describe(`, contents, false);\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\r\n      contents = contents.replace(\r\n        text,\r\n        `describe(\"${prjName} :: ${common.capitalize(captureType)}\", `\r\n      );\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Fix and update test case title\r\n   * @param {String} contents spec file script\r\n   * @param {String} caseId test case id\r\n   * @returns {String}\r\n   */\r\n  updateCaseTitle(contents, caseId) {\r\n    let indexes = utils.getIndicesOf(`it(`, contents, false);\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\r\n      if (!text.includes(`image comparison`))\r\n        contents = contents.replace(text, `it(\"recorder :: ${caseId}\", `);\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Check and convert unsupport commands into WDIO commands\r\n   * @param {String} contents spec file script\r\n   * @returns {String}\r\n   */\r\n  updateCommand(contents) {\r\n    let indexes = utils.getIndicesOf(\r\n      `// WARNING: unsupported command`,\r\n      contents,\r\n      false\r\n    );\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \"}\");\r\n      let newText = this.convertCommand(text);\r\n      contents = contents.replace(text, newText);\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate hook functions for each spec\r\n   * @param {Object} info spec information\r\n   * @param {String} hookType type of Hook defined in excel data\r\n   * @returns {String}\r\n   */\r\n  async hookGeneration(info, hookType) {\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    const specId = info.specId;\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const cptOptData = jsonData.projects[clientId][projectId][\"cpt_opt\"];\r\n    let codeBlocks = { cls: [], funct: [] };\r\n\r\n    for (let i = 0; i < excelData[\"hook\"].length; i++) {\r\n      const row = excelData[\"hook\"][i];\r\n      const type = row[\"type\"];\r\n      const cls = row[\"class\"];\r\n      const funct = row[\"function\"];\r\n      const status = row[\"status\"];\r\n      let script = ``;\r\n\r\n      if (hookType == type) {\r\n        // IMPORT CLASS\r\n        switch (cls) {\r\n          case \"utils\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/utils\");\\r`\r\n            );\r\n            break;\r\n          case \"hook\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/hook\");\\r`\r\n            );\r\n            break;\r\n          case \"allure\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/allure\");\\r`\r\n            );\r\n            break;\r\n          case \"data_handler\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/data_handler\");\\r`\r\n            );\r\n            break;\r\n          case \"jira\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/jira\");\\r`\r\n            );\r\n            break;\r\n        }\r\n\r\n        // IMPORT FUNCTION\r\n        switch (funct) {\r\n          case \"pageAuth\":\r\n            script = `await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\r\n            }\r\n            codeBlocks.funct.push(`// CORE (${status}) :: BYPASS PAGE AUTH\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"checkValidCaps\":\r\n            script = `let valid = await utils.checkValidCaps();\r\n            if (!valid) await this.skip();\r\n            `;\r\n            if (status == \"inactive\") {\r\n              script = `// let valid = await utils.checkValidCaps();\r\n              // if (!valid) await this.skip();\r\n              `;\r\n            }\r\n            codeBlocks.funct\r\n              .push(`// CORE (${status}) :: SKIP SPEC IF WRONG CAPABILITY\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"imgCompare\":\r\n            script = `await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\r\n            }\r\n            codeBlocks.funct.push(`\\r\r\n            // CORE (${status}) :: IMG COMPARISON STEP\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"addCaptureOpts\":\r\n            const captureOpts = await dataHandler.getCaptureOpts(\r\n              clientId,\r\n              projectId\r\n            );\r\n            let platform = \"web\";\r\n            if (info.captureType == \"mobile\") platform = info.captureType;\r\n\r\n            script = `\r\n            /**\r\n             * Custom capture opts. Uncomment and change the value to use it.\r\n             * The global config is set in data.xlsx and is applied by default for all specs.\r\n             * Note: these config may be replaced if there is new version of Utils lib released.\r\n             */\\r\\r`;\r\n            for (var key in captureOpts[platform]) {\r\n              let value = captureOpts[platform][key];\r\n              if (key != \"baselineFolder\") {\r\n                // CHECK JSON DATA\r\n                if (typeof cptOptData != \"undefined\" && cptOptData.length > 0) {\r\n                  for (let i = 0; i < cptOptData.length; i++) {\r\n                    if (cptOptData[i][\"id\"] == specId) {\r\n                      for (let j = 0; j < cptOptData[i].values.length; j++) {\r\n                        const o = cptOptData[i].values[j];\r\n                        if (o.key == key) {\r\n                          const enabled = !o.enabled ? \"// \" : \"\";\r\n                          script += `\\t${enabled}await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${o.arg.value}, \"${o.arg.type}\");\\r`;\r\n                          break;\r\n                        }\r\n                      }\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // CHECK GLOBAL STATUS\r\n                const searchText = `await utils.addCaptureOpts(\"${specId}\", \"${key}\",`;\r\n                if (!script.includes(searchText)) {\r\n                  if (status == \"inactive\") {\r\n                    script += `\\t// await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\r\n                  } else {\r\n                    script += `\\tawait utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            codeBlocks.funct.push(script);\r\n            break;\r\n          case \"checkFireWall\":\r\n            script = `await utils.checkFireWall(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.checkFireWall(\"${specId}\");`;\r\n            }\r\n            codeBlocks.funct.push(`\\r\r\n              // CORE (${status}) :: CHECK FIREWALL\r\n              ${script}\r\n            `);\r\n            break;\r\n          case \"localize\":\r\n            script = `global.localization = await utils.getLocalization(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// ` + script;\r\n            }\r\n            codeBlocks.funct\r\n              .push(`\\r// CORE (${status}) :: GET LOCALIZATION FROM SPEC ID\r\n              ${script}\r\n              `);\r\n            break;\r\n          case \"dynamicBaseUrl\":\r\n            script = `global.dynamicBaseUrl = await utils.getDynamicUrl(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// ` + script;\r\n            }\r\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET DYNAMIC BASE URL\r\n              ${script}\r\n              `);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      cls: Array.from(new Set(codeBlocks.cls)),\r\n      funct: Array.from(new Set(codeBlocks.funct)),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check spec status and update spec file\r\n   * @param {Object} info spec information\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents spec file contents\r\n   * @param {Boolean} write write file or return contents\r\n   * @returns {String}\r\n   */\r\n  async checkStatus(info, specFilePath, contents, write = true) {\r\n    // status: \"active | manual | deactivate | support\"\r\n\r\n    const caseId = info.caseId;\r\n    let changed = false;\r\n    const skipComment = `/* ======= SKIPPED =======`;\r\n    const startIndex = contents.indexOf(`it(\"recorder :: ${caseId}\",`);\r\n    const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n    let newCodeBlock = codeBlock;\r\n    const blockStartIndex = newCodeBlock.indexOf(`it(\"recorder :: ${caseId}\",`);\r\n    const firstCodeLine = this.getCodeBlock(blockStartIndex, newCodeBlock, \"{\");\r\n\r\n    if (info.status != \"active\" && !codeBlock.includes(skipComment)) {\r\n      // 1. ADD SKIPPED OPEN\r\n      newCodeBlock = newCodeBlock.replace(\r\n        firstCodeLine,\r\n        firstCodeLine + `\\r${skipComment}`\r\n      );\r\n\r\n      // 2. ADD SKIPPED CLOSE\r\n      const count = utils.getIndicesOf(\"});\", codeBlock.slice(-5)).length;\r\n      if (count == 1) {\r\n        const lastLineIndex = newCodeBlock.lastIndexOf(\"});\");\r\n        newCodeBlock = newCodeBlock.substring(0, lastLineIndex);\r\n        newCodeBlock += `*/\\r});`;\r\n      }\r\n\r\n      changed = true;\r\n    } else if (info.status == \"active\" && codeBlock.includes(skipComment)) {\r\n      // REMOVE SKIPPED OPEN\r\n      const lineWithComment = this.getCodeBlock(\r\n        blockStartIndex,\r\n        newCodeBlock,\r\n        skipComment\r\n      );\r\n      newCodeBlock = newCodeBlock.replace(lineWithComment, firstCodeLine);\r\n\r\n      // REMOVE SKIPPED CLOSE\r\n      const lastLine = newCodeBlock.slice(-10);\r\n      let newLastLine = lastLine;\r\n      if (newLastLine.includes(`*/`)) {\r\n        newLastLine = newLastLine\r\n          .replace(`*/`, \"\")\r\n          .replace(`\\r`, \"\")\r\n          .replace(`\\n`, \"\");\r\n        newCodeBlock = newCodeBlock.replace(lastLine, newLastLine);\r\n      }\r\n\r\n      changed = true;\r\n    }\r\n\r\n    if (changed) {\r\n      contents = contents.replace(codeBlock, newCodeBlock);\r\n      contents = utils.codeMakeUp(contents);\r\n      if (write) {\r\n        await dataHandler.writeSpec(specFilePath, contents);\r\n      }\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Check custom capture options code block and update Json data\r\n   * @param {Object} info spec information\r\n   * @param {String} contents spec contents\r\n   */\r\n  async checkCaptureOpts(info, contents) {\r\n    const arrOpts = [\r\n      \"fullPageScrollTimeout\",\r\n      \"ignoreTransparentPixel\",\r\n      \"ignoreAntialiasing\",\r\n      \"scaleImagesToSameSize\",\r\n      \"largeImageThreshold\",\r\n      \"disableCSSAnimation\",\r\n      \"ignoreColors\",\r\n      \"ignoreAlpha\",\r\n    ];\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\r\n    let changed = false;\r\n\r\n    let opts = {\r\n      id: info.specId,\r\n      values: [],\r\n    };\r\n\r\n    if (typeof data == \"undefined\" || data.length <= 0) {\r\n      data = [];\r\n      data.push(opts);\r\n    }\r\n\r\n    for (let j = 0; j < arrOpts.length; j++) {\r\n      let searchText = `//await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\r\n\r\n      // TRY TO SEARCH WITH DEFAULT SEARCH TEXT\r\n      if (!contents.includes(searchText)) {\r\n        searchText = `// await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\r\n      }\r\n\r\n      // REMOVE OPT FROM JSON\r\n      if (contents.includes(searchText)) {\r\n        // LOOP DATA\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (data[i][\"id\"] == info.specId) {\r\n            const tmpArr = data[i].values.filter(\r\n              (obj) => !(obj.key === arrOpts[j])\r\n            );\r\n            if (tmpArr.length != data[i].values.length) {\r\n              data[i].values = tmpArr;\r\n              changed = true;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // WRITE JSON\r\n    if (changed) {\r\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\r\n      await dataHandler.updateDataJsonFile(jsonData);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new hookCustom();\r\n"],"mappings":"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"}},"mtime":1700647516968},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\data_handler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const path = require(\"path\");\nconst fs = require(\"fs\");\nconst glob = require(\"glob\");\nconst util = require(\"node:util\");\nconst excelToJson = require(\"simple-excel-2-json\");\nconst beautify = require(\"js-beautify\").js;\nconst jimp = require(\"jimp\");\nconst common = require(\"../common\");\nconst WebImageComparisonService = require(\"wdio-image-comparison-service\").default;\nlet webImageComparisonService = new WebImageComparisonService({});\nclass dataHandler {\n  constructor() {\n    this.globalJsonPath = process.cwd() + `/utils/data.json`;\n  }\n\n  /**\r\n   * Return data from ./utls/data.json\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\n  async getGlobalDataJson(opt = \"utf8\", errMsg = \"Failed to read file\") {\n    const data = await this.readFileJSON(this.globalJsonPath, opt, errMsg);\n    return data;\n  }\n\n  /**\r\n   * Get project excel data\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} dataPath Path to excel file, default is data.xlsx\r\n   * @returns {Object}\r\n   */\n  async getProjectDataExcel(clientId, projectId, dataPath = \"\") {\n    if (dataPath == \"\") dataPath = `test/specs/${clientId}/${projectId}/data/data.xlsx`;\n    let data = {};\n    try {\n      if (fs.existsSync(dataPath)) {\n        data = excelToJson({\n          sourceFile: dataPath,\n          header: {\n            rows: 1\n          },\n          columnToKey: {\n            \"*\": \"{{columnHeader}}\"\n          }\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n    return data;\n  }\n\n  /**\r\n   * Get project capabilities from json\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\n  async getProjectCapabilities(clientId, projectId) {\n    const filePath = `./test/specs/${clientId}/${projectId}/data/capabilities.json`;\n    const data = await this.readFileJSON(filePath, \"utf8\", \"Failed to read file\");\n    return data;\n  }\n\n  /**\r\n   * Get screenshots file contents\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} platform platform name\r\n   * @returns {Object}\r\n   */\n  async getScreenshots(specId, platform) {\n    const info = await this.getInfoFromSpecId(specId);\n    const diffFolder = webImageComparisonService.folders.diffFolder;\n    const actualFolder = webImageComparisonService.folders.actualFolder;\n    const baselineFolder = info.baselineFolder;\n    let diffImgContent;\n    let baselineImgContent;\n    let actualImgContent;\n    let fileName = `${specId}.png`;\n\n    // DEFINE IMAGE PATH\n    const diffFilePath = `./${diffFolder}/${platform}/${fileName}`;\n    const actualFilePath = `./${actualFolder}/${platform}/${fileName}`;\n    const baselineFilePath = `${baselineFolder}/${platform}/${fileName}`;\n\n    // READ IMAGE FILE\n    diffImgContent = await this.readFile(diffFilePath);\n    baselineImgContent = await this.readFile(baselineFilePath);\n    actualImgContent = await this.readFile(actualFilePath);\n\n    // RETURN\n    return {\n      filePaths: {\n        diff: diffFilePath,\n        actual: actualFilePath,\n        baseline: baselineFilePath\n      },\n      contents: {\n        diff: diffImgContent,\n        actual: actualImgContent,\n        baseline: baselineImgContent\n      }\n    };\n  }\n\n  /**\r\n   * Get spec information based on spec file path\r\n   * @param {String} filePath spec file path\r\n   * @returns {Object}\r\n   */\n  getInfoFromFilePath(filePath) {\n    if (common.isNormalSpec(filePath) || filePath.includes(`.spec-generation`)) {\n      // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\\\\chugai.11598-S001.deactivate.js\n      const captureTypePath = path.dirname(filePath); // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\n      const captureType = path.basename(captureTypePath);\n      const prjPath = path.dirname(path.dirname(captureTypePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\n      const projectId = path.basename(prjPath);\n      const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\n      const clientId = path.basename(clientPath);\n      const specId = path.parse(filePath).name; // [project_id].[user_story_id]-[case_id].js\n\n      var arrSpecId = specId.split(\".\");\n      const caseId = arrSpecId[1];\n\n      // THROW ERROR IF FILE NAME FORMAT IS INCORRECT\n      if (typeof caseId == \"undefined\") {\n        throw new Error(`Spec file name format is incorrect.`);\n      }\n      var status = \"\";\n      if (arrSpecId.length > 2) {\n        status = arrSpecId[2];\n      } else {\n        status = \"active\";\n      }\n      return {\n        clientId: clientId,\n        projectId: projectId,\n        specId: `${arrSpecId[0]}.${caseId}`,\n        caseId: caseId,\n        captureType: captureType,\n        status: status,\n        fileName: `${specId}.js`,\n        baselineFolder: `./test/specs/${clientId}/${projectId}/baseline`\n      };\n    } else {\n      if (filePath.includes(`init.js`)) {\n        // test\\\\specs\\\\init.js\n        return {\n          specId: \"init\",\n          fileName: `init.js`\n        };\n      } else {\n        // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\data\\\\tc2json.js\n        const prjPath = path.dirname(path.dirname(filePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\n        const projectId = path.basename(prjPath);\n        const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\n        const clientId = path.basename(clientPath);\n        return {\n          clientId: clientId,\n          projectId: projectId\n        };\n      }\n    }\n  }\n\n  /**\r\n   * Get spec information based on spec id\r\n   * @param {String} specId spec id or spec file name\r\n   * @returns {Object}\r\n   */\n  async getInfoFromSpecId(specId) {\n    const globPromise = util.promisify(glob);\n    let info = {};\n\n    // TRY TO FIND WITH NORMAL PATTERN\n    var files = await globPromise(`./test/specs/**/record/**/${specId}.js`).catch(err => console.error(err));\n\n    // TRY TO FIND WITH FILE NAME INCLUDED STATUS\n    if (files.length <= 0) {\n      files = await globPromise(`./test/specs/**/record/**/${specId}.*.js`).catch(err => console.error(err));\n    }\n    if (files.length > 0) {\n      info = this.getInfoFromFilePath(files[0]);\n    }\n    return info;\n  }\n\n  /**\r\n   * Search specs based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\n  async searchAllSpecs(pattern = \"\") {\n    const globPromise = util.promisify(glob);\n    if (pattern == \"\") pattern = `./test/specs/**/record/**/*.js`;\n    var files = await globPromise(pattern).catch(err => console.error(err));\n    return files;\n  }\n\n  /**\r\n   * Search suites based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\n  searchAllSuites(pattern = \"\") {\n    if (pattern == \"\") pattern = `./test/specs/**/data/suites.json`;\n    const files = glob.sync(pattern);\n    return files;\n  }\n\n  /**\r\n   * Get capture options\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\n  async getCaptureOpts(clientId, projectId) {\n    const prjPath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\n    const baselinePath = prjPath + `/baseline/`;\n    const excelData = await this.getProjectDataExcel(clientId, projectId);\n    let webOpts = {\n      baselineFolder: baselinePath\n    };\n    let mobileOpts = {};\n    let globalOpts = {};\n    const captureOptsDataSheet = excelData[\"img_compare\"];\n    for (let j = 0; j < captureOptsDataSheet.length; j++) {\n      let config = captureOptsDataSheet[j][\"config\"];\n      let value = captureOptsDataSheet[j][\"value\"];\n      let type = captureOptsDataSheet[j][\"type\"];\n      value = this.excelDataConverter(value);\n      if (type != \"\") {\n        switch (type) {\n          case \"web\":\n            webOpts[config] = value;\n            break;\n          case \"mobile\":\n            mobileOpts[config] = value;\n            break;\n          case \"global\":\n            globalOpts[config] = value;\n            break;\n        }\n      }\n    }\n    return {\n      web: webOpts,\n      mobile: mobileOpts,\n      global: globalOpts\n    };\n  }\n\n  /**\r\n   * Write code back to spec file\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents file content\r\n   */\n  writeSpec(specFilePath, contents) {\n    fs.writeFile(specFilePath, contents, err => {\n      if (err) {\n        console.error(err);\n      }\n    });\n  }\n\n  /**\r\n   * Update global data json\r\n   * @param {Object} jsonData global data json\r\n   * @param {Object} jsonPath json file path, default is global data json\r\n   */\n  async updateDataJsonFile(jsonData, jsonPath = \"\") {\n    if (jsonPath == \"\") jsonPath = this.globalJsonPath;\n\n    // FORMAT\n    const formatJson = beautify(JSON.stringify(jsonData), {\n      indent_size: 2\n    });\n\n    // WRITE\n    const fsPromises = fs.promises;\n    await fsPromises.writeFile(jsonPath, formatJson).catch(err => console.error(err));\n  }\n\n  /**\r\n   * Read JSON file and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\n  async readFileJSON(path, opt = \"utf8\", errMsg = \"\") {\n    const fsPromises = fs.promises;\n    const data = await fsPromises.readFile(path, opt).catch(err => console.error(errMsg, err));\n    return JSON.parse(data.toString());\n  }\n\n  /**\r\n   * Read JSON file sync and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @returns {JSON}\r\n   */\n  readFileJSONSync(path, opt = \"utf8\") {\n    try {\n      const data = fs.readFileSync(path, opt);\n      return JSON.parse(data.toString());\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  /**\r\n   * Ensure data returned from Excel is usable\r\n   * @param {String} value cell value from excel\r\n   * @returns {String}\r\n   */\n  excelDataConverter(value) {\n    if (typeof value == \"undefined\") value = 0;\n    if (String(value).toLowerCase() == \"true\") value = true;\n    if (String(value).toLowerCase() == \"false\") value = false;\n    return value;\n  }\n\n  /**\r\n   * Create folder if not existing\r\n   * @param {String} path folder path\r\n   */\n  createFolder(path) {\n    if (!fs.existsSync(path)) {\n      fs.mkdirSync(path, {\n        recursive: true\n      });\n    }\n  }\n\n  /**\r\n   * Create file with input content\r\n   * @param {String} path file path\r\n   * @param {String} content file content\r\n   */\n  createFile(path, content, encode = \"\") {\n    if (encode == \"\") fs.writeFileSync(path, content);else fs.writeFileSync(path, content, encode);\n  }\n\n  /**\r\n   * Copy file from source to destination\r\n   * @param {String} from source file path\r\n   * @param {String} to destination file path\r\n   */\n  copyFile(from, to) {\n    fs.copyFile(from, to, err => {\n      if (err) throw err;\n    });\n  }\n\n  /**\r\n   * Read file and get file content\r\n   * @param {String} path file path\r\n   * @returns {String}\r\n   */\n  async readFile(path, opt = \"\") {\n    const fsPromises = fs.promises;\n    let data = null;\n    if (opt != \"\") {\n      data = await fsPromises.readFile(path, opt).catch(err => {\n        // console.log(err);\n      });\n    } else {\n      data = await fsPromises.readFile(path).catch(err => {\n        // console.log(err);\n      });\n    }\n    return data;\n  }\n\n  /**\r\n   * Rename a file\r\n   * @param {String} oldPath old file path\r\n   * @param {String} newPath new file path\r\n   */\n  async renameFile(oldPath, newPath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.rename(oldPath, newPath);\n    } catch (err) {\n      // console.error(err);\n    }\n  }\n\n  /**\r\n   * Check if file is existing async\r\n   * @param {String} filePath file path\r\n   * @returns {Boolean}\r\n   */\n  async fileExists(filePath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.access(filePath);\n      return true;\n    } catch (err) {\n      if (err.code === \"ENOENT\") {\n        return false;\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\r\n   * Delete file async\r\n   * @param {String} filePath file path\r\n   */\n  async deleteFile(filePath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.unlink(filePath);\n    } catch (err) {\n      // console.log(err);\n    }\n  }\n\n  /**\r\n   * Get the image dimensions\r\n   * @param {Object} info Spec information\r\n   * @param {String} platform android or iphone\r\n   * @returns {Object}\r\n   */\n  async getImgSize(info, platform) {\n    const prjPath = process.cwd() + `/test/specs/${info.clientId}/${info.projectId}`;\n    const filePath = prjPath + `/baseline/${platform}/${info.specId}.png`;\n    try {\n      const image = await jimp.read(filePath);\n      return {\n        width: image.getWidth(),\n        height: image.getHeight()\n      };\n    } catch (error) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n  }\n}\nmodule.exports = new dataHandler();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImZzIiwiZ2xvYiIsInV0aWwiLCJleGNlbFRvSnNvbiIsImJlYXV0aWZ5IiwianMiLCJqaW1wIiwiY29tbW9uIiwiV2ViSW1hZ2VDb21wYXJpc29uU2VydmljZSIsImRlZmF1bHQiLCJ3ZWJJbWFnZUNvbXBhcmlzb25TZXJ2aWNlIiwiZGF0YUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImdsb2JhbEpzb25QYXRoIiwicHJvY2VzcyIsImN3ZCIsImdldEdsb2JhbERhdGFKc29uIiwib3B0IiwiZXJyTXNnIiwiZGF0YSIsInJlYWRGaWxlSlNPTiIsImdldFByb2plY3REYXRhRXhjZWwiLCJjbGllbnRJZCIsInByb2plY3RJZCIsImRhdGFQYXRoIiwiZXhpc3RzU3luYyIsInNvdXJjZUZpbGUiLCJoZWFkZXIiLCJyb3dzIiwiY29sdW1uVG9LZXkiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRQcm9qZWN0Q2FwYWJpbGl0aWVzIiwiZmlsZVBhdGgiLCJnZXRTY3JlZW5zaG90cyIsInNwZWNJZCIsInBsYXRmb3JtIiwiaW5mbyIsImdldEluZm9Gcm9tU3BlY0lkIiwiZGlmZkZvbGRlciIsImZvbGRlcnMiLCJhY3R1YWxGb2xkZXIiLCJiYXNlbGluZUZvbGRlciIsImRpZmZJbWdDb250ZW50IiwiYmFzZWxpbmVJbWdDb250ZW50IiwiYWN0dWFsSW1nQ29udGVudCIsImZpbGVOYW1lIiwiZGlmZkZpbGVQYXRoIiwiYWN0dWFsRmlsZVBhdGgiLCJiYXNlbGluZUZpbGVQYXRoIiwicmVhZEZpbGUiLCJmaWxlUGF0aHMiLCJkaWZmIiwiYWN0dWFsIiwiYmFzZWxpbmUiLCJjb250ZW50cyIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJpc05vcm1hbFNwZWMiLCJpbmNsdWRlcyIsImNhcHR1cmVUeXBlUGF0aCIsImRpcm5hbWUiLCJjYXB0dXJlVHlwZSIsImJhc2VuYW1lIiwicHJqUGF0aCIsImNsaWVudFBhdGgiLCJwYXJzZSIsIm5hbWUiLCJhcnJTcGVjSWQiLCJzcGxpdCIsImNhc2VJZCIsIkVycm9yIiwic3RhdHVzIiwibGVuZ3RoIiwiZ2xvYlByb21pc2UiLCJwcm9taXNpZnkiLCJmaWxlcyIsImNhdGNoIiwic2VhcmNoQWxsU3BlY3MiLCJwYXR0ZXJuIiwic2VhcmNoQWxsU3VpdGVzIiwic3luYyIsImdldENhcHR1cmVPcHRzIiwiYmFzZWxpbmVQYXRoIiwiZXhjZWxEYXRhIiwid2ViT3B0cyIsIm1vYmlsZU9wdHMiLCJnbG9iYWxPcHRzIiwiY2FwdHVyZU9wdHNEYXRhU2hlZXQiLCJqIiwiY29uZmlnIiwidmFsdWUiLCJ0eXBlIiwiZXhjZWxEYXRhQ29udmVydGVyIiwid2ViIiwibW9iaWxlIiwiZ2xvYmFsIiwid3JpdGVTcGVjIiwic3BlY0ZpbGVQYXRoIiwid3JpdGVGaWxlIiwidXBkYXRlRGF0YUpzb25GaWxlIiwianNvbkRhdGEiLCJqc29uUGF0aCIsImZvcm1hdEpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwiaW5kZW50X3NpemUiLCJmc1Byb21pc2VzIiwicHJvbWlzZXMiLCJ0b1N0cmluZyIsInJlYWRGaWxlSlNPTlN5bmMiLCJyZWFkRmlsZVN5bmMiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZUZvbGRlciIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImNyZWF0ZUZpbGUiLCJjb250ZW50IiwiZW5jb2RlIiwid3JpdGVGaWxlU3luYyIsImNvcHlGaWxlIiwiZnJvbSIsInRvIiwicmVuYW1lRmlsZSIsIm9sZFBhdGgiLCJuZXdQYXRoIiwicmVuYW1lIiwiZmlsZUV4aXN0cyIsImFjY2VzcyIsImNvZGUiLCJkZWxldGVGaWxlIiwidW5saW5rIiwiZ2V0SW1nU2l6ZSIsImltYWdlIiwicmVhZCIsIndpZHRoIiwiZ2V0V2lkdGgiLCJoZWlnaHQiLCJnZXRIZWlnaHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx1dGlsc1xcbGliXFwiLCJzb3VyY2VzIjpbImRhdGFfaGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xyXG5jb25zdCBnbG9iID0gcmVxdWlyZShcImdsb2JcIik7XHJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwibm9kZTp1dGlsXCIpO1xyXG5jb25zdCBleGNlbFRvSnNvbiA9IHJlcXVpcmUoXCJzaW1wbGUtZXhjZWwtMi1qc29uXCIpO1xyXG5cclxuY29uc3QgYmVhdXRpZnkgPSByZXF1aXJlKFwianMtYmVhdXRpZnlcIikuanM7XHJcbmNvbnN0IGppbXAgPSByZXF1aXJlKFwiamltcFwiKTtcclxuXHJcbmNvbnN0IGNvbW1vbiA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XHJcblxyXG5jb25zdCBXZWJJbWFnZUNvbXBhcmlzb25TZXJ2aWNlID1cclxuICByZXF1aXJlKFwid2Rpby1pbWFnZS1jb21wYXJpc29uLXNlcnZpY2VcIikuZGVmYXVsdDtcclxubGV0IHdlYkltYWdlQ29tcGFyaXNvblNlcnZpY2UgPSBuZXcgV2ViSW1hZ2VDb21wYXJpc29uU2VydmljZSh7fSk7XHJcblxyXG5jbGFzcyBkYXRhSGFuZGxlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdsb2JhbEpzb25QYXRoID0gcHJvY2Vzcy5jd2QoKSArIGAvdXRpbHMvZGF0YS5qc29uYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiBkYXRhIGZyb20gLi91dGxzL2RhdGEuanNvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHQgZGVmYXVsdCBpcyB1dGY4XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVyck1zZyBFcnJvciBtZXNzYWdlIHdpbGwgYmUgdGhyb3duIGlmIGZhaWxlZFxyXG4gICAqIEByZXR1cm5zIHtKU09OfVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEdsb2JhbERhdGFKc29uKG9wdCA9IFwidXRmOFwiLCBlcnJNc2cgPSBcIkZhaWxlZCB0byByZWFkIGZpbGVcIikge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucmVhZEZpbGVKU09OKHRoaXMuZ2xvYmFsSnNvblBhdGgsIG9wdCwgZXJyTXNnKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHByb2plY3QgZXhjZWwgZGF0YVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVBhdGggUGF0aCB0byBleGNlbCBmaWxlLCBkZWZhdWx0IGlzIGRhdGEueGxzeFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0UHJvamVjdERhdGFFeGNlbChjbGllbnRJZCwgcHJvamVjdElkLCBkYXRhUGF0aCA9IFwiXCIpIHtcclxuICAgIGlmIChkYXRhUGF0aCA9PSBcIlwiKVxyXG4gICAgICBkYXRhUGF0aCA9IGB0ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9kYXRhL2RhdGEueGxzeGA7XHJcbiAgICBsZXQgZGF0YSA9IHt9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoZGF0YVBhdGgpKSB7XHJcbiAgICAgICAgZGF0YSA9IGV4Y2VsVG9Kc29uKHtcclxuICAgICAgICAgIHNvdXJjZUZpbGU6IGRhdGFQYXRoLFxyXG4gICAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHJvd3M6IDEsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY29sdW1uVG9LZXk6IHtcclxuICAgICAgICAgICAgXCIqXCI6IFwie3tjb2x1bW5IZWFkZXJ9fVwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHByb2plY3QgY2FwYWJpbGl0aWVzIGZyb20ganNvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldFByb2plY3RDYXBhYmlsaXRpZXMoY2xpZW50SWQsIHByb2plY3RJZCkge1xyXG4gICAgY29uc3QgZmlsZVBhdGggPSBgLi90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9kYXRhL2NhcGFiaWxpdGllcy5qc29uYDtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJlYWRGaWxlSlNPTihcclxuICAgICAgZmlsZVBhdGgsXHJcbiAgICAgIFwidXRmOFwiLFxyXG4gICAgICBcIkZhaWxlZCB0byByZWFkIGZpbGVcIlxyXG4gICAgKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHNjcmVlbnNob3RzIGZpbGUgY29udGVudHNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWQgb3Igc3BlYyBmaWxlIG5hbWVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGxhdGZvcm0gcGxhdGZvcm0gbmFtZVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0U2NyZWVuc2hvdHMoc3BlY0lkLCBwbGF0Zm9ybSkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuZ2V0SW5mb0Zyb21TcGVjSWQoc3BlY0lkKTtcclxuICAgIGNvbnN0IGRpZmZGb2xkZXIgPSB3ZWJJbWFnZUNvbXBhcmlzb25TZXJ2aWNlLmZvbGRlcnMuZGlmZkZvbGRlcjtcclxuICAgIGNvbnN0IGFjdHVhbEZvbGRlciA9IHdlYkltYWdlQ29tcGFyaXNvblNlcnZpY2UuZm9sZGVycy5hY3R1YWxGb2xkZXI7XHJcbiAgICBjb25zdCBiYXNlbGluZUZvbGRlciA9IGluZm8uYmFzZWxpbmVGb2xkZXI7XHJcbiAgICBsZXQgZGlmZkltZ0NvbnRlbnQ7XHJcbiAgICBsZXQgYmFzZWxpbmVJbWdDb250ZW50O1xyXG4gICAgbGV0IGFjdHVhbEltZ0NvbnRlbnQ7XHJcbiAgICBsZXQgZmlsZU5hbWUgPSBgJHtzcGVjSWR9LnBuZ2A7XHJcblxyXG4gICAgLy8gREVGSU5FIElNQUdFIFBBVEhcclxuICAgIGNvbnN0IGRpZmZGaWxlUGF0aCA9IGAuLyR7ZGlmZkZvbGRlcn0vJHtwbGF0Zm9ybX0vJHtmaWxlTmFtZX1gO1xyXG4gICAgY29uc3QgYWN0dWFsRmlsZVBhdGggPSBgLi8ke2FjdHVhbEZvbGRlcn0vJHtwbGF0Zm9ybX0vJHtmaWxlTmFtZX1gO1xyXG4gICAgY29uc3QgYmFzZWxpbmVGaWxlUGF0aCA9IGAke2Jhc2VsaW5lRm9sZGVyfS8ke3BsYXRmb3JtfS8ke2ZpbGVOYW1lfWA7XHJcblxyXG4gICAgLy8gUkVBRCBJTUFHRSBGSUxFXHJcbiAgICBkaWZmSW1nQ29udGVudCA9IGF3YWl0IHRoaXMucmVhZEZpbGUoZGlmZkZpbGVQYXRoKTtcclxuICAgIGJhc2VsaW5lSW1nQ29udGVudCA9IGF3YWl0IHRoaXMucmVhZEZpbGUoYmFzZWxpbmVGaWxlUGF0aCk7XHJcbiAgICBhY3R1YWxJbWdDb250ZW50ID0gYXdhaXQgdGhpcy5yZWFkRmlsZShhY3R1YWxGaWxlUGF0aCk7XHJcblxyXG4gICAgLy8gUkVUVVJOXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmaWxlUGF0aHM6IHtcclxuICAgICAgICBkaWZmOiBkaWZmRmlsZVBhdGgsXHJcbiAgICAgICAgYWN0dWFsOiBhY3R1YWxGaWxlUGF0aCxcclxuICAgICAgICBiYXNlbGluZTogYmFzZWxpbmVGaWxlUGF0aCxcclxuICAgICAgfSxcclxuICAgICAgY29udGVudHM6IHtcclxuICAgICAgICBkaWZmOiBkaWZmSW1nQ29udGVudCxcclxuICAgICAgICBhY3R1YWw6IGFjdHVhbEltZ0NvbnRlbnQsXHJcbiAgICAgICAgYmFzZWxpbmU6IGJhc2VsaW5lSW1nQ29udGVudCxcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc3BlYyBpbmZvcm1hdGlvbiBiYXNlZCBvbiBzcGVjIGZpbGUgcGF0aFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlUGF0aCBzcGVjIGZpbGUgcGF0aFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0SW5mb0Zyb21GaWxlUGF0aChmaWxlUGF0aCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBjb21tb24uaXNOb3JtYWxTcGVjKGZpbGVQYXRoKSB8fFxyXG4gICAgICBmaWxlUGF0aC5pbmNsdWRlcyhgLnNwZWMtZ2VuZXJhdGlvbmApXHJcbiAgICApIHtcclxuICAgICAgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcXFxcY2h1Z2FpXFxcXHJlY29yZFxcXFxmdWxscGFnZVxcXFxjaHVnYWkuMTE1OTgtUzAwMS5kZWFjdGl2YXRlLmpzXHJcbiAgICAgIGNvbnN0IGNhcHR1cmVUeXBlUGF0aCA9IHBhdGguZGlybmFtZShmaWxlUGF0aCk7IC8vIHRlc3RcXFxcc3BlY3NcXFxcanAtZGVudHN1XFxcXGNodWdhaVxcXFxyZWNvcmRcXFxcZnVsbHBhZ2VcclxuICAgICAgY29uc3QgY2FwdHVyZVR5cGUgPSBwYXRoLmJhc2VuYW1lKGNhcHR1cmVUeXBlUGF0aCk7XHJcbiAgICAgIGNvbnN0IHByalBhdGggPSBwYXRoLmRpcm5hbWUocGF0aC5kaXJuYW1lKGNhcHR1cmVUeXBlUGF0aCkpOyAvLyB0ZXN0XFxcXHNwZWNzXFxcXGpwLWRlbnRzdVxcXFxjaHVnYWlcclxuICAgICAgY29uc3QgcHJvamVjdElkID0gcGF0aC5iYXNlbmFtZShwcmpQYXRoKTtcclxuICAgICAgY29uc3QgY2xpZW50UGF0aCA9IHBhdGguZGlybmFtZShwcmpQYXRoKTsgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcclxuICAgICAgY29uc3QgY2xpZW50SWQgPSBwYXRoLmJhc2VuYW1lKGNsaWVudFBhdGgpO1xyXG4gICAgICBjb25zdCBzcGVjSWQgPSBwYXRoLnBhcnNlKGZpbGVQYXRoKS5uYW1lOyAvLyBbcHJvamVjdF9pZF0uW3VzZXJfc3RvcnlfaWRdLVtjYXNlX2lkXS5qc1xyXG5cclxuICAgICAgdmFyIGFyclNwZWNJZCA9IHNwZWNJZC5zcGxpdChcIi5cIik7XHJcbiAgICAgIGNvbnN0IGNhc2VJZCA9IGFyclNwZWNJZFsxXTtcclxuXHJcbiAgICAgIC8vIFRIUk9XIEVSUk9SIElGIEZJTEUgTkFNRSBGT1JNQVQgSVMgSU5DT1JSRUNUXHJcbiAgICAgIGlmICh0eXBlb2YgY2FzZUlkID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNwZWMgZmlsZSBuYW1lIGZvcm1hdCBpcyBpbmNvcnJlY3QuYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzdGF0dXMgPSBcIlwiO1xyXG4gICAgICBpZiAoYXJyU3BlY0lkLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICBzdGF0dXMgPSBhcnJTcGVjSWRbMl07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhdHVzID0gXCJhY3RpdmVcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXHJcbiAgICAgICAgc3BlY0lkOiBgJHthcnJTcGVjSWRbMF19LiR7Y2FzZUlkfWAsXHJcbiAgICAgICAgY2FzZUlkOiBjYXNlSWQsXHJcbiAgICAgICAgY2FwdHVyZVR5cGU6IGNhcHR1cmVUeXBlLFxyXG4gICAgICAgIHN0YXR1czogc3RhdHVzLFxyXG4gICAgICAgIGZpbGVOYW1lOiBgJHtzcGVjSWR9LmpzYCxcclxuICAgICAgICBiYXNlbGluZUZvbGRlcjogYC4vdGVzdC9zcGVjcy8ke2NsaWVudElkfS8ke3Byb2plY3RJZH0vYmFzZWxpbmVgLFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGZpbGVQYXRoLmluY2x1ZGVzKGBpbml0LmpzYCkpIHtcclxuICAgICAgICAvLyB0ZXN0XFxcXHNwZWNzXFxcXGluaXQuanNcclxuICAgICAgICByZXR1cm4geyBzcGVjSWQ6IFwiaW5pdFwiLCBmaWxlTmFtZTogYGluaXQuanNgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcXFxcY2h1Z2FpXFxcXGRhdGFcXFxcdGMyanNvbi5qc1xyXG4gICAgICAgIGNvbnN0IHByalBhdGggPSBwYXRoLmRpcm5hbWUocGF0aC5kaXJuYW1lKGZpbGVQYXRoKSk7IC8vIHRlc3RcXFxcc3BlY3NcXFxcanAtZGVudHN1XFxcXGNodWdhaVxyXG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHBhdGguYmFzZW5hbWUocHJqUGF0aCk7XHJcbiAgICAgICAgY29uc3QgY2xpZW50UGF0aCA9IHBhdGguZGlybmFtZShwcmpQYXRoKTsgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcclxuICAgICAgICBjb25zdCBjbGllbnRJZCA9IHBhdGguYmFzZW5hbWUoY2xpZW50UGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY2xpZW50SWQ6IGNsaWVudElkLCBwcm9qZWN0SWQ6IHByb2plY3RJZCB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc3BlYyBpbmZvcm1hdGlvbiBiYXNlZCBvbiBzcGVjIGlkXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNJZCBzcGVjIGlkIG9yIHNwZWMgZmlsZSBuYW1lXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBnZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpIHtcclxuICAgIGNvbnN0IGdsb2JQcm9taXNlID0gdXRpbC5wcm9taXNpZnkoZ2xvYik7XHJcbiAgICBsZXQgaW5mbyA9IHt9O1xyXG5cclxuICAgIC8vIFRSWSBUTyBGSU5EIFdJVEggTk9STUFMIFBBVFRFUk5cclxuICAgIHZhciBmaWxlcyA9IGF3YWl0IGdsb2JQcm9taXNlKFxyXG4gICAgICBgLi90ZXN0L3NwZWNzLyoqL3JlY29yZC8qKi8ke3NwZWNJZH0uanNgXHJcbiAgICApLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG4gICAgLy8gVFJZIFRPIEZJTkQgV0lUSCBGSUxFIE5BTUUgSU5DTFVERUQgU1RBVFVTXHJcbiAgICBpZiAoZmlsZXMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgZmlsZXMgPSBhd2FpdCBnbG9iUHJvbWlzZShcclxuICAgICAgICBgLi90ZXN0L3NwZWNzLyoqL3JlY29yZC8qKi8ke3NwZWNJZH0uKi5qc2BcclxuICAgICAgKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGluZm8gPSB0aGlzLmdldEluZm9Gcm9tRmlsZVBhdGgoZmlsZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbmZvO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VhcmNoIHNwZWNzIGJhc2VkIG9uIGZpbHRlciBwYXR0ZXJuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm4gZmlsdGVyIHBhdHRlcm5cclxuICAgKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAgICovXHJcbiAgYXN5bmMgc2VhcmNoQWxsU3BlY3MocGF0dGVybiA9IFwiXCIpIHtcclxuICAgIGNvbnN0IGdsb2JQcm9taXNlID0gdXRpbC5wcm9taXNpZnkoZ2xvYik7XHJcblxyXG4gICAgaWYgKHBhdHRlcm4gPT0gXCJcIikgcGF0dGVybiA9IGAuL3Rlc3Qvc3BlY3MvKiovcmVjb3JkLyoqLyouanNgO1xyXG5cclxuICAgIHZhciBmaWxlcyA9IGF3YWl0IGdsb2JQcm9taXNlKHBhdHRlcm4pLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG4gICAgcmV0dXJuIGZpbGVzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VhcmNoIHN1aXRlcyBiYXNlZCBvbiBmaWx0ZXIgcGF0dGVyblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuIGZpbHRlciBwYXR0ZXJuXHJcbiAgICogQHJldHVybnMge0FycmF5fVxyXG4gICAqL1xyXG4gIHNlYXJjaEFsbFN1aXRlcyhwYXR0ZXJuID0gXCJcIikge1xyXG4gICAgaWYgKHBhdHRlcm4gPT0gXCJcIikgcGF0dGVybiA9IGAuL3Rlc3Qvc3BlY3MvKiovZGF0YS9zdWl0ZXMuanNvbmA7XHJcblxyXG4gICAgY29uc3QgZmlsZXMgPSBnbG9iLnN5bmMocGF0dGVybik7XHJcblxyXG4gICAgcmV0dXJuIGZpbGVzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNhcHR1cmUgb3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldENhcHR1cmVPcHRzKGNsaWVudElkLCBwcm9qZWN0SWQpIHtcclxuICAgIGNvbnN0IHByalBhdGggPSBwcm9jZXNzLmN3ZCgpICsgYC90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfWA7XHJcbiAgICBjb25zdCBiYXNlbGluZVBhdGggPSBwcmpQYXRoICsgYC9iYXNlbGluZS9gO1xyXG4gICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgdGhpcy5nZXRQcm9qZWN0RGF0YUV4Y2VsKGNsaWVudElkLCBwcm9qZWN0SWQpO1xyXG5cclxuICAgIGxldCB3ZWJPcHRzID0geyBiYXNlbGluZUZvbGRlcjogYmFzZWxpbmVQYXRoIH07XHJcbiAgICBsZXQgbW9iaWxlT3B0cyA9IHt9O1xyXG4gICAgbGV0IGdsb2JhbE9wdHMgPSB7fTtcclxuICAgIGNvbnN0IGNhcHR1cmVPcHRzRGF0YVNoZWV0ID0gZXhjZWxEYXRhW1wiaW1nX2NvbXBhcmVcIl07XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNhcHR1cmVPcHRzRGF0YVNoZWV0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGxldCBjb25maWcgPSBjYXB0dXJlT3B0c0RhdGFTaGVldFtqXVtcImNvbmZpZ1wiXTtcclxuICAgICAgbGV0IHZhbHVlID0gY2FwdHVyZU9wdHNEYXRhU2hlZXRbal1bXCJ2YWx1ZVwiXTtcclxuICAgICAgbGV0IHR5cGUgPSBjYXB0dXJlT3B0c0RhdGFTaGVldFtqXVtcInR5cGVcIl07XHJcblxyXG4gICAgICB2YWx1ZSA9IHRoaXMuZXhjZWxEYXRhQ29udmVydGVyKHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh0eXBlICE9IFwiXCIpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJ3ZWJcIjpcclxuICAgICAgICAgICAgd2ViT3B0c1tjb25maWddID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxyXG4gICAgICAgICAgICBtb2JpbGVPcHRzW2NvbmZpZ10gPSB2YWx1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiZ2xvYmFsXCI6XHJcbiAgICAgICAgICAgIGdsb2JhbE9wdHNbY29uZmlnXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdlYjogd2ViT3B0cyxcclxuICAgICAgbW9iaWxlOiBtb2JpbGVPcHRzLFxyXG4gICAgICBnbG9iYWw6IGdsb2JhbE9wdHMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JpdGUgY29kZSBiYWNrIHRvIHNwZWMgZmlsZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjRmlsZVBhdGggc3BlYyBmaWxlIHBhdGhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgZmlsZSBjb250ZW50XHJcbiAgICovXHJcbiAgd3JpdGVTcGVjKHNwZWNGaWxlUGF0aCwgY29udGVudHMpIHtcclxuICAgIGZzLndyaXRlRmlsZShzcGVjRmlsZVBhdGgsIGNvbnRlbnRzLCAoZXJyKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGdsb2JhbCBkYXRhIGpzb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbkRhdGEgZ2xvYmFsIGRhdGEganNvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uUGF0aCBqc29uIGZpbGUgcGF0aCwgZGVmYXVsdCBpcyBnbG9iYWwgZGF0YSBqc29uXHJcbiAgICovXHJcbiAgYXN5bmMgdXBkYXRlRGF0YUpzb25GaWxlKGpzb25EYXRhLCBqc29uUGF0aCA9IFwiXCIpIHtcclxuICAgIGlmIChqc29uUGF0aCA9PSBcIlwiKSBqc29uUGF0aCA9IHRoaXMuZ2xvYmFsSnNvblBhdGg7XHJcblxyXG4gICAgLy8gRk9STUFUXHJcbiAgICBjb25zdCBmb3JtYXRKc29uID0gYmVhdXRpZnkoSlNPTi5zdHJpbmdpZnkoanNvbkRhdGEpLCB7IGluZGVudF9zaXplOiAyIH0pO1xyXG5cclxuICAgIC8vIFdSSVRFXHJcbiAgICBjb25zdCBmc1Byb21pc2VzID0gZnMucHJvbWlzZXM7XHJcbiAgICBhd2FpdCBmc1Byb21pc2VzXHJcbiAgICAgIC53cml0ZUZpbGUoanNvblBhdGgsIGZvcm1hdEpzb24pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCBKU09OIGZpbGUgYW5kIHJldHVybiBKU09OIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIGZ1bGwgZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdCBkZWZhdWx0IGlzIHV0ZjhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXJyTXNnIEVycm9yIG1lc3NhZ2Ugd2lsbCBiZSB0aHJvd24gaWYgZmFpbGVkXHJcbiAgICogQHJldHVybnMge0pTT059XHJcbiAgICovXHJcbiAgYXN5bmMgcmVhZEZpbGVKU09OKHBhdGgsIG9wdCA9IFwidXRmOFwiLCBlcnJNc2cgPSBcIlwiKSB7XHJcbiAgICBjb25zdCBmc1Byb21pc2VzID0gZnMucHJvbWlzZXM7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZnNQcm9taXNlc1xyXG4gICAgICAucmVhZEZpbGUocGF0aCwgb3B0KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnJNc2csIGVycikpO1xyXG5cclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkIEpTT04gZmlsZSBzeW5jIGFuZCByZXR1cm4gSlNPTiBvYmplY3RcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBmdWxsIGZpbGUgcGF0aFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHQgZGVmYXVsdCBpcyB1dGY4XHJcbiAgICogQHJldHVybnMge0pTT059XHJcbiAgICovXHJcbiAgcmVhZEZpbGVKU09OU3luYyhwYXRoLCBvcHQgPSBcInV0ZjhcIikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLCBvcHQpO1xyXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCkpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuc3VyZSBkYXRhIHJldHVybmVkIGZyb20gRXhjZWwgaXMgdXNhYmxlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIGNlbGwgdmFsdWUgZnJvbSBleGNlbFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZXhjZWxEYXRhQ29udmVydGVyKHZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwidW5kZWZpbmVkXCIpIHZhbHVlID0gMDtcclxuICAgIGlmIChTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCIpIHZhbHVlID0gdHJ1ZTtcclxuICAgIGlmIChTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gXCJmYWxzZVwiKSB2YWx1ZSA9IGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBmb2xkZXIgaWYgbm90IGV4aXN0aW5nXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggZm9sZGVyIHBhdGhcclxuICAgKi9cclxuICBjcmVhdGVGb2xkZXIocGF0aCkge1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyhwYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBmaWxlIHdpdGggaW5wdXQgY29udGVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIGZpbGUgcGF0aFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IGZpbGUgY29udGVudFxyXG4gICAqL1xyXG4gIGNyZWF0ZUZpbGUocGF0aCwgY29udGVudCwgZW5jb2RlID0gXCJcIikge1xyXG4gICAgaWYgKGVuY29kZSA9PSBcIlwiKSBmcy53cml0ZUZpbGVTeW5jKHBhdGgsIGNvbnRlbnQpO1xyXG4gICAgZWxzZSBmcy53cml0ZUZpbGVTeW5jKHBhdGgsIGNvbnRlbnQsIGVuY29kZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb3B5IGZpbGUgZnJvbSBzb3VyY2UgdG8gZGVzdGluYXRpb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbSBzb3VyY2UgZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvIGRlc3RpbmF0aW9uIGZpbGUgcGF0aFxyXG4gICAqL1xyXG4gIGNvcHlGaWxlKGZyb20sIHRvKSB7XHJcbiAgICBmcy5jb3B5RmlsZShmcm9tLCB0bywgKGVycikgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWQgZmlsZSBhbmQgZ2V0IGZpbGUgY29udGVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIGZpbGUgcGF0aFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgcmVhZEZpbGUocGF0aCwgb3B0ID0gXCJcIikge1xyXG4gICAgY29uc3QgZnNQcm9taXNlcyA9IGZzLnByb21pc2VzO1xyXG4gICAgbGV0IGRhdGEgPSBudWxsO1xyXG5cclxuICAgIGlmIChvcHQgIT0gXCJcIikge1xyXG4gICAgICBkYXRhID0gYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShwYXRoLCBvcHQpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRhdGEgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKHBhdGgpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmFtZSBhIGZpbGVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkUGF0aCBvbGQgZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1BhdGggbmV3IGZpbGUgcGF0aFxyXG4gICAqL1xyXG4gIGFzeW5jIHJlbmFtZUZpbGUob2xkUGF0aCwgbmV3UGF0aCkge1xyXG4gICAgY29uc3QgZnNQcm9taXNlcyA9IGZzLnByb21pc2VzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZnNQcm9taXNlcy5yZW5hbWUob2xkUGF0aCwgbmV3UGF0aCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgLy8gY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgZmlsZSBpcyBleGlzdGluZyBhc3luY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlUGF0aCBmaWxlIHBhdGhcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBhc3luYyBmaWxlRXhpc3RzKGZpbGVQYXRoKSB7XHJcbiAgICBjb25zdCBmc1Byb21pc2VzID0gZnMucHJvbWlzZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBmc1Byb21pc2VzLmFjY2VzcyhmaWxlUGF0aCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJFTk9FTlRcIikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlbGV0ZSBmaWxlIGFzeW5jXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIGZpbGUgcGF0aFxyXG4gICAqL1xyXG4gIGFzeW5jIGRlbGV0ZUZpbGUoZmlsZVBhdGgpIHtcclxuICAgIGNvbnN0IGZzUHJvbWlzZXMgPSBmcy5wcm9taXNlcztcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGZzUHJvbWlzZXMudW5saW5rKGZpbGVQYXRoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBpbWFnZSBkaW1lbnNpb25zXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gU3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGF0Zm9ybSBhbmRyb2lkIG9yIGlwaG9uZVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0SW1nU2l6ZShpbmZvLCBwbGF0Zm9ybSkge1xyXG4gICAgY29uc3QgcHJqUGF0aCA9XHJcbiAgICAgIHByb2Nlc3MuY3dkKCkgKyBgL3Rlc3Qvc3BlY3MvJHtpbmZvLmNsaWVudElkfS8ke2luZm8ucHJvamVjdElkfWA7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IHByalBhdGggKyBgL2Jhc2VsaW5lLyR7cGxhdGZvcm19LyR7aW5mby5zcGVjSWR9LnBuZ2A7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBqaW1wLnJlYWQoZmlsZVBhdGgpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdpZHRoOiBpbWFnZS5nZXRXaWR0aCgpLFxyXG4gICAgICAgIGhlaWdodDogaW1hZ2UuZ2V0SGVpZ2h0KCksXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIGhlaWdodDogMCxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgZGF0YUhhbmRsZXIoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDakMsTUFBTUksV0FBVyxHQUFHSixPQUFPLENBQUMscUJBQXFCLENBQUM7QUFFbEQsTUFBTUssUUFBUSxHQUFHTCxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUNNLEVBQUU7QUFDMUMsTUFBTUMsSUFBSSxHQUFHUCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBRTVCLE1BQU1RLE1BQU0sR0FBR1IsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUVuQyxNQUFNUyx5QkFBeUIsR0FDN0JULE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxDQUFDVSxPQUFPO0FBQ2xELElBQUlDLHlCQUF5QixHQUFHLElBQUlGLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRWpFLE1BQU1HLFdBQVcsQ0FBQztFQUNoQkMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1osSUFBSSxDQUFDQyxjQUFjLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBSSxrQkFBaUI7RUFDMUQ7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTUMsaUJBQWlCQSxDQUFDQyxHQUFHLEdBQUcsTUFBTSxFQUFFQyxNQUFNLEdBQUcscUJBQXFCLEVBQUU7SUFDcEUsTUFBTUMsSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxZQUFZLENB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","map":{"version":3,"names":["path","require","fs","glob","util","excelToJson","beautify","js","jimp","common","WebImageComparisonService","default","webImageComparisonService","dataHandler","constructor","globalJsonPath","process","cwd","getGlobalDataJson","opt","errMsg","data","readFileJSON","getProjectDataExcel","clientId","projectId","dataPath","existsSync","sourceFile","header","rows","columnToKey","err","console","error","getProjectCapabilities","filePath","getScreenshots","specId","platform","info","getInfoFromSpecId","diffFolder","folders","actualFolder","baselineFolder","diffImgContent","baselineImgContent","actualImgContent","fileName","diffFilePath","actualFilePath","baselineFilePath","readFile","filePaths","diff","actual","baseline","contents","getInfoFromFilePath","isNormalSpec","includes","captureTypePath","dirname","captureType","basename","prjPath","clientPath","parse","name","arrSpecId","split","caseId","Error","status","length","globPromise","promisify","files","catch","searchAllSpecs","pattern","searchAllSuites","sync","getCaptureOpts","baselinePath","excelData","webOpts","mobileOpts","globalOpts","captureOptsDataSheet","j","config","value","type","excelDataConverter","web","mobile","global","writeSpec","specFilePath","writeFile","updateDataJsonFile","jsonData","jsonPath","formatJson","JSON","stringify","indent_size","fsPromises","promises","toString","readFileJSONSync","readFileSync","String","toLowerCase","createFolder","mkdirSync","recursive","createFile","content","encode","writeFileSync","copyFile","from","to","renameFile","oldPath","newPath","rename","fileExists","access","code","deleteFile","unlink","getImgSize","image","read","width","getWidth","height","getHeight","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["data_handler.js"],"sourcesContent":["const path = require(\"path\");\r\nconst fs = require(\"fs\");\r\nconst glob = require(\"glob\");\r\nconst util = require(\"node:util\");\r\nconst excelToJson = require(\"simple-excel-2-json\");\r\n\r\nconst beautify = require(\"js-beautify\").js;\r\nconst jimp = require(\"jimp\");\r\n\r\nconst common = require(\"../common\");\r\n\r\nconst WebImageComparisonService =\r\n  require(\"wdio-image-comparison-service\").default;\r\nlet webImageComparisonService = new WebImageComparisonService({});\r\n\r\nclass dataHandler {\r\n  constructor() {\r\n    this.globalJsonPath = process.cwd() + `/utils/data.json`;\r\n  }\r\n\r\n  /**\r\n   * Return data from ./utls/data.json\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\r\n  async getGlobalDataJson(opt = \"utf8\", errMsg = \"Failed to read file\") {\r\n    const data = await this.readFileJSON(this.globalJsonPath, opt, errMsg);\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get project excel data\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} dataPath Path to excel file, default is data.xlsx\r\n   * @returns {Object}\r\n   */\r\n  async getProjectDataExcel(clientId, projectId, dataPath = \"\") {\r\n    if (dataPath == \"\")\r\n      dataPath = `test/specs/${clientId}/${projectId}/data/data.xlsx`;\r\n    let data = {};\r\n    try {\r\n      if (fs.existsSync(dataPath)) {\r\n        data = excelToJson({\r\n          sourceFile: dataPath,\r\n          header: {\r\n            rows: 1,\r\n          },\r\n          columnToKey: {\r\n            \"*\": \"{{columnHeader}}\",\r\n          },\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get project capabilities from json\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\r\n  async getProjectCapabilities(clientId, projectId) {\r\n    const filePath = `./test/specs/${clientId}/${projectId}/data/capabilities.json`;\r\n    const data = await this.readFileJSON(\r\n      filePath,\r\n      \"utf8\",\r\n      \"Failed to read file\"\r\n    );\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get screenshots file contents\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} platform platform name\r\n   * @returns {Object}\r\n   */\r\n  async getScreenshots(specId, platform) {\r\n    const info = await this.getInfoFromSpecId(specId);\r\n    const diffFolder = webImageComparisonService.folders.diffFolder;\r\n    const actualFolder = webImageComparisonService.folders.actualFolder;\r\n    const baselineFolder = info.baselineFolder;\r\n    let diffImgContent;\r\n    let baselineImgContent;\r\n    let actualImgContent;\r\n    let fileName = `${specId}.png`;\r\n\r\n    // DEFINE IMAGE PATH\r\n    const diffFilePath = `./${diffFolder}/${platform}/${fileName}`;\r\n    const actualFilePath = `./${actualFolder}/${platform}/${fileName}`;\r\n    const baselineFilePath = `${baselineFolder}/${platform}/${fileName}`;\r\n\r\n    // READ IMAGE FILE\r\n    diffImgContent = await this.readFile(diffFilePath);\r\n    baselineImgContent = await this.readFile(baselineFilePath);\r\n    actualImgContent = await this.readFile(actualFilePath);\r\n\r\n    // RETURN\r\n    return {\r\n      filePaths: {\r\n        diff: diffFilePath,\r\n        actual: actualFilePath,\r\n        baseline: baselineFilePath,\r\n      },\r\n      contents: {\r\n        diff: diffImgContent,\r\n        actual: actualImgContent,\r\n        baseline: baselineImgContent,\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get spec information based on spec file path\r\n   * @param {String} filePath spec file path\r\n   * @returns {Object}\r\n   */\r\n  getInfoFromFilePath(filePath) {\r\n    if (\r\n      common.isNormalSpec(filePath) ||\r\n      filePath.includes(`.spec-generation`)\r\n    ) {\r\n      // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\\\\chugai.11598-S001.deactivate.js\r\n      const captureTypePath = path.dirname(filePath); // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\r\n      const captureType = path.basename(captureTypePath);\r\n      const prjPath = path.dirname(path.dirname(captureTypePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\r\n      const projectId = path.basename(prjPath);\r\n      const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\r\n      const clientId = path.basename(clientPath);\r\n      const specId = path.parse(filePath).name; // [project_id].[user_story_id]-[case_id].js\r\n\r\n      var arrSpecId = specId.split(\".\");\r\n      const caseId = arrSpecId[1];\r\n\r\n      // THROW ERROR IF FILE NAME FORMAT IS INCORRECT\r\n      if (typeof caseId == \"undefined\") {\r\n        throw new Error(`Spec file name format is incorrect.`);\r\n      }\r\n\r\n      var status = \"\";\r\n      if (arrSpecId.length > 2) {\r\n        status = arrSpecId[2];\r\n      } else {\r\n        status = \"active\";\r\n      }\r\n\r\n      return {\r\n        clientId: clientId,\r\n        projectId: projectId,\r\n        specId: `${arrSpecId[0]}.${caseId}`,\r\n        caseId: caseId,\r\n        captureType: captureType,\r\n        status: status,\r\n        fileName: `${specId}.js`,\r\n        baselineFolder: `./test/specs/${clientId}/${projectId}/baseline`,\r\n      };\r\n    } else {\r\n      if (filePath.includes(`init.js`)) {\r\n        // test\\\\specs\\\\init.js\r\n        return { specId: \"init\", fileName: `init.js` };\r\n      } else {\r\n        // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\data\\\\tc2json.js\r\n        const prjPath = path.dirname(path.dirname(filePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\r\n        const projectId = path.basename(prjPath);\r\n        const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\r\n        const clientId = path.basename(clientPath);\r\n        return { clientId: clientId, projectId: projectId };\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get spec information based on spec id\r\n   * @param {String} specId spec id or spec file name\r\n   * @returns {Object}\r\n   */\r\n  async getInfoFromSpecId(specId) {\r\n    const globPromise = util.promisify(glob);\r\n    let info = {};\r\n\r\n    // TRY TO FIND WITH NORMAL PATTERN\r\n    var files = await globPromise(\r\n      `./test/specs/**/record/**/${specId}.js`\r\n    ).catch((err) => console.error(err));\r\n\r\n    // TRY TO FIND WITH FILE NAME INCLUDED STATUS\r\n    if (files.length <= 0) {\r\n      files = await globPromise(\r\n        `./test/specs/**/record/**/${specId}.*.js`\r\n      ).catch((err) => console.error(err));\r\n    }\r\n\r\n    if (files.length > 0) {\r\n      info = this.getInfoFromFilePath(files[0]);\r\n    }\r\n\r\n    return info;\r\n  }\r\n\r\n  /**\r\n   * Search specs based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\r\n  async searchAllSpecs(pattern = \"\") {\r\n    const globPromise = util.promisify(glob);\r\n\r\n    if (pattern == \"\") pattern = `./test/specs/**/record/**/*.js`;\r\n\r\n    var files = await globPromise(pattern).catch((err) => console.error(err));\r\n\r\n    return files;\r\n  }\r\n\r\n  /**\r\n   * Search suites based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\r\n  searchAllSuites(pattern = \"\") {\r\n    if (pattern == \"\") pattern = `./test/specs/**/data/suites.json`;\r\n\r\n    const files = glob.sync(pattern);\r\n\r\n    return files;\r\n  }\r\n\r\n  /**\r\n   * Get capture options\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\r\n  async getCaptureOpts(clientId, projectId) {\r\n    const prjPath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\r\n    const baselinePath = prjPath + `/baseline/`;\r\n    const excelData = await this.getProjectDataExcel(clientId, projectId);\r\n\r\n    let webOpts = { baselineFolder: baselinePath };\r\n    let mobileOpts = {};\r\n    let globalOpts = {};\r\n    const captureOptsDataSheet = excelData[\"img_compare\"];\r\n    for (let j = 0; j < captureOptsDataSheet.length; j++) {\r\n      let config = captureOptsDataSheet[j][\"config\"];\r\n      let value = captureOptsDataSheet[j][\"value\"];\r\n      let type = captureOptsDataSheet[j][\"type\"];\r\n\r\n      value = this.excelDataConverter(value);\r\n\r\n      if (type != \"\") {\r\n        switch (type) {\r\n          case \"web\":\r\n            webOpts[config] = value;\r\n            break;\r\n          case \"mobile\":\r\n            mobileOpts[config] = value;\r\n            break;\r\n          case \"global\":\r\n            globalOpts[config] = value;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      web: webOpts,\r\n      mobile: mobileOpts,\r\n      global: globalOpts,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Write code back to spec file\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents file content\r\n   */\r\n  writeSpec(specFilePath, contents) {\r\n    fs.writeFile(specFilePath, contents, (err) => {\r\n      if (err) {\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update global data json\r\n   * @param {Object} jsonData global data json\r\n   * @param {Object} jsonPath json file path, default is global data json\r\n   */\r\n  async updateDataJsonFile(jsonData, jsonPath = \"\") {\r\n    if (jsonPath == \"\") jsonPath = this.globalJsonPath;\r\n\r\n    // FORMAT\r\n    const formatJson = beautify(JSON.stringify(jsonData), { indent_size: 2 });\r\n\r\n    // WRITE\r\n    const fsPromises = fs.promises;\r\n    await fsPromises\r\n      .writeFile(jsonPath, formatJson)\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  /**\r\n   * Read JSON file and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\r\n  async readFileJSON(path, opt = \"utf8\", errMsg = \"\") {\r\n    const fsPromises = fs.promises;\r\n    const data = await fsPromises\r\n      .readFile(path, opt)\r\n      .catch((err) => console.error(errMsg, err));\r\n\r\n    return JSON.parse(data.toString());\r\n  }\r\n\r\n  /**\r\n   * Read JSON file sync and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @returns {JSON}\r\n   */\r\n  readFileJSONSync(path, opt = \"utf8\") {\r\n    try {\r\n      const data = fs.readFileSync(path, opt);\r\n      return JSON.parse(data.toString());\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ensure data returned from Excel is usable\r\n   * @param {String} value cell value from excel\r\n   * @returns {String}\r\n   */\r\n  excelDataConverter(value) {\r\n    if (typeof value == \"undefined\") value = 0;\r\n    if (String(value).toLowerCase() == \"true\") value = true;\r\n    if (String(value).toLowerCase() == \"false\") value = false;\r\n\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Create folder if not existing\r\n   * @param {String} path folder path\r\n   */\r\n  createFolder(path) {\r\n    if (!fs.existsSync(path)) {\r\n      fs.mkdirSync(path, { recursive: true });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create file with input content\r\n   * @param {String} path file path\r\n   * @param {String} content file content\r\n   */\r\n  createFile(path, content, encode = \"\") {\r\n    if (encode == \"\") fs.writeFileSync(path, content);\r\n    else fs.writeFileSync(path, content, encode);\r\n  }\r\n\r\n  /**\r\n   * Copy file from source to destination\r\n   * @param {String} from source file path\r\n   * @param {String} to destination file path\r\n   */\r\n  copyFile(from, to) {\r\n    fs.copyFile(from, to, (err) => {\r\n      if (err) throw err;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Read file and get file content\r\n   * @param {String} path file path\r\n   * @returns {String}\r\n   */\r\n  async readFile(path, opt = \"\") {\r\n    const fsPromises = fs.promises;\r\n    let data = null;\r\n\r\n    if (opt != \"\") {\r\n      data = await fsPromises.readFile(path, opt).catch((err) => {\r\n        // console.log(err);\r\n      });\r\n    } else {\r\n      data = await fsPromises.readFile(path).catch((err) => {\r\n        // console.log(err);\r\n      });\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Rename a file\r\n   * @param {String} oldPath old file path\r\n   * @param {String} newPath new file path\r\n   */\r\n  async renameFile(oldPath, newPath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.rename(oldPath, newPath);\r\n    } catch (err) {\r\n      // console.error(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if file is existing async\r\n   * @param {String} filePath file path\r\n   * @returns {Boolean}\r\n   */\r\n  async fileExists(filePath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.access(filePath);\r\n      return true;\r\n    } catch (err) {\r\n      if (err.code === \"ENOENT\") {\r\n        return false;\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete file async\r\n   * @param {String} filePath file path\r\n   */\r\n  async deleteFile(filePath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.unlink(filePath);\r\n    } catch (err) {\r\n      // console.log(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the image dimensions\r\n   * @param {Object} info Spec information\r\n   * @param {String} platform android or iphone\r\n   * @returns {Object}\r\n   */\r\n  async getImgSize(info, platform) {\r\n    const prjPath =\r\n      process.cwd() + `/test/specs/${info.clientId}/${info.projectId}`;\r\n    const filePath = prjPath + `/baseline/${platform}/${info.specId}.png`;\r\n\r\n    try {\r\n      const image = await jimp.read(filePath);\r\n      return {\r\n        width: image.getWidth(),\r\n        height: image.getHeight(),\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        width: 0,\r\n        height: 0,\r\n      };\r\n    }\r\n  }\r\n}\r\nmodule.exports = new dataHandler();\r\n"],"mappings":"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"}},"mtime":1700647517009},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\common.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"class Common {\n  /**\r\n   * Capitalize the 1st character of a string\r\n   * @param {String} str string to be capitalized\r\n   * @returns {String}\r\n   */\n  capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  /**\r\n   * Check if spec file is ignored\r\n   * @param {String} specFilePath Spec full file path\r\n   * @returns {Boolean}\r\n   */\n  isNormalSpec(specFilePath) {\n    if (specFilePath.includes(\"init.js\") || specFilePath.includes(\"tc2json.js\") || specFilePath.includes(\"spec-generation.js\")) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\r\n   * Check if String is undefined, or blank\r\n   * @param {String} text String to be checked if undefined or blank\r\n   * @returns {Boolean}\r\n   */\n  emptyOrUndefined(text) {\n    if (typeof text == \"undefined\" || text == \"\") {\n      return true;\n    }\n    return false;\n  }\n}\nmodule.exports = new Common();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21tb24iLCJjYXBpdGFsaXplIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImlzTm9ybWFsU3BlYyIsInNwZWNGaWxlUGF0aCIsImluY2x1ZGVzIiwiZW1wdHlPclVuZGVmaW5lZCIsInRleHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx1dGlsc1xcIiwic291cmNlcyI6WyJjb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ29tbW9uIHtcclxuICAvKipcclxuICAgKiBDYXBpdGFsaXplIHRoZSAxc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBzdHJpbmcgdG8gYmUgY2FwaXRhbGl6ZWRcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGNhcGl0YWxpemUoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgc3BlYyBmaWxlIGlzIGlnbm9yZWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0ZpbGVQYXRoIFNwZWMgZnVsbCBmaWxlIHBhdGhcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBpc05vcm1hbFNwZWMoc3BlY0ZpbGVQYXRoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHNwZWNGaWxlUGF0aC5pbmNsdWRlcyhcImluaXQuanNcIikgfHxcclxuICAgICAgc3BlY0ZpbGVQYXRoLmluY2x1ZGVzKFwidGMyanNvbi5qc1wiKSB8fFxyXG4gICAgICBzcGVjRmlsZVBhdGguaW5jbHVkZXMoXCJzcGVjLWdlbmVyYXRpb24uanNcIilcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBTdHJpbmcgaXMgdW5kZWZpbmVkLCBvciBibGFua1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFN0cmluZyB0byBiZSBjaGVja2VkIGlmIHVuZGVmaW5lZCBvciBibGFua1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGVtcHR5T3JVbmRlZmluZWQodGV4dCkge1xyXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwidW5kZWZpbmVkXCIgfHwgdGV4dCA9PSBcIlwiKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IENvbW1vbigpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sQ0FBQztFQUNYO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRUMsVUFBVUEsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2QsT0FBT0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSyxDQUFDLENBQUMsQ0FBQztFQUNuRDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0VDLFlBQVlBLENBQUNDLFlBQVksRUFBRTtJQUN6QixJQUNFQSxZQUFZLENBQUNDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFDaENELFlBQVksQ0FBQ0MsUUFBUSxDQUFDLFlBQVksQ0FBQyxJQUNuQ0QsWUFBWSxDQUFDQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsRUFDM0M7TUFDQSxPQUFPLEtBQUs7SUFDZDtJQUVBLE9BQU8sSUFBSTtFQUNiOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRUMsZ0JBQWdCQSxDQUFDQyxJQUFJLEVBQUU7SUFDckIsSUFBSSxPQUFPQSxJQUFJLElBQUksV0FBVyxJQUFJQSxJQUFJLElBQUksRUFBRSxFQUFFO01BQzVDLE9BQU8sSUFBSTtJQUNiO0lBRUEsT0FBTyxLQUFLO0VBQ2Q7QUFDRjtBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxJQUFJWixNQUFNLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Common","capitalize","str","charAt","toUpperCase","slice","isNormalSpec","specFilePath","includes","emptyOrUndefined","text","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\","sources":["common.js"],"sourcesContent":["class Common {\r\n  /**\r\n   * Capitalize the 1st character of a string\r\n   * @param {String} str string to be capitalized\r\n   * @returns {String}\r\n   */\r\n  capitalize(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n\r\n  /**\r\n   * Check if spec file is ignored\r\n   * @param {String} specFilePath Spec full file path\r\n   * @returns {Boolean}\r\n   */\r\n  isNormalSpec(specFilePath) {\r\n    if (\r\n      specFilePath.includes(\"init.js\") ||\r\n      specFilePath.includes(\"tc2json.js\") ||\r\n      specFilePath.includes(\"spec-generation.js\")\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Check if String is undefined, or blank\r\n   * @param {String} text String to be checked if undefined or blank\r\n   * @returns {Boolean}\r\n   */\r\n  emptyOrUndefined(text) {\r\n    if (typeof text == \"undefined\" || text == \"\") {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = new Common();\r\n"],"mappings":"AAAA,MAAMA,MAAM,CAAC;EACX;AACF;AACA;AACA;AACA;EACEC,UAAUA,CAACC,GAAG,EAAE;IACd,OAAOA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,GAAG,CAACG,KAAK,CAAC,CAAC,CAAC;EACnD;;EAEA;AACF;AACA;AACA;AACA;EACEC,YAAYA,CAACC,YAAY,EAAE;IACzB,IACEA,YAAY,CAACC,QAAQ,CAAC,SAAS,CAAC,IAChCD,YAAY,CAACC,QAAQ,CAAC,YAAY,CAAC,IACnCD,YAAY,CAACC,QAAQ,CAAC,oBAAoB,CAAC,EAC3C;MACA,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb;;EAEA;AACF;AACA;AACA;AACA;EACEC,gBAAgBA,CAACC,IAAI,EAAE;IACrB,IAAI,OAAOA,IAAI,IAAI,WAAW,IAAIA,IAAI,IAAI,EAAE,EAAE;MAC5C,OAAO,IAAI;IACb;IAEA,OAAO,KAAK;EACd;AACF;AAEAC,MAAM,CAACC,OAAO,GAAG,IAAIZ,MAAM,CAAC,CAAC"}},"mtime":1700647516491},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const assert = require(\"assert\");\nconst beautify = require(\"js-beautify\").js;\nconst https = require(\"https\");\nconst allureCustom = require(\"./lib/allure\");\nconst dataHandler = require(\"./lib/data_handler\");\nconst capHandler = require(\"./lib/cap_handler\");\nclass Utils {\n  /**\r\n   * Save and compare the screenshots between baseline and actual\r\n   * @param {string} projId Project ID\r\n   * @param {string} specId Spec ID\r\n   */\n  async imgCompare(projId, specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, projId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, projId);\n\n    // WAIT FOR CAPTURE LATENCY\n    const waitForCapture = captureOpts.global[\"wait_for\"];\n    await browser.pause(waitForCapture);\n\n    // GET ELEMENTS HIDDEN OR REMOVED\n    const hideRevEle = await this.getHideRemoveEle(info, captureOpts, excelData);\n    const status = info.status;\n    const captureType = info.captureType;\n    let webCaptureOpts = captureOpts.web;\n    let mobileCaptureOpts = captureOpts.mobile;\n    let result = 0;\n\n    // CHECK STATUS\n    if (status == \"active\") {\n      // CHECK CAPTURE TYPE\n      switch (captureType) {\n        case \"fullpage\":\n          // ADD HIDE REMOVE ELEMENT\n          if (typeof hideRevEle.fullpageHideElements != \"undefined\" && hideRevEle.fullpageHideElements.length > 0) {\n            webCaptureOpts[\"hideElements\"] = hideRevEle.fullpageHideElements;\n          }\n          if (typeof hideRevEle.fullpageRemoveElements != \"undefined\" && hideRevEle.fullpageRemoveElements.length > 0) {\n            webCaptureOpts[\"removeElements\"] = hideRevEle.fullpageRemoveElements;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          result = await browser.checkFullPageScreen(specId, webCaptureOpts);\n          break;\n        case \"screen\":\n          // ADD HIDE REMOVE ELEMENT\n          if (typeof hideRevEle.screenHideElements != \"undefined\" && hideRevEle.screenHideElements.length > 0) {\n            webCaptureOpts[\"hideElements\"] = hideRevEle.screenHideElements;\n          }\n          if (typeof hideRevEle.screenRemoveElements != \"undefined\" && hideRevEle.screenRemoveElements.length > 0) {\n            webCaptureOpts[\"removeElements\"] = hideRevEle.screenRemoveElements;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          result = await browser.checkScreen(specId, webCaptureOpts);\n          break;\n        case \"mobile\":\n          // ADD BLOCKOUT ELEMENT\n          if (typeof hideRevEle.elementBlockOuts != \"undefined\" && hideRevEle.elementBlockOuts.length > 0) {\n            mobileCaptureOpts[\"elementBlockOuts\"] = hideRevEle.elementBlockOuts;\n          }\n\n          // ADD BLOCKOUTS\n          if (typeof hideRevEle.blockOuts != \"undefined\" && hideRevEle.blockOuts.length > 0) {\n            mobileCaptureOpts[\"blockOuts\"] = hideRevEle.blockOuts;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          let resultObj = await driver.compareScreen(specId, mobileCaptureOpts);\n\n          // GET RESULT\n          result = resultObj.misMatchPercentage;\n          break;\n      }\n    }\n\n    // CUSTOMIZE ALLURE REPORT\n    await allureCustom.customDetail(info, result, captureOpts);\n    allureCustom.customActions(specId, status);\n\n    // THROW ERROR IF FAILED\n    if (result > 0) {\n      assert.fail(new Error(`Image comparison is failed. Diff percentage is ${result}%.`));\n    }\n  }\n\n  /**\r\n   * Bypass page authentication\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   */\n  async pageAuth(clientId, projectId) {\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n    const enabled = excelData[\"auth\"][0][\"enabled\"];\n    if (enabled == \"yes\") {\n      const baseUrl = excelData[\"config\"][0][\"base_url\"];\n      const handler = excelData[\"auth\"][0][\"handler\"];\n      let http = \"http://\";\n      if (baseUrl.includes(\"https://\")) http = \"https://\";\n      await browser.url(`${http}${excelData[\"auth\"][0][\"usr\"]}:${excelData[\"auth\"][0][\"pass\"]}@${baseUrl.replace(http, \"\")}${handler}`);\n      await browser.pause(`${excelData[\"auth\"][0][\"wait\"]}`);\n      await browser.url(`${baseUrl}${handler}`);\n    }\n  }\n\n  /**\r\n   * Check if current capability is valid\r\n   * @returns {boolean}\r\n   */\n  async checkValidCaps() {\n    const platform = await browser.capabilities.platformName;\n    const browserName = await browser.capabilities.browserName;\n    let desiredCaps = await browser.capabilities.desired;\n    let valid = true;\n    if (typeof desiredCaps == \"undefined\") desiredCaps = await driver.capabilities;\n\n    // DETECT WEB OR MOBILE\n    if (browserName == \"\" || typeof browserName == \"undefined\") {\n      switch (platform) {\n        case \"Android\":\n          if (typeof desiredCaps[\"udid\"] == \"undefined\" && typeof desiredCaps[\"appium:udid\"] == \"undefined\" || typeof desiredCaps[\"appPackage\"] == \"undefined\" && typeof desiredCaps[\"appium:appPackage\"] == \"undefined\" || typeof desiredCaps[\"appActivity\"] == \"undefined\" && typeof desiredCaps[\"appium:appActivity\"] == \"undefined\") valid = false;\n          break;\n        case \"iOS\":\n          break;\n      }\n    }\n    return valid;\n  }\n\n  /**\r\n   * Get list of elements to hide or remove or blockout\r\n   * @param {Object} info spec information\r\n   * @param {Object} captureOpts capture options\r\n   * @param {Object} excelData excel data\r\n   * @returns {Object}\r\n   */\n  async getHideRemoveEle(info, captureOpts, excelData) {\n    const captureDataSheet = excelData[\"img_compare\"];\n    const caps = await capHandler.getCapabilities(info.specId);\n    let result = {\n      // WEB\n      fullpageHideElements: [],\n      fullpageRemoveElements: [],\n      screenHideElements: [],\n      screenRemoveElements: [],\n      // MOBILE\n      elementBlockOuts: [],\n      blockOuts: []\n    };\n\n    // DEFINE PLATFORM\n    let platform = \"web\";\n    if (info.captureType == \"mobile\") platform = \"mobile\";\n    for (let i = 0; i < captureDataSheet.length; i++) {\n      const row = captureDataSheet[i];\n      const fullHide = row[\"fullpage_hide_element\"];\n      const screenHide = row[\"screen_hide_element\"];\n      const fullRemove = row[\"fullpage_remove_element\"];\n      const screenRemove = row[\"screen_remove_element\"];\n      const mobileEleBlockout = row[\"mobile_element_blockout\"];\n      const mobileBlockout = row[\"mobile_blockouts\"];\n      switch (platform) {\n        case \"web\":\n          // HIDE ELEMENT --- VISIBILITY = HIDDEN\n          if (typeof fullHide != \"undefined\" && fullHide != \"\") {\n            const fullHideEle = await $(fullHide);\n            if (typeof fullHideEle.error == \"undefined\") result[\"fullpageHideElements\"].push(fullHideEle);\n          }\n          if (typeof screenHide != \"undefined\" && screenHide != \"\") {\n            const screenHideEle = await $(screenHide);\n            if (typeof screenHideEle.error == \"undefined\") result[\"screenHideElements\"].push(screenHideEle);\n          }\n\n          // REMOVE ELEMENT --- DISPLAY = NONE\n          if (typeof fullRemove != \"undefined\" && fullRemove != \"\") {\n            const fullRemoveEle = await $(fullRemove);\n            if (typeof fullRemoveEle.error == \"undefined\") result[\"fullpageRemoveElements\"].push(fullRemoveEle);\n          }\n          if (typeof screenRemove != \"undefined\" && screenRemove != \"\") {\n            const screenRemoveEle = await $(screenRemove);\n            if (typeof screenRemoveEle.error == \"undefined\") result[\"screenRemoveElements\"].push(screenRemoveEle);\n          }\n          break;\n        case \"mobile\":\n          const blockoutMargin = captureOpts.global[\"element_blockout_margin\"];\n          // ELEMENT BLOCKOUTS\n          if (typeof mobileEleBlockout != \"undefined\" && mobileEleBlockout != \"\") {\n            if (caps.platformName.toLowerCase() == \"android\" && mobileEleBlockout.includes(\"android=\") || caps.platformName.toLowerCase() == \"ios\" && mobileEleBlockout.includes(\"-ios\") || mobileEleBlockout.substring(0, 1) == \"~\" || mobileEleBlockout.substring(0, 2) == \"//\") {\n              const ele = await $(mobileEleBlockout);\n              if (await ele.isExisting()) result[\"elementBlockOuts\"].push({\n                element: ele,\n                margin: blockoutMargin\n              });\n            }\n          }\n          // BLOCKOUTS\n          if (typeof mobileBlockout != \"undefined\" && mobileBlockout != \"\") {\n            const arg = JSON.parse(mobileBlockout);\n\n            // GET IMG DIMENSIONS\n            let dimensions = {};\n            if (caps.platformName.toLowerCase() == \"android\") {\n              const {\n                width,\n                height\n              } = await driver.getWindowRect();\n              dimensions.width = width;\n              dimensions.height = height;\n            }\n            if (caps.platformName.toLowerCase() == \"ios\") {\n              const imgDimensions = await dataHandler.getImgSize(info, caps.baselineFolder);\n              dimensions.width = imgDimensions.width;\n              dimensions.height = imgDimensions.height;\n            }\n            if (dimensions.width > 0 || dimensions.height > 0) {\n              let param = {\n                x: arg.x * dimensions.width,\n                y: arg.y * dimensions.height,\n                width: dimensions.width,\n                height: dimensions.height\n              };\n              if (typeof arg.height != \"undefined\") {\n                param.height = arg.height;\n              }\n              if (typeof arg.width != \"undefined\") {\n                param.width = arg.width;\n              }\n              result[\"blockOuts\"].push(param);\n            }\n          }\n          break;\n      }\n    }\n    return result;\n  }\n\n  /**\r\n   * Add custom capture option\r\n   * @param {string} specId Spec id\r\n   * @param {string} key option name\r\n   * @param {string} value option value\r\n   * @param {string} type web or mobile\r\n   */\n  async addCaptureOpts(specId, key, value, type = \"web\") {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    let jsonData = await dataHandler.getGlobalDataJson();\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\n    let changed = false;\n    let opts = {\n      id: specId,\n      values: []\n    };\n    if (typeof data == \"undefined\" || data.length <= 0) {\n      data = [];\n      data.push(opts);\n    }\n\n    // LOOP DATA\n    for (let i = 0; i < data.length; i++) {\n      // DEFINE DETAIL OPT\n      const deOpt = {\n        key: key,\n        enabled: true,\n        arg: {\n          type: type,\n          value: value\n        }\n      };\n      if (data[i][\"id\"] == specId) {\n        // CHECK OPT EXIST\n        if (typeof data[i].values == \"undefined\" || data[i].values.length <= 0) {\n          data[i].values = [];\n          data[i].values.push(deOpt);\n          changed = true;\n        } else {\n          let found = false;\n          for (let n = 0; n < data[i].values.length; n++) {\n            if (data[i].values[n].key == key) {\n              data[i].values[n] = deOpt;\n              found = true;\n              changed = true;\n              break;\n            }\n          }\n          if (!found) {\n            data[i].values.push(deOpt);\n            changed = true;\n          }\n        }\n      }\n    }\n\n    // WRITE JSON\n    if (changed) {\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\n      await dataHandler.updateDataJsonFile(jsonData);\n    }\n  }\n\n  /**\r\n   * Search all indexes of substring in string\r\n   * @param {string} searchStr Search substring\r\n   * @param {string} str Target string\r\n   * @param {boolean} caseSensitive Case sensitive\r\n   * @returns {Array} found indexes\r\n   */\n  getIndicesOf(searchStr, str, caseSensitive) {\n    var searchStrLen = searchStr.length;\n    if (searchStrLen == 0) {\n      return [];\n    }\n    var startIndex = 0,\n      index,\n      indices = [];\n    if (!caseSensitive) {\n      str = str.toLowerCase();\n      searchStr = searchStr.toLowerCase();\n    }\n    while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n      indices.push(index);\n      startIndex = index + searchStrLen;\n    }\n    return indices;\n  }\n\n  /**\r\n   * Customize the allure report for current spec\r\n   * @param {Object} arg included reportId, excelData, msg and info object\r\n   */\n  async customReport(arg = {}) {\n    for (let i = 0; i < arg.excelData[\"custom_report\"].length; i++) {\n      const row = arg.excelData[\"custom_report\"][i];\n      if (row[\"id\"] == arg.reportId) {\n        // CUSTOMIZE ALLURE REPORT\n        allureCustom.addSeverity(row[\"severity\"]);\n\n        // ADD ENV DETAIL\n        await allureCustom.addEnvDetail(arg.info);\n\n        // ADD CASE ID\n        allureCustom.addArgument(\"case\", arg.info.specId);\n\n        // ADD IP ADDR\n        await this.getIPAddr().then(publicIp => {\n          console.log(publicIp); // prints the public IP address to the console\n          allureCustom.addArgument(\"ip\", publicIp);\n        }).catch(err => {\n          console.error(err);\n        });\n\n        // ADD STEP\n        allureCustom.addStep(arg.msg);\n\n        // ADD ATTACHMENT\n        const screenshot = await browser.takeScreenshot();\n        allureCustom.addAttachment(screenshot);\n\n        // END STEP\n        allureCustom.endStep(row[\"status\"]);\n        return row[\"status\"];\n      }\n    }\n  }\n\n  /**\r\n   * Check if firewall rejected the access\r\n   * @param {String} specId spec id\r\n   */\n  async checkFireWall(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    if (info.captureType != \"mobile\") {\n      for (let i = 0; i < excelData[\"firewall\"].length; i++) {\n        const row = excelData[\"firewall\"][i];\n        if (row[\"enabled\"] == \"yes\") {\n          switch (row[\"type\"]) {\n            case \"security\":\n              const eleMsg = await $(`//body//*[contains(text(), '${row[\"msg\"]}')]`);\n\n              // IF ERROR MESSAGE IS RETURNED\n              if (typeof eleMsg.error == \"undefined\") {\n                const msg = await eleMsg.getText();\n                const arg = {\n                  reportId: row[\"custom_report\"],\n                  excelData: excelData,\n                  msg: msg,\n                  info: info\n                };\n\n                // SCROLL INTOVIEW\n                await eleMsg.scrollIntoView({\n                  block: \"center\",\n                  inline: \"center\"\n                });\n\n                // CUSTOM REPORT\n                const status = await this.customReport(arg);\n\n                // THROW ERROR\n                switch (status) {\n                  case \"failed\":\n                    await expect(eleMsg).not.toBeExisting();\n                    break;\n                  case \"broken\":\n                    assert.fail(new Error(msg));\n                    break;\n                }\n              }\n              break;\n            default:\n              if (row[\"type\"] == \"error_404\" || row[\"type\"] == \"access_denied\") {\n                if ((await browser.getTitle()).includes(row[\"msg\"])) {\n                  const arg = {\n                    reportId: row[\"custom_report\"],\n                    excelData: excelData,\n                    msg: row[\"msg\"],\n                    info: info\n                  };\n\n                  // SCROLL INTOVIEW\n                  await $(`//body//*[contains(text(), '${row[\"msg\"]}')]`).scrollIntoView({\n                    block: \"center\",\n                    inline: \"center\"\n                  });\n\n                  // CUSTOM REPORT\n                  const status = await this.customReport(arg);\n\n                  // THROW ERROR\n                  switch (status) {\n                    case \"failed\":\n                      await expect(browser).not.toHaveTitleContaining(row[\"msg\"]);\n                      break;\n                    case \"broken\":\n                      assert.fail(new Error(row[\"msg\"]));\n                      break;\n                  }\n                }\n              }\n              break;\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Make up the code with beauty format\r\n   * @param {String} contents spec file script\r\n   * @param {Int} indent_size indent size\r\n   * @param {Boolean} space_in_empty_paren keep or remove space in empty paren\r\n   * @param {Boolean} preserve_newlines keep or remove empty lines\r\n   * @param {Int} max_preserve_newlines number of empty lines can be kept\r\n   * @param {String} eol character defined for breakline\r\n   * @returns {String}\r\n   */\n  codeMakeUp(contents, indent_size = 2, space_in_empty_paren = true, preserve_newlines = true, max_preserve_newlines = 2, eol = \"\\r\") {\n    return beautify(contents, {\n      indent_size: indent_size,\n      space_in_empty_paren: space_in_empty_paren,\n      preserve_newlines: preserve_newlines,\n      max_preserve_newlines: max_preserve_newlines,\n      eol: eol\n    });\n  }\n\n  /**\r\n   * Generate spec files automatically based on list of pages in excel\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} addStep custom additional step\r\n   */\n  async specGeneration(file, flows = [], total = -1, dynamicBaseUrl = false) {\n    const info = await dataHandler.getInfoFromFilePath(file);\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    const captureType = \"fullpage\";\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n\n    // CHECK IF CONFIG IS ENABLED\n    const enabled = excelData[\"config\"][0][\"spec_generation\"];\n    if (typeof enabled == \"undefined\" || enabled != \"yes\") {\n      console.log(`The config is set to ${enabled}.`);\n      return false;\n    }\n\n    // GET TOTAL\n    if (total == -1) total = excelData[\"pages\"].length;\n\n    // REMOVE OLD FILES\n    await this.removeFiles(clientId, projectId, captureType);\n\n    // CREATE NEW FILES\n    for (let i = 0; i < total; i++) {\n      const row = excelData[\"pages\"][i];\n      if (row[\"domain\"] != \"\" && typeof row[\"domain\"] != \"undefined\") {\n        const domain = row[\"domain\"].replace(/\\/+$/, \"\");\n        let handler = ``;\n        const pageId = row[\"page_id\"];\n        if (typeof row[\"handler\"] != \"undefined\") {\n          handler = row[\"handler\"].replace(/^\\/+/, \"\");\n        }\n        let link = domain + \"/\" + handler;\n        let coreScript = `await browser.url(\"${link}\");`;\n        if (dynamicBaseUrl) {\n          link = \"`${global.dynamicBaseUrl}/\" + handler + \"`\";\n          coreScript = `await browser.url(${link});`;\n        }\n\n        // DEFINE FILE PATH\n        const fileName = `${projectId}.${captureType}-${pageId}.js`;\n        const filePath = process.cwd() + `/test/specs/${clientId}/${projectId}/record/${captureType}/${fileName}`;\n\n        // DEFINE CONTENTS\n        for (let j = 0; j < flows.length; j++) {\n          const flow = flows[j];\n          if (flow.id == \"0\" || flow.id == row[\"flow\"]) {\n            if (flow.preStep != \"\") {\n              coreScript = flow.preStep + \"\\n\" + coreScript;\n            }\n            if (flow.addStep != \"\") {\n              coreScript = coreScript + \"\\n\" + flow.addStep;\n            }\n          }\n        }\n        const contents = `var assert = require(\"assert\");\n        describe(\"${captureType}-${pageId}\",async function(){\n          it(\"recorder :: ${captureType}-${pageId}\",async function(){\n            ${coreScript}\n          });\n        });`;\n\n        // CHECK STATUS\n        if (row[\"status\"] != \"active\") {\n          // RENAME\n          const newFilePath = process.cwd() + `/test/specs/${clientId}/${projectId}/record/${captureType}/${projectId}.${captureType}-${pageId}.${row[\"status\"]}.js`;\n          await dataHandler.writeSpec(newFilePath, this.codeMakeUp(contents));\n        } else {\n          // WRITE FILE\n          await dataHandler.writeSpec(filePath, this.codeMakeUp(contents));\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Remove all current specs before generation\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} captureType capture type\r\n   */\n  async removeFiles(clientId, projectId, captureType) {\n    const pathPattern = `./test/specs/${clientId}/${projectId}/record/${captureType}/*.fullpage-*.js`;\n    const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\n    for (let i = 0; i < searchFiles.length; i++) {\n      const f = searchFiles[i];\n      await dataHandler.deleteFile(f);\n    }\n  }\n\n  /**\r\n   * Get current public IP Address\r\n   * @returns {String}\r\n   */\n  async getIPAddr() {\n    return new Promise((resolve, reject) => {\n      https.get(\"https://api.ipify.org\", res => {\n        let data = \"\";\n        res.on(\"data\", chunk => {\n          data += chunk;\n        });\n        res.on(\"end\", () => {\n          const publicIp = data.trim();\n          resolve(publicIp);\n        });\n      }).on(\"error\", err => {\n        reject(err);\n      });\n    });\n  }\n\n  /**\r\n   * Get localization from spec id\r\n   * @param {String} specId spec id\r\n   * @returns {String}\r\n   */\n  async getLocalization(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const caseId = info.caseId;\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    const arrCaseId = caseId.split(\"_\");\n    let country = arrCaseId[arrCaseId.length - 1];\n    for (let i = 0; i < excelData[\"localization_map\"].length; i++) {\n      const row = excelData[\"localization_map\"][i];\n      if (row[\"key\"] === country.toLowerCase()) {\n        country = row[\"mapping\"];\n        break;\n      }\n    }\n    return country;\n  }\n\n  /**\r\n   * Auto get dynamic base url\r\n   * @param {String} specId Spec id\r\n   * @returns {String}\r\n   */\n  async getDynamicUrl(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n    // CHECK IF ACTUAL URL IS DEFINED\n    const baseUrl = excelData[\"config\"][0][\"base_url\"];\n    const actualUrl = excelData[\"config\"][0][\"actual_url\"];\n    if (typeof actualUrl != \"undefined\" && actualUrl != \"\" & actualUrl != baseUrl) {\n      // ACTUAL URL IS DEFINED\n      const caps = await capHandler.getCapabilities(info.specId);\n      const baselineFolder = caps.baselineFolder;\n      const pathPattern = `${info.baselineFolder}/${baselineFolder}/${specId}.png`;\n      const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\n\n      // CHECK IF BASELINE IS EXISTING\n      if (searchFiles.length > 0) {\n        // BASELINE IS EXISTING\n        return actualUrl;\n      } else {\n        // BASELINE IS NOT EXISTING\n        return baseUrl;\n      }\n    } else {\n      // ACTUAL URL IS NOT DEFINED\n      return baseUrl;\n    }\n  }\n}\nmodule.exports = new Utils();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3NlcnQiLCJyZXF1aXJlIiwiYmVhdXRpZnkiLCJqcyIsImh0dHBzIiwiYWxsdXJlQ3VzdG9tIiwiZGF0YUhhbmRsZXIiLCJjYXBIYW5kbGVyIiwiVXRpbHMiLCJpbWdDb21wYXJlIiwicHJvaklkIiwic3BlY0lkIiwiaW5mbyIsImdldEluZm9Gcm9tU3BlY0lkIiwiY2FwdHVyZU9wdHMiLCJnZXRDYXB0dXJlT3B0cyIsImNsaWVudElkIiwiZXhjZWxEYXRhIiwiZ2V0UHJvamVjdERhdGFFeGNlbCIsIndhaXRGb3JDYXB0dXJlIiwiZ2xvYmFsIiwiYnJvd3NlciIsInBhdXNlIiwiaGlkZVJldkVsZSIsImdldEhpZGVSZW1vdmVFbGUiLCJzdGF0dXMiLCJjYXB0dXJlVHlwZSIsIndlYkNhcHR1cmVPcHRzIiwid2ViIiwibW9iaWxlQ2FwdHVyZU9wdHMiLCJtb2JpbGUiLCJyZXN1bHQiLCJmdWxscGFnZUhpZGVFbGVtZW50cyIsImxlbmd0aCIsImZ1bGxwYWdlUmVtb3ZlRWxlbWVudHMiLCJjaGVja0Z1bGxQYWdlU2NyZWVuIiwic2NyZWVuSGlkZUVsZW1lbnRzIiwic2NyZWVuUmVtb3ZlRWxlbWVudHMiLCJjaGVja1NjcmVlbiIsImVsZW1lbnRCbG9ja091dHMiLCJibG9ja091dHMiLCJyZXN1bHRPYmoiLCJkcml2ZXIiLCJjb21wYXJlU2NyZWVuIiwibWlzTWF0Y2hQZXJjZW50YWdlIiwiY3VzdG9tRGV0YWlsIiwiY3VzdG9tQWN0aW9ucyIsImZhaWwiLCJFcnJvciIsInBhZ2VBdXRoIiwicHJvamVjdElkIiwiZW5hYmxlZCIsImJhc2VVcmwiLCJoYW5kbGVyIiwiaHR0cCIsImluY2x1ZGVzIiwidXJsIiwicmVwbGFjZSIsImNoZWNrVmFsaWRDYXBzIiwicGxhdGZvcm0iLCJjYXBhYmlsaXRpZXMiLCJwbGF0Zm9ybU5hbWUiLCJicm93c2VyTmFtZSIsImRlc2lyZWRDYXBzIiwiZGVzaXJlZCIsInZhbGlkIiwiY2FwdHVyZURhdGFTaGVldCIsImNhcHMiLCJnZXRDYXBhYmlsaXRpZXMiLCJpIiwicm93IiwiZnVsbEhpZGUiLCJzY3JlZW5IaWRlIiwiZnVsbFJlbW92ZSIsInNjcmVlblJlbW92ZSIsIm1vYmlsZUVsZUJsb2Nrb3V0IiwibW9iaWxlQmxvY2tvdXQiLCJmdWxsSGlkZUVsZSIsIiQiLCJlcnJvciIsInB1c2giLCJzY3JlZW5IaWRlRWxlIiwiZnVsbFJlbW92ZUVsZSIsInNjcmVlblJlbW92ZUVsZSIsImJsb2Nrb3V0TWFyZ2luIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJlbGUiLCJpc0V4aXN0aW5nIiwiZWxlbWVudCIsIm1hcmdpbiIsImFyZyIsIkpTT04iLCJwYXJzZSIsImRpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsImdldFdpbmRvd1JlY3QiLCJpbWdEaW1lbnNpb25zIiwiZ2V0SW1nU2l6ZSIsImJhc2VsaW5lRm9sZGVyIiwicGFyYW0iLCJ4IiwieSIsImFkZENhcHR1cmVPcHRzIiwia2V5IiwidmFsdWUiLCJ0eXBlIiwianNvbkRhdGEiLCJnZXRHbG9iYWxEYXRhSnNvbiIsImRhdGEiLCJwcm9qZWN0cyIsImNoYW5nZWQiLCJvcHRzIiwiaWQiLCJ2YWx1ZXMiLCJkZU9wdCIsImZvdW5kIiwibiIsInVwZGF0ZURhdGFKc29uRmlsZSIsImdldEluZGljZXNPZiIsInNlYXJjaFN0ciIsInN0ciIsImNhc2VTZW5zaXRpdmUiLCJzZWFyY2hTdHJMZW4iLCJzdGFydEluZGV4IiwiaW5kZXgiLCJpbmRpY2VzIiwiaW5kZXhPZiIsImN1c3RvbVJlcG9ydCIsInJlcG9ydElkIiwiYWRkU2V2ZXJpdHkiLCJhZGRFbnZEZXRhaWwiLCJhZGRBcmd1bWVudCIsImdldElQQWRkciIsInRoZW4iLCJwdWJsaWNJcCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImFkZFN0ZXAiLCJtc2ciLCJzY3JlZW5zaG90IiwidGFrZVNjcmVlbnNob3QiLCJhZGRBdHRhY2htZW50IiwiZW5kU3RlcCIsImNoZWNrRmlyZVdhbGwiLCJlbGVNc2ciLCJnZXRUZXh0Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImlubGluZSIsImV4cGVjdCIsIm5vdCIsInRvQmVFeGlzdGluZyIsImdldFRpdGxlIiwidG9IYXZlVGl0bGVDb250YWluaW5nIiwiY29kZU1ha2VVcCIsImNvbnRlbnRzIiwiaW5kZW50X3NpemUiLCJzcGFjZV9pbl9lbXB0eV9wYXJlbiIsInByZXNlcnZlX25ld2xpbmVzIiwibWF4X3ByZXNlcnZlX25ld2xpbmVzIiwiZW9sIiwic3BlY0dlbmVyYXRpb24iLCJmaWxlIiwiZmxvd3MiLCJ0b3RhbCIsImR5bmFtaWNCYXNlVXJsIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsInJlbW92ZUZpbGVzIiwiZG9tYWluIiwicGFnZUlkIiwibGluayIsImNvcmVTY3JpcHQiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwicHJvY2VzcyIsImN3ZCIsImoiLCJmbG93IiwicHJlU3RlcCIsIm5ld0ZpbGVQYXRoIiwid3JpdGVTcGVjIiwicGF0aFBhdHRlcm4iLCJzZWFyY2hGaWxlcyIsInNlYXJjaEFsbFNwZWNzIiwiZiIsImRlbGV0ZUZpbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldCIsInJlcyIsIm9uIiwiY2h1bmsiLCJ0cmltIiwiZ2V0TG9jYWxpemF0aW9uIiwiY2FzZUlkIiwiYXJyQ2FzZUlkIiwic3BsaXQiLCJjb3VudHJ5IiwiZ2V0RHluYW1pY1VybCIsImFjdHVhbFVybCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFwiLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XHJcblxyXG5jb25zdCBiZWF1dGlmeSA9IHJlcXVpcmUoXCJqcy1iZWF1dGlmeVwiKS5qcztcclxuY29uc3QgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XHJcblxyXG5jb25zdCBhbGx1cmVDdXN0b20gPSByZXF1aXJlKFwiLi9saWIvYWxsdXJlXCIpO1xyXG5jb25zdCBkYXRhSGFuZGxlciA9IHJlcXVpcmUoXCIuL2xpYi9kYXRhX2hhbmRsZXJcIik7XHJcbmNvbnN0IGNhcEhhbmRsZXIgPSByZXF1aXJlKFwiLi9saWIvY2FwX2hhbmRsZXJcIik7XHJcblxyXG5jbGFzcyBVdGlscyB7XHJcbiAgLyoqXHJcbiAgICogU2F2ZSBhbmQgY29tcGFyZSB0aGUgc2NyZWVuc2hvdHMgYmV0d2VlbiBiYXNlbGluZSBhbmQgYWN0dWFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb2pJZCBQcm9qZWN0IElEXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwZWNJZCBTcGVjIElEXHJcbiAgICovXHJcbiAgYXN5bmMgaW1nQ29tcGFyZShwcm9qSWQsIHNwZWNJZCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBjb25zdCBjYXB0dXJlT3B0cyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldENhcHR1cmVPcHRzKGluZm8uY2xpZW50SWQsIHByb2pJZCk7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBwcm9qSWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gV0FJVCBGT1IgQ0FQVFVSRSBMQVRFTkNZXHJcbiAgICBjb25zdCB3YWl0Rm9yQ2FwdHVyZSA9IGNhcHR1cmVPcHRzLmdsb2JhbFtcIndhaXRfZm9yXCJdO1xyXG4gICAgYXdhaXQgYnJvd3Nlci5wYXVzZSh3YWl0Rm9yQ2FwdHVyZSk7XHJcblxyXG4gICAgLy8gR0VUIEVMRU1FTlRTIEhJRERFTiBPUiBSRU1PVkVEXHJcbiAgICBjb25zdCBoaWRlUmV2RWxlID0gYXdhaXQgdGhpcy5nZXRIaWRlUmVtb3ZlRWxlKFxyXG4gICAgICBpbmZvLFxyXG4gICAgICBjYXB0dXJlT3B0cyxcclxuICAgICAgZXhjZWxEYXRhXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHN0YXR1cyA9IGluZm8uc3RhdHVzO1xyXG4gICAgY29uc3QgY2FwdHVyZVR5cGUgPSBpbmZvLmNhcHR1cmVUeXBlO1xyXG4gICAgbGV0IHdlYkNhcHR1cmVPcHRzID0gY2FwdHVyZU9wdHMud2ViO1xyXG4gICAgbGV0IG1vYmlsZUNhcHR1cmVPcHRzID0gY2FwdHVyZU9wdHMubW9iaWxlO1xyXG4gICAgbGV0IHJlc3VsdCA9IDA7XHJcblxyXG4gICAgLy8gQ0hFQ0sgU1RBVFVTXHJcbiAgICBpZiAoc3RhdHVzID09IFwiYWN0aXZlXCIpIHtcclxuICAgICAgLy8gQ0hFQ0sgQ0FQVFVSRSBUWVBFXHJcbiAgICAgIHN3aXRjaCAoY2FwdHVyZVR5cGUpIHtcclxuICAgICAgICBjYXNlIFwiZnVsbHBhZ2VcIjpcclxuICAgICAgICAgIC8vIEFERCBISURFIFJFTU9WRSBFTEVNRU5UXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBoaWRlUmV2RWxlLmZ1bGxwYWdlSGlkZUVsZW1lbnRzICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgaGlkZVJldkVsZS5mdWxscGFnZUhpZGVFbGVtZW50cy5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgd2ViQ2FwdHVyZU9wdHNbXCJoaWRlRWxlbWVudHNcIl0gPSBoaWRlUmV2RWxlLmZ1bGxwYWdlSGlkZUVsZW1lbnRzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0eXBlb2YgaGlkZVJldkVsZS5mdWxscGFnZVJlbW92ZUVsZW1lbnRzICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgaGlkZVJldkVsZS5mdWxscGFnZVJlbW92ZUVsZW1lbnRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB3ZWJDYXB0dXJlT3B0c1tcInJlbW92ZUVsZW1lbnRzXCJdID1cclxuICAgICAgICAgICAgICBoaWRlUmV2RWxlLmZ1bGxwYWdlUmVtb3ZlRWxlbWVudHM7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRE8gQ09NUEFSSVNPTiAtLS0gQVVUTyBTQVZFIEJBU0VMSU5FXHJcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCBicm93c2VyLmNoZWNrRnVsbFBhZ2VTY3JlZW4oc3BlY0lkLCB3ZWJDYXB0dXJlT3B0cyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwic2NyZWVuXCI6XHJcbiAgICAgICAgICAvLyBBREQgSElERSBSRU1PVkUgRUxFTUVOVFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0eXBlb2YgaGlkZVJldkVsZS5zY3JlZW5IaWRlRWxlbWVudHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLnNjcmVlbkhpZGVFbGVtZW50cy5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgd2ViQ2FwdHVyZU9wdHNbXCJoaWRlRWxlbWVudHNcIl0gPSBoaWRlUmV2RWxlLnNjcmVlbkhpZGVFbGVtZW50cztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdHlwZW9mIGhpZGVSZXZFbGUuc2NyZWVuUmVtb3ZlRWxlbWVudHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLnNjcmVlblJlbW92ZUVsZW1lbnRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB3ZWJDYXB0dXJlT3B0c1tcInJlbW92ZUVsZW1lbnRzXCJdID0gaGlkZVJldkVsZS5zY3JlZW5SZW1vdmVFbGVtZW50cztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBETyBDT01QQVJJU09OIC0tLSBBVVRPIFNBVkUgQkFTRUxJTkVcclxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGJyb3dzZXIuY2hlY2tTY3JlZW4oc3BlY0lkLCB3ZWJDYXB0dXJlT3B0cyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9iaWxlXCI6XHJcbiAgICAgICAgICAvLyBBREQgQkxPQ0tPVVQgRUxFTUVOVFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0eXBlb2YgaGlkZVJldkVsZS5lbGVtZW50QmxvY2tPdXRzICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgaGlkZVJldkVsZS5lbGVtZW50QmxvY2tPdXRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBtb2JpbGVDYXB0dXJlT3B0c1tcImVsZW1lbnRCbG9ja091dHNcIl0gPSBoaWRlUmV2RWxlLmVsZW1lbnRCbG9ja091dHM7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQUREIEJMT0NLT1VUU1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0eXBlb2YgaGlkZVJldkVsZS5ibG9ja091dHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLmJsb2NrT3V0cy5sZW5ndGggPiAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgbW9iaWxlQ2FwdHVyZU9wdHNbXCJibG9ja091dHNcIl0gPSBoaWRlUmV2RWxlLmJsb2NrT3V0cztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBETyBDT01QQVJJU09OIC0tLSBBVVRPIFNBVkUgQkFTRUxJTkVcclxuICAgICAgICAgIGxldCByZXN1bHRPYmogPSBhd2FpdCBkcml2ZXIuY29tcGFyZVNjcmVlbihzcGVjSWQsIG1vYmlsZUNhcHR1cmVPcHRzKTtcclxuXHJcbiAgICAgICAgICAvLyBHRVQgUkVTVUxUXHJcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHRPYmoubWlzTWF0Y2hQZXJjZW50YWdlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDVVNUT01JWkUgQUxMVVJFIFJFUE9SVFxyXG4gICAgYXdhaXQgYWxsdXJlQ3VzdG9tLmN1c3RvbURldGFpbChpbmZvLCByZXN1bHQsIGNhcHR1cmVPcHRzKTtcclxuICAgIGFsbHVyZUN1c3RvbS5jdXN0b21BY3Rpb25zKHNwZWNJZCwgc3RhdHVzKTtcclxuXHJcbiAgICAvLyBUSFJPVyBFUlJPUiBJRiBGQUlMRURcclxuICAgIGlmIChyZXN1bHQgPiAwKSB7XHJcbiAgICAgIGFzc2VydC5mYWlsKFxyXG4gICAgICAgIG5ldyBFcnJvcihgSW1hZ2UgY29tcGFyaXNvbiBpcyBmYWlsZWQuIERpZmYgcGVyY2VudGFnZSBpcyAke3Jlc3VsdH0lLmApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCeXBhc3MgcGFnZSBhdXRoZW50aWNhdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKi9cclxuICBhc3luYyBwYWdlQXV0aChjbGllbnRJZCwgcHJvamVjdElkKSB7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBjbGllbnRJZCxcclxuICAgICAgcHJvamVjdElkXHJcbiAgICApO1xyXG4gICAgY29uc3QgZW5hYmxlZCA9IGV4Y2VsRGF0YVtcImF1dGhcIl1bMF1bXCJlbmFibGVkXCJdO1xyXG5cclxuICAgIGlmIChlbmFibGVkID09IFwieWVzXCIpIHtcclxuICAgICAgY29uc3QgYmFzZVVybCA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImJhc2VfdXJsXCJdO1xyXG4gICAgICBjb25zdCBoYW5kbGVyID0gZXhjZWxEYXRhW1wiYXV0aFwiXVswXVtcImhhbmRsZXJcIl07XHJcbiAgICAgIGxldCBodHRwID0gXCJodHRwOi8vXCI7XHJcbiAgICAgIGlmIChiYXNlVXJsLmluY2x1ZGVzKFwiaHR0cHM6Ly9cIikpIGh0dHAgPSBcImh0dHBzOi8vXCI7XHJcblxyXG4gICAgICBhd2FpdCBicm93c2VyLnVybChcclxuICAgICAgICBgJHtodHRwfSR7ZXhjZWxEYXRhW1wiYXV0aFwiXVswXVtcInVzclwiXX06JHtcclxuICAgICAgICAgIGV4Y2VsRGF0YVtcImF1dGhcIl1bMF1bXCJwYXNzXCJdXHJcbiAgICAgICAgfUAke2Jhc2VVcmwucmVwbGFjZShodHRwLCBcIlwiKX0ke2hhbmRsZXJ9YFxyXG4gICAgICApO1xyXG4gICAgICBhd2FpdCBicm93c2VyLnBhdXNlKGAke2V4Y2VsRGF0YVtcImF1dGhcIl1bMF1bXCJ3YWl0XCJdfWApO1xyXG4gICAgICBhd2FpdCBicm93c2VyLnVybChgJHtiYXNlVXJsfSR7aGFuZGxlcn1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGN1cnJlbnQgY2FwYWJpbGl0eSBpcyB2YWxpZFxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrVmFsaWRDYXBzKCkge1xyXG4gICAgY29uc3QgcGxhdGZvcm0gPSBhd2FpdCBicm93c2VyLmNhcGFiaWxpdGllcy5wbGF0Zm9ybU5hbWU7XHJcbiAgICBjb25zdCBicm93c2VyTmFtZSA9IGF3YWl0IGJyb3dzZXIuY2FwYWJpbGl0aWVzLmJyb3dzZXJOYW1lO1xyXG4gICAgbGV0IGRlc2lyZWRDYXBzID0gYXdhaXQgYnJvd3Nlci5jYXBhYmlsaXRpZXMuZGVzaXJlZDtcclxuICAgIGxldCB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkZXNpcmVkQ2FwcyA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICBkZXNpcmVkQ2FwcyA9IGF3YWl0IGRyaXZlci5jYXBhYmlsaXRpZXM7XHJcblxyXG4gICAgLy8gREVURUNUIFdFQiBPUiBNT0JJTEVcclxuICAgIGlmIChicm93c2VyTmFtZSA9PSBcIlwiIHx8IHR5cGVvZiBicm93c2VyTmFtZSA9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHN3aXRjaCAocGxhdGZvcm0pIHtcclxuICAgICAgICBjYXNlIFwiQW5kcm9pZFwiOlxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAodHlwZW9mIGRlc2lyZWRDYXBzW1widWRpZFwiXSA9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgICAgdHlwZW9mIGRlc2lyZWRDYXBzW1wiYXBwaXVtOnVkaWRcIl0gPT0gXCJ1bmRlZmluZWRcIikgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiBkZXNpcmVkQ2Fwc1tcImFwcFBhY2thZ2VcIl0gPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICAgIHR5cGVvZiBkZXNpcmVkQ2Fwc1tcImFwcGl1bTphcHBQYWNrYWdlXCJdID09IFwidW5kZWZpbmVkXCIpIHx8XHJcbiAgICAgICAgICAgICh0eXBlb2YgZGVzaXJlZENhcHNbXCJhcHBBY3Rpdml0eVwiXSA9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgICAgdHlwZW9mIGRlc2lyZWRDYXBzW1wiYXBwaXVtOmFwcEFjdGl2aXR5XCJdID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImlPU1wiOlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgbGlzdCBvZiBlbGVtZW50cyB0byBoaWRlIG9yIHJlbW92ZSBvciBibG9ja291dFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FwdHVyZU9wdHMgY2FwdHVyZSBvcHRpb25zXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV4Y2VsRGF0YSBleGNlbCBkYXRhXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBnZXRIaWRlUmVtb3ZlRWxlKGluZm8sIGNhcHR1cmVPcHRzLCBleGNlbERhdGEpIHtcclxuICAgIGNvbnN0IGNhcHR1cmVEYXRhU2hlZXQgPSBleGNlbERhdGFbXCJpbWdfY29tcGFyZVwiXTtcclxuICAgIGNvbnN0IGNhcHMgPSBhd2FpdCBjYXBIYW5kbGVyLmdldENhcGFiaWxpdGllcyhpbmZvLnNwZWNJZCk7XHJcbiAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICAvLyBXRUJcclxuICAgICAgZnVsbHBhZ2VIaWRlRWxlbWVudHM6IFtdLFxyXG4gICAgICBmdWxscGFnZVJlbW92ZUVsZW1lbnRzOiBbXSxcclxuICAgICAgc2NyZWVuSGlkZUVsZW1lbnRzOiBbXSxcclxuICAgICAgc2NyZWVuUmVtb3ZlRWxlbWVudHM6IFtdLFxyXG4gICAgICAvLyBNT0JJTEVcclxuICAgICAgZWxlbWVudEJsb2NrT3V0czogW10sXHJcbiAgICAgIGJsb2NrT3V0czogW10sXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERFRklORSBQTEFURk9STVxyXG4gICAgbGV0IHBsYXRmb3JtID0gXCJ3ZWJcIjtcclxuICAgIGlmIChpbmZvLmNhcHR1cmVUeXBlID09IFwibW9iaWxlXCIpIHBsYXRmb3JtID0gXCJtb2JpbGVcIjtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcHR1cmVEYXRhU2hlZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm93ID0gY2FwdHVyZURhdGFTaGVldFtpXTtcclxuICAgICAgY29uc3QgZnVsbEhpZGUgPSByb3dbXCJmdWxscGFnZV9oaWRlX2VsZW1lbnRcIl07XHJcbiAgICAgIGNvbnN0IHNjcmVlbkhpZGUgPSByb3dbXCJzY3JlZW5faGlkZV9lbGVtZW50XCJdO1xyXG4gICAgICBjb25zdCBmdWxsUmVtb3ZlID0gcm93W1wiZnVsbHBhZ2VfcmVtb3ZlX2VsZW1lbnRcIl07XHJcbiAgICAgIGNvbnN0IHNjcmVlblJlbW92ZSA9IHJvd1tcInNjcmVlbl9yZW1vdmVfZWxlbWVudFwiXTtcclxuICAgICAgY29uc3QgbW9iaWxlRWxlQmxvY2tvdXQgPSByb3dbXCJtb2JpbGVfZWxlbWVudF9ibG9ja291dFwiXTtcclxuICAgICAgY29uc3QgbW9iaWxlQmxvY2tvdXQgPSByb3dbXCJtb2JpbGVfYmxvY2tvdXRzXCJdO1xyXG5cclxuICAgICAgc3dpdGNoIChwbGF0Zm9ybSkge1xyXG4gICAgICAgIGNhc2UgXCJ3ZWJcIjpcclxuICAgICAgICAgIC8vIEhJREUgRUxFTUVOVCAtLS0gVklTSUJJTElUWSA9IEhJRERFTlxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBmdWxsSGlkZSAhPSBcInVuZGVmaW5lZFwiICYmIGZ1bGxIaWRlICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgZnVsbEhpZGVFbGUgPSBhd2FpdCAkKGZ1bGxIaWRlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmdWxsSGlkZUVsZS5lcnJvciA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICAgIHJlc3VsdFtcImZ1bGxwYWdlSGlkZUVsZW1lbnRzXCJdLnB1c2goZnVsbEhpZGVFbGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBzY3JlZW5IaWRlICE9IFwidW5kZWZpbmVkXCIgJiYgc2NyZWVuSGlkZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlbkhpZGVFbGUgPSBhd2FpdCAkKHNjcmVlbkhpZGUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjcmVlbkhpZGVFbGUuZXJyb3IgPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgICByZXN1bHRbXCJzY3JlZW5IaWRlRWxlbWVudHNcIl0ucHVzaChzY3JlZW5IaWRlRWxlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBSRU1PVkUgRUxFTUVOVCAtLS0gRElTUExBWSA9IE5PTkVcclxuICAgICAgICAgIGlmICh0eXBlb2YgZnVsbFJlbW92ZSAhPSBcInVuZGVmaW5lZFwiICYmIGZ1bGxSZW1vdmUgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBmdWxsUmVtb3ZlRWxlID0gYXdhaXQgJChmdWxsUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmdWxsUmVtb3ZlRWxlLmVycm9yID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgcmVzdWx0W1wiZnVsbHBhZ2VSZW1vdmVFbGVtZW50c1wiXS5wdXNoKGZ1bGxSZW1vdmVFbGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBzY3JlZW5SZW1vdmUgIT0gXCJ1bmRlZmluZWRcIiAmJiBzY3JlZW5SZW1vdmUgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBzY3JlZW5SZW1vdmVFbGUgPSBhd2FpdCAkKHNjcmVlblJlbW92ZSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuUmVtb3ZlRWxlLmVycm9yID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgcmVzdWx0W1wic2NyZWVuUmVtb3ZlRWxlbWVudHNcIl0ucHVzaChzY3JlZW5SZW1vdmVFbGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxyXG4gICAgICAgICAgY29uc3QgYmxvY2tvdXRNYXJnaW4gPSBjYXB0dXJlT3B0cy5nbG9iYWxbXCJlbGVtZW50X2Jsb2Nrb3V0X21hcmdpblwiXTtcclxuICAgICAgICAgIC8vIEVMRU1FTlQgQkxPQ0tPVVRTXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBtb2JpbGVFbGVCbG9ja291dCAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgIG1vYmlsZUVsZUJsb2Nrb3V0ICE9IFwiXCJcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgKGNhcHMucGxhdGZvcm1OYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJhbmRyb2lkXCIgJiZcclxuICAgICAgICAgICAgICAgIG1vYmlsZUVsZUJsb2Nrb3V0LmluY2x1ZGVzKFwiYW5kcm9pZD1cIikpIHx8XHJcbiAgICAgICAgICAgICAgKGNhcHMucGxhdGZvcm1OYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJpb3NcIiAmJlxyXG4gICAgICAgICAgICAgICAgbW9iaWxlRWxlQmxvY2tvdXQuaW5jbHVkZXMoXCItaW9zXCIpKSB8fFxyXG4gICAgICAgICAgICAgIG1vYmlsZUVsZUJsb2Nrb3V0LnN1YnN0cmluZygwLCAxKSA9PSBcIn5cIiB8fFxyXG4gICAgICAgICAgICAgIG1vYmlsZUVsZUJsb2Nrb3V0LnN1YnN0cmluZygwLCAyKSA9PSBcIi8vXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZWxlID0gYXdhaXQgJChtb2JpbGVFbGVCbG9ja291dCk7XHJcbiAgICAgICAgICAgICAgaWYgKGF3YWl0IGVsZS5pc0V4aXN0aW5nKCkpXHJcbiAgICAgICAgICAgICAgICByZXN1bHRbXCJlbGVtZW50QmxvY2tPdXRzXCJdLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGUsXHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogYmxvY2tvdXRNYXJnaW4sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQkxPQ0tPVVRTXHJcbiAgICAgICAgICBpZiAodHlwZW9mIG1vYmlsZUJsb2Nrb3V0ICE9IFwidW5kZWZpbmVkXCIgJiYgbW9iaWxlQmxvY2tvdXQgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBhcmcgPSBKU09OLnBhcnNlKG1vYmlsZUJsb2Nrb3V0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdFVCBJTUcgRElNRU5TSU9OU1xyXG4gICAgICAgICAgICBsZXQgZGltZW5zaW9ucyA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoY2Fwcy5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImFuZHJvaWRcIikge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXdhaXQgZHJpdmVyLmdldFdpbmRvd1JlY3QoKTtcclxuICAgICAgICAgICAgICBkaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNhcHMucGxhdGZvcm1OYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJpb3NcIikge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGltZ0RpbWVuc2lvbnMgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbWdTaXplKFxyXG4gICAgICAgICAgICAgICAgaW5mbyxcclxuICAgICAgICAgICAgICAgIGNhcHMuYmFzZWxpbmVGb2xkZXJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnMud2lkdGggPSBpbWdEaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ID0gaW1nRGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkaW1lbnNpb25zLndpZHRoID4gMCB8fCBkaW1lbnNpb25zLmhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBhcmcueCAqIGRpbWVuc2lvbnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBhcmcueSAqIGRpbWVuc2lvbnMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcuaGVpZ2h0ICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLmhlaWdodCA9IGFyZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnLndpZHRoICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLndpZHRoID0gYXJnLndpZHRoO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmVzdWx0W1wiYmxvY2tPdXRzXCJdLnB1c2gocGFyYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGN1c3RvbSBjYXB0dXJlIG9wdGlvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcGVjSWQgU3BlYyBpZFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgb3B0aW9uIG5hbWVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgb3B0aW9uIHZhbHVlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgd2ViIG9yIG1vYmlsZVxyXG4gICAqL1xyXG4gIGFzeW5jIGFkZENhcHR1cmVPcHRzKHNwZWNJZCwga2V5LCB2YWx1ZSwgdHlwZSA9IFwid2ViXCIpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgbGV0IGpzb25EYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0R2xvYmFsRGF0YUpzb24oKTtcclxuICAgIHZhciBkYXRhID0ganNvbkRhdGEucHJvamVjdHNbaW5mby5jbGllbnRJZF1baW5mby5wcm9qZWN0SWRdW1wiY3B0X29wdFwiXTtcclxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgbGV0IG9wdHMgPSB7XHJcbiAgICAgIGlkOiBzcGVjSWQsXHJcbiAgICAgIHZhbHVlczogW10sXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInVuZGVmaW5lZFwiIHx8IGRhdGEubGVuZ3RoIDw9IDApIHtcclxuICAgICAgZGF0YSA9IFtdO1xyXG4gICAgICBkYXRhLnB1c2gob3B0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTE9PUCBEQVRBXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gREVGSU5FIERFVEFJTCBPUFRcclxuICAgICAgY29uc3QgZGVPcHQgPSB7XHJcbiAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBhcmc6IHtcclxuICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChkYXRhW2ldW1wiaWRcIl0gPT0gc3BlY0lkKSB7XHJcbiAgICAgICAgLy8gQ0hFQ0sgT1BUIEVYSVNUXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdHlwZW9mIGRhdGFbaV0udmFsdWVzID09IFwidW5kZWZpbmVkXCIgfHxcclxuICAgICAgICAgIGRhdGFbaV0udmFsdWVzLmxlbmd0aCA8PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBkYXRhW2ldLnZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgZGF0YVtpXS52YWx1ZXMucHVzaChkZU9wdCk7XHJcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGRhdGFbaV0udmFsdWVzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhW2ldLnZhbHVlc1tuXS5rZXkgPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtpXS52YWx1ZXNbbl0gPSBkZU9wdDtcclxuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghZm91bmQpIHtcclxuICAgICAgICAgICAgZGF0YVtpXS52YWx1ZXMucHVzaChkZU9wdCk7XHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFdSSVRFIEpTT05cclxuICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgIGpzb25EYXRhLnByb2plY3RzW2luZm8uY2xpZW50SWRdW2luZm8ucHJvamVjdElkXVtcImNwdF9vcHRcIl0gPSBkYXRhO1xyXG4gICAgICBhd2FpdCBkYXRhSGFuZGxlci51cGRhdGVEYXRhSnNvbkZpbGUoanNvbkRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VhcmNoIGFsbCBpbmRleGVzIG9mIHN1YnN0cmluZyBpbiBzdHJpbmdcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoU3RyIFNlYXJjaCBzdWJzdHJpbmdcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRhcmdldCBzdHJpbmdcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhc2VTZW5zaXRpdmUgQ2FzZSBzZW5zaXRpdmVcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGZvdW5kIGluZGV4ZXNcclxuICAgKi9cclxuICBnZXRJbmRpY2VzT2Yoc2VhcmNoU3RyLCBzdHIsIGNhc2VTZW5zaXRpdmUpIHtcclxuICAgIHZhciBzZWFyY2hTdHJMZW4gPSBzZWFyY2hTdHIubGVuZ3RoO1xyXG4gICAgaWYgKHNlYXJjaFN0ckxlbiA9PSAwKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHZhciBzdGFydEluZGV4ID0gMCxcclxuICAgICAgaW5kZXgsXHJcbiAgICAgIGluZGljZXMgPSBbXTtcclxuICAgIGlmICghY2FzZVNlbnNpdGl2ZSkge1xyXG4gICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgc2VhcmNoU3RyID0gc2VhcmNoU3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoKGluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyLCBzdGFydEluZGV4KSkgPiAtMSkge1xyXG4gICAgICBpbmRpY2VzLnB1c2goaW5kZXgpO1xyXG4gICAgICBzdGFydEluZGV4ID0gaW5kZXggKyBzZWFyY2hTdHJMZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5kaWNlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEN1c3RvbWl6ZSB0aGUgYWxsdXJlIHJlcG9ydCBmb3IgY3VycmVudCBzcGVjXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZyBpbmNsdWRlZCByZXBvcnRJZCwgZXhjZWxEYXRhLCBtc2cgYW5kIGluZm8gb2JqZWN0XHJcbiAgICovXHJcbiAgYXN5bmMgY3VzdG9tUmVwb3J0KGFyZyA9IHt9KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5leGNlbERhdGFbXCJjdXN0b21fcmVwb3J0XCJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IGFyZy5leGNlbERhdGFbXCJjdXN0b21fcmVwb3J0XCJdW2ldO1xyXG5cclxuICAgICAgaWYgKHJvd1tcImlkXCJdID09IGFyZy5yZXBvcnRJZCkge1xyXG4gICAgICAgIC8vIENVU1RPTUlaRSBBTExVUkUgUkVQT1JUXHJcbiAgICAgICAgYWxsdXJlQ3VzdG9tLmFkZFNldmVyaXR5KHJvd1tcInNldmVyaXR5XCJdKTtcclxuXHJcbiAgICAgICAgLy8gQUREIEVOViBERVRBSUxcclxuICAgICAgICBhd2FpdCBhbGx1cmVDdXN0b20uYWRkRW52RGV0YWlsKGFyZy5pbmZvKTtcclxuXHJcbiAgICAgICAgLy8gQUREIENBU0UgSURcclxuICAgICAgICBhbGx1cmVDdXN0b20uYWRkQXJndW1lbnQoXCJjYXNlXCIsIGFyZy5pbmZvLnNwZWNJZCk7XHJcblxyXG4gICAgICAgIC8vIEFERCBJUCBBRERSXHJcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRJUEFkZHIoKVxyXG4gICAgICAgICAgLnRoZW4oKHB1YmxpY0lwKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHB1YmxpY0lwKTsgLy8gcHJpbnRzIHRoZSBwdWJsaWMgSVAgYWRkcmVzcyB0byB0aGUgY29uc29sZVxyXG4gICAgICAgICAgICBhbGx1cmVDdXN0b20uYWRkQXJndW1lbnQoXCJpcFwiLCBwdWJsaWNJcCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFERCBTVEVQXHJcbiAgICAgICAgYWxsdXJlQ3VzdG9tLmFkZFN0ZXAoYXJnLm1zZyk7XHJcblxyXG4gICAgICAgIC8vIEFERCBBVFRBQ0hNRU5UXHJcbiAgICAgICAgY29uc3Qgc2NyZWVuc2hvdCA9IGF3YWl0IGJyb3dzZXIudGFrZVNjcmVlbnNob3QoKTtcclxuICAgICAgICBhbGx1cmVDdXN0b20uYWRkQXR0YWNobWVudChzY3JlZW5zaG90KTtcclxuXHJcbiAgICAgICAgLy8gRU5EIFNURVBcclxuICAgICAgICBhbGx1cmVDdXN0b20uZW5kU3RlcChyb3dbXCJzdGF0dXNcIl0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcm93W1wic3RhdHVzXCJdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBmaXJld2FsbCByZWplY3RlZCB0aGUgYWNjZXNzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNJZCBzcGVjIGlkXHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tGaXJlV2FsbChzcGVjSWQpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGluZm8uY2FwdHVyZVR5cGUgIT0gXCJtb2JpbGVcIikge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4Y2VsRGF0YVtcImZpcmV3YWxsXCJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gZXhjZWxEYXRhW1wiZmlyZXdhbGxcIl1baV07XHJcblxyXG4gICAgICAgIGlmIChyb3dbXCJlbmFibGVkXCJdID09IFwieWVzXCIpIHtcclxuICAgICAgICAgIHN3aXRjaCAocm93W1widHlwZVwiXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwic2VjdXJpdHlcIjpcclxuICAgICAgICAgICAgICBjb25zdCBlbGVNc2cgPSBhd2FpdCAkKFxyXG4gICAgICAgICAgICAgICAgYC8vYm9keS8vKltjb250YWlucyh0ZXh0KCksICcke3Jvd1tcIm1zZ1wiXX0nKV1gXHJcbiAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSUYgRVJST1IgTUVTU0FHRSBJUyBSRVRVUk5FRFxyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlTXNnLmVycm9yID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IGVsZU1zZy5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSB7XHJcbiAgICAgICAgICAgICAgICAgIHJlcG9ydElkOiByb3dbXCJjdXN0b21fcmVwb3J0XCJdLFxyXG4gICAgICAgICAgICAgICAgICBleGNlbERhdGE6IGV4Y2VsRGF0YSxcclxuICAgICAgICAgICAgICAgICAgbXNnOiBtc2csXHJcbiAgICAgICAgICAgICAgICAgIGluZm86IGluZm8sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNDUk9MTCBJTlRPVklFV1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZWxlTXNnLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICAgICAgICAgICAgYmxvY2s6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgIGlubGluZTogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENVU1RPTSBSRVBPUlRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IHRoaXMuY3VzdG9tUmVwb3J0KGFyZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVEhST1cgRVJST1JcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmYWlsZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoZWxlTXNnKS5ub3QudG9CZUV4aXN0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJicm9rZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZmFpbChuZXcgRXJyb3IobXNnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHJvd1tcInR5cGVcIl0gPT0gXCJlcnJvcl80MDRcIiB8fFxyXG4gICAgICAgICAgICAgICAgcm93W1widHlwZVwiXSA9PSBcImFjY2Vzc19kZW5pZWRcIlxyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChhd2FpdCBicm93c2VyLmdldFRpdGxlKCkpLmluY2x1ZGVzKHJvd1tcIm1zZ1wiXSkpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgYXJnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydElkOiByb3dbXCJjdXN0b21fcmVwb3J0XCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4Y2VsRGF0YTogZXhjZWxEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogcm93W1wibXNnXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZm86IGluZm8sXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBTQ1JPTEwgSU5UT1ZJRVdcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgJChcclxuICAgICAgICAgICAgICAgICAgICBgLy9ib2R5Ly8qW2NvbnRhaW5zKHRleHQoKSwgJyR7cm93W1wibXNnXCJdfScpXWBcclxuICAgICAgICAgICAgICAgICAgKS5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiBcImNlbnRlclwiLCBpbmxpbmU6IFwiY2VudGVyXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBDVVNUT00gUkVQT1JUXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IHRoaXMuY3VzdG9tUmVwb3J0KGFyZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBUSFJPVyBFUlJPUlxyXG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmYWlsZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cGVjdChicm93c2VyKS5ub3QudG9IYXZlVGl0bGVDb250YWluaW5nKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dbXCJtc2dcIl1cclxuICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYnJva2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZmFpbChuZXcgRXJyb3Iocm93W1wibXNnXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1ha2UgdXAgdGhlIGNvZGUgd2l0aCBiZWF1dHkgZm9ybWF0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNwZWMgZmlsZSBzY3JpcHRcclxuICAgKiBAcGFyYW0ge0ludH0gaW5kZW50X3NpemUgaW5kZW50IHNpemVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNwYWNlX2luX2VtcHR5X3BhcmVuIGtlZXAgb3IgcmVtb3ZlIHNwYWNlIGluIGVtcHR5IHBhcmVuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBwcmVzZXJ2ZV9uZXdsaW5lcyBrZWVwIG9yIHJlbW92ZSBlbXB0eSBsaW5lc1xyXG4gICAqIEBwYXJhbSB7SW50fSBtYXhfcHJlc2VydmVfbmV3bGluZXMgbnVtYmVyIG9mIGVtcHR5IGxpbmVzIGNhbiBiZSBrZXB0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVvbCBjaGFyYWN0ZXIgZGVmaW5lZCBmb3IgYnJlYWtsaW5lXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBjb2RlTWFrZVVwKFxyXG4gICAgY29udGVudHMsXHJcbiAgICBpbmRlbnRfc2l6ZSA9IDIsXHJcbiAgICBzcGFjZV9pbl9lbXB0eV9wYXJlbiA9IHRydWUsXHJcbiAgICBwcmVzZXJ2ZV9uZXdsaW5lcyA9IHRydWUsXHJcbiAgICBtYXhfcHJlc2VydmVfbmV3bGluZXMgPSAyLFxyXG4gICAgZW9sID0gXCJcXHJcIlxyXG4gICkge1xyXG4gICAgcmV0dXJuIGJlYXV0aWZ5KGNvbnRlbnRzLCB7XHJcbiAgICAgIGluZGVudF9zaXplOiBpbmRlbnRfc2l6ZSxcclxuICAgICAgc3BhY2VfaW5fZW1wdHlfcGFyZW46IHNwYWNlX2luX2VtcHR5X3BhcmVuLFxyXG4gICAgICBwcmVzZXJ2ZV9uZXdsaW5lczogcHJlc2VydmVfbmV3bGluZXMsXHJcbiAgICAgIG1heF9wcmVzZXJ2ZV9uZXdsaW5lczogbWF4X3ByZXNlcnZlX25ld2xpbmVzLFxyXG4gICAgICBlb2w6IGVvbCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgc3BlYyBmaWxlcyBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIGxpc3Qgb2YgcGFnZXMgaW4gZXhjZWxcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50SWQgY2xpZW50IGlkXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb2plY3RJZCBwcm9qZWN0IGlkXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGFkZFN0ZXAgY3VzdG9tIGFkZGl0aW9uYWwgc3RlcFxyXG4gICAqL1xyXG4gIGFzeW5jIHNwZWNHZW5lcmF0aW9uKGZpbGUsIGZsb3dzID0gW10sIHRvdGFsID0gLTEsIGR5bmFtaWNCYXNlVXJsID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKGZpbGUpO1xyXG4gICAgY29uc3QgY2xpZW50SWQgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgY29uc3QgcHJvamVjdElkID0gaW5mby5wcm9qZWN0SWQ7XHJcbiAgICBjb25zdCBjYXB0dXJlVHlwZSA9IFwiZnVsbHBhZ2VcIjtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGNsaWVudElkLFxyXG4gICAgICBwcm9qZWN0SWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ0hFQ0sgSUYgQ09ORklHIElTIEVOQUJMRURcclxuICAgIGNvbnN0IGVuYWJsZWQgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJzcGVjX2dlbmVyYXRpb25cIl07XHJcbiAgICBpZiAodHlwZW9mIGVuYWJsZWQgPT0gXCJ1bmRlZmluZWRcIiB8fCBlbmFibGVkICE9IFwieWVzXCIpIHtcclxuICAgICAgY29uc29sZS5sb2coYFRoZSBjb25maWcgaXMgc2V0IHRvICR7ZW5hYmxlZH0uYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHRVQgVE9UQUxcclxuICAgIGlmICh0b3RhbCA9PSAtMSkgdG90YWwgPSBleGNlbERhdGFbXCJwYWdlc1wiXS5sZW5ndGg7XHJcblxyXG4gICAgLy8gUkVNT1ZFIE9MRCBGSUxFU1xyXG4gICAgYXdhaXQgdGhpcy5yZW1vdmVGaWxlcyhjbGllbnRJZCwgcHJvamVjdElkLCBjYXB0dXJlVHlwZSk7XHJcblxyXG4gICAgLy8gQ1JFQVRFIE5FVyBGSUxFU1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IGV4Y2VsRGF0YVtcInBhZ2VzXCJdW2ldO1xyXG5cclxuICAgICAgaWYgKHJvd1tcImRvbWFpblwiXSAhPSBcIlwiICYmIHR5cGVvZiByb3dbXCJkb21haW5cIl0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGNvbnN0IGRvbWFpbiA9IHJvd1tcImRvbWFpblwiXS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xyXG4gICAgICAgIGxldCBoYW5kbGVyID0gYGA7XHJcbiAgICAgICAgY29uc3QgcGFnZUlkID0gcm93W1wicGFnZV9pZFwiXTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiByb3dbXCJoYW5kbGVyXCJdICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIGhhbmRsZXIgPSByb3dbXCJoYW5kbGVyXCJdLnJlcGxhY2UoL15cXC8rLywgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGluayA9IGRvbWFpbiArIFwiL1wiICsgaGFuZGxlcjtcclxuICAgICAgICBsZXQgY29yZVNjcmlwdCA9IGBhd2FpdCBicm93c2VyLnVybChcIiR7bGlua31cIik7YDtcclxuXHJcbiAgICAgICAgaWYgKGR5bmFtaWNCYXNlVXJsKSB7XHJcbiAgICAgICAgICBsaW5rID0gXCJgJHtnbG9iYWwuZHluYW1pY0Jhc2VVcmx9L1wiICsgaGFuZGxlciArIFwiYFwiO1xyXG4gICAgICAgICAgY29yZVNjcmlwdCA9IGBhd2FpdCBicm93c2VyLnVybCgke2xpbmt9KTtgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gREVGSU5FIEZJTEUgUEFUSFxyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7cHJvamVjdElkfS4ke2NhcHR1cmVUeXBlfS0ke3BhZ2VJZH0uanNgO1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID1cclxuICAgICAgICAgIHByb2Nlc3MuY3dkKCkgK1xyXG4gICAgICAgICAgYC90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9yZWNvcmQvJHtjYXB0dXJlVHlwZX0vJHtmaWxlTmFtZX1gO1xyXG5cclxuICAgICAgICAvLyBERUZJTkUgQ09OVEVOVFNcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZsb3dzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBmbG93ID0gZmxvd3Nbal07XHJcbiAgICAgICAgICBpZiAoZmxvdy5pZCA9PSBcIjBcIiB8fCBmbG93LmlkID09IHJvd1tcImZsb3dcIl0pIHtcclxuICAgICAgICAgICAgaWYgKGZsb3cucHJlU3RlcCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgY29yZVNjcmlwdCA9IGZsb3cucHJlU3RlcCArIFwiXFxuXCIgKyBjb3JlU2NyaXB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmbG93LmFkZFN0ZXAgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgIGNvcmVTY3JpcHQgPSBjb3JlU2NyaXB0ICsgXCJcXG5cIiArIGZsb3cuYWRkU3RlcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVudHMgPSBgdmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XHJcbiAgICAgICAgZGVzY3JpYmUoXCIke2NhcHR1cmVUeXBlfS0ke3BhZ2VJZH1cIixhc3luYyBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaXQoXCJyZWNvcmRlciA6OiAke2NhcHR1cmVUeXBlfS0ke3BhZ2VJZH1cIixhc3luYyBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAke2NvcmVTY3JpcHR9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtgO1xyXG5cclxuICAgICAgICAvLyBDSEVDSyBTVEFUVVNcclxuICAgICAgICBpZiAocm93W1wic3RhdHVzXCJdICE9IFwiYWN0aXZlXCIpIHtcclxuICAgICAgICAgIC8vIFJFTkFNRVxyXG4gICAgICAgICAgY29uc3QgbmV3RmlsZVBhdGggPVxyXG4gICAgICAgICAgICBwcm9jZXNzLmN3ZCgpICtcclxuICAgICAgICAgICAgYC90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9yZWNvcmQvJHtjYXB0dXJlVHlwZX0vJHtwcm9qZWN0SWR9LiR7Y2FwdHVyZVR5cGV9LSR7cGFnZUlkfS4ke3Jvd1tcInN0YXR1c1wiXX0uanNgO1xyXG4gICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIud3JpdGVTcGVjKG5ld0ZpbGVQYXRoLCB0aGlzLmNvZGVNYWtlVXAoY29udGVudHMpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gV1JJVEUgRklMRVxyXG4gICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIud3JpdGVTcGVjKGZpbGVQYXRoLCB0aGlzLmNvZGVNYWtlVXAoY29udGVudHMpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbGwgY3VycmVudCBzcGVjcyBiZWZvcmUgZ2VuZXJhdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2FwdHVyZVR5cGUgY2FwdHVyZSB0eXBlXHJcbiAgICovXHJcbiAgYXN5bmMgcmVtb3ZlRmlsZXMoY2xpZW50SWQsIHByb2plY3RJZCwgY2FwdHVyZVR5cGUpIHtcclxuICAgIGNvbnN0IHBhdGhQYXR0ZXJuID0gYC4vdGVzdC9zcGVjcy8ke2NsaWVudElkfS8ke3Byb2plY3RJZH0vcmVjb3JkLyR7Y2FwdHVyZVR5cGV9LyouZnVsbHBhZ2UtKi5qc2A7XHJcbiAgICBjb25zdCBzZWFyY2hGaWxlcyA9IGF3YWl0IGRhdGFIYW5kbGVyLnNlYXJjaEFsbFNwZWNzKHBhdGhQYXR0ZXJuKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZiA9IHNlYXJjaEZpbGVzW2ldO1xyXG4gICAgICBhd2FpdCBkYXRhSGFuZGxlci5kZWxldGVGaWxlKGYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGN1cnJlbnQgcHVibGljIElQIEFkZHJlc3NcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldElQQWRkcigpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGh0dHBzXHJcbiAgICAgICAgLmdldChcImh0dHBzOi8vYXBpLmlwaWZ5Lm9yZ1wiLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICBsZXQgZGF0YSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgcmVzLm9uKFwiZGF0YVwiLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgICAgZGF0YSArPSBjaHVuaztcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJlcy5vbihcImVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0lwID0gZGF0YS50cmltKCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUocHVibGljSXApO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJlcnJvclwiLCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGxvY2FsaXphdGlvbiBmcm9tIHNwZWMgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWRcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldExvY2FsaXphdGlvbihzcGVjSWQpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgY29uc3QgY2FzZUlkID0gaW5mby5jYXNlSWQ7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBhcnJDYXNlSWQgPSBjYXNlSWQuc3BsaXQoXCJfXCIpO1xyXG4gICAgbGV0IGNvdW50cnkgPSBhcnJDYXNlSWRbYXJyQ2FzZUlkLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjZWxEYXRhW1wibG9jYWxpemF0aW9uX21hcFwiXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb3cgPSBleGNlbERhdGFbXCJsb2NhbGl6YXRpb25fbWFwXCJdW2ldO1xyXG4gICAgICBpZiAocm93W1wia2V5XCJdID09PSBjb3VudHJ5LnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICBjb3VudHJ5ID0gcm93W1wibWFwcGluZ1wiXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb3VudHJ5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXV0byBnZXQgZHluYW1pYyBiYXNlIHVybFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjSWQgU3BlYyBpZFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0RHluYW1pY1VybChzcGVjSWQpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ0hFQ0sgSUYgQUNUVUFMIFVSTCBJUyBERUZJTkVEXHJcbiAgICBjb25zdCBiYXNlVXJsID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiYmFzZV91cmxcIl07XHJcbiAgICBjb25zdCBhY3R1YWxVcmwgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJhY3R1YWxfdXJsXCJdO1xyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgYWN0dWFsVXJsICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgKGFjdHVhbFVybCAhPSBcIlwiKSAmIChhY3R1YWxVcmwgIT0gYmFzZVVybClcclxuICAgICkge1xyXG4gICAgICAvLyBBQ1RVQUwgVVJMIElTIERFRklORURcclxuICAgICAgY29uc3QgY2FwcyA9IGF3YWl0IGNhcEhhbmRsZXIuZ2V0Q2FwYWJpbGl0aWVzKGluZm8uc3BlY0lkKTtcclxuICAgICAgY29uc3QgYmFzZWxpbmVGb2xkZXIgPSBjYXBzLmJhc2VsaW5lRm9sZGVyO1xyXG4gICAgICBjb25zdCBwYXRoUGF0dGVybiA9IGAke2luZm8uYmFzZWxpbmVGb2xkZXJ9LyR7YmFzZWxpbmVGb2xkZXJ9LyR7c3BlY0lkfS5wbmdgO1xyXG4gICAgICBjb25zdCBzZWFyY2hGaWxlcyA9IGF3YWl0IGRhdGFIYW5kbGVyLnNlYXJjaEFsbFNwZWNzKHBhdGhQYXR0ZXJuKTtcclxuXHJcbiAgICAgIC8vIENIRUNLIElGIEJBU0VMSU5FIElTIEVYSVNUSU5HXHJcbiAgICAgIGlmIChzZWFyY2hGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gQkFTRUxJTkUgSVMgRVhJU1RJTkdcclxuICAgICAgICByZXR1cm4gYWN0dWFsVXJsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJBU0VMSU5FIElTIE5PVCBFWElTVElOR1xyXG4gICAgICAgIHJldHVybiBiYXNlVXJsO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBBQ1RVQUwgVVJMIElTIE5PVCBERUZJTkVEXHJcbiAgICAgIHJldHVybiBiYXNlVXJsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVXRpbHMoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFaEMsTUFBTUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUNFLEVBQUU7QUFDMUMsTUFBTUMsS0FBSyxHQUFHSCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBRTlCLE1BQU1JLFlBQVksR0FBR0osT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUM1QyxNQUFNSyxXQUFXLEdBQUdMLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUNqRCxNQUFNTSxVQUFVLEdBQUdOLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUUvQyxNQUFNTyxLQUFLLENBQUM7RUFDVjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTUMsVUFBVUEsQ0FBQ0MsTUFBTSxFQUFFQyxNQUFNLEVBQUU7SUFDL0IsTUFBTUMsSUFBSSxHQUFHLE1BQU1OLFdBQVcsQ0FBQ08saUJBQWlCLENBQUNGLE1BQU0sQ0FBQztJQUN4RCxNQUFNRyxXQUFXLEdBQUcsTUFBTVIsV0FBVyxDQUFDUyxjQUFjLENBQUNILElBQUksQ0FBQ0ksUUFBUSxFQUFFTixNQUFNLENBQUM7SUFDM0UsTUFBTU8sU0FBUyxHQUFHLE1BQU1YLFdBQVcsQ0FBQ1ksbUJBQW1CLENBQ3JETixJQUFJLENBQUNJLFFBQVEsRUFDYk4sTUFDRixDQUFDOztJQUVEO0lBQ0EsTUFBTVMsY0FB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","map":{"version":3,"names":["assert","require","beautify","js","https","allureCustom","dataHandler","capHandler","Utils","imgCompare","projId","specId","info","getInfoFromSpecId","captureOpts","getCaptureOpts","clientId","excelData","getProjectDataExcel","waitForCapture","global","browser","pause","hideRevEle","getHideRemoveEle","status","captureType","webCaptureOpts","web","mobileCaptureOpts","mobile","result","fullpageHideElements","length","fullpageRemoveElements","checkFullPageScreen","screenHideElements","screenRemoveElements","checkScreen","elementBlockOuts","blockOuts","resultObj","driver","compareScreen","misMatchPercentage","customDetail","customActions","fail","Error","pageAuth","projectId","enabled","baseUrl","handler","http","includes","url","replace","checkValidCaps","platform","capabilities","platformName","browserName","desiredCaps","desired","valid","captureDataSheet","caps","getCapabilities","i","row","fullHide","screenHide","fullRemove","screenRemove","mobileEleBlockout","mobileBlockout","fullHideEle","$","error","push","screenHideEle","fullRemoveEle","screenRemoveEle","blockoutMargin","toLowerCase","substring","ele","isExisting","element","margin","arg","JSON","parse","dimensions","width","height","getWindowRect","imgDimensions","getImgSize","baselineFolder","param","x","y","addCaptureOpts","key","value","type","jsonData","getGlobalDataJson","data","projects","changed","opts","id","values","deOpt","found","n","updateDataJsonFile","getIndicesOf","searchStr","str","caseSensitive","searchStrLen","startIndex","index","indices","indexOf","customReport","reportId","addSeverity","addEnvDetail","addArgument","getIPAddr","then","publicIp","console","log","catch","err","addStep","msg","screenshot","takeScreenshot","addAttachment","endStep","checkFireWall","eleMsg","getText","scrollIntoView","block","inline","expect","not","toBeExisting","getTitle","toHaveTitleContaining","codeMakeUp","contents","indent_size","space_in_empty_paren","preserve_newlines","max_preserve_newlines","eol","specGeneration","file","flows","total","dynamicBaseUrl","getInfoFromFilePath","removeFiles","domain","pageId","link","coreScript","fileName","filePath","process","cwd","j","flow","preStep","newFilePath","writeSpec","pathPattern","searchFiles","searchAllSpecs","f","deleteFile","Promise","resolve","reject","get","res","on","chunk","trim","getLocalization","caseId","arrCaseId","split","country","getDynamicUrl","actualUrl","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\","sources":["utils.js"],"sourcesContent":["const assert = require(\"assert\");\r\n\r\nconst beautify = require(\"js-beautify\").js;\r\nconst https = require(\"https\");\r\n\r\nconst allureCustom = require(\"./lib/allure\");\r\nconst dataHandler = require(\"./lib/data_handler\");\r\nconst capHandler = require(\"./lib/cap_handler\");\r\n\r\nclass Utils {\r\n  /**\r\n   * Save and compare the screenshots between baseline and actual\r\n   * @param {string} projId Project ID\r\n   * @param {string} specId Spec ID\r\n   */\r\n  async imgCompare(projId, specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, projId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      projId\r\n    );\r\n\r\n    // WAIT FOR CAPTURE LATENCY\r\n    const waitForCapture = captureOpts.global[\"wait_for\"];\r\n    await browser.pause(waitForCapture);\r\n\r\n    // GET ELEMENTS HIDDEN OR REMOVED\r\n    const hideRevEle = await this.getHideRemoveEle(\r\n      info,\r\n      captureOpts,\r\n      excelData\r\n    );\r\n\r\n    const status = info.status;\r\n    const captureType = info.captureType;\r\n    let webCaptureOpts = captureOpts.web;\r\n    let mobileCaptureOpts = captureOpts.mobile;\r\n    let result = 0;\r\n\r\n    // CHECK STATUS\r\n    if (status == \"active\") {\r\n      // CHECK CAPTURE TYPE\r\n      switch (captureType) {\r\n        case \"fullpage\":\r\n          // ADD HIDE REMOVE ELEMENT\r\n          if (\r\n            typeof hideRevEle.fullpageHideElements != \"undefined\" &&\r\n            hideRevEle.fullpageHideElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"hideElements\"] = hideRevEle.fullpageHideElements;\r\n          }\r\n          if (\r\n            typeof hideRevEle.fullpageRemoveElements != \"undefined\" &&\r\n            hideRevEle.fullpageRemoveElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"removeElements\"] =\r\n              hideRevEle.fullpageRemoveElements;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          result = await browser.checkFullPageScreen(specId, webCaptureOpts);\r\n          break;\r\n        case \"screen\":\r\n          // ADD HIDE REMOVE ELEMENT\r\n          if (\r\n            typeof hideRevEle.screenHideElements != \"undefined\" &&\r\n            hideRevEle.screenHideElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"hideElements\"] = hideRevEle.screenHideElements;\r\n          }\r\n          if (\r\n            typeof hideRevEle.screenRemoveElements != \"undefined\" &&\r\n            hideRevEle.screenRemoveElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"removeElements\"] = hideRevEle.screenRemoveElements;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          result = await browser.checkScreen(specId, webCaptureOpts);\r\n          break;\r\n        case \"mobile\":\r\n          // ADD BLOCKOUT ELEMENT\r\n          if (\r\n            typeof hideRevEle.elementBlockOuts != \"undefined\" &&\r\n            hideRevEle.elementBlockOuts.length > 0\r\n          ) {\r\n            mobileCaptureOpts[\"elementBlockOuts\"] = hideRevEle.elementBlockOuts;\r\n          }\r\n\r\n          // ADD BLOCKOUTS\r\n          if (\r\n            typeof hideRevEle.blockOuts != \"undefined\" &&\r\n            hideRevEle.blockOuts.length > 0\r\n          ) {\r\n            mobileCaptureOpts[\"blockOuts\"] = hideRevEle.blockOuts;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          let resultObj = await driver.compareScreen(specId, mobileCaptureOpts);\r\n\r\n          // GET RESULT\r\n          result = resultObj.misMatchPercentage;\r\n          break;\r\n      }\r\n    }\r\n\r\n    // CUSTOMIZE ALLURE REPORT\r\n    await allureCustom.customDetail(info, result, captureOpts);\r\n    allureCustom.customActions(specId, status);\r\n\r\n    // THROW ERROR IF FAILED\r\n    if (result > 0) {\r\n      assert.fail(\r\n        new Error(`Image comparison is failed. Diff percentage is ${result}%.`)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bypass page authentication\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   */\r\n  async pageAuth(clientId, projectId) {\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n    const enabled = excelData[\"auth\"][0][\"enabled\"];\r\n\r\n    if (enabled == \"yes\") {\r\n      const baseUrl = excelData[\"config\"][0][\"base_url\"];\r\n      const handler = excelData[\"auth\"][0][\"handler\"];\r\n      let http = \"http://\";\r\n      if (baseUrl.includes(\"https://\")) http = \"https://\";\r\n\r\n      await browser.url(\r\n        `${http}${excelData[\"auth\"][0][\"usr\"]}:${\r\n          excelData[\"auth\"][0][\"pass\"]\r\n        }@${baseUrl.replace(http, \"\")}${handler}`\r\n      );\r\n      await browser.pause(`${excelData[\"auth\"][0][\"wait\"]}`);\r\n      await browser.url(`${baseUrl}${handler}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if current capability is valid\r\n   * @returns {boolean}\r\n   */\r\n  async checkValidCaps() {\r\n    const platform = await browser.capabilities.platformName;\r\n    const browserName = await browser.capabilities.browserName;\r\n    let desiredCaps = await browser.capabilities.desired;\r\n    let valid = true;\r\n\r\n    if (typeof desiredCaps == \"undefined\")\r\n      desiredCaps = await driver.capabilities;\r\n\r\n    // DETECT WEB OR MOBILE\r\n    if (browserName == \"\" || typeof browserName == \"undefined\") {\r\n      switch (platform) {\r\n        case \"Android\":\r\n          if (\r\n            (typeof desiredCaps[\"udid\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:udid\"] == \"undefined\") ||\r\n            (typeof desiredCaps[\"appPackage\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:appPackage\"] == \"undefined\") ||\r\n            (typeof desiredCaps[\"appActivity\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:appActivity\"] == \"undefined\")\r\n          )\r\n            valid = false;\r\n          break;\r\n\r\n        case \"iOS\":\r\n          break;\r\n      }\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  /**\r\n   * Get list of elements to hide or remove or blockout\r\n   * @param {Object} info spec information\r\n   * @param {Object} captureOpts capture options\r\n   * @param {Object} excelData excel data\r\n   * @returns {Object}\r\n   */\r\n  async getHideRemoveEle(info, captureOpts, excelData) {\r\n    const captureDataSheet = excelData[\"img_compare\"];\r\n    const caps = await capHandler.getCapabilities(info.specId);\r\n    let result = {\r\n      // WEB\r\n      fullpageHideElements: [],\r\n      fullpageRemoveElements: [],\r\n      screenHideElements: [],\r\n      screenRemoveElements: [],\r\n      // MOBILE\r\n      elementBlockOuts: [],\r\n      blockOuts: [],\r\n    };\r\n\r\n    // DEFINE PLATFORM\r\n    let platform = \"web\";\r\n    if (info.captureType == \"mobile\") platform = \"mobile\";\r\n\r\n    for (let i = 0; i < captureDataSheet.length; i++) {\r\n      const row = captureDataSheet[i];\r\n      const fullHide = row[\"fullpage_hide_element\"];\r\n      const screenHide = row[\"screen_hide_element\"];\r\n      const fullRemove = row[\"fullpage_remove_element\"];\r\n      const screenRemove = row[\"screen_remove_element\"];\r\n      const mobileEleBlockout = row[\"mobile_element_blockout\"];\r\n      const mobileBlockout = row[\"mobile_blockouts\"];\r\n\r\n      switch (platform) {\r\n        case \"web\":\r\n          // HIDE ELEMENT --- VISIBILITY = HIDDEN\r\n          if (typeof fullHide != \"undefined\" && fullHide != \"\") {\r\n            const fullHideEle = await $(fullHide);\r\n            if (typeof fullHideEle.error == \"undefined\")\r\n              result[\"fullpageHideElements\"].push(fullHideEle);\r\n          }\r\n          if (typeof screenHide != \"undefined\" && screenHide != \"\") {\r\n            const screenHideEle = await $(screenHide);\r\n            if (typeof screenHideEle.error == \"undefined\")\r\n              result[\"screenHideElements\"].push(screenHideEle);\r\n          }\r\n\r\n          // REMOVE ELEMENT --- DISPLAY = NONE\r\n          if (typeof fullRemove != \"undefined\" && fullRemove != \"\") {\r\n            const fullRemoveEle = await $(fullRemove);\r\n            if (typeof fullRemoveEle.error == \"undefined\")\r\n              result[\"fullpageRemoveElements\"].push(fullRemoveEle);\r\n          }\r\n          if (typeof screenRemove != \"undefined\" && screenRemove != \"\") {\r\n            const screenRemoveEle = await $(screenRemove);\r\n            if (typeof screenRemoveEle.error == \"undefined\")\r\n              result[\"screenRemoveElements\"].push(screenRemoveEle);\r\n          }\r\n          break;\r\n        case \"mobile\":\r\n          const blockoutMargin = captureOpts.global[\"element_blockout_margin\"];\r\n          // ELEMENT BLOCKOUTS\r\n          if (\r\n            typeof mobileEleBlockout != \"undefined\" &&\r\n            mobileEleBlockout != \"\"\r\n          ) {\r\n            if (\r\n              (caps.platformName.toLowerCase() == \"android\" &&\r\n                mobileEleBlockout.includes(\"android=\")) ||\r\n              (caps.platformName.toLowerCase() == \"ios\" &&\r\n                mobileEleBlockout.includes(\"-ios\")) ||\r\n              mobileEleBlockout.substring(0, 1) == \"~\" ||\r\n              mobileEleBlockout.substring(0, 2) == \"//\"\r\n            ) {\r\n              const ele = await $(mobileEleBlockout);\r\n              if (await ele.isExisting())\r\n                result[\"elementBlockOuts\"].push({\r\n                  element: ele,\r\n                  margin: blockoutMargin,\r\n                });\r\n            }\r\n          }\r\n          // BLOCKOUTS\r\n          if (typeof mobileBlockout != \"undefined\" && mobileBlockout != \"\") {\r\n            const arg = JSON.parse(mobileBlockout);\r\n\r\n            // GET IMG DIMENSIONS\r\n            let dimensions = {};\r\n            if (caps.platformName.toLowerCase() == \"android\") {\r\n              const { width, height } = await driver.getWindowRect();\r\n              dimensions.width = width;\r\n              dimensions.height = height;\r\n            }\r\n            if (caps.platformName.toLowerCase() == \"ios\") {\r\n              const imgDimensions = await dataHandler.getImgSize(\r\n                info,\r\n                caps.baselineFolder\r\n              );\r\n              dimensions.width = imgDimensions.width;\r\n              dimensions.height = imgDimensions.height;\r\n            }\r\n\r\n            if (dimensions.width > 0 || dimensions.height > 0) {\r\n              let param = {\r\n                x: arg.x * dimensions.width,\r\n                y: arg.y * dimensions.height,\r\n                width: dimensions.width,\r\n                height: dimensions.height,\r\n              };\r\n              if (typeof arg.height != \"undefined\") {\r\n                param.height = arg.height;\r\n              }\r\n              if (typeof arg.width != \"undefined\") {\r\n                param.width = arg.width;\r\n              }\r\n\r\n              result[\"blockOuts\"].push(param);\r\n            }\r\n          }\r\n\r\n          break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Add custom capture option\r\n   * @param {string} specId Spec id\r\n   * @param {string} key option name\r\n   * @param {string} value option value\r\n   * @param {string} type web or mobile\r\n   */\r\n  async addCaptureOpts(specId, key, value, type = \"web\") {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\r\n    let changed = false;\r\n\r\n    let opts = {\r\n      id: specId,\r\n      values: [],\r\n    };\r\n\r\n    if (typeof data == \"undefined\" || data.length <= 0) {\r\n      data = [];\r\n      data.push(opts);\r\n    }\r\n\r\n    // LOOP DATA\r\n    for (let i = 0; i < data.length; i++) {\r\n      // DEFINE DETAIL OPT\r\n      const deOpt = {\r\n        key: key,\r\n        enabled: true,\r\n        arg: {\r\n          type: type,\r\n          value: value,\r\n        },\r\n      };\r\n\r\n      if (data[i][\"id\"] == specId) {\r\n        // CHECK OPT EXIST\r\n        if (\r\n          typeof data[i].values == \"undefined\" ||\r\n          data[i].values.length <= 0\r\n        ) {\r\n          data[i].values = [];\r\n          data[i].values.push(deOpt);\r\n          changed = true;\r\n        } else {\r\n          let found = false;\r\n          for (let n = 0; n < data[i].values.length; n++) {\r\n            if (data[i].values[n].key == key) {\r\n              data[i].values[n] = deOpt;\r\n              found = true;\r\n              changed = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!found) {\r\n            data[i].values.push(deOpt);\r\n            changed = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // WRITE JSON\r\n    if (changed) {\r\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\r\n      await dataHandler.updateDataJsonFile(jsonData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Search all indexes of substring in string\r\n   * @param {string} searchStr Search substring\r\n   * @param {string} str Target string\r\n   * @param {boolean} caseSensitive Case sensitive\r\n   * @returns {Array} found indexes\r\n   */\r\n  getIndicesOf(searchStr, str, caseSensitive) {\r\n    var searchStrLen = searchStr.length;\r\n    if (searchStrLen == 0) {\r\n      return [];\r\n    }\r\n    var startIndex = 0,\r\n      index,\r\n      indices = [];\r\n    if (!caseSensitive) {\r\n      str = str.toLowerCase();\r\n      searchStr = searchStr.toLowerCase();\r\n    }\r\n    while ((index = str.indexOf(searchStr, startIndex)) > -1) {\r\n      indices.push(index);\r\n      startIndex = index + searchStrLen;\r\n    }\r\n    return indices;\r\n  }\r\n\r\n  /**\r\n   * Customize the allure report for current spec\r\n   * @param {Object} arg included reportId, excelData, msg and info object\r\n   */\r\n  async customReport(arg = {}) {\r\n    for (let i = 0; i < arg.excelData[\"custom_report\"].length; i++) {\r\n      const row = arg.excelData[\"custom_report\"][i];\r\n\r\n      if (row[\"id\"] == arg.reportId) {\r\n        // CUSTOMIZE ALLURE REPORT\r\n        allureCustom.addSeverity(row[\"severity\"]);\r\n\r\n        // ADD ENV DETAIL\r\n        await allureCustom.addEnvDetail(arg.info);\r\n\r\n        // ADD CASE ID\r\n        allureCustom.addArgument(\"case\", arg.info.specId);\r\n\r\n        // ADD IP ADDR\r\n        await this.getIPAddr()\r\n          .then((publicIp) => {\r\n            console.log(publicIp); // prints the public IP address to the console\r\n            allureCustom.addArgument(\"ip\", publicIp);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n\r\n        // ADD STEP\r\n        allureCustom.addStep(arg.msg);\r\n\r\n        // ADD ATTACHMENT\r\n        const screenshot = await browser.takeScreenshot();\r\n        allureCustom.addAttachment(screenshot);\r\n\r\n        // END STEP\r\n        allureCustom.endStep(row[\"status\"]);\r\n\r\n        return row[\"status\"];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if firewall rejected the access\r\n   * @param {String} specId spec id\r\n   */\r\n  async checkFireWall(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    if (info.captureType != \"mobile\") {\r\n      for (let i = 0; i < excelData[\"firewall\"].length; i++) {\r\n        const row = excelData[\"firewall\"][i];\r\n\r\n        if (row[\"enabled\"] == \"yes\") {\r\n          switch (row[\"type\"]) {\r\n            case \"security\":\r\n              const eleMsg = await $(\r\n                `//body//*[contains(text(), '${row[\"msg\"]}')]`\r\n              );\r\n\r\n              // IF ERROR MESSAGE IS RETURNED\r\n              if (typeof eleMsg.error == \"undefined\") {\r\n                const msg = await eleMsg.getText();\r\n                const arg = {\r\n                  reportId: row[\"custom_report\"],\r\n                  excelData: excelData,\r\n                  msg: msg,\r\n                  info: info,\r\n                };\r\n\r\n                // SCROLL INTOVIEW\r\n                await eleMsg.scrollIntoView({\r\n                  block: \"center\",\r\n                  inline: \"center\",\r\n                });\r\n\r\n                // CUSTOM REPORT\r\n                const status = await this.customReport(arg);\r\n\r\n                // THROW ERROR\r\n                switch (status) {\r\n                  case \"failed\":\r\n                    await expect(eleMsg).not.toBeExisting();\r\n                    break;\r\n                  case \"broken\":\r\n                    assert.fail(new Error(msg));\r\n                    break;\r\n                }\r\n              }\r\n              break;\r\n            default:\r\n              if (\r\n                row[\"type\"] == \"error_404\" ||\r\n                row[\"type\"] == \"access_denied\"\r\n              ) {\r\n                if ((await browser.getTitle()).includes(row[\"msg\"])) {\r\n                  const arg = {\r\n                    reportId: row[\"custom_report\"],\r\n                    excelData: excelData,\r\n                    msg: row[\"msg\"],\r\n                    info: info,\r\n                  };\r\n\r\n                  // SCROLL INTOVIEW\r\n                  await $(\r\n                    `//body//*[contains(text(), '${row[\"msg\"]}')]`\r\n                  ).scrollIntoView({ block: \"center\", inline: \"center\" });\r\n\r\n                  // CUSTOM REPORT\r\n                  const status = await this.customReport(arg);\r\n\r\n                  // THROW ERROR\r\n                  switch (status) {\r\n                    case \"failed\":\r\n                      await expect(browser).not.toHaveTitleContaining(\r\n                        row[\"msg\"]\r\n                      );\r\n                      break;\r\n                    case \"broken\":\r\n                      assert.fail(new Error(row[\"msg\"]));\r\n                      break;\r\n                  }\r\n                }\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Make up the code with beauty format\r\n   * @param {String} contents spec file script\r\n   * @param {Int} indent_size indent size\r\n   * @param {Boolean} space_in_empty_paren keep or remove space in empty paren\r\n   * @param {Boolean} preserve_newlines keep or remove empty lines\r\n   * @param {Int} max_preserve_newlines number of empty lines can be kept\r\n   * @param {String} eol character defined for breakline\r\n   * @returns {String}\r\n   */\r\n  codeMakeUp(\r\n    contents,\r\n    indent_size = 2,\r\n    space_in_empty_paren = true,\r\n    preserve_newlines = true,\r\n    max_preserve_newlines = 2,\r\n    eol = \"\\r\"\r\n  ) {\r\n    return beautify(contents, {\r\n      indent_size: indent_size,\r\n      space_in_empty_paren: space_in_empty_paren,\r\n      preserve_newlines: preserve_newlines,\r\n      max_preserve_newlines: max_preserve_newlines,\r\n      eol: eol,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate spec files automatically based on list of pages in excel\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} addStep custom additional step\r\n   */\r\n  async specGeneration(file, flows = [], total = -1, dynamicBaseUrl = false) {\r\n    const info = await dataHandler.getInfoFromFilePath(file);\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    const captureType = \"fullpage\";\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n\r\n    // CHECK IF CONFIG IS ENABLED\r\n    const enabled = excelData[\"config\"][0][\"spec_generation\"];\r\n    if (typeof enabled == \"undefined\" || enabled != \"yes\") {\r\n      console.log(`The config is set to ${enabled}.`);\r\n      return false;\r\n    }\r\n\r\n    // GET TOTAL\r\n    if (total == -1) total = excelData[\"pages\"].length;\r\n\r\n    // REMOVE OLD FILES\r\n    await this.removeFiles(clientId, projectId, captureType);\r\n\r\n    // CREATE NEW FILES\r\n    for (let i = 0; i < total; i++) {\r\n      const row = excelData[\"pages\"][i];\r\n\r\n      if (row[\"domain\"] != \"\" && typeof row[\"domain\"] != \"undefined\") {\r\n        const domain = row[\"domain\"].replace(/\\/+$/, \"\");\r\n        let handler = ``;\r\n        const pageId = row[\"page_id\"];\r\n\r\n        if (typeof row[\"handler\"] != \"undefined\") {\r\n          handler = row[\"handler\"].replace(/^\\/+/, \"\");\r\n        }\r\n\r\n        let link = domain + \"/\" + handler;\r\n        let coreScript = `await browser.url(\"${link}\");`;\r\n\r\n        if (dynamicBaseUrl) {\r\n          link = \"`${global.dynamicBaseUrl}/\" + handler + \"`\";\r\n          coreScript = `await browser.url(${link});`;\r\n        }\r\n\r\n        // DEFINE FILE PATH\r\n        const fileName = `${projectId}.${captureType}-${pageId}.js`;\r\n        const filePath =\r\n          process.cwd() +\r\n          `/test/specs/${clientId}/${projectId}/record/${captureType}/${fileName}`;\r\n\r\n        // DEFINE CONTENTS\r\n        for (let j = 0; j < flows.length; j++) {\r\n          const flow = flows[j];\r\n          if (flow.id == \"0\" || flow.id == row[\"flow\"]) {\r\n            if (flow.preStep != \"\") {\r\n              coreScript = flow.preStep + \"\\n\" + coreScript;\r\n            }\r\n            if (flow.addStep != \"\") {\r\n              coreScript = coreScript + \"\\n\" + flow.addStep;\r\n            }\r\n          }\r\n        }\r\n\r\n        const contents = `var assert = require(\"assert\");\r\n        describe(\"${captureType}-${pageId}\",async function(){\r\n          it(\"recorder :: ${captureType}-${pageId}\",async function(){\r\n            ${coreScript}\r\n          });\r\n        });`;\r\n\r\n        // CHECK STATUS\r\n        if (row[\"status\"] != \"active\") {\r\n          // RENAME\r\n          const newFilePath =\r\n            process.cwd() +\r\n            `/test/specs/${clientId}/${projectId}/record/${captureType}/${projectId}.${captureType}-${pageId}.${row[\"status\"]}.js`;\r\n          await dataHandler.writeSpec(newFilePath, this.codeMakeUp(contents));\r\n        } else {\r\n          // WRITE FILE\r\n          await dataHandler.writeSpec(filePath, this.codeMakeUp(contents));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove all current specs before generation\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} captureType capture type\r\n   */\r\n  async removeFiles(clientId, projectId, captureType) {\r\n    const pathPattern = `./test/specs/${clientId}/${projectId}/record/${captureType}/*.fullpage-*.js`;\r\n    const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\r\n    for (let i = 0; i < searchFiles.length; i++) {\r\n      const f = searchFiles[i];\r\n      await dataHandler.deleteFile(f);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current public IP Address\r\n   * @returns {String}\r\n   */\r\n  async getIPAddr() {\r\n    return new Promise((resolve, reject) => {\r\n      https\r\n        .get(\"https://api.ipify.org\", (res) => {\r\n          let data = \"\";\r\n\r\n          res.on(\"data\", (chunk) => {\r\n            data += chunk;\r\n          });\r\n\r\n          res.on(\"end\", () => {\r\n            const publicIp = data.trim();\r\n            resolve(publicIp);\r\n          });\r\n        })\r\n        .on(\"error\", (err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get localization from spec id\r\n   * @param {String} specId spec id\r\n   * @returns {String}\r\n   */\r\n  async getLocalization(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const caseId = info.caseId;\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    const arrCaseId = caseId.split(\"_\");\r\n    let country = arrCaseId[arrCaseId.length - 1];\r\n\r\n    for (let i = 0; i < excelData[\"localization_map\"].length; i++) {\r\n      const row = excelData[\"localization_map\"][i];\r\n      if (row[\"key\"] === country.toLowerCase()) {\r\n        country = row[\"mapping\"];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return country;\r\n  }\r\n\r\n  /**\r\n   * Auto get dynamic base url\r\n   * @param {String} specId Spec id\r\n   * @returns {String}\r\n   */\r\n  async getDynamicUrl(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    // CHECK IF ACTUAL URL IS DEFINED\r\n    const baseUrl = excelData[\"config\"][0][\"base_url\"];\r\n    const actualUrl = excelData[\"config\"][0][\"actual_url\"];\r\n    if (\r\n      typeof actualUrl != \"undefined\" &&\r\n      (actualUrl != \"\") & (actualUrl != baseUrl)\r\n    ) {\r\n      // ACTUAL URL IS DEFINED\r\n      const caps = await capHandler.getCapabilities(info.specId);\r\n      const baselineFolder = caps.baselineFolder;\r\n      const pathPattern = `${info.baselineFolder}/${baselineFolder}/${specId}.png`;\r\n      const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\r\n\r\n      // CHECK IF BASELINE IS EXISTING\r\n      if (searchFiles.length > 0) {\r\n        // BASELINE IS EXISTING\r\n        return actualUrl;\r\n      } else {\r\n        // BASELINE IS NOT EXISTING\r\n        return baseUrl;\r\n      }\r\n    } else {\r\n      // ACTUAL URL IS NOT DEFINED\r\n      return baseUrl;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new Utils();\r\n"],"mappings":"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"}},"mtime":1700647516317},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\allure.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const allureReporter = require(\"@wdio/allure-reporter\").default;\nconst dataHandler = require(\"./data_handler\");\nconst capHandler = require(\"./cap_handler\");\nconst common = require(\"../common\");\nclass allureCustom {\n  constructor() {}\n\n  /**\r\n   * Custom Allure detail\r\n   * @param {Object} info spec information\r\n   * @param {Int} compareResult comparison result\r\n   * @param {Object} captureOpts capture options\r\n   */\n  async customDetail(info, compareResult, captureOpts, severity = \"critical\") {\n    const specId = info.specId;\n    const status = info.status;\n    const captureType = info.captureType;\n    const caps = await capHandler.getCapabilities(specId);\n    const screenshots = await dataHandler.getScreenshots(specId, caps.baselineFolder);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    let clientName = excelData[\"config\"][0][\"client\"];\n    let prjName = excelData[\"config\"][0][\"project\"];\n    if (clientName == \"\") clientName = info.clientId;\n    if (prjName == \"\") prjName = info.projectId;\n\n    // ADD ENV\n    if (captureType == \"mobile\") {\n      allureReporter.addEnvironment(`${prjName} :: ${common.capitalize(captureType)} :: ${caps.platformName}`, `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`);\n    } else {\n      allureReporter.addEnvironment(`${prjName} :: ${common.capitalize(captureType)} :: ${caps.platformName}`, `${common.capitalize(caps.browserName)} ${caps.browserVersion}`);\n    }\n\n    // ADD FEATURES - USED TO DISPLAY UNDER \"FEATURES BY STORIES\"\n    allureReporter.addFeature(`${clientName} :: ${prjName}`);\n\n    // ADD CUSTOM INFO\n    switch (status) {\n      case \"active\":\n        allureReporter.addStory(captureType.charAt(0).toUpperCase() + captureType.slice(1));\n\n        // ADD DETAIL --- ONLY FAILED CASE\n        if (compareResult > 0) {\n          allureReporter.addSeverity(severity);\n\n          // ADD ATTACHMENTS\n          allureReporter.addAttachment(`Baseline: ${specId}`, screenshots.contents.baseline, \"image/png\");\n          allureReporter.addAttachment(`Actual: ${specId}`, screenshots.contents.actual, \"image/png\");\n          allureReporter.addAttachment(`Diff: ${specId}`, screenshots.contents.diff, \"image/png\");\n\n          // GET PAGE HTML\n          if (captureType != \"mobile\") {\n            const body = await $(\"body\");\n            const html = await body.getHTML();\n            allureReporter.addAttachment(`HTML: ${specId}`, html);\n          }\n\n          // ADD CONSOLE\n          console.log({\n            specId: specId,\n            captureOpts: captureOpts,\n            capabilities: driver.capabilities\n          });\n        }\n        break;\n      case \"manual\":\n        allureReporter.addStory(\"Manual Test\");\n        break;\n      case \"deactivate\":\n        allureReporter.addStory(\"Deactivated\");\n        break;\n      case \"support\":\n        allureReporter.addStory(\"Request support\");\n        break;\n    }\n\n    // ADD CASE ID\n    allureReporter.addArgument(\"case\", specId);\n\n    // ADD ENV DETAIL\n    await this.addEnvDetail(info);\n  }\n\n  /**\r\n   * Add environment detail\r\n   * @param {Object} info project information\r\n   */\n  async addEnvDetail(info) {\n    if (info.status == \"active\") {\n      const caps = await capHandler.getCapabilities(info.specId);\n      if (info.captureType == \"mobile\") {\n        allureReporter.addArgument(\"platform\", caps.platformName);\n        allureReporter.addArgument(\"device name\", `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`);\n        allureReporter.addArgument(\"device udid\", caps.deviceUDID);\n        allureReporter.addArgument(\"device screen size\", caps.deviceScreenSize);\n        allureReporter.addArgument(\"platform version\", caps.platformVersion);\n        allureReporter.addArgument(\"device api level\", caps.deviceApiLevel);\n      } else {\n        allureReporter.addArgument(\"url\", await browser.getUrl());\n        allureReporter.addArgument(\"platform\", caps.platformName);\n        allureReporter.addArgument(\"browser name\", `${common.capitalize(caps.browserName)} ${caps.browserVersion}`);\n      }\n    }\n  }\n\n  /**\r\n   * Custom Allure description and add custom actions\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} status active, deactive, manual, support\r\n   */\n  customActions(specId, status) {\n    const injectJS = `\n      <script>\n        var rvDefaultScreenshot = (timer) => {\n          // Remove default screenshot\n          var eles = document.getElementsByClassName(\"attachment-row__name long-line\");\n          var xPath = \"//div[contains(text(),'Screenshot')]\";\n          var arr = [];\n          for (let i = 0; i < eles.length; i++) {\n            if(eles[i].textContent.includes(\"Screenshot\")){\n              arr.push(eles[i].parentNode.parentNode);\n            }\n\n            if(eles[i].textContent.includes(\"Diff\")){\n              var referenceNode = eles[i].parentNode.parentNode;\n              var newNode = document.createElement(\"hr\");\n              referenceNode.after(newNode);\n            }\n          }\n          for (let j = 0; j < arr.length; j++) {\n            arr[j].remove();\n          }\n\n          // Remove default browser or device\n          var browserXPath = \"//span[contains(text(),'browser')]\";\n          var deviceXPath = \"//span[contains(text(),'device')]\";\n          var browserEle = document.evaluate(browserXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          var deviceEle = document.evaluate(deviceXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          if(browserEle != null) {\n            browserEle.parentNode.remove();\n          }\n          if(deviceEle != null) {\n            deviceEle.parentNode.remove();\n          }\n\n          console.log(\"Timer is working\");\n\n          var matchingElement = document.evaluate(xPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          if(matchingElement == null) {\n            clearInterval(timer);\n            console.log(\"Timer is ended\");\n          }\n        }\n\n        var timer = setInterval(() => {\n          rvDefaultScreenshot(timer);\n        }, 100);\n      </script>\n    `;\n\n    // Icons are defined here: https://fontawesome.com/v4/icons/\n    let title = \"\";\n    const deactivateCommand = `qatest=tests%20deactivate%20--exec-dis-testname=${specId}`;\n    const deactivateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${deactivateCommand}`;\n    const activateCommand = `qatest=tests%20activate%20--exec-dis-testname=${specId}`;\n    const activateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${activateCommand}`;\n    const manualCommand = `qatest=tests%20manual%20--exec-dis-testname=${specId}`;\n    const manualHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${manualCommand}`;\n    const supportCommand = `qatest=tests%20support%20--exec-dis-testname=${specId}`;\n    const supportHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${supportCommand}`;\n    const rebaselineCommand = `qatest=screenshot%20override%20--scr-testname=${specId}`;\n    const rebaselineHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${rebaselineCommand}`;\n    let activeHTML = `\n      <li>\n        <span class=\"fa fa-check\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${activateHref}\">Activate this spec for automation test</a>\n      </li>\n      </br>\n    `;\n    let deactiveHTML = `\n      <li>\n        <span class=\"fa fa-archive\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${deactivateHref}\">Deactivate this spec</a>\n      </li>\n      </br>\n    `;\n    let manualHTML = `\n      <li>\n        <span class=\"fa fa-signing\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${manualHref}\">Confirm this spec for manual test</a>\n      </li>\n      </br>\n    `;\n    let supportHTML = `\n      <li>\n        <span class=\"fa fa-support\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${supportHref}\">Request support from QA Auto</a>\n      </li>\n      </br>\n    `;\n    let rebaselineHTML = `\n      <li>\n        <span class=\"fa fa-photo\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${rebaselineHref}\">Update baseline</a>\n      </li>\n    `;\n    switch (status) {\n      case \"active\":\n        title = `<span style=\"color: blue;\">This spec is active for automation test. You can change the status by one of actions below.</span>`;\n        activeHTML = \"\";\n        break;\n      case \"manual\":\n        title = `<span style=\"color: red;\">This spec is applied for manual test. You can change the status by one of actions below.</span>`;\n        manualHTML = \"\";\n        break;\n      case \"deactivate\":\n        title = `<span style=\"color: red;\">This spec is deactivated. You can change the status by one of actions below.</span>`;\n        deactiveHTML = \"\";\n        break;\n      case \"support\":\n        title = `<span style=\"color: red;\">This spec is required support from QA Automation. You can change the status by one of actions below.</span>`;\n        supportHTML = \"\";\n        break;\n    }\n    const desc = `\n      <div style=\"font-size:16pt;\">${title}</div>\n      <ul style=\"list-style: none;margin-left: -1.5em;\">\n        ${activeHTML}\n        ${deactiveHTML}\n        ${manualHTML}\n        ${supportHTML}\n        ${rebaselineHTML}\n      </ul>\n    `;\n    allureReporter.addDescription(injectJS + desc, \"html\");\n  }\n\n  /**\r\n   * Group spec into recorder or image comparison\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   */\n  async groupTest(specFileName, specTitle) {\n    const info = await dataHandler.getInfoFromFilePath(specFileName);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n    // Group all tests into recorder\n    if (!specTitle.includes(\"image comparison\") && !specTitle.includes(\"init project\") && !specTitle.includes(\"generate spec files\")) {\n      const clientName = excelData[\"config\"][0][\"client\"];\n      const prjName = excelData[\"config\"][0][\"project\"];\n      if (clientName == \"\") clientName = info.clientId;\n      if (prjName == \"\") prjName = info.projectId;\n      allureReporter.addFeature(`${clientName} :: ${prjName}`);\n      allureReporter.addStory(\"Recorder\");\n    }\n  }\n\n  /**\r\n   * Add custom link into Allure\r\n   * @param {String} link link to be added into Allure\r\n   */\n  addIssue(link) {\n    allureReporter.addIssue(link);\n  }\n\n  /**\r\n   * Add a custom step to report\r\n   * @param {String} msg Message throw out\r\n   */\n  addStep(msg) {\n    allureReporter.startStep(msg);\n  }\n\n  /**\r\n   * End step with status\r\n   * @param {String} status \"failed\", \"passed\", \"broken\", \"skipped\" or \"unknown\"\r\n   */\n  endStep(status) {\n    allureReporter.endStep(status);\n  }\n\n  /**\r\n   * Add severity for test in Allure\r\n   * @param {String} severity blocker, critical, normal, minor, trivial\r\n   */\n  addSeverity(severity) {\n    allureReporter.addSeverity(severity);\n  }\n\n  /**\r\n   * Add argument for test in Allure\r\n   * @param {String} name name of argument\r\n   * @param {String} value value of argument\r\n   */\n  addArgument(name, value) {\n    allureReporter.addArgument(name, value);\n  }\n\n  /**\r\n   * Add attachment into report\r\n   * @param {String} contents screenshot binary\r\n   */\n  addAttachment(contents, type = \"image/png\") {\n    allureReporter.addAttachment(`Screenshot`, Buffer.from(contents, \"base64\"), type);\n  }\n}\nmodule.exports = new allureCustom();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGx1cmVSZXBvcnRlciIsInJlcXVpcmUiLCJkZWZhdWx0IiwiZGF0YUhhbmRsZXIiLCJjYXBIYW5kbGVyIiwiY29tbW9uIiwiYWxsdXJlQ3VzdG9tIiwiY29uc3RydWN0b3IiLCJjdXN0b21EZXRhaWwiLCJpbmZvIiwiY29tcGFyZVJlc3VsdCIsImNhcHR1cmVPcHRzIiwic2V2ZXJpdHkiLCJzcGVjSWQiLCJzdGF0dXMiLCJjYXB0dXJlVHlwZSIsImNhcHMiLCJnZXRDYXBhYmlsaXRpZXMiLCJzY3JlZW5zaG90cyIsImdldFNjcmVlbnNob3RzIiwiYmFzZWxpbmVGb2xkZXIiLCJleGNlbERhdGEiLCJnZXRQcm9qZWN0RGF0YUV4Y2VsIiwiY2xpZW50SWQiLCJwcm9qZWN0SWQiLCJjbGllbnROYW1lIiwicHJqTmFtZSIsImFkZEVudmlyb25tZW50IiwiY2FwaXRhbGl6ZSIsInBsYXRmb3JtTmFtZSIsImRldmljZU1hbnVmYWN0dXJlciIsImRldmljZU1vZGVsIiwiYnJvd3Nlck5hbWUiLCJicm93c2VyVmVyc2lvbiIsImFkZEZlYXR1cmUiLCJhZGRTdG9yeSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJhZGRTZXZlcml0eSIsImFkZEF0dGFjaG1lbnQiLCJjb250ZW50cyIsImJhc2VsaW5lIiwiYWN0dWFsIiwiZGlmZiIsImJvZHkiLCIkIiwiaHRtbCIsImdldEhUTUwiLCJjb25zb2xlIiwibG9nIiwiY2FwYWJpbGl0aWVzIiwiZHJpdmVyIiwiYWRkQXJndW1lbnQiLCJhZGRFbnZEZXRhaWwiLCJkZXZpY2VVRElEIiwiZGV2aWNlU2NyZWVuU2l6ZSIsInBsYXRmb3JtVmVyc2lvbiIsImRldmljZUFwaUxldmVsIiwiYnJvd3NlciIsImdldFVybCIsImN1c3RvbUFjdGlvbnMiLCJpbmplY3RKUyIsInRpdGxlIiwiZGVhY3RpdmF0ZUNvbW1hbmQiLCJkZWFjdGl2YXRlSHJlZiIsImNvbmZpZyIsImplbmtpbnMiLCJqb2JOYW1lIiwiYWN0aXZhdGVDb21tYW5kIiwiYWN0aXZhdGVIcmVmIiwibWFudWFsQ29tbWFuZCIsIm1hbnVhbEhyZWYiLCJzdXBwb3J0Q29tbWFuZCIsInN1cHBvcnRIcmVmIiwicmViYXNlbGluZUNvbW1hbmQiLCJyZWJhc2VsaW5lSHJlZiIsImFjdGl2ZUhUTUwiLCJkZWFjdGl2ZUhUTUwiLCJtYW51YWxIVE1MIiwic3VwcG9ydEhUTUwiLCJyZWJhc2VsaW5lSFRNTCIsImRlc2MiLCJhZGREZXNjcmlwdGlvbiIsImdyb3VwVGVzdCIsInNwZWNGaWxlTmFtZSIsInNwZWNUaXRsZSIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJpbmNsdWRlcyIsImFkZElzc3VlIiwibGluayIsImFkZFN0ZXAiLCJtc2ciLCJzdGFydFN0ZXAiLCJlbmRTdGVwIiwibmFtZSIsInZhbHVlIiwidHlwZSIsIkJ1ZmZlciIsImZyb20iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx1dGlsc1xcbGliXFwiLCJzb3VyY2VzIjpbImFsbHVyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbGx1cmVSZXBvcnRlciA9IHJlcXVpcmUoXCJAd2Rpby9hbGx1cmUtcmVwb3J0ZXJcIikuZGVmYXVsdDtcclxuY29uc3QgZGF0YUhhbmRsZXIgPSByZXF1aXJlKFwiLi9kYXRhX2hhbmRsZXJcIik7XHJcbmNvbnN0IGNhcEhhbmRsZXIgPSByZXF1aXJlKFwiLi9jYXBfaGFuZGxlclwiKTtcclxuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcclxuXHJcbmNsYXNzIGFsbHVyZUN1c3RvbSB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBDdXN0b20gQWxsdXJlIGRldGFpbFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcGFyYW0ge0ludH0gY29tcGFyZVJlc3VsdCBjb21wYXJpc29uIHJlc3VsdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYXB0dXJlT3B0cyBjYXB0dXJlIG9wdGlvbnNcclxuICAgKi9cclxuICBhc3luYyBjdXN0b21EZXRhaWwoaW5mbywgY29tcGFyZVJlc3VsdCwgY2FwdHVyZU9wdHMsIHNldmVyaXR5ID0gXCJjcml0aWNhbFwiKSB7XHJcbiAgICBjb25zdCBzcGVjSWQgPSBpbmZvLnNwZWNJZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGluZm8uc3RhdHVzO1xyXG4gICAgY29uc3QgY2FwdHVyZVR5cGUgPSBpbmZvLmNhcHR1cmVUeXBlO1xyXG4gICAgY29uc3QgY2FwcyA9IGF3YWl0IGNhcEhhbmRsZXIuZ2V0Q2FwYWJpbGl0aWVzKHNwZWNJZCk7XHJcbiAgICBjb25zdCBzY3JlZW5zaG90cyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFNjcmVlbnNob3RzKFxyXG4gICAgICBzcGVjSWQsXHJcbiAgICAgIGNhcHMuYmFzZWxpbmVGb2xkZXJcclxuICAgICk7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgKTtcclxuICAgIGxldCBjbGllbnROYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiY2xpZW50XCJdO1xyXG4gICAgbGV0IHByak5hbWUgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJwcm9qZWN0XCJdO1xyXG4gICAgaWYgKGNsaWVudE5hbWUgPT0gXCJcIikgY2xpZW50TmFtZSA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICBpZiAocHJqTmFtZSA9PSBcIlwiKSBwcmpOYW1lID0gaW5mby5wcm9qZWN0SWQ7XHJcblxyXG4gICAgLy8gQUREIEVOVlxyXG4gICAgaWYgKGNhcHR1cmVUeXBlID09IFwibW9iaWxlXCIpIHtcclxuICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkRW52aXJvbm1lbnQoXHJcbiAgICAgICAgYCR7cHJqTmFtZX0gOjogJHtjb21tb24uY2FwaXRhbGl6ZShjYXB0dXJlVHlwZSl9IDo6ICR7XHJcbiAgICAgICAgICBjYXBzLnBsYXRmb3JtTmFtZVxyXG4gICAgICAgIH1gLFxyXG4gICAgICAgIGAke2NvbW1vbi5jYXBpdGFsaXplKGNhcHMuZGV2aWNlTWFudWZhY3R1cmVyKX0gJHtjYXBzLmRldmljZU1vZGVsfWBcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEVudmlyb25tZW50KFxyXG4gICAgICAgIGAke3Byak5hbWV9IDo6ICR7Y29tbW9uLmNhcGl0YWxpemUoY2FwdHVyZVR5cGUpfSA6OiAke1xyXG4gICAgICAgICAgY2Fwcy5wbGF0Zm9ybU5hbWVcclxuICAgICAgICB9YCxcclxuICAgICAgICBgJHtjb21tb24uY2FwaXRhbGl6ZShjYXBzLmJyb3dzZXJOYW1lKX0gJHtjYXBzLmJyb3dzZXJWZXJzaW9ufWBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBREQgRkVBVFVSRVMgLSBVU0VEIFRPIERJU1BMQVkgVU5ERVIgXCJGRUFUVVJFUyBCWSBTVE9SSUVTXCJcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZEZlYXR1cmUoYCR7Y2xpZW50TmFtZX0gOjogJHtwcmpOYW1lfWApO1xyXG5cclxuICAgIC8vIEFERCBDVVNUT00gSU5GT1xyXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgY2FzZSBcImFjdGl2ZVwiOlxyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZFN0b3J5KFxyXG4gICAgICAgICAgY2FwdHVyZVR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYXB0dXJlVHlwZS5zbGljZSgxKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEFERCBERVRBSUwgLS0tIE9OTFkgRkFJTEVEIENBU0VcclxuICAgICAgICBpZiAoY29tcGFyZVJlc3VsdCA+IDApIHtcclxuICAgICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZFNldmVyaXR5KHNldmVyaXR5KTtcclxuXHJcbiAgICAgICAgICAvLyBBREQgQVRUQUNITUVOVFNcclxuICAgICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEF0dGFjaG1lbnQoXHJcbiAgICAgICAgICAgIGBCYXNlbGluZTogJHtzcGVjSWR9YCxcclxuICAgICAgICAgICAgc2NyZWVuc2hvdHMuY29udGVudHMuYmFzZWxpbmUsXHJcbiAgICAgICAgICAgIFwiaW1hZ2UvcG5nXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBdHRhY2htZW50KFxyXG4gICAgICAgICAgICBgQWN0dWFsOiAke3NwZWNJZH1gLFxyXG4gICAgICAgICAgICBzY3JlZW5zaG90cy5jb250ZW50cy5hY3R1YWwsXHJcbiAgICAgICAgICAgIFwiaW1hZ2UvcG5nXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBdHRhY2htZW50KFxyXG4gICAgICAgICAgICBgRGlmZjogJHtzcGVjSWR9YCxcclxuICAgICAgICAgICAgc2NyZWVuc2hvdHMuY29udGVudHMuZGlmZixcclxuICAgICAgICAgICAgXCJpbWFnZS9wbmdcIlxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAvLyBHRVQgUEFHRSBIVE1MXHJcbiAgICAgICAgICBpZiAoY2FwdHVyZVR5cGUgIT0gXCJtb2JpbGVcIikge1xyXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgJChcImJvZHlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCBib2R5LmdldEhUTUwoKTtcclxuICAgICAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXR0YWNobWVudChgSFRNTDogJHtzcGVjSWR9YCwgaHRtbCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQUREIENPTlNPTEVcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHtcclxuICAgICAgICAgICAgc3BlY0lkOiBzcGVjSWQsXHJcbiAgICAgICAgICAgIGNhcHR1cmVPcHRzOiBjYXB0dXJlT3B0cyxcclxuICAgICAgICAgICAgY2FwYWJpbGl0aWVzOiBkcml2ZXIuY2FwYWJpbGl0aWVzLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwibWFudWFsXCI6XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkU3RvcnkoXCJNYW51YWwgVGVzdFwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImRlYWN0aXZhdGVcIjpcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRTdG9yeShcIkRlYWN0aXZhdGVkXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic3VwcG9ydFwiOlxyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZFN0b3J5KFwiUmVxdWVzdCBzdXBwb3J0XCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFERCBDQVNFIElEXHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcImNhc2VcIiwgc3BlY0lkKTtcclxuXHJcbiAgICAvLyBBREQgRU5WIERFVEFJTFxyXG4gICAgYXdhaXQgdGhpcy5hZGRFbnZEZXRhaWwoaW5mbyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgZW52aXJvbm1lbnQgZGV0YWlsXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gcHJvamVjdCBpbmZvcm1hdGlvblxyXG4gICAqL1xyXG4gIGFzeW5jIGFkZEVudkRldGFpbChpbmZvKSB7XHJcbiAgICBpZiAoaW5mby5zdGF0dXMgPT0gXCJhY3RpdmVcIikge1xyXG4gICAgICBjb25zdCBjYXBzID0gYXdhaXQgY2FwSGFuZGxlci5nZXRDYXBhYmlsaXRpZXMoaW5mby5zcGVjSWQpO1xyXG5cclxuICAgICAgaWYgKGluZm8uY2FwdHVyZVR5cGUgPT0gXCJtb2JpbGVcIikge1xyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KFwicGxhdGZvcm1cIiwgY2Fwcy5wbGF0Zm9ybU5hbWUpO1xyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KFxyXG4gICAgICAgICAgXCJkZXZpY2UgbmFtZVwiLFxyXG4gICAgICAgICAgYCR7Y29tbW9uLmNhcGl0YWxpemUoY2Fwcy5kZXZpY2VNYW51ZmFjdHVyZXIpfSAke2NhcHMuZGV2aWNlTW9kZWx9YFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJkZXZpY2UgdWRpZFwiLCBjYXBzLmRldmljZVVESUQpO1xyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KFwiZGV2aWNlIHNjcmVlbiBzaXplXCIsIGNhcHMuZGV2aWNlU2NyZWVuU2l6ZSk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJwbGF0Zm9ybSB2ZXJzaW9uXCIsIGNhcHMucGxhdGZvcm1WZXJzaW9uKTtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcImRldmljZSBhcGkgbGV2ZWxcIiwgY2Fwcy5kZXZpY2VBcGlMZXZlbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJ1cmxcIiwgYXdhaXQgYnJvd3Nlci5nZXRVcmwoKSk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJwbGF0Zm9ybVwiLCBjYXBzLnBsYXRmb3JtTmFtZSk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXHJcbiAgICAgICAgICBcImJyb3dzZXIgbmFtZVwiLFxyXG4gICAgICAgICAgYCR7Y29tbW9uLmNhcGl0YWxpemUoY2Fwcy5icm93c2VyTmFtZSl9ICR7Y2Fwcy5icm93c2VyVmVyc2lvbn1gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tIEFsbHVyZSBkZXNjcmlwdGlvbiBhbmQgYWRkIGN1c3RvbSBhY3Rpb25zXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNJZCBzcGVjIGlkIG9yIHNwZWMgZmlsZSBuYW1lXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXR1cyBhY3RpdmUsIGRlYWN0aXZlLCBtYW51YWwsIHN1cHBvcnRcclxuICAgKi9cclxuICBjdXN0b21BY3Rpb25zKHNwZWNJZCwgc3RhdHVzKSB7XHJcbiAgICBjb25zdCBpbmplY3RKUyA9IGBcclxuICAgICAgPHNjcmlwdD5cclxuICAgICAgICB2YXIgcnZEZWZhdWx0U2NyZWVuc2hvdCA9ICh0aW1lcikgPT4ge1xyXG4gICAgICAgICAgLy8gUmVtb3ZlIGRlZmF1bHQgc2NyZWVuc2hvdFxyXG4gICAgICAgICAgdmFyIGVsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYXR0YWNobWVudC1yb3dfX25hbWUgbG9uZy1saW5lXCIpO1xyXG4gICAgICAgICAgdmFyIHhQYXRoID0gXCIvL2Rpdltjb250YWlucyh0ZXh0KCksJ1NjcmVlbnNob3QnKV1cIjtcclxuICAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZihlbGVzW2ldLnRleHRDb250ZW50LmluY2x1ZGVzKFwiU2NyZWVuc2hvdFwiKSl7XHJcbiAgICAgICAgICAgICAgYXJyLnB1c2goZWxlc1tpXS5wYXJlbnROb2RlLnBhcmVudE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihlbGVzW2ldLnRleHRDb250ZW50LmluY2x1ZGVzKFwiRGlmZlwiKSl7XHJcbiAgICAgICAgICAgICAgdmFyIHJlZmVyZW5jZU5vZGUgPSBlbGVzW2ldLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTtcclxuICAgICAgICAgICAgICByZWZlcmVuY2VOb2RlLmFmdGVyKG5ld05vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBhcnJbal0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIGRlZmF1bHQgYnJvd3NlciBvciBkZXZpY2VcclxuICAgICAgICAgIHZhciBicm93c2VyWFBhdGggPSBcIi8vc3Bhbltjb250YWlucyh0ZXh0KCksJ2Jyb3dzZXInKV1cIjtcclxuICAgICAgICAgIHZhciBkZXZpY2VYUGF0aCA9IFwiLy9zcGFuW2NvbnRhaW5zKHRleHQoKSwnZGV2aWNlJyldXCI7XHJcbiAgICAgICAgICB2YXIgYnJvd3NlckVsZSA9IGRvY3VtZW50LmV2YWx1YXRlKGJyb3dzZXJYUGF0aCwgZG9jdW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7XHJcbiAgICAgICAgICB2YXIgZGV2aWNlRWxlID0gZG9jdW1lbnQuZXZhbHVhdGUoZGV2aWNlWFBhdGgsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xyXG4gICAgICAgICAgaWYoYnJvd3NlckVsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGJyb3dzZXJFbGUucGFyZW50Tm9kZS5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmKGRldmljZUVsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRldmljZUVsZS5wYXJlbnROb2RlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZXIgaXMgd29ya2luZ1wiKTtcclxuXHJcbiAgICAgICAgICB2YXIgbWF0Y2hpbmdFbGVtZW50ID0gZG9jdW1lbnQuZXZhbHVhdGUoeFBhdGgsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xyXG4gICAgICAgICAgaWYobWF0Y2hpbmdFbGVtZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZXIgaXMgZW5kZWRcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICBydkRlZmF1bHRTY3JlZW5zaG90KHRpbWVyKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgIGA7XHJcblxyXG4gICAgLy8gSWNvbnMgYXJlIGRlZmluZWQgaGVyZTogaHR0cHM6Ly9mb250YXdlc29tZS5jb20vdjQvaWNvbnMvXHJcbiAgICBsZXQgdGl0bGUgPSBcIlwiO1xyXG4gICAgY29uc3QgZGVhY3RpdmF0ZUNvbW1hbmQgPSBgcWF0ZXN0PXRlc3RzJTIwZGVhY3RpdmF0ZSUyMC0tZXhlYy1kaXMtdGVzdG5hbWU9JHtzcGVjSWR9YDtcclxuICAgIGNvbnN0IGRlYWN0aXZhdGVIcmVmID0gYCR7YnJvd3Nlci5jb25maWcuamVua2luc30vam9iLyR7YnJvd3Nlci5jb25maWcuam9iTmFtZX0vYnVpbGRXaXRoUGFyYW1ldGVycz8ke2RlYWN0aXZhdGVDb21tYW5kfWA7XHJcbiAgICBjb25zdCBhY3RpdmF0ZUNvbW1hbmQgPSBgcWF0ZXN0PXRlc3RzJTIwYWN0aXZhdGUlMjAtLWV4ZWMtZGlzLXRlc3RuYW1lPSR7c3BlY0lkfWA7XHJcbiAgICBjb25zdCBhY3RpdmF0ZUhyZWYgPSBgJHticm93c2VyLmNvbmZpZy5qZW5raW5zfS9qb2IvJHticm93c2VyLmNvbmZpZy5qb2JOYW1lfS9idWlsZFdpdGhQYXJhbWV0ZXJzPyR7YWN0aXZhdGVDb21tYW5kfWA7XHJcbiAgICBjb25zdCBtYW51YWxDb21tYW5kID0gYHFhdGVzdD10ZXN0cyUyMG1hbnVhbCUyMC0tZXhlYy1kaXMtdGVzdG5hbWU9JHtzcGVjSWR9YDtcclxuICAgIGNvbnN0IG1hbnVhbEhyZWYgPSBgJHticm93c2VyLmNvbmZpZy5qZW5raW5zfS9qb2IvJHticm93c2VyLmNvbmZpZy5qb2JOYW1lfS9idWlsZFdpdGhQYXJhbWV0ZXJzPyR7bWFudWFsQ29tbWFuZH1gO1xyXG4gICAgY29uc3Qgc3VwcG9ydENvbW1hbmQgPSBgcWF0ZXN0PXRlc3RzJTIwc3VwcG9ydCUyMC0tZXhlYy1kaXMtdGVzdG5hbWU9JHtzcGVjSWR9YDtcclxuICAgIGNvbnN0IHN1cHBvcnRIcmVmID0gYCR7YnJvd3Nlci5jb25maWcuamVua2luc30vam9iLyR7YnJvd3Nlci5jb25maWcuam9iTmFtZX0vYnVpbGRXaXRoUGFyYW1ldGVycz8ke3N1cHBvcnRDb21tYW5kfWA7XHJcbiAgICBjb25zdCByZWJhc2VsaW5lQ29tbWFuZCA9IGBxYXRlc3Q9c2NyZWVuc2hvdCUyMG92ZXJyaWRlJTIwLS1zY3ItdGVzdG5hbWU9JHtzcGVjSWR9YDtcclxuICAgIGNvbnN0IHJlYmFzZWxpbmVIcmVmID0gYCR7YnJvd3Nlci5jb25maWcuamVua2luc30vam9iLyR7YnJvd3Nlci5jb25maWcuam9iTmFtZX0vYnVpbGRXaXRoUGFyYW1ldGVycz8ke3JlYmFzZWxpbmVDb21tYW5kfWA7XHJcblxyXG4gICAgbGV0IGFjdGl2ZUhUTUwgPSBgXHJcbiAgICAgIDxsaT5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLWNoZWNrXCI+PC9zcGFuPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2FjdGl2YXRlSHJlZn1cIj5BY3RpdmF0ZSB0aGlzIHNwZWMgZm9yIGF1dG9tYXRpb24gdGVzdDwvYT5cclxuICAgICAgPC9saT5cclxuICAgICAgPC9icj5cclxuICAgIGA7XHJcbiAgICBsZXQgZGVhY3RpdmVIVE1MID0gYFxyXG4gICAgICA8bGk+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1hcmNoaXZlXCI+PC9zcGFuPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2RlYWN0aXZhdGVIcmVmfVwiPkRlYWN0aXZhdGUgdGhpcyBzcGVjPC9hPlxyXG4gICAgICA8L2xpPlxyXG4gICAgICA8L2JyPlxyXG4gICAgYDtcclxuICAgIGxldCBtYW51YWxIVE1MID0gYFxyXG4gICAgICA8bGk+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1zaWduaW5nXCI+PC9zcGFuPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke21hbnVhbEhyZWZ9XCI+Q29uZmlybSB0aGlzIHNwZWMgZm9yIG1hbnVhbCB0ZXN0PC9hPlxyXG4gICAgICA8L2xpPlxyXG4gICAgICA8L2JyPlxyXG4gICAgYDtcclxuICAgIGxldCBzdXBwb3J0SFRNTCA9IGBcclxuICAgICAgPGxpPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtc3VwcG9ydFwiPjwvc3Bhbj5cclxuICAgICAgICA8YSBjbGFzcz1cImxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtzdXBwb3J0SHJlZn1cIj5SZXF1ZXN0IHN1cHBvcnQgZnJvbSBRQSBBdXRvPC9hPlxyXG4gICAgICA8L2xpPlxyXG4gICAgICA8L2JyPlxyXG4gICAgYDtcclxuICAgIGxldCByZWJhc2VsaW5lSFRNTCA9IGBcclxuICAgICAgPGxpPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtcGhvdG9cIj48L3NwYW4+XHJcbiAgICAgICAgPGEgY2xhc3M9XCJsaW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7cmViYXNlbGluZUhyZWZ9XCI+VXBkYXRlIGJhc2VsaW5lPC9hPlxyXG4gICAgICA8L2xpPlxyXG4gICAgYDtcclxuXHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlIFwiYWN0aXZlXCI6XHJcbiAgICAgICAgdGl0bGUgPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjogYmx1ZTtcIj5UaGlzIHNwZWMgaXMgYWN0aXZlIGZvciBhdXRvbWF0aW9uIHRlc3QuIFlvdSBjYW4gY2hhbmdlIHRoZSBzdGF0dXMgYnkgb25lIG9mIGFjdGlvbnMgYmVsb3cuPC9zcGFuPmA7XHJcbiAgICAgICAgYWN0aXZlSFRNTCA9IFwiXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJtYW51YWxcIjpcclxuICAgICAgICB0aXRsZSA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+VGhpcyBzcGVjIGlzIGFwcGxpZWQgZm9yIG1hbnVhbCB0ZXN0LiBZb3UgY2FuIGNoYW5nZSB0aGUgc3RhdHVzIGJ5IG9uZSBvZiBhY3Rpb25zIGJlbG93Ljwvc3Bhbj5gO1xyXG4gICAgICAgIG1hbnVhbEhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGVhY3RpdmF0ZVwiOlxyXG4gICAgICAgIHRpdGxlID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5UaGlzIHNwZWMgaXMgZGVhY3RpdmF0ZWQuIFlvdSBjYW4gY2hhbmdlIHRoZSBzdGF0dXMgYnkgb25lIG9mIGFjdGlvbnMgYmVsb3cuPC9zcGFuPmA7XHJcbiAgICAgICAgZGVhY3RpdmVIVE1MID0gXCJcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInN1cHBvcnRcIjpcclxuICAgICAgICB0aXRsZSA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+VGhpcyBzcGVjIGlzIHJlcXVpcmVkIHN1cHBvcnQgZnJvbSBRQSBBdXRvbWF0aW9uLiBZb3UgY2FuIGNoYW5nZSB0aGUgc3RhdHVzIGJ5IG9uZSBvZiBhY3Rpb25zIGJlbG93Ljwvc3Bhbj5gO1xyXG4gICAgICAgIHN1cHBvcnRIVE1MID0gXCJcIjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZXNjID0gYFxyXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOjE2cHQ7XCI+JHt0aXRsZX08L2Rpdj5cclxuICAgICAgPHVsIHN0eWxlPVwibGlzdC1zdHlsZTogbm9uZTttYXJnaW4tbGVmdDogLTEuNWVtO1wiPlxyXG4gICAgICAgICR7YWN0aXZlSFRNTH1cclxuICAgICAgICAke2RlYWN0aXZlSFRNTH1cclxuICAgICAgICAke21hbnVhbEhUTUx9XHJcbiAgICAgICAgJHtzdXBwb3J0SFRNTH1cclxuICAgICAgICAke3JlYmFzZWxpbmVIVE1MfVxyXG4gICAgICA8L3VsPlxyXG4gICAgYDtcclxuXHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGREZXNjcmlwdGlvbihpbmplY3RKUyArIGRlc2MsIFwiaHRtbFwiKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdyb3VwIHNwZWMgaW50byByZWNvcmRlciBvciBpbWFnZSBjb21wYXJpc29uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNGaWxlTmFtZSBzcGVjIGZpbGUgbmFtZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjVGl0bGUgc3BlYyB0aXRsZVxyXG4gICAqL1xyXG4gIGFzeW5jIGdyb3VwVGVzdChzcGVjRmlsZU5hbWUsIHNwZWNUaXRsZSkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoc3BlY0ZpbGVOYW1lKTtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEdyb3VwIGFsbCB0ZXN0cyBpbnRvIHJlY29yZGVyXHJcbiAgICBpZiAoXHJcbiAgICAgICFzcGVjVGl0bGUuaW5jbHVkZXMoXCJpbWFnZSBjb21wYXJpc29uXCIpICYmXHJcbiAgICAgICFzcGVjVGl0bGUuaW5jbHVkZXMoXCJpbml0IHByb2plY3RcIikgJiZcclxuICAgICAgIXNwZWNUaXRsZS5pbmNsdWRlcyhcImdlbmVyYXRlIHNwZWMgZmlsZXNcIilcclxuICAgICkge1xyXG4gICAgICBjb25zdCBjbGllbnROYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiY2xpZW50XCJdO1xyXG4gICAgICBjb25zdCBwcmpOYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wicHJvamVjdFwiXTtcclxuXHJcbiAgICAgIGlmIChjbGllbnROYW1lID09IFwiXCIpIGNsaWVudE5hbWUgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgICBpZiAocHJqTmFtZSA9PSBcIlwiKSBwcmpOYW1lID0gaW5mby5wcm9qZWN0SWQ7XHJcblxyXG4gICAgICBhbGx1cmVSZXBvcnRlci5hZGRGZWF0dXJlKGAke2NsaWVudE5hbWV9IDo6ICR7cHJqTmFtZX1gKTtcclxuICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkU3RvcnkoXCJSZWNvcmRlclwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBjdXN0b20gbGluayBpbnRvIEFsbHVyZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rIGxpbmsgdG8gYmUgYWRkZWQgaW50byBBbGx1cmVcclxuICAgKi9cclxuICBhZGRJc3N1ZShsaW5rKSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGRJc3N1ZShsaW5rKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIGN1c3RvbSBzdGVwIHRvIHJlcG9ydFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgTWVzc2FnZSB0aHJvdyBvdXRcclxuICAgKi9cclxuICBhZGRTdGVwKG1zZykge1xyXG4gICAgYWxsdXJlUmVwb3J0ZXIuc3RhcnRTdGVwKG1zZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmQgc3RlcCB3aXRoIHN0YXR1c1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0dXMgXCJmYWlsZWRcIiwgXCJwYXNzZWRcIiwgXCJicm9rZW5cIiwgXCJza2lwcGVkXCIgb3IgXCJ1bmtub3duXCJcclxuICAgKi9cclxuICBlbmRTdGVwKHN0YXR1cykge1xyXG4gICAgYWxsdXJlUmVwb3J0ZXIuZW5kU3RlcChzdGF0dXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIHNldmVyaXR5IGZvciB0ZXN0IGluIEFsbHVyZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZXZlcml0eSBibG9ja2VyLCBjcml0aWNhbCwgbm9ybWFsLCBtaW5vciwgdHJpdmlhbFxyXG4gICAqL1xyXG4gIGFkZFNldmVyaXR5KHNldmVyaXR5KSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGRTZXZlcml0eShzZXZlcml0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYXJndW1lbnQgZm9yIHRlc3QgaW4gQWxsdXJlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiBhcmd1bWVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB2YWx1ZSBvZiBhcmd1bWVudFxyXG4gICAqL1xyXG4gIGFkZEFyZ3VtZW50KG5hbWUsIHZhbHVlKSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChuYW1lLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYXR0YWNobWVudCBpbnRvIHJlcG9ydFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBzY3JlZW5zaG90IGJpbmFyeVxyXG4gICAqL1xyXG4gIGFkZEF0dGFjaG1lbnQoY29udGVudHMsIHR5cGUgPSBcImltYWdlL3BuZ1wiKSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5hZGRBdHRhY2htZW50KFxyXG4gICAgICBgU2NyZWVuc2hvdGAsXHJcbiAgICAgIEJ1ZmZlci5mcm9tKGNvbnRlbnRzLCBcImJhc2U2NFwiKSxcclxuICAgICAgdHlwZVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgYWxsdXJlQ3VzdG9tKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsT0FBTztBQUMvRCxNQUFNQyxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUM3QyxNQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsTUFBTUksTUFBTSxHQUFHSixPQUFPLENBQUMsV0FBVyxDQUFDO0FBRW5DLE1BQU1LLFlBQVksQ0FBQztFQUNqQkMsV0FBV0EsQ0FBQSxFQUFHLENBQUM7O0VBRWY7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTUMsWUFBWUEsQ0FBQ0MsSUFBSSxFQUFFQyxhQUFhLEVBQUVDLFdBQVcsRUFBRUMsUUFBUSxHQUFHLFVBQVUsRUFBRTtJQUMxRSxNQUFNQyxNQUFNLEdBQUdKLElBQUksQ0FBQ0ksTUFBTTtJQUMxQixNQUFNQyxNQUFNLEdBQUdMLElBQUksQ0FBQ0ssTUFBTTtJQUMxQixNQUFNQyxXQUFXLEdBQUdOLElBQUksQ0FBQ00sV0FBVztJQUNwQyxNQUFNQyxJQUFJLEdBQUcsTUFBTVosVUFBVSxDQUFDYSxlQUFlLENBQUNKLE1BQU0sQ0FBQztJQUNyRCxNQUFNSyxXQUFXLEdBQUcsTUFBTWYsV0FBVyxDQUFDZ0IsY0FBYyxDQUNsRE4sTUFBTSxFQUNORyxJQUFJLENBQUNJLGNBQ1AsQ0FBQztJQUNELE1BQU1DLFNBQVMsR0FBRyxNQUFNbEIsV0FBVyxDQUFDbUIsbUJBQW1CLENBQ3JEYixJQUFJLENBQUNjLFFBQVEsRUFDYmQsSUFBSSxDQUFDZSxTQUNQLENBQUM7SUFDRCxJQUFJQyxVQUFVLEdBQUdKLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFDakQsSUFBSUssT0FBTyxHQUFHTCxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQy9DLElBQUlJLFVBQVUsSUFBSSxFQUFFLEVBQUVBLFVBQVUsR0FBR2hCLElBQUksQ0FBQ2MsUUFBUTtJQUNoRCxJQUFJRyxPQUFPLElBQUksRUFBRSxFQUFFQSxPQUFPLEdBQUdqQixJQUFJLENBQUNlLFNBQVM7O0lBRTNDO0lBQ0EsSUFBSVQsV0FBVyxJQUFJLFFBQVEsRUFBRTtNQUMzQmYsY0FBYyxDQUFDMkIsY0FBYyxDQUMxQixHQUFFRCxPQUFRLE9BQU1yQixNQUFNLENBQUN1QixVQUFVLENBQUNiLFdBQVcsQ0FBRSxPQUM5Q0MsSUFBSSxDQUFDYSxZQUNOLEVBQUMsRUFDRCxHQUFFeEIsTUFBTSxDQUFDdUIsVUFBVSxDQUFDWixJQUFJLENBQUNjLGtCQUFrQixDQUFFLElBQUdkLElBQUksQ0FBQ2UsV0FBWSxFQUNwRSxDQUFDO0lBQ0gsQ0FBQyxNQUFNO01BQ0wvQixjQUFjLENBQUMyQixjQUFjLENBQzFCLEdBQUVELE9BQVEsT0FBTXJCLE1BQU0sQ0FBQ3VCLFVBQVUsQ0FBQ2IsV0FBVyxDQUFFLE9BQzlDQyxJQUFJLENBQUNhLFlBQ04sRUFBQyxFQUNELEdBQUV4QixNQUFNLENBQUN1QixVQUFVLENBQUNaLElBQUksQ0FBQ2dCLFdBQVcsQ0FBRSxJQUFHaEIsSUFBSSxDQUFDaUIsY0FBZSxFQUNoRSxDQUFDO0lBQ0g7O0lBRUE7SUFDQWpDLGNBQWMsQ0FBQ2tDLFVBQVUsQ0FBRSxHQUFFVCxVQUFXLE9BQU1DLE9BQVEsRUFBQyxDQUFDOztJQUV4RDtJQUNBLFFBQVFaLE1BQU07TUFDWixLQUFLLFFBQVE7UUFDWGQsY0FBYyxDQUFDbUMsUUFBUSxDQUNyQnBCLFdBQVcsQ0FBQ3FCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsR0FBR3RCLFdBQVcsQ0FBQ3VCLEtBQUssQ0FBQyxDQUFDLENBQzNELENBQUM7O1FBRUQ7UUFDQSxJQUFJNUIsYUFBYSxHQUFHLENBQUMsRUFBRTtVQUNyQlYsY0FBYyxDQUFDdUMsV0FBVyxDQUFDM0IsUUFBUSxDQUFDOztVQUVwQztVQUNBWixjQUFjLENBQUN3QyxhQUFhLENBQ3pCLGFBQVkzQixNQUFPLEVBQUMsRUFDckJLLFdBQVcsQ0FBQ3VCLFFBQVEsQ0FBQ0MsUUFBUSxFQUM3QixXQUNGLENBQUM7VUFDRDFDLGNBQWMsQ0FBQ3dDLGFBQWEsQ0FDekIsV0FBVTNCLE1BQU8sRUFBQyxFQUNuQkssV0FBVyxDQUFDdUIsUUFBUSxDQUFDRSxNQUFNLEVBQzNCLFdBQ0YsQ0FBQztVQUNEM0MsY0FBYyxDQUFDd0MsYUFBYSxDQUN6QixTQUFRM0IsTUFBTyxFQUFDLEVBQ2pCSyxXQUFXLENBQUN1QixRQUFRLENBQUNHLElBQUksRUFDekIsV0FDRixDQUFDOztVQUVEO1VBQ0EsSUFBSTdCLFdBQVcsSUFBSSxRQUFRLEVBQUU7WUFDM0IsTUFBTThCLElBQUksR0FBRyxNQUFNQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQzVCLE1BQU1DLElBQUksR0FBRyxNQUFNRixJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDO1lBQ2pDaEQsY0FBYyxDQUFDd0MsYUFBYSxDQUFFLFNBQVEzQixNQUFPLEVBQUMsRUFBRWtDLElBQUksQ0FBQztVQUN2RDs7VUFFQTtVQUNBRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztZQUNWckMsTUFBTSxFQUFFQSxNQUFNO1lBQ2RGLFdBQVcsRUFBRUEsV0FBVztZQUN4QndDLFlBQVksRUFBRUMsTUFBTSxDQUFDRDtVQUN2QixDQUFDLENBQUM7UUFDSjtRQUNBO01BQ0YsS0FBSyxRQUFRO1FBQ1huRCxjQUFjLENBQUNtQyxRQUFRLENBQUMsYUFBYSxDQUFDO1FBQ3RDO01BQ0YsS0FBSyxZQUFZO1FBQ2ZuQyxjQUFjLENBQUNtQyxRQUFRLENBQUMsYUFBYSxDQUFDO1FBQ3RDO01BQ0YsS0FBSyxTQUFTO1FBQ1puQyxjQUFjLENBQUNtQyxRQUFRLENBQUMsaUJBQWlCLENBQUM7UUFDMUM7SUFDSjs7SUFFQTtJQUNBbkMsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLE1BQU0sRUFBRXhDLE1BQU0sQ0FBQzs7SUFFMUM7SUFDQSxNQUFNLElBQUksQ0FBQ3lDLFlBQVksQ0FBQzdDLElBQUksQ0FBQztFQUMvQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFLE1BQU02QyxZQUFZQSxDQUFDN0MsSUFBSSxFQUFFO0lBQ3ZCLElBQUlBLElBQUksQ0FBQ0ssTUFBTSxJQUFJLFFBQVEsRUFBRTtNQUMzQixNQUFNRSxJQUFJLEdBQUcsTUFBTVosVUFBVSxDQUFDYSxlQUFlLENBQUNSLElBQUksQ0FBQ0ksTUFBTSxDQUFDO01BRTFELElBQUlKLElBQUksQ0FBQ00sV0FBVyxJQUFJLFFBQVEsRUFBRTtRQUNoQ2YsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLFVBQVUsRUFBRXJDLElBQUksQ0FBQ2EsWUFBWSxDQUFDO1FBQ3pEN0IsY0FBYyxDQUFDcUQsV0FBVyxDQUN4QixhQUFhLEVBQ1osR0FBRWhELE1BQU0sQ0FBQ3VCLFVBQVUsQ0FBQ1osSUFBSSxDQUFDYyxrQkFBa0IsQ0FBRSxJQUFHZCxJQUFJLENBQUNlLFdBQVksRUFDcEUsQ0FBQztRQUNEL0IsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLGFBQWEsRUFBRXJDLElBQUksQ0FBQ3VDLFVBQVUsQ0FBQztRQUMxRHZELGNBQWMsQ0FBQ3FELFdBQVcsQ0FBQyxvQkFBb0IsRUFBRXJDLElBQUksQ0FBQ3dDLGdCQUFnQixDQUFDO1FBQ3ZFeEQsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLGtCQUFrQixFQUFFckMsSUFBSSxDQUFDeUMsZUFBZSxDQUFDO1FBQ3BFekQsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLGtCQUFrQixFQUFFckMsSUFBSSxDQUFDMEMsY0FBYyxDQUFDO01BQ3JFLENBQUMsTUFBTTtRQUNMMUQsY0FBYyxDQUFDcUQsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNTSxPQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDekQ1RCxjQUFjLENBQUNxRCxXQUFXLENBQUMsVUFBVSxFQUFFckMsSUFBSSxDQUFDYSxZQUFZLENBQUM7UUFDekQ3QixjQUFjLENBQUNxRCxXQUFXLENBQ3hCLGNBQWMsRUFDYixHQUFFaEQsTUFBTSxDQUFDdUIsVUFBVSxDQUFDWixJQUFJLENBQUNnQixXQUFXLENBQUUsSUFBR2hCLElBQUksQ0FBQ2lCLGNBQWUsRUFDaEUsQ0FBQztNQUNIO0lBQ0Y7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0U0QixhQUFhQSxDQUFDaEQsTUFBTSxFQUFFQyxNQUFNLEVBQUU7SUFDNUIsTUFBTWdELFFBQVEsR0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0lBRUQ7SUFDQSxJQUFJQyxLQUFLLEdBQUcsRUFBRTtJQUNkLE1BQU1DLGlCQUFpQixHQUFJLG1EQUFrRG5ELE1BQU8sRUFBQztJQUNyRixNQUFNb0QsY0FBYyxHQUFJLEdBQUVOLE9BQU8sQ0FBQ08sTUFBTSxDQUFDQyxPQUFRLFFBQU9SLE9BQU8sQ0FBQ08sTUFBTSxDQUFDRSxPQUFRLHdCQUF1QkosaUJBQWtCLEVBQUM7SUFDekgsTUFBTUssZUFBZSxHQUFJLGlEQUFnRHhELE1BQU8sRUFBQztJQUNqRixNQUFNeUQsWUFBWSxHQUFJLEdBQUVYLE9BQU8sQ0FBQ08sTUFBTSxDQUFDQyxPQUFRLFFBQU9SLE9BQU8sQ0FBQ08sTUFBTSxDQUFDRSxPQUFRLHdCQUF1QkMsZUFBZ0IsRUFBQztJQUNySCxNQUFNRSxhQUFhLEdBQUksK0NBQThDMUQsTUFBTyxFQUFDO0lBQzdFLE1BQU0yRCxVQUFVLEdBQUksR0FBRWIsT0FBTyxDQUFDTyxNQUFNLENBQUNDLE9BQVEsUUFBT1IsT0FBTyxDQUFDTyxNQUFNLENBQUNFLE9BQVEsd0JBQXVCRyxhQUFjLEVBQUM7SUFDakgsTUFBTUUsY0FBYyxHQUFJLGdEQUErQzVELE1BQU8sRUFBQztJQUMvRSxNQUFNNkQsV0FBVyxHQUFJLEdBQUVmLE9BQU8sQ0FBQ08sTUFBTSxDQUFDQyxPQUFRLFFBQU9SLE9BQU8sQ0FBQ08sTUFBTSxDQUFDRSxPQUFRLHdCQUF1QkssY0FBZSxFQUFDO0lBQ25ILE1BQU1FLGlCQUFpQixHQUFJLGlEQUFnRDlELE1BQU8sRUFBQztJQUNuRixNQUFNK0QsY0FBYyxHQUFJLEdBQUVqQixPQUFPLENBQUNPLE1BQU0sQ0FBQ0MsT0FBUSxRQUFPUixPQUFPLENBQUNPLE1BQU0sQ0FBQ0UsT0FBUSx3QkFBdUJPLGlCQUFrQixFQUFDO0lBRXpILElBQUlFLFVBQVUsR0FBSTtBQUN0QjtBQUNBO0FBQ0EsZ0RBQWdEUCxZQUFhO0FBQzdEO0FBQ0E7QUFDQSxLQUFLO0lBQ0QsSUFBSVEsWUFBWSxHQUFJO0FBQ3hCO0FBQ0E7QUFDQSxnREFBZ0RiLGNBQWU7QUFDL0Q7QUFDQTtBQUNBLEtBQUs7SUFDRCxJQUFJYyxVQUFVLEdBQUk7QUFDdEI7QUFDQTtBQUNBLGdEQUFnRFAsVUFBVztBQUMzRDtBQUNBO0FBQ0EsS0FBSztJQUNELElBQUlRLFdBQVcsR0FBSTtBQUN2QjtBQUNBO0FBQ0EsZ0RBQWdETixXQUFZO0FBQzVEO0FBQ0E7QUFDQSxLQUFLO0lBQ0QsSUFBSU8sY0FBYyxHQUFJO0FBQzFCO0FBQ0E7QUFDQSxnREFBZ0RMLGNBQWU7QUFDL0Q7QUFDQSxLQUFLO0lBRUQsUUFBUTlELE1BQU07TUFDWixLQUFLLFFBQVE7UUFDWGlELEtBQUssR0FBSSwrSEFBOEg7UUFDdkljLFVBQVUsR0FBRyxFQUFFO1FBQ2Y7TUFDRixLQUFLLFFBQVE7UUFDWGQsS0FBSyxHQUFJLDJIQUEwSDtRQUNuSWdCLFVBQVUsR0FBRyxFQUFFO1FBQ2Y7TUFDRixLQUFLLFlBQVk7UUFDZmhCLEtBQUssR0FBSSwrR0FBOEc7UUFDdkhlLFlBQVksR0FBRyxFQUFFO1FBQ2pCO01BQ0YsS0FBSyxTQUFTO1FBQ1pmLEtBQUssR0FBSSx1SUFBc0k7UUFDL0lpQixXQUFXLEdBQUcsRUFBRTtRQUNoQjtJQUNKO0lBRUEsTUFBTUUsSUFBSSxHQUFJO0FBQ2xCLHFDQUFxQ25CLEtBQU07QUFDM0M7QUFDQSxVQUFVYyxVQUFXO0FBQ3JCLFVBQVVDLFlBQWE7QUFDdkIsVUFBVUMsVUFBVztBQUNyQixVQUFVQyxXQUFZO0FBQ3RCLFVBQVVDLGNBQWU7QUFDekI7QUFDQSxLQUFLO0lBRURqRixjQUFjLENBQUNtRixjQUFjLENBQUNyQixRQUFRLEdBQUdvQixJQUFJLEVBQUUsTUFBTSxDQUFDO0VBQ3hEOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNRSxTQUFTQSxDQUFDQyxZQUFZLEVBQUVDLFNBQVMsRUFBRTtJQUN2QyxNQUFNN0UsSUFBSSxHQUFHLE1BQU1OLFdBQVcsQ0FBQ29GLG1CQUFtQixDQUFDRixZQUFZLENBQUM7SUFDaEUsTUFBTWhFLFNBQVMsR0FBRyxNQUFNbEIsV0FBVyxDQUFDbUIsbUJBQW1CLENBQ3JEYixJQUFJLENBQUNjLFFBQVEsRUFDYmQsSUFBSSxDQUFDZSxTQUNQLENBQUM7O0lBRUQ7SUFDQSxJQUNFLENBQUM4RCxTQUFTLENBQUNFLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUN2QyxDQUFDRixTQUFTLENBQUNFLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFDbkMsQ0FBQ0YsU0FBUyxDQUFDRSxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFDMUM7TUFDQSxNQUFNL0QsVUFBVSxHQUFHSixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO01BQ25ELE1BQU1LLE9BQU8sR0FBR0wsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztNQUVqRCxJQUFJSSxVQUFVLElBQUksRUFBRSxFQUFFQSxVQUFVLEdBQUdoQixJQUFJLENBQUNjLFFBQVE7TUFDaEQsSUFBSUcsT0FBTyxJQUFJLEVBQUUsRUFBRUEsT0FBTyxHQUFHakIsSUFBSSxDQUFDZSxTQUFTO01BRTNDeEIsY0FBYyxDQUFDa0MsVUFBVSxDQUFFLEdBQUVULFVBQVcsT0FBTUMsT0FBUSxFQUFDLENBQUM7TUFDeEQxQixjQUFjLENBQUNtQyxRQUFRLENBQUMsVUFBVSxDQUFDO0lBQ3JDO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDRXNELFFBQVFBLENBQUNDLElBQUksRUFBRTtJQUNiMUYsY0FBYyxDQUFDeUYsUUFBUSxDQUFDQyxJQUFJLENBQUM7RUFDL0I7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDRUMsT0FBT0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ1g1RixjQUFjLENBQUM2RixTQUFTLENBQUNELEdBQUcsQ0FBQztFQUMvQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFRSxPQUFPQSxDQUFDaEYsTUFBTSxFQUFFO0lBQ2RkLGNBQWMsQ0FBQzhGLE9BQU8sQ0FBQ2hGLE1BQU0sQ0FBQztFQUNoQzs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFeUIsV0FBV0EsQ0FBQzNCLFFBQVEsRUFBRTtJQUNwQlosY0FBYyxDQUFDdUMsV0FBVyxDQUFDM0IsUUFBUSxDQUFDO0VBQ3RDOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRXlDLFdBQVdBLENBQUMwQyxJQUFJLEVBQUVDLEtBQUssRUFBRTtJQUN2QmhHLGNBQWMsQ0FBQ3FELFdBQVcsQ0FBQzBDLElBQUksRUFBRUMsS0FBSyxDQUFDO0VBQ3pDOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0V4RCxhQUFhQSxDQUFDQyxRQUFRLEVBQUV3RCxJQUFJLEdBQUcsV0FBVyxFQUFFO0lBQzFDakcsY0FBYyxDQUFDd0MsYUFBYSxDQUN6QixZQUFXLEVBQ1owRCxNQUFNLENBQUNDLElBQUksQ0FBQzFELFFBQVEsRUFBRSxRQUFRLENBQUMsRUFDL0J3RCxJQUNGLENBQUM7RUFDSDtBQUNGO0FBQ0FHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUkvRixZQUFZLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["allureReporter","require","default","dataHandler","capHandler","common","allureCustom","constructor","customDetail","info","compareResult","captureOpts","severity","specId","status","captureType","caps","getCapabilities","screenshots","getScreenshots","baselineFolder","excelData","getProjectDataExcel","clientId","projectId","clientName","prjName","addEnvironment","capitalize","platformName","deviceManufacturer","deviceModel","browserName","browserVersion","addFeature","addStory","charAt","toUpperCase","slice","addSeverity","addAttachment","contents","baseline","actual","diff","body","$","html","getHTML","console","log","capabilities","driver","addArgument","addEnvDetail","deviceUDID","deviceScreenSize","platformVersion","deviceApiLevel","browser","getUrl","customActions","injectJS","title","deactivateCommand","deactivateHref","config","jenkins","jobName","activateCommand","activateHref","manualCommand","manualHref","supportCommand","supportHref","rebaselineCommand","rebaselineHref","activeHTML","deactiveHTML","manualHTML","supportHTML","rebaselineHTML","desc","addDescription","groupTest","specFileName","specTitle","getInfoFromFilePath","includes","addIssue","link","addStep","msg","startStep","endStep","name","value","type","Buffer","from","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["allure.js"],"sourcesContent":["const allureReporter = require(\"@wdio/allure-reporter\").default;\r\nconst dataHandler = require(\"./data_handler\");\r\nconst capHandler = require(\"./cap_handler\");\r\nconst common = require(\"../common\");\r\n\r\nclass allureCustom {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Custom Allure detail\r\n   * @param {Object} info spec information\r\n   * @param {Int} compareResult comparison result\r\n   * @param {Object} captureOpts capture options\r\n   */\r\n  async customDetail(info, compareResult, captureOpts, severity = \"critical\") {\r\n    const specId = info.specId;\r\n    const status = info.status;\r\n    const captureType = info.captureType;\r\n    const caps = await capHandler.getCapabilities(specId);\r\n    const screenshots = await dataHandler.getScreenshots(\r\n      specId,\r\n      caps.baselineFolder\r\n    );\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n    let clientName = excelData[\"config\"][0][\"client\"];\r\n    let prjName = excelData[\"config\"][0][\"project\"];\r\n    if (clientName == \"\") clientName = info.clientId;\r\n    if (prjName == \"\") prjName = info.projectId;\r\n\r\n    // ADD ENV\r\n    if (captureType == \"mobile\") {\r\n      allureReporter.addEnvironment(\r\n        `${prjName} :: ${common.capitalize(captureType)} :: ${\r\n          caps.platformName\r\n        }`,\r\n        `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`\r\n      );\r\n    } else {\r\n      allureReporter.addEnvironment(\r\n        `${prjName} :: ${common.capitalize(captureType)} :: ${\r\n          caps.platformName\r\n        }`,\r\n        `${common.capitalize(caps.browserName)} ${caps.browserVersion}`\r\n      );\r\n    }\r\n\r\n    // ADD FEATURES - USED TO DISPLAY UNDER \"FEATURES BY STORIES\"\r\n    allureReporter.addFeature(`${clientName} :: ${prjName}`);\r\n\r\n    // ADD CUSTOM INFO\r\n    switch (status) {\r\n      case \"active\":\r\n        allureReporter.addStory(\r\n          captureType.charAt(0).toUpperCase() + captureType.slice(1)\r\n        );\r\n\r\n        // ADD DETAIL --- ONLY FAILED CASE\r\n        if (compareResult > 0) {\r\n          allureReporter.addSeverity(severity);\r\n\r\n          // ADD ATTACHMENTS\r\n          allureReporter.addAttachment(\r\n            `Baseline: ${specId}`,\r\n            screenshots.contents.baseline,\r\n            \"image/png\"\r\n          );\r\n          allureReporter.addAttachment(\r\n            `Actual: ${specId}`,\r\n            screenshots.contents.actual,\r\n            \"image/png\"\r\n          );\r\n          allureReporter.addAttachment(\r\n            `Diff: ${specId}`,\r\n            screenshots.contents.diff,\r\n            \"image/png\"\r\n          );\r\n\r\n          // GET PAGE HTML\r\n          if (captureType != \"mobile\") {\r\n            const body = await $(\"body\");\r\n            const html = await body.getHTML();\r\n            allureReporter.addAttachment(`HTML: ${specId}`, html);\r\n          }\r\n\r\n          // ADD CONSOLE\r\n          console.log({\r\n            specId: specId,\r\n            captureOpts: captureOpts,\r\n            capabilities: driver.capabilities,\r\n          });\r\n        }\r\n        break;\r\n      case \"manual\":\r\n        allureReporter.addStory(\"Manual Test\");\r\n        break;\r\n      case \"deactivate\":\r\n        allureReporter.addStory(\"Deactivated\");\r\n        break;\r\n      case \"support\":\r\n        allureReporter.addStory(\"Request support\");\r\n        break;\r\n    }\r\n\r\n    // ADD CASE ID\r\n    allureReporter.addArgument(\"case\", specId);\r\n\r\n    // ADD ENV DETAIL\r\n    await this.addEnvDetail(info);\r\n  }\r\n\r\n  /**\r\n   * Add environment detail\r\n   * @param {Object} info project information\r\n   */\r\n  async addEnvDetail(info) {\r\n    if (info.status == \"active\") {\r\n      const caps = await capHandler.getCapabilities(info.specId);\r\n\r\n      if (info.captureType == \"mobile\") {\r\n        allureReporter.addArgument(\"platform\", caps.platformName);\r\n        allureReporter.addArgument(\r\n          \"device name\",\r\n          `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`\r\n        );\r\n        allureReporter.addArgument(\"device udid\", caps.deviceUDID);\r\n        allureReporter.addArgument(\"device screen size\", caps.deviceScreenSize);\r\n        allureReporter.addArgument(\"platform version\", caps.platformVersion);\r\n        allureReporter.addArgument(\"device api level\", caps.deviceApiLevel);\r\n      } else {\r\n        allureReporter.addArgument(\"url\", await browser.getUrl());\r\n        allureReporter.addArgument(\"platform\", caps.platformName);\r\n        allureReporter.addArgument(\r\n          \"browser name\",\r\n          `${common.capitalize(caps.browserName)} ${caps.browserVersion}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Custom Allure description and add custom actions\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} status active, deactive, manual, support\r\n   */\r\n  customActions(specId, status) {\r\n    const injectJS = `\r\n      <script>\r\n        var rvDefaultScreenshot = (timer) => {\r\n          // Remove default screenshot\r\n          var eles = document.getElementsByClassName(\"attachment-row__name long-line\");\r\n          var xPath = \"//div[contains(text(),'Screenshot')]\";\r\n          var arr = [];\r\n          for (let i = 0; i < eles.length; i++) {\r\n            if(eles[i].textContent.includes(\"Screenshot\")){\r\n              arr.push(eles[i].parentNode.parentNode);\r\n            }\r\n\r\n            if(eles[i].textContent.includes(\"Diff\")){\r\n              var referenceNode = eles[i].parentNode.parentNode;\r\n              var newNode = document.createElement(\"hr\");\r\n              referenceNode.after(newNode);\r\n            }\r\n          }\r\n          for (let j = 0; j < arr.length; j++) {\r\n            arr[j].remove();\r\n          }\r\n\r\n          // Remove default browser or device\r\n          var browserXPath = \"//span[contains(text(),'browser')]\";\r\n          var deviceXPath = \"//span[contains(text(),'device')]\";\r\n          var browserEle = document.evaluate(browserXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          var deviceEle = document.evaluate(deviceXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          if(browserEle != null) {\r\n            browserEle.parentNode.remove();\r\n          }\r\n          if(deviceEle != null) {\r\n            deviceEle.parentNode.remove();\r\n          }\r\n\r\n          console.log(\"Timer is working\");\r\n\r\n          var matchingElement = document.evaluate(xPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          if(matchingElement == null) {\r\n            clearInterval(timer);\r\n            console.log(\"Timer is ended\");\r\n          }\r\n        }\r\n\r\n        var timer = setInterval(() => {\r\n          rvDefaultScreenshot(timer);\r\n        }, 100);\r\n      </script>\r\n    `;\r\n\r\n    // Icons are defined here: https://fontawesome.com/v4/icons/\r\n    let title = \"\";\r\n    const deactivateCommand = `qatest=tests%20deactivate%20--exec-dis-testname=${specId}`;\r\n    const deactivateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${deactivateCommand}`;\r\n    const activateCommand = `qatest=tests%20activate%20--exec-dis-testname=${specId}`;\r\n    const activateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${activateCommand}`;\r\n    const manualCommand = `qatest=tests%20manual%20--exec-dis-testname=${specId}`;\r\n    const manualHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${manualCommand}`;\r\n    const supportCommand = `qatest=tests%20support%20--exec-dis-testname=${specId}`;\r\n    const supportHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${supportCommand}`;\r\n    const rebaselineCommand = `qatest=screenshot%20override%20--scr-testname=${specId}`;\r\n    const rebaselineHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${rebaselineCommand}`;\r\n\r\n    let activeHTML = `\r\n      <li>\r\n        <span class=\"fa fa-check\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${activateHref}\">Activate this spec for automation test</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let deactiveHTML = `\r\n      <li>\r\n        <span class=\"fa fa-archive\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${deactivateHref}\">Deactivate this spec</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let manualHTML = `\r\n      <li>\r\n        <span class=\"fa fa-signing\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${manualHref}\">Confirm this spec for manual test</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let supportHTML = `\r\n      <li>\r\n        <span class=\"fa fa-support\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${supportHref}\">Request support from QA Auto</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let rebaselineHTML = `\r\n      <li>\r\n        <span class=\"fa fa-photo\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${rebaselineHref}\">Update baseline</a>\r\n      </li>\r\n    `;\r\n\r\n    switch (status) {\r\n      case \"active\":\r\n        title = `<span style=\"color: blue;\">This spec is active for automation test. You can change the status by one of actions below.</span>`;\r\n        activeHTML = \"\";\r\n        break;\r\n      case \"manual\":\r\n        title = `<span style=\"color: red;\">This spec is applied for manual test. You can change the status by one of actions below.</span>`;\r\n        manualHTML = \"\";\r\n        break;\r\n      case \"deactivate\":\r\n        title = `<span style=\"color: red;\">This spec is deactivated. You can change the status by one of actions below.</span>`;\r\n        deactiveHTML = \"\";\r\n        break;\r\n      case \"support\":\r\n        title = `<span style=\"color: red;\">This spec is required support from QA Automation. You can change the status by one of actions below.</span>`;\r\n        supportHTML = \"\";\r\n        break;\r\n    }\r\n\r\n    const desc = `\r\n      <div style=\"font-size:16pt;\">${title}</div>\r\n      <ul style=\"list-style: none;margin-left: -1.5em;\">\r\n        ${activeHTML}\r\n        ${deactiveHTML}\r\n        ${manualHTML}\r\n        ${supportHTML}\r\n        ${rebaselineHTML}\r\n      </ul>\r\n    `;\r\n\r\n    allureReporter.addDescription(injectJS + desc, \"html\");\r\n  }\r\n\r\n  /**\r\n   * Group spec into recorder or image comparison\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   */\r\n  async groupTest(specFileName, specTitle) {\r\n    const info = await dataHandler.getInfoFromFilePath(specFileName);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    // Group all tests into recorder\r\n    if (\r\n      !specTitle.includes(\"image comparison\") &&\r\n      !specTitle.includes(\"init project\") &&\r\n      !specTitle.includes(\"generate spec files\")\r\n    ) {\r\n      const clientName = excelData[\"config\"][0][\"client\"];\r\n      const prjName = excelData[\"config\"][0][\"project\"];\r\n\r\n      if (clientName == \"\") clientName = info.clientId;\r\n      if (prjName == \"\") prjName = info.projectId;\r\n\r\n      allureReporter.addFeature(`${clientName} :: ${prjName}`);\r\n      allureReporter.addStory(\"Recorder\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add custom link into Allure\r\n   * @param {String} link link to be added into Allure\r\n   */\r\n  addIssue(link) {\r\n    allureReporter.addIssue(link);\r\n  }\r\n\r\n  /**\r\n   * Add a custom step to report\r\n   * @param {String} msg Message throw out\r\n   */\r\n  addStep(msg) {\r\n    allureReporter.startStep(msg);\r\n  }\r\n\r\n  /**\r\n   * End step with status\r\n   * @param {String} status \"failed\", \"passed\", \"broken\", \"skipped\" or \"unknown\"\r\n   */\r\n  endStep(status) {\r\n    allureReporter.endStep(status);\r\n  }\r\n\r\n  /**\r\n   * Add severity for test in Allure\r\n   * @param {String} severity blocker, critical, normal, minor, trivial\r\n   */\r\n  addSeverity(severity) {\r\n    allureReporter.addSeverity(severity);\r\n  }\r\n\r\n  /**\r\n   * Add argument for test in Allure\r\n   * @param {String} name name of argument\r\n   * @param {String} value value of argument\r\n   */\r\n  addArgument(name, value) {\r\n    allureReporter.addArgument(name, value);\r\n  }\r\n\r\n  /**\r\n   * Add attachment into report\r\n   * @param {String} contents screenshot binary\r\n   */\r\n  addAttachment(contents, type = \"image/png\") {\r\n    allureReporter.addAttachment(\r\n      `Screenshot`,\r\n      Buffer.from(contents, \"base64\"),\r\n      type\r\n    );\r\n  }\r\n}\r\nmodule.exports = new allureCustom();\r\n"],"mappings":"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"}},"mtime":1700647517100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\cap_handler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const path = require(\"path\");\nconst dataHandler = require(\"./data_handler\");\nconst common = require(\"../common\");\nclass capHandler {\n  constructor() {}\n\n  /**\r\n   * Generate capabilities from json into config\r\n   * @param {Array} specs list of running spec files\r\n   * @param {JSON} caps object contain capabilities that will be merged into config\r\n   * @returns {JSON}\r\n   */\n  async generateCapabilities(specs, caps) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const projectCapabilities = await dataHandler.getProjectCapabilities(info.clientId, info.projectId);\n        const dirPath = path.parse(specFilePath).dir;\n        const dataPath = path.dirname(path.dirname(dirPath)) + `/data`;\n        if (typeof projectCapabilities[caps[\"custom:cid\"]] != \"undefined\") {\n          const prjCaps = projectCapabilities[caps[\"custom:cid\"]];\n          for (var key in prjCaps) {\n            var value = prjCaps[key];\n            switch (key) {\n              case \"custom:enabled\":\n                if (!value) {\n                  caps[\"appium:deviceName\"] = prjCaps[\"appium:deviceName\"];\n                  return false;\n                }\n                break;\n              case \"appium:app\":\n                caps[key] = `${dataPath}/${value}`;\n                break;\n              default:\n                caps[key] = value;\n                break;\n            }\n          }\n        }\n      }\n    }\n    return caps;\n  }\n\n  /**\r\n   * Get test capabilities used for Allure report\r\n   * @param {String} specId spec id\r\n   * @returns {Object}\r\n   */\n  async getCapabilities(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    let cap = {};\n    if (info.captureType == \"mobile\") {\n      // GET PLATFORM NAME - Android or iOS\n      cap.platformName = driver.capabilities.platformName;\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n        cap.platformName = driver.capabilities.desired.platformName;\n        if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n          cap.platformName = common.capitalize(info.captureType);\n        }\n      }\n\n      // GET DEVICE INFO\n      cap.deviceName = driver.capabilities.deviceName;\n      cap.deviceModel = driver.capabilities.deviceModel;\n      cap.deviceUDID = driver.capabilities.udid;\n      cap.deviceManufacturer = driver.capabilities.deviceManufacturer;\n      cap.platformVersion = driver.capabilities.platformVersion;\n      if (cap.platformName.toLowerCase() != \"ios\") {\n        cap.deviceScreenSize = driver.capabilities.deviceScreenSize;\n        cap.deviceApiLevel = driver.capabilities.deviceApiLevel;\n\n        // GET BASELINE FOLDER\n        cap.baselineFolder = driver.capabilities.desired.deviceName;\n      } else {\n        // GET BASELINE FOLDER\n        cap.baselineFolder = driver.capabilities.deviceName;\n      }\n    } else {\n      // GET PLATFORM NAME\n      cap.platformName = browser.capabilities.platformName.toLowerCase();\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n        cap.platformName = \"desktop\";\n      }\n      cap.platformName = common.capitalize(cap.platformName);\n\n      // GET BROWSER INFO\n      cap.browserName = browser.capabilities.browserName;\n      cap.browserVersion = browser.capabilities.browserVersion;\n\n      // GET BASELINE FOLDER\n      cap.baselineFolder = `desktop_${browser.capabilities.browserName}`;\n    }\n    return cap;\n  }\n}\nmodule.exports = new capHandler();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImRhdGFIYW5kbGVyIiwiY29tbW9uIiwiY2FwSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiZ2VuZXJhdGVDYXBhYmlsaXRpZXMiLCJzcGVjcyIsImNhcHMiLCJsZW5ndGgiLCJzcGVjRmlsZVBhdGgiLCJpc05vcm1hbFNwZWMiLCJpbmZvIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsInByb2plY3RDYXBhYmlsaXRpZXMiLCJnZXRQcm9qZWN0Q2FwYWJpbGl0aWVzIiwiY2xpZW50SWQiLCJwcm9qZWN0SWQiLCJkaXJQYXRoIiwicGFyc2UiLCJkaXIiLCJkYXRhUGF0aCIsImRpcm5hbWUiLCJwcmpDYXBzIiwia2V5IiwidmFsdWUiLCJnZXRDYXBhYmlsaXRpZXMiLCJzcGVjSWQiLCJnZXRJbmZvRnJvbVNwZWNJZCIsImNhcCIsImNhcHR1cmVUeXBlIiwicGxhdGZvcm1OYW1lIiwiZHJpdmVyIiwiY2FwYWJpbGl0aWVzIiwiZGVzaXJlZCIsImNhcGl0YWxpemUiLCJkZXZpY2VOYW1lIiwiZGV2aWNlTW9kZWwiLCJkZXZpY2VVRElEIiwidWRpZCIsImRldmljZU1hbnVmYWN0dXJlciIsInBsYXRmb3JtVmVyc2lvbiIsInRvTG93ZXJDYXNlIiwiZGV2aWNlU2NyZWVuU2l6ZSIsImRldmljZUFwaUxldmVsIiwiYmFzZWxpbmVGb2xkZXIiLCJicm93c2VyIiwiYnJvd3Nlck5hbWUiLCJicm93c2VyVmVyc2lvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiY2FwX2hhbmRsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5cclxuY29uc3QgZGF0YUhhbmRsZXIgPSByZXF1aXJlKFwiLi9kYXRhX2hhbmRsZXJcIik7XHJcbmNvbnN0IGNvbW1vbiA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XHJcblxyXG5jbGFzcyBjYXBIYW5kbGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGNhcGFiaWxpdGllcyBmcm9tIGpzb24gaW50byBjb25maWdcclxuICAgKiBAcGFyYW0ge0FycmF5fSBzcGVjcyBsaXN0IG9mIHJ1bm5pbmcgc3BlYyBmaWxlc1xyXG4gICAqIEBwYXJhbSB7SlNPTn0gY2FwcyBvYmplY3QgY29udGFpbiBjYXBhYmlsaXRpZXMgdGhhdCB3aWxsIGJlIG1lcmdlZCBpbnRvIGNvbmZpZ1xyXG4gICAqIEByZXR1cm5zIHtKU09OfVxyXG4gICAqL1xyXG4gIGFzeW5jIGdlbmVyYXRlQ2FwYWJpbGl0aWVzKHNwZWNzLCBjYXBzKSB7XHJcbiAgICBpZiAoc3BlY3MubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1swXTtcclxuXHJcbiAgICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKHNwZWNGaWxlUGF0aCkpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0SW5mb0Zyb21GaWxlUGF0aChzcGVjRmlsZVBhdGgpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RDYXBhYmlsaXRpZXMgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0Q2FwYWJpbGl0aWVzKFxyXG4gICAgICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlyUGF0aCA9IHBhdGgucGFyc2Uoc3BlY0ZpbGVQYXRoKS5kaXI7XHJcbiAgICAgICAgY29uc3QgZGF0YVBhdGggPSBwYXRoLmRpcm5hbWUocGF0aC5kaXJuYW1lKGRpclBhdGgpKSArIGAvZGF0YWA7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvamVjdENhcGFiaWxpdGllc1tjYXBzW1wiY3VzdG9tOmNpZFwiXV0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgY29uc3QgcHJqQ2FwcyA9IHByb2plY3RDYXBhYmlsaXRpZXNbY2Fwc1tcImN1c3RvbTpjaWRcIl1dO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcmpDYXBzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHByakNhcHNba2V5XTtcclxuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwiY3VzdG9tOmVuYWJsZWRcIjpcclxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgY2Fwc1tcImFwcGl1bTpkZXZpY2VOYW1lXCJdID0gcHJqQ2Fwc1tcImFwcGl1bTpkZXZpY2VOYW1lXCJdO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIFwiYXBwaXVtOmFwcFwiOlxyXG4gICAgICAgICAgICAgICAgY2Fwc1trZXldID0gYCR7ZGF0YVBhdGh9LyR7dmFsdWV9YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY2Fwc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYXBzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRlc3QgY2FwYWJpbGl0aWVzIHVzZWQgZm9yIEFsbHVyZSByZXBvcnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWRcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldENhcGFiaWxpdGllcyhzcGVjSWQpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgbGV0IGNhcCA9IHt9O1xyXG5cclxuICAgIGlmIChpbmZvLmNhcHR1cmVUeXBlID09IFwibW9iaWxlXCIpIHtcclxuICAgICAgLy8gR0VUIFBMQVRGT1JNIE5BTUUgLSBBbmRyb2lkIG9yIGlPU1xyXG4gICAgICBjYXAucGxhdGZvcm1OYW1lID0gZHJpdmVyLmNhcGFiaWxpdGllcy5wbGF0Zm9ybU5hbWU7XHJcbiAgICAgIGlmICh0eXBlb2YgY2FwLnBsYXRmb3JtTmFtZSA9PSBcInVuZGVmaW5lZFwiIHx8IGNhcC5wbGF0Zm9ybU5hbWUgPT0gXCJcIikge1xyXG4gICAgICAgIGNhcC5wbGF0Zm9ybU5hbWUgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRlc2lyZWQucGxhdGZvcm1OYW1lO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2FwLnBsYXRmb3JtTmFtZSA9PSBcInVuZGVmaW5lZFwiIHx8IGNhcC5wbGF0Zm9ybU5hbWUgPT0gXCJcIikge1xyXG4gICAgICAgICAgY2FwLnBsYXRmb3JtTmFtZSA9IGNvbW1vbi5jYXBpdGFsaXplKGluZm8uY2FwdHVyZVR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR0VUIERFVklDRSBJTkZPXHJcbiAgICAgIGNhcC5kZXZpY2VOYW1lID0gZHJpdmVyLmNhcGFiaWxpdGllcy5kZXZpY2VOYW1lO1xyXG4gICAgICBjYXAuZGV2aWNlTW9kZWwgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRldmljZU1vZGVsO1xyXG4gICAgICBjYXAuZGV2aWNlVURJRCA9IGRyaXZlci5jYXBhYmlsaXRpZXMudWRpZDtcclxuICAgICAgY2FwLmRldmljZU1hbnVmYWN0dXJlciA9IGRyaXZlci5jYXBhYmlsaXRpZXMuZGV2aWNlTWFudWZhY3R1cmVyO1xyXG4gICAgICBjYXAucGxhdGZvcm1WZXJzaW9uID0gZHJpdmVyLmNhcGFiaWxpdGllcy5wbGF0Zm9ybVZlcnNpb247XHJcbiAgICAgIGlmIChjYXAucGxhdGZvcm1OYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJpb3NcIikge1xyXG4gICAgICAgIGNhcC5kZXZpY2VTY3JlZW5TaXplID0gZHJpdmVyLmNhcGFiaWxpdGllcy5kZXZpY2VTY3JlZW5TaXplO1xyXG4gICAgICAgIGNhcC5kZXZpY2VBcGlMZXZlbCA9IGRyaXZlci5jYXBhYmlsaXRpZXMuZGV2aWNlQXBpTGV2ZWw7XHJcblxyXG4gICAgICAgIC8vIEdFVCBCQVNFTElORSBGT0xERVJcclxuICAgICAgICBjYXAuYmFzZWxpbmVGb2xkZXIgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRlc2lyZWQuZGV2aWNlTmFtZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBHRVQgQkFTRUxJTkUgRk9MREVSXHJcbiAgICAgICAgY2FwLmJhc2VsaW5lRm9sZGVyID0gZHJpdmVyLmNhcGFiaWxpdGllcy5kZXZpY2VOYW1lO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBHRVQgUExBVEZPUk0gTkFNRVxyXG4gICAgICBjYXAucGxhdGZvcm1OYW1lID0gYnJvd3Nlci5jYXBhYmlsaXRpZXMucGxhdGZvcm1OYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGlmICh0eXBlb2YgY2FwLnBsYXRmb3JtTmFtZSA9PSBcInVuZGVmaW5lZFwiIHx8IGNhcC5wbGF0Zm9ybU5hbWUgPT0gXCJcIikge1xyXG4gICAgICAgIGNhcC5wbGF0Zm9ybU5hbWUgPSBcImRlc2t0b3BcIjtcclxuICAgICAgfVxyXG4gICAgICBjYXAucGxhdGZvcm1OYW1lID0gY29tbW9uLmNhcGl0YWxpemUoY2FwLnBsYXRmb3JtTmFtZSk7XHJcblxyXG4gICAgICAvLyBHRVQgQlJPV1NFUiBJTkZPXHJcbiAgICAgIGNhcC5icm93c2VyTmFtZSA9IGJyb3dzZXIuY2FwYWJpbGl0aWVzLmJyb3dzZXJOYW1lO1xyXG4gICAgICBjYXAuYnJvd3NlclZlcnNpb24gPSBicm93c2VyLmNhcGFiaWxpdGllcy5icm93c2VyVmVyc2lvbjtcclxuXHJcbiAgICAgIC8vIEdFVCBCQVNFTElORSBGT0xERVJcclxuICAgICAgY2FwLmJhc2VsaW5lRm9sZGVyID0gYGRlc2t0b3BfJHticm93c2VyLmNhcGFiaWxpdGllcy5icm93c2VyTmFtZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYXA7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IGNhcEhhbmRsZXIoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFNUIsTUFBTUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDN0MsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsV0FBVyxDQUFDO0FBRW5DLE1BQU1HLFVBQVUsQ0FBQztFQUNmQyxXQUFXQSxDQUFBLEVBQUcsQ0FBQzs7RUFFZjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNQyxvQkFBb0JBLENBQUNDLEtBQUssRUFBRUMsSUFBSSxFQUFFO0lBQ3RDLElBQUlELEtBQUssQ0FBQ0UsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNwQixNQUFNQyxZQUFZLEdBQUdILEtBQUssQ0FBQyxDQUFDLENBQUM7TUFFN0IsSUFBSUosTUFBTSxDQUFDUSxZQUFZLENBQUNELFlBQVksQ0FBQyxFQUFFO1FBQ3JDLE1BQU1FLElBQUksR0FBRyxNQUFNVixXQUFXLENBQUNXLG1CQUFtQixDQUFDSCxZQUFZLENBQUM7UUFDaEUsTUFBTUksbUJBQW1CLEdBQUcsTUFBTVosV0FBVyxDQUFDYSxzQkFBc0IsQ0FDbEVILElBQUksQ0FBQ0ksUUFBUSxFQUNiSixJQUFJLENBQUNLLFNBQ1AsQ0FBQztRQUVELE1BQU1DLE9BQU8sR0FBR2xCLElBQUksQ0FBQ21CLEtBQUssQ0FBQ1QsWUFBWSxDQUFDLENBQUNVLEdBQUc7UUFDNUMsTUFBTUMsUUFBUSxHQUFHckIsSUFBSSxDQUFDc0IsT0FBTyxDQUFDdEIsSUFBSSxDQUFDc0IsT0FBTyxDQUFDSixPQUFPLENBQUMsQ0FBQyxHQUFJLE9BQU07UUFFOUQsSUFBSSxPQUFPSixtQkFBbUIsQ0FBQ04sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksV0FBVyxFQUFFO1VBQ2pFLE1BQU1lLE9BQU8sR0FBR1QsbUJBQW1CLENBQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztVQUV2RCxLQUFLLElBQUlnQixHQUFHLElBQUlELE9BQU8sRUFBRTtZQUN2QixJQUFJRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1lBQ3hCLFFBQVFBLEdBQUc7Y0FDVCxLQUFLLGdCQUFnQjtnQkFDbkIsSUFBSSxDQUFDQyxLQUFLLEVBQUU7a0JBQ1ZqQixJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBR2UsT0FBTyxDQUFDLG1CQUFtQixDQUFDO2tCQUN4RCxPQUFPLEtBQUs7Z0JBQ2Q7Z0JBQ0E7Y0FDRixLQUFLLFlBQVk7Z0JBQ2ZmLElBQUksQ0FBQ2dCLEdBQUcsQ0FBQyxHQUFJLEdBQUVILFFBQVMsSUFBR0ksS0FBTSxFQUFDO2dCQUNsQztjQUVGO2dCQUNFakIsSUFBSSxDQUFDZ0IsR0FBRyxDQUFDLEdBQUdDLEtBQUs7Z0JBQ2pCO1lBQ0o7VUFDRjtRQUNGO01BQ0Y7SUFDRjtJQUVBLE9BQU9qQixJQUFJO0VBQ2I7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFLE1BQU1rQixlQUFlQSxDQUFDQyxNQUFNLEVBQUU7SUFDNUIsTUFBTWYsSUFBSSxHQUFHLE1BQU1WLFdBQVcsQ0FBQzBCLGlCQUFpQixDQUFDRCxNQUFNLENBQUM7SUFDeEQsSUFBSUUsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUVaLElBQUlqQixJQUFJLENBQUNrQixXQUFXLElBQUksUUFBUSxFQUFFO01BQ2hDO01BQ0FELEdBQUcsQ0FBQ0UsWUFBWSxHQUFHQyxNQUFNLENBQUNDLFlBQVksQ0FBQ0YsWUFBWTtNQUNuRCxJQUFJLE9BQU9GLEdBQUcsQ0FBQ0UsWUFBWSxJQUFJLFdBQVcsSUFBSUYsR0FBRyxDQUFDRSxZQUFZLElBQUksRUFBRSxFQUFFO1FBQ3BFRixHQUFHLENBQUNFLFlBQVksR0FBR0MsTUFBTSxDQUFDQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ0gsWUFBWTtRQUMzRCxJQUFJLE9BQU9GLEdBQUcsQ0FBQ0UsWUFBWSxJQUFJLFdBQVcsSUFBSUYsR0FBRyxDQUFDRSxZQUFZLElBQUksRUFBRSxFQUFFO1VBQ3BFRixHQUFHLENBQUNFLFlBQVksR0FBRzVCLE1BQU0sQ0FBQ2dDLFVBQVUsQ0FBQ3ZCLElBQUksQ0FBQ2tCLFdBQVcsQ0FBQztRQUN4RDtNQUNGOztNQUVBO01BQ0FELEdBQUcsQ0FBQ08sVUFBVSxHQUFHSixNQUFNLENBQUNDLFlBQVksQ0FBQ0csVUFBVTtNQUMvQ1AsR0FBRyxDQUFDUSxXQUFXLEdBQUdMLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDSSxXQUFXO01BQ2pEUixHQUFHLENBQUNTLFVBQVUsR0FBR04sTUFBTSxDQUFDQyxZQUFZLENBQUNNLElBQUk7TUFDekNWLEdBQUcsQ0FBQ1csa0JBQWtCLEdBQUdSLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDTyxrQkFBa0I7TUFDL0RYLEdBQUcsQ0FBQ1ksZUFBZSxHQUFHVCxNQUFNLENBQUNDLFlBQVksQ0FBQ1EsZUFBZTtNQUN6RCxJQUFJWixHQUFHLENBQUNFLFlBQVksQ0FBQ1csV0FBVyxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDM0NiLEdBQUcsQ0FBQ2MsZ0JBQWdCLEdBQUdYLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDVSxnQkFBZ0I7UUFDM0RkLEdBQUcsQ0FBQ2UsY0FBYyxHQUFHWixNQUFNLENBQUNDLFlBQVksQ0FBQ1csY0FBYzs7UUFFdkQ7UUFDQWYsR0FBRyxDQUFDZ0IsY0FBYyxHQUFHYixNQUFNLENBQUNDLFlBQVksQ0FBQ0MsT0FBTyxDQUFDRSxVQUFVO01BQzdELENBQUMsTUFBTTtRQUNMO1FBQ0FQLEdBQUcsQ0FBQ2dCLGNBQWMsR0FBR2IsTUFBTSxDQUFDQyxZQUFZLENBQUNHLFVBQVU7TUFDckQ7SUFDRixDQUFDLE1BQU07TUFDTDtNQUNBUCxHQUFHLENBQUNFLFlBQVksR0FBR2UsT0FBTyxDQUFDYixZQUFZLENBQUNGLFlBQVksQ0FBQ1csV0FBVyxDQUFDLENBQUM7TUFDbEUsSUFBSSxPQUFPYixHQUFHLENBQUNFLFlBQVksSUFBSSxXQUFXLElBQUlGLEdBQUcsQ0FBQ0UsWUFBWSxJQUFJLEVBQUUsRUFBRTtRQUNwRUYsR0FBRyxDQUFDRSxZQUFZLEdBQUcsU0FBUztNQUM5QjtNQUNBRixHQUFHLENBQUNFLFlBQVksR0FBRzVCLE1BQU0sQ0FBQ2dDLFVBQVUsQ0FBQ04sR0FBRyxDQUFDRSxZQUFZLENBQUM7O01BRXREO01BQ0FGLEdBQUcsQ0FBQ2tCLFdBQVcsR0FBR0QsT0FBTyxDQUFDYixZQUFZLENBQUNjLFdBQVc7TUFDbERsQixHQUFHLENBQUNtQixjQUFjLEdBQUdGLE9BQU8sQ0FBQ2IsWUFBWSxDQUFDZSxjQUFjOztNQUV4RDtNQUNBbkIsR0FBRyxDQUFDZ0IsY0FBYyxHQUFJLFdBQVVDLE9BQU8sQ0FBQ2IsWUFBWSxDQUFDYyxXQUFZLEVBQUM7SUFDcEU7SUFFQSxPQUFPbEIsR0FBRztFQUNaO0FBQ0Y7QUFDQW9CLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUk5QyxVQUFVLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["path","require","dataHandler","common","capHandler","constructor","generateCapabilities","specs","caps","length","specFilePath","isNormalSpec","info","getInfoFromFilePath","projectCapabilities","getProjectCapabilities","clientId","projectId","dirPath","parse","dir","dataPath","dirname","prjCaps","key","value","getCapabilities","specId","getInfoFromSpecId","cap","captureType","platformName","driver","capabilities","desired","capitalize","deviceName","deviceModel","deviceUDID","udid","deviceManufacturer","platformVersion","toLowerCase","deviceScreenSize","deviceApiLevel","baselineFolder","browser","browserName","browserVersion","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["cap_handler.js"],"sourcesContent":["const path = require(\"path\");\r\n\r\nconst dataHandler = require(\"./data_handler\");\r\nconst common = require(\"../common\");\r\n\r\nclass capHandler {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Generate capabilities from json into config\r\n   * @param {Array} specs list of running spec files\r\n   * @param {JSON} caps object contain capabilities that will be merged into config\r\n   * @returns {JSON}\r\n   */\r\n  async generateCapabilities(specs, caps) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const projectCapabilities = await dataHandler.getProjectCapabilities(\r\n          info.clientId,\r\n          info.projectId\r\n        );\r\n\r\n        const dirPath = path.parse(specFilePath).dir;\r\n        const dataPath = path.dirname(path.dirname(dirPath)) + `/data`;\r\n\r\n        if (typeof projectCapabilities[caps[\"custom:cid\"]] != \"undefined\") {\r\n          const prjCaps = projectCapabilities[caps[\"custom:cid\"]];\r\n\r\n          for (var key in prjCaps) {\r\n            var value = prjCaps[key];\r\n            switch (key) {\r\n              case \"custom:enabled\":\r\n                if (!value) {\r\n                  caps[\"appium:deviceName\"] = prjCaps[\"appium:deviceName\"];\r\n                  return false;\r\n                }\r\n                break;\r\n              case \"appium:app\":\r\n                caps[key] = `${dataPath}/${value}`;\r\n                break;\r\n\r\n              default:\r\n                caps[key] = value;\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return caps;\r\n  }\r\n\r\n  /**\r\n   * Get test capabilities used for Allure report\r\n   * @param {String} specId spec id\r\n   * @returns {Object}\r\n   */\r\n  async getCapabilities(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    let cap = {};\r\n\r\n    if (info.captureType == \"mobile\") {\r\n      // GET PLATFORM NAME - Android or iOS\r\n      cap.platformName = driver.capabilities.platformName;\r\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n        cap.platformName = driver.capabilities.desired.platformName;\r\n        if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n          cap.platformName = common.capitalize(info.captureType);\r\n        }\r\n      }\r\n\r\n      // GET DEVICE INFO\r\n      cap.deviceName = driver.capabilities.deviceName;\r\n      cap.deviceModel = driver.capabilities.deviceModel;\r\n      cap.deviceUDID = driver.capabilities.udid;\r\n      cap.deviceManufacturer = driver.capabilities.deviceManufacturer;\r\n      cap.platformVersion = driver.capabilities.platformVersion;\r\n      if (cap.platformName.toLowerCase() != \"ios\") {\r\n        cap.deviceScreenSize = driver.capabilities.deviceScreenSize;\r\n        cap.deviceApiLevel = driver.capabilities.deviceApiLevel;\r\n\r\n        // GET BASELINE FOLDER\r\n        cap.baselineFolder = driver.capabilities.desired.deviceName;\r\n      } else {\r\n        // GET BASELINE FOLDER\r\n        cap.baselineFolder = driver.capabilities.deviceName;\r\n      }\r\n    } else {\r\n      // GET PLATFORM NAME\r\n      cap.platformName = browser.capabilities.platformName.toLowerCase();\r\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n        cap.platformName = \"desktop\";\r\n      }\r\n      cap.platformName = common.capitalize(cap.platformName);\r\n\r\n      // GET BROWSER INFO\r\n      cap.browserName = browser.capabilities.browserName;\r\n      cap.browserVersion = browser.capabilities.browserVersion;\r\n\r\n      // GET BASELINE FOLDER\r\n      cap.baselineFolder = `desktop_${browser.capabilities.browserName}`;\r\n    }\r\n\r\n    return cap;\r\n  }\r\n}\r\nmodule.exports = new capHandler();\r\n"],"mappings":"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"}},"mtime":1700647516853},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\jira.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const dataHandler = require(\"./data_handler\");\nconst allureCustom = require(\"./allure\");\nconst capHandler = require(\"./cap_handler\");\nconst common = require(\"../common\");\nconst axios = require(\"axios\");\nconst FormData = require(\"form-data\");\nconst fs = require(\"fs\");\nclass jiraIntegration {\n  constructor() {}\n\n  /**\r\n   * Main job of Jira intergration, is used to connect and update Jira ticket\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   * @param {Boolean} passed test result\r\n   * @param {Object} error error returned if failed\r\n   */\n  async jobs(specFileName, specTitle, passed, error) {\n    if (common.isNormalSpec(specFileName)) {\n      const info = await dataHandler.getInfoFromFilePath(specFileName);\n      const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n      let jiraPrjKey = excelData[\"config\"][0][\"jira_key\"];\n      let isCreateJira = excelData[\"config\"][0][\"create_jira\"];\n      let issue = await this.getIssue(info);\n\n      // CONDITIONS :: TICKET NOT EXISTING & FAILED CASE\n      // CREATE NEW TICKET\n      if (!passed && specTitle.includes(\"image comparison\") && isCreateJira == \"yes\" && jiraPrjKey != \"\" && issue.key == \"\") {\n        var createIssueRes = await browser.call(async () => await this.createIssue(info, error.message, jiraPrjKey));\n        if (typeof createIssueRes != \"undefined\" && typeof createIssueRes[\"data\"] != \"undefined\") {\n          const newIssueKey = createIssueRes[\"data\"].key;\n\n          // UPDATE ISSUE KEY BACK TO GLOBAL JSON\n          this.updateIssueKeyIntoJson(info, newIssueKey, \"open\");\n\n          // ADD ATTACHMENTS\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"diff\"));\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"baseline\"));\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"actual\"));\n        }\n      }\n\n      // UPDATE TICKET IF EXISTING\n      if (specTitle.includes(\"image comparison\") && isCreateJira == \"yes\" && jiraPrjKey != \"\" && issue.key != \"\") {\n        const closedTranId = excelData[\"config\"][0][\"closed_transition_id\"];\n        const reopenTranId = excelData[\"config\"][0][\"reopen_transition_id\"];\n\n        // CLOSE TICKET IF PASSED\n        if (passed && issue.status == \"open\") {\n          await browser.call(async () => await this.transitionIssue(issue.key, closedTranId));\n          this.updateIssueKeyIntoJson(info, issue.key, \"closed\");\n        }\n\n        // REOPEN TICKET IF FAILED\n        if (!passed && issue.status == \"closed\") {\n          await browser.call(async () => await this.transitionIssue(issue.key, reopenTranId));\n          this.updateIssueKeyIntoJson(info, issue.key, \"open\");\n        }\n\n        // UPDATE ATTACHMENTS\n        var jiraIssueRes = await browser.call(async () => await this.getJiraIssue(issue.key));\n        if (typeof jiraIssueRes != \"undefined\" && typeof jiraIssueRes[\"data\"] != \"undefined\") {\n          var attachments = jiraIssueRes[\"data\"].fields.attachment;\n\n          // DELETE ALL ATTACHMENTS\n          for (let index = 0; index < attachments.length; index++) {\n            const attachment = attachments[index];\n            await browser.call(async () => await this.delIssueAttachment(attachment.id));\n          }\n\n          // ADD NEW ATTACHMENT\n          if (!passed) {\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"diff\"));\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"baseline\"));\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"actual\"));\n          }\n        }\n      }\n      await this.addIssueLink(info);\n    }\n  }\n\n  /**\r\n   * Get issue key from global data json\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async getIssue(info) {\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const projects = jsonData.projects;\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    let issueId = \"\";\n    let status = \"\";\n    if (typeof projects[clientId] != \"undefined\" && typeof projects[clientId][projectId] != \"undefined\" && typeof projects[clientId][projectId][specId] != \"undefined\" && typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\") {\n      issueId = projects[clientId][projectId][specId][\"jira\"];\n      status = projects[clientId][projectId][specId][\"status\"];\n    }\n    return {\n      key: issueId,\n      status: status\n    };\n  }\n\n  /**\r\n   * Create new Jira issue and return issue key\r\n   * @param {Object} info spec information\r\n   * @param {String} errMsg error message will be thrown\r\n   * @param {String} jiraPrjKey Jira project key\r\n   * @returns {Object}\r\n   */\n  async createIssue(info, errMsg, jiraPrjKey) {\n    if (errMsg.includes(\"Image comparison is failed\")) {\n      let issue = await this.getIssue(info);\n      const jiraUrl = browser.config.jira;\n      const jiraAuth = browser.config.jiraAuth;\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Basic ${jiraAuth}`\n      };\n      const bodyData = {\n        fields: {\n          summary: `${info.specId} - Auto test flow is failed`,\n          issuetype: {\n            name: \"Automation Bug\"\n          },\n          project: {\n            key: jiraPrjKey\n          },\n          description: errMsg,\n          labels: [\"img_comparison\"]\n        }\n      };\n      let response = \"\";\n\n      // ONLY CREATE IF NOT EXISTING\n      if (issue.key == \"\") {\n        response = await axios.post(`${jiraUrl}rest/api/2/issue`, bodyData, {\n          headers: headers\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n      return response;\n    }\n  }\n\n  /**\r\n   * Update status and issue key into data json\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey issue key\r\n   * @param {String} status closed or open\r\n   */\n  async updateIssueKeyIntoJson(info, issueKey, status) {\n    let jsonData = await dataHandler.getGlobalDataJson();\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    if (typeof jsonData.projects[clientId] == \"undefined\") jsonData.projects[clientId] = {};\n    if (typeof jsonData.projects[clientId][projectId] == \"undefined\") jsonData.projects[clientId][projectId] = {};\n    if (typeof jsonData.projects[clientId][projectId][specId] == \"undefined\") jsonData.projects[clientId][projectId][specId] = {};\n    jsonData.projects[clientId][projectId][specId][\"jira\"] = issueKey;\n    jsonData.projects[clientId][projectId][specId][\"status\"] = status;\n    await dataHandler.updateDataJsonFile(jsonData);\n  }\n\n  /**\r\n   * Add attachments into Jira issue\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} type diff, actual or baseline\r\n   * @returns {Object}\r\n   */\n  async addIssueAttachment(info, issueKey, type) {\n    const specId = info.specId;\n    const caps = await capHandler.getCapabilities(specId);\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, info.projectId);\n    if (issueKey != \"\") {\n      try {\n        const form = new FormData();\n        let screenshots = await dataHandler.getScreenshots(specId, caps.baselineFolder);\n        const stats = fs.statSync(screenshots.filePaths[type]);\n        const fileSizeInBytes = stats.size;\n        const fileStream = fs.createReadStream(screenshots.filePaths[type]);\n        form.append(\"file\", fileStream, {\n          knownLength: fileSizeInBytes,\n          filename: type + \".png\"\n        });\n        const jiraUrl = browser.config.jira;\n        const jiraAuth = browser.config.jiraAuth;\n        const headers = {\n          Accept: \"application/json\",\n          Authorization: `Basic ${jiraAuth}`,\n          \"X-Atlassian-Token\": \"no-check\"\n        };\n        let response = await axios.post(`${jiraUrl}rest/api/2/issue/${issueKey}/attachments`, form, {\n          headers: headers\n        }).catch(err => {\n          console.log(err);\n        });\n        return response;\n      } catch (error) {\n        return error;\n      }\n    }\n  }\n\n  /**\r\n   * Change Jira issue status\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} transitionId Jira tranistion id\r\n   * @returns {Object}\r\n   */\n  async transitionIssue(issueKey, transitionId) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `Basic ${jiraAuth}`\n    };\n    const bodyData = {\n      transition: {\n        id: transitionId\n      }\n    };\n    let response = await axios.post(`${jiraUrl}rest/api/2/issue/${issueKey}/transitions`, bodyData, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Get Jira issue ticket\r\n   * @param {String} issueKey Jira issue key\r\n   * @returns {Object}\r\n   */\n  async getJiraIssue(issueKey) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      Authorization: `Basic ${jiraAuth}`\n    };\n    let response = await axios.get(`${jiraUrl}rest/api/2/issue/${issueKey}`, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Delete Jira issue attachment\r\n   * @param {String} attachmentId Jira attachment id\r\n   * @returns {Object}\r\n   */\n  async delIssueAttachment(attachmentId) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      Authorization: `Basic ${jiraAuth}`\n    };\n    let response = await axios.delete(`${jiraUrl}rest/api/2/attachment/${attachmentId}`, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Add issue link to data json and Allure\r\n   * @param {Object} info spec information\r\n   */\n  async addIssueLink(info) {\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const projects = jsonData.projects;\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    if (typeof projects[clientId] != \"undefined\" && typeof projects[clientId][projectId] != \"undefined\" && typeof projects[clientId][projectId][specId] != \"undefined\" && typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\" && projects[clientId][projectId][specId][\"jira\"] != \"\") {\n      allureCustom.addIssue(projects[clientId][projectId][specId][\"jira\"]);\n    }\n  }\n}\nmodule.exports = new jiraIntegration();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYXRhSGFuZGxlciIsInJlcXVpcmUiLCJhbGx1cmVDdXN0b20iLCJjYXBIYW5kbGVyIiwiY29tbW9uIiwiYXhpb3MiLCJGb3JtRGF0YSIsImZzIiwiamlyYUludGVncmF0aW9uIiwiY29uc3RydWN0b3IiLCJqb2JzIiwic3BlY0ZpbGVOYW1lIiwic3BlY1RpdGxlIiwicGFzc2VkIiwiZXJyb3IiLCJpc05vcm1hbFNwZWMiLCJpbmZvIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsImV4Y2VsRGF0YSIsImdldFByb2plY3REYXRhRXhjZWwiLCJjbGllbnRJZCIsInByb2plY3RJZCIsImppcmFQcmpLZXkiLCJpc0NyZWF0ZUppcmEiLCJpc3N1ZSIsImdldElzc3VlIiwiaW5jbHVkZXMiLCJrZXkiLCJjcmVhdGVJc3N1ZVJlcyIsImJyb3dzZXIiLCJjYWxsIiwiY3JlYXRlSXNzdWUiLCJtZXNzYWdlIiwibmV3SXNzdWVLZXkiLCJ1cGRhdGVJc3N1ZUtleUludG9Kc29uIiwiYWRkSXNzdWVBdHRhY2htZW50IiwiY2xvc2VkVHJhbklkIiwicmVvcGVuVHJhbklkIiwic3RhdHVzIiwidHJhbnNpdGlvbklzc3VlIiwiamlyYUlzc3VlUmVzIiwiZ2V0SmlyYUlzc3VlIiwiYXR0YWNobWVudHMiLCJmaWVsZHMiLCJhdHRhY2htZW50IiwiaW5kZXgiLCJsZW5ndGgiLCJkZWxJc3N1ZUF0dGFjaG1lbnQiLCJpZCIsImFkZElzc3VlTGluayIsImpzb25EYXRhIiwiZ2V0R2xvYmFsRGF0YUpzb24iLCJwcm9qZWN0cyIsInNwZWNJZCIsImlzc3VlSWQiLCJlcnJNc2ciLCJqaXJhVXJsIiwiY29uZmlnIiwiamlyYSIsImppcmFBdXRoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5RGF0YSIsInN1bW1hcnkiLCJpc3N1ZXR5cGUiLCJuYW1lIiwicHJvamVjdCIsImRlc2NyaXB0aW9uIiwibGFiZWxzIiwicmVzcG9uc2UiLCJwb3N0IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiaXNzdWVLZXkiLCJ1cGRhdGVEYXRhSnNvbkZpbGUiLCJ0eXBlIiwiY2FwcyIsImdldENhcGFiaWxpdGllcyIsImNhcHR1cmVPcHRzIiwiZ2V0Q2FwdHVyZU9wdHMiLCJmb3JtIiwic2NyZWVuc2hvdHMiLCJnZXRTY3JlZW5zaG90cyIsImJhc2VsaW5lRm9sZGVyIiwic3RhdHMiLCJzdGF0U3luYyIsImZpbGVQYXRocyIsImZpbGVTaXplSW5CeXRlcyIsInNpemUiLCJmaWxlU3RyZWFtIiwiY3JlYXRlUmVhZFN0cmVhbSIsImFwcGVuZCIsImtub3duTGVuZ3RoIiwiZmlsZW5hbWUiLCJBY2NlcHQiLCJ0cmFuc2l0aW9uSWQiLCJ0cmFuc2l0aW9uIiwiZ2V0IiwiYXR0YWNobWVudElkIiwiZGVsZXRlIiwiYWRkSXNzdWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx1dGlsc1xcbGliXFwiLCJzb3VyY2VzIjpbImppcmEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGF0YUhhbmRsZXIgPSByZXF1aXJlKFwiLi9kYXRhX2hhbmRsZXJcIik7XHJcbmNvbnN0IGFsbHVyZUN1c3RvbSA9IHJlcXVpcmUoXCIuL2FsbHVyZVwiKTtcclxuY29uc3QgY2FwSGFuZGxlciA9IHJlcXVpcmUoXCIuL2NhcF9oYW5kbGVyXCIpO1xyXG5jb25zdCBjb21tb24gPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xyXG5cclxuY29uc3QgYXhpb3MgPSByZXF1aXJlKFwiYXhpb3NcIik7XHJcbmNvbnN0IEZvcm1EYXRhID0gcmVxdWlyZShcImZvcm0tZGF0YVwiKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcblxyXG5jbGFzcyBqaXJhSW50ZWdyYXRpb24ge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogTWFpbiBqb2Igb2YgSmlyYSBpbnRlcmdyYXRpb24sIGlzIHVzZWQgdG8gY29ubmVjdCBhbmQgdXBkYXRlIEppcmEgdGlja2V0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNGaWxlTmFtZSBzcGVjIGZpbGUgbmFtZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjVGl0bGUgc3BlYyB0aXRsZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gcGFzc2VkIHRlc3QgcmVzdWx0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yIGVycm9yIHJldHVybmVkIGlmIGZhaWxlZFxyXG4gICAqL1xyXG4gIGFzeW5jIGpvYnMoc3BlY0ZpbGVOYW1lLCBzcGVjVGl0bGUsIHBhc3NlZCwgZXJyb3IpIHtcclxuICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKHNwZWNGaWxlTmFtZSkpIHtcclxuICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoc3BlY0ZpbGVOYW1lKTtcclxuICAgICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBsZXQgamlyYVByaktleSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImppcmFfa2V5XCJdO1xyXG4gICAgICBsZXQgaXNDcmVhdGVKaXJhID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiY3JlYXRlX2ppcmFcIl07XHJcbiAgICAgIGxldCBpc3N1ZSA9IGF3YWl0IHRoaXMuZ2V0SXNzdWUoaW5mbyk7XHJcblxyXG4gICAgICAvLyBDT05ESVRJT05TIDo6IFRJQ0tFVCBOT1QgRVhJU1RJTkcgJiBGQUlMRUQgQ0FTRVxyXG4gICAgICAvLyBDUkVBVEUgTkVXIFRJQ0tFVFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXBhc3NlZCAmJlxyXG4gICAgICAgIHNwZWNUaXRsZS5pbmNsdWRlcyhcImltYWdlIGNvbXBhcmlzb25cIikgJiZcclxuICAgICAgICBpc0NyZWF0ZUppcmEgPT0gXCJ5ZXNcIiAmJlxyXG4gICAgICAgIGppcmFQcmpLZXkgIT0gXCJcIiAmJlxyXG4gICAgICAgIGlzc3VlLmtleSA9PSBcIlwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIHZhciBjcmVhdGVJc3N1ZVJlcyA9IGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgIGFzeW5jICgpID0+IGF3YWl0IHRoaXMuY3JlYXRlSXNzdWUoaW5mbywgZXJyb3IubWVzc2FnZSwgamlyYVByaktleSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0eXBlb2YgY3JlYXRlSXNzdWVSZXMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgdHlwZW9mIGNyZWF0ZUlzc3VlUmVzW1wiZGF0YVwiXSAhPSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zdCBuZXdJc3N1ZUtleSA9IGNyZWF0ZUlzc3VlUmVzW1wiZGF0YVwiXS5rZXk7XHJcblxyXG4gICAgICAgICAgLy8gVVBEQVRFIElTU1VFIEtFWSBCQUNLIFRPIEdMT0JBTCBKU09OXHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUlzc3VlS2V5SW50b0pzb24oaW5mbywgbmV3SXNzdWVLZXksIFwib3BlblwiKTtcclxuXHJcbiAgICAgICAgICAvLyBBREQgQVRUQUNITUVOVFNcclxuICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5hZGRJc3N1ZUF0dGFjaG1lbnQoaW5mbywgbmV3SXNzdWVLZXksIFwiZGlmZlwiKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgICAgYXN5bmMgKCkgPT5cclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBuZXdJc3N1ZUtleSwgXCJiYXNlbGluZVwiKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgICAgYXN5bmMgKCkgPT5cclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBuZXdJc3N1ZUtleSwgXCJhY3R1YWxcIilcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVUERBVEUgVElDS0VUIElGIEVYSVNUSU5HXHJcbiAgICAgIGlmIChcclxuICAgICAgICBzcGVjVGl0bGUuaW5jbHVkZXMoXCJpbWFnZSBjb21wYXJpc29uXCIpICYmXHJcbiAgICAgICAgaXNDcmVhdGVKaXJhID09IFwieWVzXCIgJiZcclxuICAgICAgICBqaXJhUHJqS2V5ICE9IFwiXCIgJiZcclxuICAgICAgICBpc3N1ZS5rZXkgIT0gXCJcIlxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCBjbG9zZWRUcmFuSWQgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJjbG9zZWRfdHJhbnNpdGlvbl9pZFwiXTtcclxuICAgICAgICBjb25zdCByZW9wZW5UcmFuSWQgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJyZW9wZW5fdHJhbnNpdGlvbl9pZFwiXTtcclxuXHJcbiAgICAgICAgLy8gQ0xPU0UgVElDS0VUIElGIFBBU1NFRFxyXG4gICAgICAgIGlmIChwYXNzZWQgJiYgaXNzdWUuc3RhdHVzID09IFwib3BlblwiKSB7XHJcbiAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgIGFzeW5jICgpID0+IGF3YWl0IHRoaXMudHJhbnNpdGlvbklzc3VlKGlzc3VlLmtleSwgY2xvc2VkVHJhbklkKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHRoaXMudXBkYXRlSXNzdWVLZXlJbnRvSnNvbihpbmZvLCBpc3N1ZS5rZXksIFwiY2xvc2VkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUkVPUEVOIFRJQ0tFVCBJRiBGQUlMRURcclxuICAgICAgICBpZiAoIXBhc3NlZCAmJiBpc3N1ZS5zdGF0dXMgPT0gXCJjbG9zZWRcIikge1xyXG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnRyYW5zaXRpb25Jc3N1ZShpc3N1ZS5rZXksIHJlb3BlblRyYW5JZClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUlzc3VlS2V5SW50b0pzb24oaW5mbywgaXNzdWUua2V5LCBcIm9wZW5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVUERBVEUgQVRUQUNITUVOVFNcclxuICAgICAgICB2YXIgamlyYUlzc3VlUmVzID0gYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5nZXRKaXJhSXNzdWUoaXNzdWUua2V5KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdHlwZW9mIGppcmFJc3N1ZVJlcyAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICB0eXBlb2YgamlyYUlzc3VlUmVzW1wiZGF0YVwiXSAhPSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB2YXIgYXR0YWNobWVudHMgPSBqaXJhSXNzdWVSZXNbXCJkYXRhXCJdLmZpZWxkcy5hdHRhY2htZW50O1xyXG5cclxuICAgICAgICAgIC8vIERFTEVURSBBTEwgQVRUQUNITUVOVFNcclxuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhdHRhY2htZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IGF0dGFjaG1lbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICAgIGFzeW5jICgpID0+IGF3YWl0IHRoaXMuZGVsSXNzdWVBdHRhY2htZW50KGF0dGFjaG1lbnQuaWQpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQUREIE5FVyBBVFRBQ0hNRU5UXHJcbiAgICAgICAgICBpZiAoIXBhc3NlZCkge1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5hZGRJc3N1ZUF0dGFjaG1lbnQoaW5mbywgaXNzdWUua2V5LCBcImRpZmZcIilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICAgIGFzeW5jICgpID0+XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBpc3N1ZS5rZXksIFwiYmFzZWxpbmVcIilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICAgIGFzeW5jICgpID0+XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBpc3N1ZS5rZXksIFwiYWN0dWFsXCIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLmFkZElzc3VlTGluayhpbmZvKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBpc3N1ZSBrZXkgZnJvbSBnbG9iYWwgZGF0YSBqc29uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0SXNzdWUoaW5mbykge1xyXG4gICAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgY29uc3QgcHJvamVjdHMgPSBqc29uRGF0YS5wcm9qZWN0cztcclxuICAgIGNvbnN0IHNwZWNJZCA9IGluZm8uc3BlY0lkO1xyXG4gICAgY29uc3QgY2xpZW50SWQgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgY29uc3QgcHJvamVjdElkID0gaW5mby5wcm9qZWN0SWQ7XHJcbiAgICBsZXQgaXNzdWVJZCA9IFwiXCI7XHJcbiAgICBsZXQgc3RhdHVzID0gXCJcIjtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXSAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdW1wiamlyYVwiXSAhPSBcInVuZGVmaW5lZFwiXHJcbiAgICApIHtcclxuICAgICAgaXNzdWVJZCA9IHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJqaXJhXCJdO1xyXG4gICAgICBzdGF0dXMgPSBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdW1wic3RhdHVzXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGtleTogaXNzdWVJZCxcclxuICAgICAgc3RhdHVzOiBzdGF0dXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIG5ldyBKaXJhIGlzc3VlIGFuZCByZXR1cm4gaXNzdWUga2V5XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlcnJNc2cgZXJyb3IgbWVzc2FnZSB3aWxsIGJlIHRocm93blxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBqaXJhUHJqS2V5IEppcmEgcHJvamVjdCBrZXlcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNyZWF0ZUlzc3VlKGluZm8sIGVyck1zZywgamlyYVByaktleSkge1xyXG4gICAgaWYgKGVyck1zZy5pbmNsdWRlcyhcIkltYWdlIGNvbXBhcmlzb24gaXMgZmFpbGVkXCIpKSB7XHJcbiAgICAgIGxldCBpc3N1ZSA9IGF3YWl0IHRoaXMuZ2V0SXNzdWUoaW5mbyk7XHJcbiAgICAgIGNvbnN0IGppcmFVcmwgPSBicm93c2VyLmNvbmZpZy5qaXJhO1xyXG4gICAgICBjb25zdCBqaXJhQXV0aCA9IGJyb3dzZXIuY29uZmlnLmppcmFBdXRoO1xyXG4gICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke2ppcmFBdXRofWAsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IGJvZHlEYXRhID0ge1xyXG4gICAgICAgIGZpZWxkczoge1xyXG4gICAgICAgICAgc3VtbWFyeTogYCR7aW5mby5zcGVjSWR9IC0gQXV0byB0ZXN0IGZsb3cgaXMgZmFpbGVkYCxcclxuICAgICAgICAgIGlzc3VldHlwZToge1xyXG4gICAgICAgICAgICBuYW1lOiBcIkF1dG9tYXRpb24gQnVnXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgICBrZXk6IGppcmFQcmpLZXksXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IGVyck1zZyxcclxuICAgICAgICAgIGxhYmVsczogW1wiaW1nX2NvbXBhcmlzb25cIl0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgbGV0IHJlc3BvbnNlID0gXCJcIjtcclxuXHJcbiAgICAgIC8vIE9OTFkgQ1JFQVRFIElGIE5PVCBFWElTVElOR1xyXG4gICAgICBpZiAoaXNzdWUua2V5ID09IFwiXCIpIHtcclxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zXHJcbiAgICAgICAgICAucG9zdChgJHtqaXJhVXJsfXJlc3QvYXBpLzIvaXNzdWVgLCBib2R5RGF0YSwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHN0YXR1cyBhbmQgaXNzdWUga2V5IGludG8gZGF0YSBqc29uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpc3N1ZUtleSBpc3N1ZSBrZXlcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdHVzIGNsb3NlZCBvciBvcGVuXHJcbiAgICovXHJcbiAgYXN5bmMgdXBkYXRlSXNzdWVLZXlJbnRvSnNvbihpbmZvLCBpc3N1ZUtleSwgc3RhdHVzKSB7XHJcbiAgICBsZXQganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgY29uc3Qgc3BlY0lkID0gaW5mby5zcGVjSWQ7XHJcbiAgICBjb25zdCBjbGllbnRJZCA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBpbmZvLnByb2plY3RJZDtcclxuXHJcbiAgICBpZiAodHlwZW9mIGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXSA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF0gPSB7fTtcclxuICAgIGlmICh0eXBlb2YganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF0gPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF0gPSB7fTtcclxuICAgIGlmICh0eXBlb2YganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXSA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdID0ge307XHJcblxyXG4gICAganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXVtcImppcmFcIl0gPSBpc3N1ZUtleTtcclxuICAgIGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJzdGF0dXNcIl0gPSBzdGF0dXM7XHJcblxyXG4gICAgYXdhaXQgZGF0YUhhbmRsZXIudXBkYXRlRGF0YUpzb25GaWxlKGpzb25EYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhdHRhY2htZW50cyBpbnRvIEppcmEgaXNzdWVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlzc3VlS2V5IEppcmEgaXNzdWUga2V5XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgZGlmZiwgYWN0dWFsIG9yIGJhc2VsaW5lXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBhZGRJc3N1ZUF0dGFjaG1lbnQoaW5mbywgaXNzdWVLZXksIHR5cGUpIHtcclxuICAgIGNvbnN0IHNwZWNJZCA9IGluZm8uc3BlY0lkO1xyXG4gICAgY29uc3QgY2FwcyA9IGF3YWl0IGNhcEhhbmRsZXIuZ2V0Q2FwYWJpbGl0aWVzKHNwZWNJZCk7XHJcbiAgICBjb25zdCBjYXB0dXJlT3B0cyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldENhcHR1cmVPcHRzKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoaXNzdWVLZXkgIT0gXCJcIikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBsZXQgc2NyZWVuc2hvdHMgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRTY3JlZW5zaG90cyhcclxuICAgICAgICAgIHNwZWNJZCxcclxuICAgICAgICAgIGNhcHMuYmFzZWxpbmVGb2xkZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHN0YXRzID0gZnMuc3RhdFN5bmMoc2NyZWVuc2hvdHMuZmlsZVBhdGhzW3R5cGVdKTtcclxuICAgICAgICBjb25zdCBmaWxlU2l6ZUluQnl0ZXMgPSBzdGF0cy5zaXplO1xyXG4gICAgICAgIGNvbnN0IGZpbGVTdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHNjcmVlbnNob3RzLmZpbGVQYXRoc1t0eXBlXSk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmQoXCJmaWxlXCIsIGZpbGVTdHJlYW0sIHtcclxuICAgICAgICAgIGtub3duTGVuZ3RoOiBmaWxlU2l6ZUluQnl0ZXMsXHJcbiAgICAgICAgICBmaWxlbmFtZTogdHlwZSArIFwiLnBuZ1wiLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBqaXJhVXJsID0gYnJvd3Nlci5jb25maWcuamlyYTtcclxuICAgICAgICBjb25zdCBqaXJhQXV0aCA9IGJyb3dzZXIuY29uZmlnLmppcmFBdXRoO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7amlyYUF1dGh9YCxcclxuICAgICAgICAgIFwiWC1BdGxhc3NpYW4tVG9rZW5cIjogXCJuby1jaGVja1wiLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zXHJcbiAgICAgICAgICAucG9zdChgJHtqaXJhVXJsfXJlc3QvYXBpLzIvaXNzdWUvJHtpc3N1ZUtleX0vYXR0YWNobWVudHNgLCBmb3JtLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGFuZ2UgSmlyYSBpc3N1ZSBzdGF0dXNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaXNzdWVLZXkgSmlyYSBpc3N1ZSBrZXlcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNpdGlvbklkIEppcmEgdHJhbmlzdGlvbiBpZFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgdHJhbnNpdGlvbklzc3VlKGlzc3VlS2V5LCB0cmFuc2l0aW9uSWQpIHtcclxuICAgIGNvbnN0IGppcmFVcmwgPSBicm93c2VyLmNvbmZpZy5qaXJhO1xyXG4gICAgY29uc3QgamlyYUF1dGggPSBicm93c2VyLmNvbmZpZy5qaXJhQXV0aDtcclxuXHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7amlyYUF1dGh9YCxcclxuICAgIH07XHJcbiAgICBjb25zdCBib2R5RGF0YSA9IHtcclxuICAgICAgdHJhbnNpdGlvbjoge1xyXG4gICAgICAgIGlkOiB0cmFuc2l0aW9uSWQsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zXHJcbiAgICAgIC5wb3N0KGAke2ppcmFVcmx9cmVzdC9hcGkvMi9pc3N1ZS8ke2lzc3VlS2V5fS90cmFuc2l0aW9uc2AsIGJvZHlEYXRhLCB7XHJcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgSmlyYSBpc3N1ZSB0aWNrZXRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaXNzdWVLZXkgSmlyYSBpc3N1ZSBrZXlcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEppcmFJc3N1ZShpc3N1ZUtleSkge1xyXG4gICAgY29uc3QgamlyYVVybCA9IGJyb3dzZXIuY29uZmlnLmppcmE7XHJcbiAgICBjb25zdCBqaXJhQXV0aCA9IGJyb3dzZXIuY29uZmlnLmppcmFBdXRoO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7amlyYUF1dGh9YCxcclxuICAgIH07XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBheGlvc1xyXG4gICAgICAuZ2V0KGAke2ppcmFVcmx9cmVzdC9hcGkvMi9pc3N1ZS8ke2lzc3VlS2V5fWAsIHtcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlbGV0ZSBKaXJhIGlzc3VlIGF0dGFjaG1lbnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0YWNobWVudElkIEppcmEgYXR0YWNobWVudCBpZFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsSXNzdWVBdHRhY2htZW50KGF0dGFjaG1lbnRJZCkge1xyXG4gICAgY29uc3QgamlyYVVybCA9IGJyb3dzZXIuY29uZmlnLmppcmE7XHJcbiAgICBjb25zdCBqaXJhQXV0aCA9IGJyb3dzZXIuY29uZmlnLmppcmFBdXRoO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7amlyYUF1dGh9YCxcclxuICAgIH07XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3NcclxuICAgICAgLmRlbGV0ZShgJHtqaXJhVXJsfXJlc3QvYXBpLzIvYXR0YWNobWVudC8ke2F0dGFjaG1lbnRJZH1gLCB7XHJcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgaXNzdWUgbGluayB0byBkYXRhIGpzb24gYW5kIEFsbHVyZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKi9cclxuICBhc3luYyBhZGRJc3N1ZUxpbmsoaW5mbykge1xyXG4gICAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgY29uc3QgcHJvamVjdHMgPSBqc29uRGF0YS5wcm9qZWN0cztcclxuICAgIGNvbnN0IHNwZWNJZCA9IGluZm8uc3BlY0lkO1xyXG4gICAgY29uc3QgY2xpZW50SWQgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgY29uc3QgcHJvamVjdElkID0gaW5mby5wcm9qZWN0SWQ7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgdHlwZW9mIHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgdHlwZW9mIHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXVtcImppcmFcIl0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdW1wiamlyYVwiXSAhPSBcIlwiXHJcbiAgICApIHtcclxuICAgICAgYWxsdXJlQ3VzdG9tLmFkZElzc3VlKHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJqaXJhXCJdKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgamlyYUludGVncmF0aW9uKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDN0MsTUFBTUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3hDLE1BQU1FLFVBQVUsR0FBR0Ys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","map":{"version":3,"names":["dataHandler","require","allureCustom","capHandler","common","axios","FormData","fs","jiraIntegration","constructor","jobs","specFileName","specTitle","passed","error","isNormalSpec","info","getInfoFromFilePath","excelData","getProjectDataExcel","clientId","projectId","jiraPrjKey","isCreateJira","issue","getIssue","includes","key","createIssueRes","browser","call","createIssue","message","newIssueKey","updateIssueKeyIntoJson","addIssueAttachment","closedTranId","reopenTranId","status","transitionIssue","jiraIssueRes","getJiraIssue","attachments","fields","attachment","index","length","delIssueAttachment","id","addIssueLink","jsonData","getGlobalDataJson","projects","specId","issueId","errMsg","jiraUrl","config","jira","jiraAuth","headers","Authorization","bodyData","summary","issuetype","name","project","description","labels","response","post","catch","err","console","log","issueKey","updateDataJsonFile","type","caps","getCapabilities","captureOpts","getCaptureOpts","form","screenshots","getScreenshots","baselineFolder","stats","statSync","filePaths","fileSizeInBytes","size","fileStream","createReadStream","append","knownLength","filename","Accept","transitionId","transition","get","attachmentId","delete","addIssue","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["jira.js"],"sourcesContent":["const dataHandler = require(\"./data_handler\");\r\nconst allureCustom = require(\"./allure\");\r\nconst capHandler = require(\"./cap_handler\");\r\nconst common = require(\"../common\");\r\n\r\nconst axios = require(\"axios\");\r\nconst FormData = require(\"form-data\");\r\nconst fs = require(\"fs\");\r\n\r\nclass jiraIntegration {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Main job of Jira intergration, is used to connect and update Jira ticket\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   * @param {Boolean} passed test result\r\n   * @param {Object} error error returned if failed\r\n   */\r\n  async jobs(specFileName, specTitle, passed, error) {\r\n    if (common.isNormalSpec(specFileName)) {\r\n      const info = await dataHandler.getInfoFromFilePath(specFileName);\r\n      const excelData = await dataHandler.getProjectDataExcel(\r\n        info.clientId,\r\n        info.projectId\r\n      );\r\n\r\n      let jiraPrjKey = excelData[\"config\"][0][\"jira_key\"];\r\n      let isCreateJira = excelData[\"config\"][0][\"create_jira\"];\r\n      let issue = await this.getIssue(info);\r\n\r\n      // CONDITIONS :: TICKET NOT EXISTING & FAILED CASE\r\n      // CREATE NEW TICKET\r\n      if (\r\n        !passed &&\r\n        specTitle.includes(\"image comparison\") &&\r\n        isCreateJira == \"yes\" &&\r\n        jiraPrjKey != \"\" &&\r\n        issue.key == \"\"\r\n      ) {\r\n        var createIssueRes = await browser.call(\r\n          async () => await this.createIssue(info, error.message, jiraPrjKey)\r\n        );\r\n\r\n        if (\r\n          typeof createIssueRes != \"undefined\" &&\r\n          typeof createIssueRes[\"data\"] != \"undefined\"\r\n        ) {\r\n          const newIssueKey = createIssueRes[\"data\"].key;\r\n\r\n          // UPDATE ISSUE KEY BACK TO GLOBAL JSON\r\n          this.updateIssueKeyIntoJson(info, newIssueKey, \"open\");\r\n\r\n          // ADD ATTACHMENTS\r\n          await browser.call(\r\n            async () => await this.addIssueAttachment(info, newIssueKey, \"diff\")\r\n          );\r\n          await browser.call(\r\n            async () =>\r\n              await this.addIssueAttachment(info, newIssueKey, \"baseline\")\r\n          );\r\n          await browser.call(\r\n            async () =>\r\n              await this.addIssueAttachment(info, newIssueKey, \"actual\")\r\n          );\r\n        }\r\n      }\r\n\r\n      // UPDATE TICKET IF EXISTING\r\n      if (\r\n        specTitle.includes(\"image comparison\") &&\r\n        isCreateJira == \"yes\" &&\r\n        jiraPrjKey != \"\" &&\r\n        issue.key != \"\"\r\n      ) {\r\n        const closedTranId = excelData[\"config\"][0][\"closed_transition_id\"];\r\n        const reopenTranId = excelData[\"config\"][0][\"reopen_transition_id\"];\r\n\r\n        // CLOSE TICKET IF PASSED\r\n        if (passed && issue.status == \"open\") {\r\n          await browser.call(\r\n            async () => await this.transitionIssue(issue.key, closedTranId)\r\n          );\r\n          this.updateIssueKeyIntoJson(info, issue.key, \"closed\");\r\n        }\r\n\r\n        // REOPEN TICKET IF FAILED\r\n        if (!passed && issue.status == \"closed\") {\r\n          await browser.call(\r\n            async () => await this.transitionIssue(issue.key, reopenTranId)\r\n          );\r\n          this.updateIssueKeyIntoJson(info, issue.key, \"open\");\r\n        }\r\n\r\n        // UPDATE ATTACHMENTS\r\n        var jiraIssueRes = await browser.call(\r\n          async () => await this.getJiraIssue(issue.key)\r\n        );\r\n        if (\r\n          typeof jiraIssueRes != \"undefined\" &&\r\n          typeof jiraIssueRes[\"data\"] != \"undefined\"\r\n        ) {\r\n          var attachments = jiraIssueRes[\"data\"].fields.attachment;\r\n\r\n          // DELETE ALL ATTACHMENTS\r\n          for (let index = 0; index < attachments.length; index++) {\r\n            const attachment = attachments[index];\r\n            await browser.call(\r\n              async () => await this.delIssueAttachment(attachment.id)\r\n            );\r\n          }\r\n\r\n          // ADD NEW ATTACHMENT\r\n          if (!passed) {\r\n            await browser.call(\r\n              async () => await this.addIssueAttachment(info, issue.key, \"diff\")\r\n            );\r\n            await browser.call(\r\n              async () =>\r\n                await this.addIssueAttachment(info, issue.key, \"baseline\")\r\n            );\r\n            await browser.call(\r\n              async () =>\r\n                await this.addIssueAttachment(info, issue.key, \"actual\")\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      await this.addIssueLink(info);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get issue key from global data json\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async getIssue(info) {\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const projects = jsonData.projects;\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    let issueId = \"\";\r\n    let status = \"\";\r\n\r\n    if (\r\n      typeof projects[clientId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\"\r\n    ) {\r\n      issueId = projects[clientId][projectId][specId][\"jira\"];\r\n      status = projects[clientId][projectId][specId][\"status\"];\r\n    }\r\n\r\n    return {\r\n      key: issueId,\r\n      status: status,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create new Jira issue and return issue key\r\n   * @param {Object} info spec information\r\n   * @param {String} errMsg error message will be thrown\r\n   * @param {String} jiraPrjKey Jira project key\r\n   * @returns {Object}\r\n   */\r\n  async createIssue(info, errMsg, jiraPrjKey) {\r\n    if (errMsg.includes(\"Image comparison is failed\")) {\r\n      let issue = await this.getIssue(info);\r\n      const jiraUrl = browser.config.jira;\r\n      const jiraAuth = browser.config.jiraAuth;\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Basic ${jiraAuth}`,\r\n      };\r\n      const bodyData = {\r\n        fields: {\r\n          summary: `${info.specId} - Auto test flow is failed`,\r\n          issuetype: {\r\n            name: \"Automation Bug\",\r\n          },\r\n          project: {\r\n            key: jiraPrjKey,\r\n          },\r\n          description: errMsg,\r\n          labels: [\"img_comparison\"],\r\n        },\r\n      };\r\n      let response = \"\";\r\n\r\n      // ONLY CREATE IF NOT EXISTING\r\n      if (issue.key == \"\") {\r\n        response = await axios\r\n          .post(`${jiraUrl}rest/api/2/issue`, bodyData, {\r\n            headers: headers,\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n\r\n      return response;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update status and issue key into data json\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey issue key\r\n   * @param {String} status closed or open\r\n   */\r\n  async updateIssueKeyIntoJson(info, issueKey, status) {\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n\r\n    if (typeof jsonData.projects[clientId] == \"undefined\")\r\n      jsonData.projects[clientId] = {};\r\n    if (typeof jsonData.projects[clientId][projectId] == \"undefined\")\r\n      jsonData.projects[clientId][projectId] = {};\r\n    if (typeof jsonData.projects[clientId][projectId][specId] == \"undefined\")\r\n      jsonData.projects[clientId][projectId][specId] = {};\r\n\r\n    jsonData.projects[clientId][projectId][specId][\"jira\"] = issueKey;\r\n    jsonData.projects[clientId][projectId][specId][\"status\"] = status;\r\n\r\n    await dataHandler.updateDataJsonFile(jsonData);\r\n  }\r\n\r\n  /**\r\n   * Add attachments into Jira issue\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} type diff, actual or baseline\r\n   * @returns {Object}\r\n   */\r\n  async addIssueAttachment(info, issueKey, type) {\r\n    const specId = info.specId;\r\n    const caps = await capHandler.getCapabilities(specId);\r\n    const captureOpts = await dataHandler.getCaptureOpts(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    if (issueKey != \"\") {\r\n      try {\r\n        const form = new FormData();\r\n        let screenshots = await dataHandler.getScreenshots(\r\n          specId,\r\n          caps.baselineFolder\r\n        );\r\n        const stats = fs.statSync(screenshots.filePaths[type]);\r\n        const fileSizeInBytes = stats.size;\r\n        const fileStream = fs.createReadStream(screenshots.filePaths[type]);\r\n        form.append(\"file\", fileStream, {\r\n          knownLength: fileSizeInBytes,\r\n          filename: type + \".png\",\r\n        });\r\n\r\n        const jiraUrl = browser.config.jira;\r\n        const jiraAuth = browser.config.jiraAuth;\r\n        const headers = {\r\n          Accept: \"application/json\",\r\n          Authorization: `Basic ${jiraAuth}`,\r\n          \"X-Atlassian-Token\": \"no-check\",\r\n        };\r\n\r\n        let response = await axios\r\n          .post(`${jiraUrl}rest/api/2/issue/${issueKey}/attachments`, form, {\r\n            headers: headers,\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        return response;\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change Jira issue status\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} transitionId Jira tranistion id\r\n   * @returns {Object}\r\n   */\r\n  async transitionIssue(issueKey, transitionId) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n    const bodyData = {\r\n      transition: {\r\n        id: transitionId,\r\n      },\r\n    };\r\n\r\n    let response = await axios\r\n      .post(`${jiraUrl}rest/api/2/issue/${issueKey}/transitions`, bodyData, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Get Jira issue ticket\r\n   * @param {String} issueKey Jira issue key\r\n   * @returns {Object}\r\n   */\r\n  async getJiraIssue(issueKey) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n    const headers = {\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n    let response = await axios\r\n      .get(`${jiraUrl}rest/api/2/issue/${issueKey}`, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Delete Jira issue attachment\r\n   * @param {String} attachmentId Jira attachment id\r\n   * @returns {Object}\r\n   */\r\n  async delIssueAttachment(attachmentId) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n    const headers = {\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n\r\n    let response = await axios\r\n      .delete(`${jiraUrl}rest/api/2/attachment/${attachmentId}`, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Add issue link to data json and Allure\r\n   * @param {Object} info spec information\r\n   */\r\n  async addIssueLink(info) {\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const projects = jsonData.projects;\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n\r\n    if (\r\n      typeof projects[clientId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\" &&\r\n      projects[clientId][projectId][specId][\"jira\"] != \"\"\r\n    ) {\r\n      allureCustom.addIssue(projects[clientId][projectId][specId][\"jira\"]);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new jiraIntegration();\r\n"],"mappings":"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"}},"mtime":1700647516895},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\016_bods.1627-logout_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst myprofilepage = require('../../pageobjects/myProfile');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-logout_en\", async () => {\n    await Homepage.open();\n    await browser.deleteAllCookies();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // click on myprofile to capture settings\n    await myprofilepage.clickMyprofile();\n    // click MyInformation link\n    await myprofilepage.clickMyInformation();\n    //Click logout button\n    await myprofilepage.clickLogout();\n    // expect the Url to contain clasic fit mesh polo\n    await myprofilepage.verifyURLContainsText('/classic-fit-mesh-polo');\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-logout_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"016_bods.1627-logout_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"016_bods.1627-logout_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJteXByb2ZpbGVwYWdlIiwiZGVzY3JpYmUiLCJpdCIsIm9wZW4iLCJicm93c2VyIiwiZGVsZXRlQWxsQ29va2llcyIsIndhcm5pbmdPdmVybGF5IiwiY2xpY2twb2xvZml0bWVzaCIsImNsaWNrYm9kczNEIiwiY2xpY2tMb2dpbmxpbmsiLCJsb2dpbiIsImNsaWNrTXlwcm9maWxlIiwiY2xpY2tNeUluZm9ybWF0aW9uIiwiY2xpY2tMb2dvdXQiLCJ2ZXJpZnlVUkxDb250YWluc1RleHQiLCJ1dGlscyIsInByb2Nlc3MiLCJjd2QiLCJ2YWxpZCIsImNoZWNrVmFsaWRDYXBzIiwic2tpcCIsImNoZWNrRmlyZVdhbGwiLCJpbWdDb21wYXJlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxzY3JlZW5cXCIsInNvdXJjZXMiOlsiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSG9tZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9ob21lX3BhZ2UnKTtcclxuY29uc3QgUHJvZHVjdHBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9wcm9kdWN0X3BhZ2UnKTtcclxuY29uc3QgYXZhdGFycGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2F2YXRhcl9wYWdlJyk7XHJcbmNvbnN0IG15cHJvZmlsZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9teVByb2ZpbGUnKTtcclxuXHJcbmRlc2NyaWJlKFwiQk9EUyA6OiBTY3JlZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gIGl0KFwicmVjb3JkZXIgOjogMTYyNy1sb2dvdXRfZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgSG9tZXBhZ2Uub3BlbigpO1xyXG4gICAgYXdhaXQgYnJvd3Nlci5kZWxldGVBbGxDb29raWVzKCk7XHJcbiAgICAvLyBPbiBSYXBsYXVyZW4gSG9tZSBwYWdlIGFmdGVyIGhhbmRsaW5nIHdhcm5pbmcgb3ZlcmxheSBcclxuICAgIGF3YWl0IEhvbWVwYWdlLndhcm5pbmdPdmVybGF5KCk7XHJcbiAgICAvLyBPbiBDbGFzc2ljIEZpdCBNZXNoIFBvbG8gU2hpcnQgUHJvZHVjdCBob21lIHBhZ2UgQWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5XHJcbiAgICBhd2FpdCBQcm9kdWN0cGFnZS5jbGlja3BvbG9maXRtZXNoKCk7XHJcbiAgICAvLyBPbiBSYXBsYXVyZW4gSG9tZSBwYWdlIGFmdGVyIGhhbmRsaW5nIHdhcm5pbmcgb3ZlcmxheSBcclxuICAgIGF3YWl0IEhvbWVwYWdlLndhcm5pbmdPdmVybGF5KCk7XHJcbiAgICAvLyBsYW5kIG9uIHByb2ZpbGUgcGFnZVxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2JvZHMzRCgpO1xyXG4gICAgLy8gbGFuZCBvbiBsb2dpbiBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrTG9naW5saW5rKCk7XHJcbiAgICAvLyBsb2dpbiB3aXRoIGV4aXN0aW5nIGFjY291bnRcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UubG9naW4oKTtcclxuICAgIC8vIGNsaWNrIG9uIG15cHJvZmlsZSB0byBjYXB0dXJlIHNldHRpbmdzXHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAvLyBjbGljayBNeUluZm9ybWF0aW9uIGxpbmtcclxuICAgIGF3YWl0IG15cHJvZmlsZXBhZ2UuY2xpY2tNeUluZm9ybWF0aW9uKCk7XHJcbiAgICAvL0NsaWNrIGxvZ291dCBidXR0b25cclxuICAgIGF3YWl0IG15cHJvZmlsZXBhZ2UuY2xpY2tMb2dvdXQoKTtcclxuICAgIC8vIGV4cGVjdCB0aGUgVXJsIHRvIGNvbnRhaW4gY2xhc2ljIGZpdCBtZXNoIHBvbG9cclxuICAgIGF3YWl0IG15cHJvZmlsZXBhZ2UudmVyaWZ5VVJMQ29udGFpbnNUZXh0KCcvY2xhc3NpYy1maXQtbWVzaC1wb2xvJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyNy1sb2dvdXRfZW5cIiwgYXN5bmMgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IENIRUNLIEZJUkVXQUxMXHJcbiAgICBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW5cIik7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b20gY2FwdHVyZSBvcHRzLiBVbmNvbW1lbnQgYW5kIGNoYW5nZSB0aGUgdmFsdWUgdG8gdXNlIGl0LlxyXG4gICAgICogVGhlIGdsb2JhbCBjb25maWcgaXMgc2V0IGluIGRhdGEueGxzeCBhbmQgaXMgYXBwbGllZCBieSBkZWZhdWx0IGZvciBhbGwgc3BlY3MuXHJcbiAgICAgKiBOb3RlOiB0aGVzZSBjb25maWcgbWF5IGJlIHJlcGxhY2VkIGlmIHRoZXJlIGlzIG5ldyB2ZXJzaW9uIG9mIFV0aWxzIGxpYiByZWxlYXNlZC5cclxuICAgICAqL1xyXG5cclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNl9ib2RzLjE2MjctbG9nb3V0X2VuXCIsIFwiaWdub3JlVHJhbnNwYXJlbnRQaXhlbFwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW5cIiwgXCJpZ25vcmVBbnRpYWxpYXNpbmdcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNl9ib2RzLjE2MjctbG9nb3V0X2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW5cIiwgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsIDEwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNl9ib2RzLjE2MjctbG9nb3V0X2VuXCIsIFwiZGlzYWJsZUNTU0FuaW1hdGlvblwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE2X2JvZHMuMTYyNy1sb2dvdXRfZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNl9ib2RzLjE2MjctbG9nb3V0X2VuXCIsIFwiaWdub3JlQWxwaGFcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgXCIwMTZfYm9kcy4xNjI3LWxvZ291dF9lblwiKTtcclxuXHJcbiAgfSk7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gPT09PT09PSBJTUdfQ09NUCA6IEVORCA9PT09PT09XHJcblxyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3ZELE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdELE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQzNELE1BQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRTVESSxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBWTtFQUNyQ0MsRUFBRSxDQUFDLDRCQUE0QixFQUFFLFlBQVk7SUFDM0MsTUFBTU4sUUFBUSxDQUFDTyxJQUFJLENBQUMsQ0FBQztJQUNyQixNQUFNQyxPQUFPLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDaEM7SUFDQSxNQUFNVCxRQUFRLENBQUNVLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTVIsV0FBVyxDQUFDUyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BDO0lBQ0EsTUFBTVgsUUFBUSxDQUFDVSxjQUFjLENBQUMsQ0FBQztJQUMvQjtJQUNBLE1BQU1QLFVBQVUsQ0FBQ1MsV0FBVyxDQUFDLENBQUM7SUFDOUI7SUFDQSxNQUFNVCxVQUFVLENBQUNVLGNBQWMsQ0FBQyxDQUFDO0lBQ2pDO0lBQ0EsTUFBTVYsVUFBVSxDQUFDVyxLQUFLLENBQUMsQ0FBQztJQUN4QjtJQUNBLE1BQU1WLGFBQWEsQ0FBQ1csY0FBYyxDQUFDLENBQUM7SUFDcEM7SUFDQSxNQUFNWCxhQUFhLENBQUNZLGtCQUFrQixDQUFDLENBQUM7SUFDeEM7SUFDQSxNQUFNWixhQUFhLENBQUNhLFdBQVcsQ0FBQyxDQUFDO0lBQ2pDO0lBQ0EsTUFBTWIsYUFBYSxDQUFDYyxxQkFBcUIsQ0FBQyx3QkFBd0IsQ0FBQztFQUNyRSxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBWixFQUFFLENBQUMsMkNBQTJDLEVBQUUsa0JBQWlCO0lBQy9ELE1BQU1hLEtBQUssR0FBR2xCLE9BQU8sQ0FBQ21CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxjQUFjLENBQUM7O0lBRXJEO0lBQ0EsSUFBSUMsS0FBSyxHQUFHLE1BQU1ILEtBQUssQ0FBQ0ksY0FBYyxDQUFDLENBQUM7SUFDeEMsSUFBSSxDQUFDRCxLQUFLLEVBQUUsTUFBTSxJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFDOztJQUU3QjtJQUNBLE1BQU1MLEtBQUssQ0FBQ00sYUFBYSxDQUFDLHlCQUF5QixDQUFDOztJQUVwRDtBQUNKO0FBQ0E7QUFDQTtBQUNBOztJQUVJO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQSxNQUFNTixLQUFLLENBQUNPLFVBQVUsQ0FBQyxNQUFNLEVBQUUseUJBQXlCLENBQUM7RUFFM0QsQ0FBQyxDQUFDO0VBQ0Y7RUFDQTtBQUVGLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","myprofilepage","describe","it","open","browser","deleteAllCookies","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","clickMyprofile","clickMyInformation","clickLogout","verifyURLContainsText","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["016_bods.1627-logout_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst myprofilepage = require('../../pageobjects/myProfile');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-logout_en\", async () => {\r\n    await Homepage.open();\r\n    await browser.deleteAllCookies();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // click on myprofile to capture settings\r\n    await myprofilepage.clickMyprofile();\r\n    // click MyInformation link\r\n    await myprofilepage.clickMyInformation();\r\n    //Click logout button\r\n    await myprofilepage.clickLogout();\r\n    // expect the Url to contain clasic fit mesh polo\r\n    await myprofilepage.verifyURLContainsText('/classic-fit-mesh-polo');\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-logout_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"016_bods.1627-logout_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"016_bods.1627-logout_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"016_bods.1627-logout_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,aAAa,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE5DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,4BAA4B,EAAE,YAAY;IAC3C,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB,MAAMC,OAAO,CAACC,gBAAgB,CAAC,CAAC;IAChC;IACA,MAAMT,QAAQ,CAACU,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMR,WAAW,CAACS,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMX,QAAQ,CAACU,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMP,UAAU,CAACS,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMT,UAAU,CAACU,cAAc,CAAC,CAAC;IACjC;IACA,MAAMV,UAAU,CAACW,KAAK,CAAC,CAAC;IACxB;IACA,MAAMV,aAAa,CAACW,cAAc,CAAC,CAAC;IACpC;IACA,MAAMX,aAAa,CAACY,kBAAkB,CAAC,CAAC;IACxC;IACA,MAAMZ,aAAa,CAACa,WAAW,CAAC,CAAC;IACjC;IACA,MAAMb,aAAa,CAACc,qBAAqB,CAAC,wBAAwB,CAAC;EACrE,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAZ,EAAE,CAAC,2CAA2C,EAAE,kBAAiB;IAC/D,MAAMa,KAAK,GAAGlB,OAAO,CAACmB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,yBAAyB,CAAC;;IAEpD;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,yBAAyB,CAAC;EAE3D,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1700647545813},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\home_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nconst config = require(\"../data/config\");\nconst {\n  ralphLauren,\n  balmain,\n  balmainprod\n} = config.urls;\nconst users = config.users;\nclass Homepage extends Page {\n  // ========= Selectors =========\n  get warningCloseicon() {\n    return $('//button[@class=\"close\"]');\n  }\n\n  // ========== Methods ==========\n  open(brand) {\n    if (brand === 'ralphLauren') {\n      return browser.url(ralphLauren);\n    } else if (brand === 'balmain') {\n      return browser.url(balmain);\n    } else if (brand === 'balmainprod') {\n      return browser.url(balmainprod);\n    } else {\n      throw new Error('Invalid brand provided');\n    }\n  }\n  async warningOverlay() {\n    await browser.pause(1000);\n    const warningCloseicon = await this.warningCloseicon;\n    await warningCloseicon.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await this.warningCloseicon.click();\n  }\n  async insertTextGS(columnLetter1, columnLetter2, elementIndex, Sheetname, texttoUpload) {\n    const gapi = require(process.cwd() + \"/utils/lib/gapi\");\n    const path = require(\"path\");\n\n    // Construct the shell range dynamically based on the index\n    function constructShellRange(elementIndex) {\n      // Construct the shell range dynamically\n      let column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0));\n      if (`${columnLetter2}`) {\n        column += String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\n      }\n      const startRow = 6 + elementIndex;\n      const endRow = 6 + elementIndex;\n      const shellRange = `${Sheetname}!${column}${startRow}:${column}${endRow}`;\n      return shellRange;\n    }\n\n    // Construct the shell range dynamically based on the index\n    const shellRange = constructShellRange(elementIndex);\n\n    // Insert into GS using the constructed shell range\n    await gapi.insertText2GS(texttoUpload, shellRange);\n  }\n  async captureAndUploadImage(columnLetter1, columnLetter2, elementIndex, dynamicString, sizeText, cuptext, settings, combo, view, Sheetname, user) {\n    const gapi = require(process.cwd() + \"/utils/lib/gapi\");\n    const path = require(\"path\");\n    const username = user.username.split('@')[0];\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n    const hours = String(now.getHours()).padStart(2, \"0\");\n    const minutes = String(now.getMinutes()).padStart(2, \"0\");\n    const screenshotName = `${username}${dynamicString}_${sizeText}_${cuptext}_${settings}${combo}${view}${year}${month}${day}-${hours}${minutes}`;\n    const screenshot = await browser.saveElement(await $(\"(//div[@id='bods-app']//div[contains(@class,bods__avatar)])[1]\"), screenshotName);\n\n    // Upload file to GD\n    const gdFileId = await gapi.uploadFile(path.join(screenshot.path, screenshot.fileName));\n\n    // Construct the shell range dynamically\n    let column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0));\n    if (`${columnLetter2}`) {\n      column += String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\n    }\n    //const column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0)) + String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\n    const startRow = 6 + elementIndex;\n    const endRow = 6 + elementIndex;\n    //const shellRange = `All profile testing - Oct 18!${column}${startRow}:${column}${endRow}`;\n    const shellRange = `${Sheetname}!${column}${startRow}:${column}${endRow}`;\n\n    // Insert into GS\n    await gapi.insertImg2GS(gdFileId, shellRange);\n  }\n  async waitForPageToLoad(timeout = 10000) {\n    browser.waitUntil(() => {\n      return browser.execute(() => {\n        return document.readyState === 'complete' && document.title.trim() !== '';\n      });\n    }, {\n      timeout: timeout,\n      timeoutMsg: `Page not fully loaded within ${timeout / 1000} seconds`,\n      interval: 500\n    });\n  }\n}\nmodule.exports = new Homepage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsImNvbmZpZyIsInJhbHBoTGF1cmVuIiwiYmFsbWFpbiIsImJhbG1haW5wcm9kIiwidXJscyIsInVzZXJzIiwiSG9tZXBhZ2UiLCJ3YXJuaW5nQ2xvc2VpY29uIiwiJCIsIm9wZW4iLCJicmFuZCIsImJyb3dzZXIiLCJ1cmwiLCJFcnJvciIsIndhcm5pbmdPdmVybGF5IiwicGF1c2UiLCJ3YWl0Rm9yRGlzcGxheWVkIiwidGltZW91dCIsImNsaWNrIiwiaW5zZXJ0VGV4dEdTIiwiY29sdW1uTGV0dGVyMSIsImNvbHVtbkxldHRlcjIiLCJlbGVtZW50SW5kZXgiLCJTaGVldG5hbWUiLCJ0ZXh0dG9VcGxvYWQiLCJnYXBpIiwicHJvY2VzcyIsImN3ZCIsInBhdGgiLCJjb25zdHJ1Y3RTaGVsbFJhbmdlIiwiY29sdW1uIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsInN0YXJ0Um93IiwiZW5kUm93Iiwic2hlbGxSYW5nZSIsImluc2VydFRleHQyR1MiLCJjYXB0dXJlQW5kVXBsb2FkSW1hZ2UiLCJkeW5hbWljU3RyaW5nIiwic2l6ZVRleHQiLCJjdXB0ZXh0Iiwic2V0dGluZ3MiLCJjb21ibyIsInZpZXciLCJ1c2VyIiwidXNlcm5hbWUiLCJzcGxpdCIsIm5vdyIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwic2NyZWVuc2hvdE5hbWUiLCJzY3JlZW5zaG90Iiwic2F2ZUVsZW1lbnQiLCJnZEZpbGVJZCIsInVwbG9hZEZpbGUiLCJqb2luIiwiZmlsZU5hbWUiLCJpbnNlcnRJbWcyR1MiLCJ3YWl0Rm9yUGFnZVRvTG9hZCIsIndhaXRVbnRpbCIsImV4ZWN1dGUiLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJ0aXRsZSIsInRyaW0iLCJ0aW1lb3V0TXNnIiwiaW50ZXJ2YWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccGFnZW9iamVjdHNcXCIsInNvdXJjZXMiOlsiaG9tZV9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhZ2UgPSByZXF1aXJlKFwiLi9wYWdlXCIpO1xyXG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiLi4vZGF0YS9jb25maWdcIik7XHJcbmNvbnN0IHsgcmFscGhMYXVyZW4sIGJhbG1haW4sIGJhbG1haW5wcm9kIH0gPSBjb25maWcudXJscztcclxuY29uc3QgdXNlcnMgPSBjb25maWcudXNlcnM7XHJcblxyXG5jbGFzcyBIb21lcGFnZSBleHRlbmRzIFBhZ2Uge1xyXG4gICAvLyA9PT09PT09PT0gU2VsZWN0b3JzID09PT09PT09PVxyXG4gICBnZXQgd2FybmluZ0Nsb3NlaWNvbigpe1xyXG4gICAgICAgcmV0dXJuICQoJy8vYnV0dG9uW0BjbGFzcz1cImNsb3NlXCJdJyk7IFxyXG4gICB9ICAgIFxyXG5cclxuICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgb3BlbihicmFuZCkge1xyXG4gICAgaWYgKGJyYW5kID09PSAncmFscGhMYXVyZW4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIudXJsKHJhbHBoTGF1cmVuKTsgICAgIFxyXG4gICAgfSBlbHNlIGlmIChicmFuZCA9PT0gJ2JhbG1haW4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIudXJsKGJhbG1haW4pO1xyXG4gICAgfSBlbHNlIGlmIChicmFuZCA9PT0gJ2JhbG1haW5wcm9kJykge1xyXG4gICAgICByZXR1cm4gYnJvd3Nlci51cmwoYmFsbWFpbnByb2QpO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBicmFuZCBwcm92aWRlZCcpO1xyXG4gICAgfVxyXG4gICAgfVxyXG5cclxuICAgYXN5bmMgd2FybmluZ092ZXJsYXkoKSB7XHJcbiAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgIGNvbnN0IHdhcm5pbmdDbG9zZWljb24gPSBhd2FpdCB0aGlzLndhcm5pbmdDbG9zZWljb247XHJcbiAgIGF3YWl0IHdhcm5pbmdDbG9zZWljb24ud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDUwMDAgfSk7ICAgXHJcbiAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7IFxyXG4gICBhd2FpdCB0aGlzLndhcm5pbmdDbG9zZWljb24uY2xpY2soKTtcclxuICAgfVxyXG5cclxuICAgYXN5bmMgIGluc2VydFRleHRHUyhjb2x1bW5MZXR0ZXIxLCBjb2x1bW5MZXR0ZXIyLCBlbGVtZW50SW5kZXgsU2hlZXRuYW1lLCB0ZXh0dG9VcGxvYWQpIHtcclxuICAgY29uc3QgZ2FwaSA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL2xpYi9nYXBpXCIpO1xyXG4gICBjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcblxyXG4gICAgLy8gQ29uc3RydWN0IHRoZSBzaGVsbCByYW5nZSBkeW5hbWljYWxseSBiYXNlZCBvbiB0aGUgaW5kZXhcclxuICAgIGZ1bmN0aW9uIGNvbnN0cnVjdFNoZWxsUmFuZ2UoZWxlbWVudEluZGV4KSB7XHJcbiAgICAgIC8vIENvbnN0cnVjdCB0aGUgc2hlbGwgcmFuZ2UgZHluYW1pY2FsbHlcclxuICAgIGxldCBjb2x1bW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGAke2NvbHVtbkxldHRlcjF9YC5jaGFyQ29kZUF0KDApKTtcclxuICAgIGlmIChgJHtjb2x1bW5MZXR0ZXIyfWApIHtcclxuICAgIGNvbHVtbiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGAke2NvbHVtbkxldHRlcjJ9YC5jaGFyQ29kZUF0KDApKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YXJ0Um93ID0gNiArIGVsZW1lbnRJbmRleDtcclxuICAgIGNvbnN0IGVuZFJvdyA9IDYgKyBlbGVtZW50SW5kZXg7XHJcbiAgICBjb25zdCBzaGVsbFJhbmdlID0gYCR7U2hlZXRuYW1lfSEke2NvbHVtbn0ke3N0YXJ0Um93fToke2NvbHVtbn0ke2VuZFJvd31gO1xyXG5cclxuICAgIHJldHVybiBzaGVsbFJhbmdlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnN0cnVjdCB0aGUgc2hlbGwgcmFuZ2UgZHluYW1pY2FsbHkgYmFzZWQgb24gdGhlIGluZGV4XHJcbiAgICBjb25zdCBzaGVsbFJhbmdlID0gY29uc3RydWN0U2hlbGxSYW5nZShlbGVtZW50SW5kZXgpO1xyXG5cclxuICAgIC8vIEluc2VydCBpbnRvIEdTIHVzaW5nIHRoZSBjb25zdHJ1Y3RlZCBzaGVsbCByYW5nZVxyXG4gICAgYXdhaXQgZ2FwaS5pbnNlcnRUZXh0MkdTKHRleHR0b1VwbG9hZCwgc2hlbGxSYW5nZSk7XHJcbn1cclxuXHJcbiAgICBhc3luYyBjYXB0dXJlQW5kVXBsb2FkSW1hZ2UoY29sdW1uTGV0dGVyMSxjb2x1bW5MZXR0ZXIyLCBlbGVtZW50SW5kZXgsIGR5bmFtaWNTdHJpbmcsc2l6ZVRleHQsY3VwdGV4dCxzZXR0aW5ncyxjb21ibyx2aWV3LFNoZWV0bmFtZSx1c2VyKSB7XHJcbiAgICBjb25zdCBnYXBpID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2dhcGlcIik7XHJcbiAgICBjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbiAgICBjb25zdCB1c2VybmFtZSA9IHVzZXIudXNlcm5hbWUuc3BsaXQoJ0AnKVswXTtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhub3cuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhub3cuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICBjb25zdCBzY3JlZW5zaG90TmFtZSA9IGAke3VzZXJuYW1lfSR7ZHluYW1pY1N0cmluZ31fJHtzaXplVGV4dH1fJHtjdXB0ZXh0fV8ke3NldHRpbmdzfSR7Y29tYm99JHt2aWV3fSR7eWVhcn0ke21vbnRofSR7ZGF5fS0ke2hvdXJzfSR7bWludXRlc31gO1xyXG4gICAgY29uc3Qgc2NyZWVuc2hvdCA9IGF3YWl0IGJyb3dzZXIuc2F2ZUVsZW1lbnQoXHJcbiAgICAgIGF3YWl0ICQoXCIoLy9kaXZbQGlkPSdib2RzLWFwcCddLy9kaXZbY29udGFpbnMoQGNsYXNzLGJvZHNfX2F2YXRhcildKVsxXVwiKSxcclxuICAgICAgc2NyZWVuc2hvdE5hbWVcclxuICAgICk7XHJcbiAgXHJcbiAgICAvLyBVcGxvYWQgZmlsZSB0byBHRFxyXG4gICAgY29uc3QgZ2RGaWxlSWQgPSBhd2FpdCBnYXBpLnVwbG9hZEZpbGUoXHJcbiAgICAgIHBhdGguam9pbihzY3JlZW5zaG90LnBhdGgsIHNjcmVlbnNob3QuZmlsZU5hbWUpLFxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQ29uc3RydWN0IHRoZSBzaGVsbCByYW5nZSBkeW5hbWljYWxseVxyXG4gICAgbGV0IGNvbHVtbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYCR7Y29sdW1uTGV0dGVyMX1gLmNoYXJDb2RlQXQoMCkpO1xyXG4gICAgaWYgKGAke2NvbHVtbkxldHRlcjJ9YCkge1xyXG4gICAgY29sdW1uICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYCR7Y29sdW1uTGV0dGVyMn1gLmNoYXJDb2RlQXQoMCkpO1xyXG4gICAgfVxyXG4gICAgLy9jb25zdCBjb2x1bW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGAke2NvbHVtbkxldHRlcjF9YC5jaGFyQ29kZUF0KDApKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoYCR7Y29sdW1uTGV0dGVyMn1gLmNoYXJDb2RlQXQoMCkpO1xyXG4gICAgY29uc3Qgc3RhcnRSb3cgPSA2ICsgZWxlbWVudEluZGV4O1xyXG4gICAgY29uc3QgZW5kUm93ID0gNiArIGVsZW1lbnRJbmRleDtcclxuICAgIC8vY29uc3Qgc2hlbGxSYW5nZSA9IGBBbGwgcHJvZmlsZSB0ZXN0aW5nIC0gT2N0IDE4ISR7Y29sdW1ufSR7c3RhcnRSb3d9OiR7Y29sdW1ufSR7ZW5kUm93fWA7XHJcbiAgICBjb25zdCBzaGVsbFJhbmdlID0gYCR7U2hlZXRuYW1lfSEke2NvbHVtbn0ke3N0YXJ0Um93fToke2NvbHVtbn0ke2VuZFJvd31gO1xyXG4gICAgXHJcbiAgICAvLyBJbnNlcnQgaW50byBHU1xyXG4gICAgYXdhaXQgZ2FwaS5pbnNlcnRJbWcyR1MoZ2RGaWxlSWQsIHNoZWxsUmFuZ2UpO1xyXG4gIH1cclxuXHJcblxyXG4gIGFzeW5jIHdhaXRGb3JQYWdlVG9Mb2FkKHRpbWVvdXQgPSAxMDAwMCkge1xyXG5cclxuICAgIGJyb3dzZXIud2FpdFVudGlsKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gYnJvd3Nlci5leGVjdXRlKCgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScmJiBkb2N1bWVudC50aXRsZS50cmltKCkgIT09ICcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwge1xyXG4gICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXHJcbiAgICAgICAgdGltZW91dE1zZzogYFBhZ2Ugbm90IGZ1bGx5IGxvYWRlZCB3aXRoaW4gJHt0aW1lb3V0IC8gMTAwMH0gc2Vjb25kc2AsXHJcbiAgICAgICAgaW50ZXJ2YWw6IDUwMFxyXG4gICAgfSk7XHJc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","map":{"version":3,"names":["Page","require","config","ralphLauren","balmain","balmainprod","urls","users","Homepage","warningCloseicon","$","open","brand","browser","url","Error","warningOverlay","pause","waitForDisplayed","timeout","click","insertTextGS","columnLetter1","columnLetter2","elementIndex","Sheetname","texttoUpload","gapi","process","cwd","path","constructShellRange","column","String","fromCharCode","charCodeAt","startRow","endRow","shellRange","insertText2GS","captureAndUploadImage","dynamicString","sizeText","cuptext","settings","combo","view","user","username","split","now","Date","year","getFullYear","month","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","screenshotName","screenshot","saveElement","gdFileId","uploadFile","join","fileName","insertImg2GS","waitForPageToLoad","waitUntil","execute","document","readyState","title","trim","timeoutMsg","interval","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["home_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\nconst config = require(\"../data/config\");\r\nconst { ralphLauren, balmain, balmainprod } = config.urls;\r\nconst users = config.users;\r\n\r\nclass Homepage extends Page {\r\n   // ========= Selectors =========\r\n   get warningCloseicon(){\r\n       return $('//button[@class=\"close\"]'); \r\n   }    \r\n\r\n   // ========== Methods ==========\r\n   open(brand) {\r\n    if (brand === 'ralphLauren') {\r\n        return browser.url(ralphLauren);     \r\n    } else if (brand === 'balmain') {\r\n        return browser.url(balmain);\r\n    } else if (brand === 'balmainprod') {\r\n      return browser.url(balmainprod);\r\n    }else {\r\n        throw new Error('Invalid brand provided');\r\n    }\r\n    }\r\n\r\n   async warningOverlay() {\r\n   await browser.pause(1000);\r\n   const warningCloseicon = await this.warningCloseicon;\r\n   await warningCloseicon.waitForDisplayed({ timeout: 5000 });   \r\n   await browser.pause(1000); \r\n   await this.warningCloseicon.click();\r\n   }\r\n\r\n   async  insertTextGS(columnLetter1, columnLetter2, elementIndex,Sheetname, texttoUpload) {\r\n   const gapi = require(process.cwd() + \"/utils/lib/gapi\");\r\n   const path = require(\"path\");\r\n\r\n    // Construct the shell range dynamically based on the index\r\n    function constructShellRange(elementIndex) {\r\n      // Construct the shell range dynamically\r\n    let column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0));\r\n    if (`${columnLetter2}`) {\r\n    column += String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\r\n    }\r\n    const startRow = 6 + elementIndex;\r\n    const endRow = 6 + elementIndex;\r\n    const shellRange = `${Sheetname}!${column}${startRow}:${column}${endRow}`;\r\n\r\n    return shellRange;\r\n    }\r\n\r\n    // Construct the shell range dynamically based on the index\r\n    const shellRange = constructShellRange(elementIndex);\r\n\r\n    // Insert into GS using the constructed shell range\r\n    await gapi.insertText2GS(texttoUpload, shellRange);\r\n}\r\n\r\n    async captureAndUploadImage(columnLetter1,columnLetter2, elementIndex, dynamicString,sizeText,cuptext,settings,combo,view,Sheetname,user) {\r\n    const gapi = require(process.cwd() + \"/utils/lib/gapi\");\r\n    const path = require(\"path\");\r\n    const username = user.username.split('@')[0];\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\r\n    const day = String(now.getDate()).padStart(2, \"0\");\r\n    const hours = String(now.getHours()).padStart(2, \"0\");\r\n    const minutes = String(now.getMinutes()).padStart(2, \"0\");\r\n    const screenshotName = `${username}${dynamicString}_${sizeText}_${cuptext}_${settings}${combo}${view}${year}${month}${day}-${hours}${minutes}`;\r\n    const screenshot = await browser.saveElement(\r\n      await $(\"(//div[@id='bods-app']//div[contains(@class,bods__avatar)])[1]\"),\r\n      screenshotName\r\n    );\r\n  \r\n    // Upload file to GD\r\n    const gdFileId = await gapi.uploadFile(\r\n      path.join(screenshot.path, screenshot.fileName),\r\n    );\r\n    \r\n    // Construct the shell range dynamically\r\n    let column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0));\r\n    if (`${columnLetter2}`) {\r\n    column += String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\r\n    }\r\n    //const column = String.fromCharCode(`${columnLetter1}`.charCodeAt(0)) + String.fromCharCode(`${columnLetter2}`.charCodeAt(0));\r\n    const startRow = 6 + elementIndex;\r\n    const endRow = 6 + elementIndex;\r\n    //const shellRange = `All profile testing - Oct 18!${column}${startRow}:${column}${endRow}`;\r\n    const shellRange = `${Sheetname}!${column}${startRow}:${column}${endRow}`;\r\n    \r\n    // Insert into GS\r\n    await gapi.insertImg2GS(gdFileId, shellRange);\r\n  }\r\n\r\n\r\n  async waitForPageToLoad(timeout = 10000) {\r\n\r\n    browser.waitUntil(() => {\r\n        return browser.execute(() => {\r\n            return document.readyState === 'complete'&& document.title.trim() !== '';\r\n        });\r\n    }, {\r\n        timeout: timeout,\r\n        timeoutMsg: `Page not fully loaded within ${timeout / 1000} seconds`,\r\n        interval: 500\r\n    });\r\n}\r\n} \r\n\r\nmodule.exports = new Homepage();"],"mappings":"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"}},"mtime":1704396784075},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"/**\r\n * main page object containing all methods, selectors and functionality\r\n * that is shared across all page objects\r\n */\n\nmodule.exports = class Page {\n  // ========= Constances =========\n  // ==============================\n  // ========= Common Selectors =========\n  get loadingelement() {\n    return $('//div[@class=\"loading-label\"]');\n  }\n  // ========== Common Methods ==========\n  async waitForLoadingToDisappear() {\n    const loadingElement = await this.loadingelement;\n    const startTime = Date.now();\n    const timeout = 5000; // 5 seconds\n\n    while (Date.now() - startTime < timeout) {\n      const isDisplayed = await loadingElement.isDisplayed();\n      if (!isDisplayed) {\n        return; // Loading element has disappeared\n      }\n\n      await new Promise(resolve => setTimeout(resolve, 200)); // Wait for 200 milliseconds before checking again\n    }\n\n    throw new Error('Loading element did not disappear within 5 seconds.');\n  }\n  async verifyURLContainsText(text) {\n    const currentUrl = await browser.getUrl();\n    if (currentUrl.includes(text)) {\n      console.log(`URL contains \"${text}\"`);\n    } else {\n      console.log(`URL does not contain \"${text}\"`);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUGFnZSIsImxvYWRpbmdlbGVtZW50IiwiJCIsIndhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIiLCJsb2FkaW5nRWxlbWVudCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJ0aW1lb3V0IiwiaXNEaXNwbGF5ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJFcnJvciIsInZlcmlmeVVSTENvbnRhaW5zVGV4dCIsInRleHQiLCJjdXJyZW50VXJsIiwiYnJvd3NlciIsImdldFVybCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcYm9kcy1mdW5jdGlvbmFsLXRlc3RzXFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHBhZ2VvYmplY3RzXFwiLCJzb3VyY2VzIjpbInBhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIG1haW4gcGFnZSBvYmplY3QgY29udGFpbmluZyBhbGwgbWV0aG9kcywgc2VsZWN0b3JzIGFuZCBmdW5jdGlvbmFsaXR5XHJcbiAqIHRoYXQgaXMgc2hhcmVkIGFjcm9zcyBhbGwgcGFnZSBvYmplY3RzXHJcbiAqL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBQYWdlIHtcclxuICAvLyA9PT09PT09PT0gQ29uc3RhbmNlcyA9PT09PT09PT1cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyA9PT09PT09PT0gQ29tbW9uIFNlbGVjdG9ycyA9PT09PT09PT1cclxuICBnZXQgbG9hZGluZ2VsZW1lbnQoKXtcclxuICAgIHJldHVybiAkKCcvL2RpdltAY2xhc3M9XCJsb2FkaW5nLWxhYmVsXCJdJyk7XHJcbiAgfVxyXG4gIC8vID09PT09PT09PT0gQ29tbW9uIE1ldGhvZHMgPT09PT09PT09PVxyXG4gIGFzeW5jIHdhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIoKSB7XHJcbiAgICBjb25zdCBsb2FkaW5nRWxlbWVudCA9IGF3YWl0IHRoaXMubG9hZGluZ2VsZW1lbnQ7IFxyXG5cclxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gNTAwMDsgLy8gNSBzZWNvbmRzXHJcblxyXG4gICAgd2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCB0aW1lb3V0KSB7XHJcbiAgICAgIGNvbnN0IGlzRGlzcGxheWVkID0gYXdhaXQgbG9hZGluZ0VsZW1lbnQuaXNEaXNwbGF5ZWQoKTtcclxuICAgICAgaWYgKCFpc0Rpc3BsYXllZCkge1xyXG4gICAgICAgICAgcmV0dXJuOyAvLyBMb2FkaW5nIGVsZW1lbnQgaGFzIGRpc2FwcGVhcmVkXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMCkpOyAvLyBXYWl0IGZvciAyMDAgbWlsbGlzZWNvbmRzIGJlZm9yZSBjaGVja2luZyBhZ2FpblxyXG4gICAgfVxyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcignTG9hZGluZyBlbGVtZW50IGRpZCBub3QgZGlzYXBwZWFyIHdpdGhpbiA1IHNlY29uZHMuJyk7XHJcbn1cclxuXHJcbmFzeW5jIHZlcmlmeVVSTENvbnRhaW5zVGV4dCh0ZXh0KSB7XHJcbiAgY29uc3QgY3VycmVudFVybCA9IGF3YWl0IGJyb3dzZXIuZ2V0VXJsKCk7XHJcbiAgXHJcbiAgaWYgKGN1cnJlbnRVcmwuaW5jbHVkZXModGV4dCkpIHtcclxuICAgIGNvbnNvbGUubG9nKGBVUkwgY29udGFpbnMgXCIke3RleHR9XCJgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coYFVSTCBkb2VzIG5vdCBjb250YWluIFwiJHt0ZXh0fVwiYCk7XHJcbiAgfVxyXG59XHJcblxyXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLE1BQU1DLElBQUksQ0FBQztFQUMxQjtFQUNBO0VBQ0E7RUFDQSxJQUFJQyxjQUFjQSxDQUFBLEVBQUU7SUFDbEIsT0FBT0MsQ0FBQyxDQUFDLCtCQUErQixDQUFDO0VBQzNDO0VBQ0E7RUFDQSxNQUFNQyx5QkFBeUJBLENBQUEsRUFBRztJQUNoQyxNQUFNQyxjQUFjLEdBQUcsTUFBTSxJQUFJLENBQUNILGNBQWM7SUFFaEQsTUFBTUksU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLE1BQU1DLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQzs7SUFFdEIsT0FBT0YsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHRixTQUFTLEdBQUdHLE9BQU8sRUFBRTtNQUN2QyxNQUFNQyxXQUFXLEdBQUcsTUFBTUwsY0FBYyxDQUFDSyxXQUFXLENBQUMsQ0FBQztNQUN0RCxJQUFJLENBQUNBLFdBQVcsRUFBRTtRQUNkLE9BQU8sQ0FBQztNQUNaOztNQUVFLE1BQU0sSUFBSUMsT0FBTyxDQUFDQyxPQUFPLElBQUlDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RDs7SUFFQSxNQUFNLElBQUlFLEtBQUssQ0FBQyxxREFBcUQsQ0FBQztFQUMxRTtFQUVBLE1BQU1DLHFCQUFxQkEsQ0FBQ0MsSUFBSSxFQUFFO0lBQ2hDLE1BQU1DLFVBQVUsR0FBRyxNQUFNQyxPQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0lBRXpDLElBQUlGLFVBQVUsQ0FBQ0csUUFBUSxDQUFDSixJQUFJLENBQUMsRUFBRTtNQUM3QkssT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCTixJQUFLLEdBQUUsQ0FBQztJQUN2QyxDQUFDLE1BQU07TUFDTEssT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCTixJQUFLLEdBQUUsQ0FBQztJQUMvQztFQUNGO0FBRUEsQ0FBQyJ9","map":{"version":3,"names":["module","exports","Page","loadingelement","$","waitForLoadingToDisappear","loadingElement","startTime","Date","now","timeout","isDisplayed","Promise","resolve","setTimeout","Error","verifyURLContainsText","text","currentUrl","browser","getUrl","includes","console","log"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["page.js"],"sourcesContent":["/**\r\n * main page object containing all methods, selectors and functionality\r\n * that is shared across all page objects\r\n */\r\n\r\nmodule.exports = class Page {\r\n  // ========= Constances =========\r\n  // ==============================\r\n  // ========= Common Selectors =========\r\n  get loadingelement(){\r\n    return $('//div[@class=\"loading-label\"]');\r\n  }\r\n  // ========== Common Methods ==========\r\n  async waitForLoadingToDisappear() {\r\n    const loadingElement = await this.loadingelement; \r\n\r\n    const startTime = Date.now();\r\n    const timeout = 5000; // 5 seconds\r\n\r\n    while (Date.now() - startTime < timeout) {\r\n      const isDisplayed = await loadingElement.isDisplayed();\r\n      if (!isDisplayed) {\r\n          return; // Loading element has disappeared\r\n      }\r\n\r\n        await new Promise(resolve => setTimeout(resolve, 200)); // Wait for 200 milliseconds before checking again\r\n    }\r\n\r\n    throw new Error('Loading element did not disappear within 5 seconds.');\r\n}\r\n\r\nasync verifyURLContainsText(text) {\r\n  const currentUrl = await browser.getUrl();\r\n  \r\n  if (currentUrl.includes(text)) {\r\n    console.log(`URL contains \"${text}\"`);\r\n  } else {\r\n    console.log(`URL does not contain \"${text}\"`);\r\n  }\r\n}\r\n\r\n};"],"mappings":"AAAA;AACA;AACA;AACA;;AAEAA,MAAM,CAACC,OAAO,GAAG,MAAMC,IAAI,CAAC;EAC1B;EACA;EACA;EACA,IAAIC,cAAcA,CAAA,EAAE;IAClB,OAAOC,CAAC,CAAC,+BAA+B,CAAC;EAC3C;EACA;EACA,MAAMC,yBAAyBA,CAAA,EAAG;IAChC,MAAMC,cAAc,GAAG,MAAM,IAAI,CAACH,cAAc;IAEhD,MAAMI,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5B,MAAMC,OAAO,GAAG,IAAI,CAAC,CAAC;;IAEtB,OAAOF,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS,GAAGG,OAAO,EAAE;MACvC,MAAMC,WAAW,GAAG,MAAML,cAAc,CAACK,WAAW,CAAC,CAAC;MACtD,IAAI,CAACA,WAAW,EAAE;QACd,OAAO,CAAC;MACZ;;MAEE,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5D;;IAEA,MAAM,IAAIE,KAAK,CAAC,qDAAqD,CAAC;EAC1E;EAEA,MAAMC,qBAAqBA,CAACC,IAAI,EAAE;IAChC,MAAMC,UAAU,GAAG,MAAMC,OAAO,CAACC,MAAM,CAAC,CAAC;IAEzC,IAAIF,UAAU,CAACG,QAAQ,CAACJ,IAAI,CAAC,EAAE;MAC7BK,OAAO,CAACC,GAAG,CAAE,iBAAgBN,IAAK,GAAE,CAAC;IACvC,CAAC,MAAM;MACLK,OAAO,CAACC,GAAG,CAAE,yBAAwBN,IAAK,GAAE,CAAC;IAC/C;EACF;AAEA,CAAC"}},"mtime":1704396784078},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\product_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nclass Productpage extends Page {\n  // ========= Selectors =========\n  // ***********Ralphlauren **************\n  get polofitmeshElement() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\");\n  }\n\n  //********** Balmain ************************\n  get doubleBreastedJacket() {\n    //return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[1]\");\n    return $(\"(//div[@class='container-fluid']//descendant::div[@class='col-6 col-md-3'])[1]\");\n  }\n  get sportsBra() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[2]\");\n  }\n  get knitSkirt() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[3]\");\n  }\n  get knitDress() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[6]\");\n  }\n  get bikerJacket() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[7]\");\n  }\n  get leggins() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[4]\");\n  }\n  get flareTrousers() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\");\n  }\n\n  //RL Garments\n  get camdenWoolCrepeJacketpolo() {\n    return $(\"//a[contains(text(),'Crepe Jacket (with Polo)')]\");\n  }\n  get camdenWoolCrepeJacket() {\n    return $(\"(//a[contains(text(),'Crepe Jacket')])[2]\");\n  }\n  get pleatedMidiSkirt() {\n    return $(\"//a[contains(text(),'Pleated Midi Skirt')]\");\n  }\n  get straightLegSatinPant() {\n    return $(\"//a[contains(text(),'Leg Satin Pant')]\");\n  }\n  get classicFitMesh() {\n    return $(\"//a[contains(text(),'Classic Fit Mesh')]\");\n  }\n  get cottonCrewneckTee() {\n    return $(\"//a[contains(text(),'Cotton Crewneck Tee')]\");\n  }\n  get thePackableJacket() {\n    return $(\"//a[contains(text(),'Packable Jacket')]\");\n  }\n  get cottonBroadclothDress() {\n    return $(\"//a[contains(text(),'Cotton Broadcloth')]\");\n  }\n  get croppedQuiltedJacket() {\n    return $(\"//a[contains(text(),'Cropped Quilted Jacket')]\");\n  }\n  // ========== Methods ==========\n  // ***********Ralphlauren **************\n  async clickpolofitmesh() {\n    const polofitmesh = await this.polofitmeshElement;\n    await polofitmesh.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await polofitmesh.click();\n  }\n\n  //********** Balmain ************************\n  async clickdoubleBreastedJacket() {\n    const doublejacket = await this.doubleBreastedJacket;\n    await doublejacket.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await doublejacket.click();\n  }\n  async clicksportsBra() {\n    const sportsBraTop = await this.sportsBra;\n    await sportsBraTop.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.pause(1000);\n    await sportsBraTop.click();\n  }\n  async clickKnitSkirt() {\n    const knitSkirtBottom = await this.knitSkirt;\n    await knitSkirtBottom.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await knitSkirtBottom.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'knit Skirt element is not clickable after waiting for 10 seconds'\n    });\n    await knitSkirtBottom.click();\n  }\n  async clickKnitDress() {\n    const knitDressTop = await this.knitDress;\n    await knitDressTop.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await knitDressTop.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'knitDressTop element is not clickable after waiting for 10 seconds'\n    });\n    await knitDressTop.click();\n  }\n  async clickBikerJacket() {\n    const bikerJacketTop = await this.bikerJacket;\n    await bikerJacketTop.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await bikerJacketTop.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'bikerJacketTop element is not clickable after waiting for 10 seconds'\n    });\n    await bikerJacketTop.click();\n  }\n  async clickLeggins() {\n    const LeggingsBottom = await this.leggins;\n    await LeggingsBottom.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await LeggingsBottom.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'Leggins element is not clickable after waiting for 10 seconds'\n    });\n    await LeggingsBottom.click();\n  }\n  async clickFlareTrousers() {\n    const flareTrousersBot = await this.flareTrousers;\n    await flareTrousersBot.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await flareTrousersBot.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'flareTrousers element is not clickable after waiting for 10 seconds'\n    });\n    await flareTrousersBot.click();\n  }\n\n  // RL\n  async clickElement(element) {\n    await element.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await element.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: `${element} element is not clickable after waiting for 10 seconds`\n    });\n    await element.click();\n  }\n  async clickcamdenWoolCrepeJacketpolo() {\n    const jacketPolo = await this.camdenWoolCrepeJacketpolo;\n    await this.clickElement(jacketPolo);\n  }\n  async clickcamdenWoolCrepeJacket() {\n    const jacket = await this.camdenWoolCrepeJacket;\n    await this.clickElement(jacket);\n  }\n  async clickpleatedMidiSkirt() {\n    const skirt = await this.pleatedMidiSkirt;\n    await this.clickElement(skirt);\n  }\n  async clickstraightLegSatinPant() {\n    const straightLegPant = await this.straightLegSatinPant;\n    await this.clickElement(straightLegPant);\n  }\n  async clickclassicFitMesh() {\n    const classicFit = await this.classicFitMesh;\n    await this.clickElement(classicFit);\n  }\n  async clickcottonCrewneckTee() {\n    const CrewneckTee = await this.cottonCrewneckTee;\n    await this.clickElement(CrewneckTee);\n  }\n  async clickthePackableJacket() {\n    const PackableJacket = await this.thePackableJacket;\n    await this.clickElement(PackableJacket);\n  }\n  async clickcottonBroadclothDress() {\n    const clothDress = await this.cottonBroadclothDress;\n    await this.clickElement(clothDress);\n  }\n  async clickcroppedQuiltedJacket() {\n    const QuiltedJacket = await this.croppedQuiltedJacket;\n    await this.clickElement(QuiltedJacket);\n  }\n}\nmodule.exports = new Productpage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsIlByb2R1Y3RwYWdlIiwicG9sb2ZpdG1lc2hFbGVtZW50IiwiJCIsImRvdWJsZUJyZWFzdGVkSmFja2V0Iiwic3BvcnRzQnJhIiwia25pdFNraXJ0Iiwia25pdERyZXNzIiwiYmlrZXJKYWNrZXQiLCJsZWdnaW5zIiwiZmxhcmVUcm91c2VycyIsImNhbWRlbldvb2xDcmVwZUphY2tldHBvbG8iLCJjYW1kZW5Xb29sQ3JlcGVKYWNrZXQiLCJwbGVhdGVkTWlkaVNraXJ0Iiwic3RyYWlnaHRMZWdTYXRpblBhbnQiLCJjbGFzc2ljRml0TWVzaCIsImNvdHRvbkNyZXduZWNrVGVlIiwidGhlUGFja2FibGVKYWNrZXQiLCJjb3R0b25Ccm9hZGNsb3RoRHJlc3MiLCJjcm9wcGVkUXVpbHRlZEphY2tldCIsImNsaWNrcG9sb2ZpdG1lc2giLCJwb2xvZml0bWVzaCIsIndhaXRGb3JEaXNwbGF5ZWQiLCJ0aW1lb3V0IiwiYnJvd3NlciIsInBhdXNlIiwiY2xpY2siLCJjbGlja2RvdWJsZUJyZWFzdGVkSmFja2V0IiwiZG91YmxlamFja2V0IiwiY2xpY2tzcG9ydHNCcmEiLCJzcG9ydHNCcmFUb3AiLCJjbGlja0tuaXRTa2lydCIsImtuaXRTa2lydEJvdHRvbSIsIndhaXRVbnRpbCIsImlzQ2xpY2thYmxlIiwidGltZW91dE1zZyIsImNsaWNrS25pdERyZXNzIiwia25pdERyZXNzVG9wIiwiY2xpY2tCaWtlckphY2tldCIsImJpa2VySmFja2V0VG9wIiwiY2xpY2tMZWdnaW5zIiwiTGVnZ2luZ3NCb3R0b20iLCJjbGlja0ZsYXJlVHJvdXNlcnMiLCJmbGFyZVRyb3VzZXJzQm90IiwiY2xpY2tFbGVtZW50IiwiZWxlbWVudCIsImNsaWNrY2FtZGVuV29vbENyZXBlSmFja2V0cG9sbyIsImphY2tldFBvbG8iLCJjbGlja2NhbWRlbldvb2xDcmVwZUphY2tldCIsImphY2tldCIsImNsaWNrcGxlYXRlZE1pZGlTa2lydCIsInNraXJ0IiwiY2xpY2tzdHJhaWdodExlZ1NhdGluUGFudCIsInN0cmFpZ2h0TGVnUGFudCIsImNsaWNrY2xhc3NpY0ZpdE1lc2giLCJjbGFzc2ljRml0IiwiY2xpY2tjb3R0b25DcmV3bmVja1RlZSIsIkNyZXduZWNrVGVlIiwiY2xpY2t0aGVQYWNrYWJsZUphY2tldCIsIlBhY2thYmxlSmFja2V0IiwiY2xpY2tjb3R0b25Ccm9hZGNsb3RoRHJlc3MiLCJjbG90aERyZXNzIiwiY2xpY2tjcm9wcGVkUXVpbHRlZEphY2tldCIsIlF1aWx0ZWRKYWNrZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccGFnZW9iamVjdHNcXCIsInNvdXJjZXMiOlsicHJvZHVjdF9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhZ2UgPSByZXF1aXJlKFwiLi9wYWdlXCIpO1xyXG5cclxuY2xhc3MgUHJvZHVjdHBhZ2UgZXh0ZW5kcyBQYWdlIHtcclxuICAgIC8vID09PT09PT09PSBTZWxlY3RvcnMgPT09PT09PT09XHJcbiAgICAvLyAqKioqKioqKioqKlJhbHBobGF1cmVuICoqKioqKioqKioqKioqXHJcbiAgICBnZXQgcG9sb2ZpdG1lc2hFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIoLy9kaXZbQGlkPSdob21lJ10vL2Rlc2NlbmRhbnQ6OmRpdltAY2xhc3M9J2NvbC02IGNvbC1sZy00J10pWzVdXCIpO1xyXG4gICAgfSAgICBcclxuICAgIFxyXG4gICAgLy8qKioqKioqKioqIEJhbG1haW4gKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICBnZXQgZG91YmxlQnJlYXN0ZWRKYWNrZXQoKXtcclxuICAgICAgICAvL3JldHVybiAkKFwiKC8vZGl2W0BpZD0naG9tZSddLy9kZXNjZW5kYW50OjpkaXZbQGNsYXNzPSdjb2wtNiBjb2wtbGctNCddKVsxXVwiKTtcclxuICAgICAgICByZXR1cm4gJChcIigvL2RpdltAY2xhc3M9J2NvbnRhaW5lci1mbHVpZCddLy9kZXNjZW5kYW50OjpkaXZbQGNsYXNzPSdjb2wtNiBjb2wtbWQtMyddKVsxXVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3BvcnRzQnJhKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIoLy9kaXZbQGlkPSdob21lJ10vL2Rlc2NlbmRhbnQ6OmRpdltAY2xhc3M9J2NvbC02IGNvbC1sZy00J10pWzJdXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrbml0U2tpcnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIigvL2RpdltAaWQ9J2hvbWUnXS8vZGVzY2VuZGFudDo6ZGl2W0BjbGFzcz0nY29sLTYgY29sLWxnLTQnXSlbM11cIilcclxuICAgIH1cclxuXHJcbiAgICBnZXQga25pdERyZXNzKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIoLy9kaXZbQGlkPSdob21lJ10vL2Rlc2NlbmRhbnQ6OmRpdltAY2xhc3M9J2NvbC02IGNvbC1sZy00J10pWzZdXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBiaWtlckphY2tldCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiKC8vZGl2W0BpZD0naG9tZSddLy9kZXNjZW5kYW50OjpkaXZbQGNsYXNzPSdjb2wtNiBjb2wtbGctNCddKVs3XVwiKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZWdnaW5zKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIoLy9kaXZbQGlkPSdob21lJ10vL2Rlc2NlbmRhbnQ6OmRpdltAY2xhc3M9J2NvbC02IGNvbC1sZy00J10pWzRdXCIpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZsYXJlVHJvdXNlcnMoKXtcclxuICAgICAgICByZXR1cm4gJChcIigvL2RpdltAaWQ9J2hvbWUnXS8vZGVzY2VuZGFudDo6ZGl2W0BjbGFzcz0nY29sLTYgY29sLWxnLTQnXSlbNV1cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vUkwgR2FybWVudHNcclxuICAgIGdldCBjYW1kZW5Xb29sQ3JlcGVKYWNrZXRwb2xvKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2FbY29udGFpbnModGV4dCgpLCdDcmVwZSBKYWNrZXQgKHdpdGggUG9sbyknKV1cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjYW1kZW5Xb29sQ3JlcGVKYWNrZXQoKXtcclxuICAgICAgICByZXR1cm4gJChcIigvL2FbY29udGFpbnModGV4dCgpLCdDcmVwZSBKYWNrZXQnKV0pWzJdXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGxlYXRlZE1pZGlTa2lydCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9hW2NvbnRhaW5zKHRleHQoKSwnUGxlYXRlZCBNaWRpIFNraXJ0JyldXCIpICBcclxuICAgIH0gICAgXHJcblxyXG4gICAgZ2V0IHN0cmFpZ2h0TGVnU2F0aW5QYW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2FbY29udGFpbnModGV4dCgpLCdMZWcgU2F0aW4gUGFudCcpXVwiKSAgXHJcbiAgICB9ICAgICBcclxuXHJcbiAgICBnZXQgY2xhc3NpY0ZpdE1lc2goKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vYVtjb250YWlucyh0ZXh0KCksJ0NsYXNzaWMgRml0IE1lc2gnKV1cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb3R0b25DcmV3bmVja1RlZSgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9hW2NvbnRhaW5zKHRleHQoKSwnQ290dG9uIENyZXduZWNrIFRlZScpXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRoZVBhY2thYmxlSmFja2V0KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2FbY29udGFpbnModGV4dCgpLCdQYWNrYWJsZSBKYWNrZXQnKV1cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb3R0b25Ccm9hZGNsb3RoRHJlc3MoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vYVtjb250YWlucyh0ZXh0KCksJ0NvdHRvbiBCcm9hZGNsb3RoJyldXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JvcHBlZFF1aWx0ZWRKYWNrZXQoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vYVtjb250YWlucyh0ZXh0KCksJ0Nyb3BwZWQgUXVpbHRlZCBKYWNrZXQnKV1cIikgIFxyXG4gICAgfVxyXG4gICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgIC8vICoqKioqKioqKioqUmFscGhsYXVyZW4gKioqKioqKioqKioqKipcclxuICAgIGFzeW5jIGNsaWNrcG9sb2ZpdG1lc2goKSB7XHJcbiAgICAgICAgY29uc3QgcG9sb2ZpdG1lc2ggPSBhd2FpdCB0aGlzLnBvbG9maXRtZXNoRWxlbWVudDtcclxuICAgICAgICBhd2FpdCBwb2xvZml0bWVzaC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNTAwMCB9KTsgICBcclxuICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDApOyBcclxuICAgICAgICBhd2FpdCBwb2xvZml0bWVzaC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vKioqKioqKioqKiBCYWxtYWluICoqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgYXN5bmMgY2xpY2tkb3VibGVCcmVhc3RlZEphY2tldCgpIHtcclxuICAgICAgICBjb25zdCBkb3VibGVqYWNrZXQgPSBhd2FpdCB0aGlzLmRvdWJsZUJyZWFzdGVkSmFja2V0O1xyXG4gICAgICAgIGF3YWl0IGRvdWJsZWphY2tldC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNTAwMCB9KTsgICBcclxuICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDApOyBcclxuICAgICAgICBhd2FpdCBkb3VibGVqYWNrZXQuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja3Nwb3J0c0JyYSgpIHtcclxuICAgICAgICBjb25zdCBzcG9ydHNCcmFUb3AgPSBhd2FpdCB0aGlzLnNwb3J0c0JyYTtcclxuICAgICAgICBhd2FpdCBzcG9ydHNCcmFUb3Aud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDEwMDAwIH0pOyAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7IFxyXG4gICAgICAgIGF3YWl0IHNwb3J0c0JyYVRvcC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNrS25pdFNraXJ0KCkge1xyXG4gICAgICAgIGNvbnN0IGtuaXRTa2lydEJvdHRvbSA9IGF3YWl0IHRoaXMua25pdFNraXJ0O1xyXG4gICAgICAgIGF3YWl0IGtuaXRTa2lydEJvdHRvbS53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IGtuaXRTa2lydEJvdHRvbS5pc0NsaWNrYWJsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNDbGlja2FibGU7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcclxuICAgICAgICAgICAgdGltZW91dE1zZzogJ2tuaXQgU2tpcnQgZWxlbWVudCBpcyBub3QgY2xpY2thYmxlIGFmdGVyIHdhaXRpbmcgZm9yIDEwIHNlY29uZHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICBhd2FpdCBrbml0U2tpcnRCb3R0b20uY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja0tuaXREcmVzcygpIHtcclxuICAgICAgICBjb25zdCBrbml0RHJlc3NUb3AgPSBhd2FpdCB0aGlzLmtuaXREcmVzcztcclxuICAgICAgICBhd2FpdCBrbml0RHJlc3NUb3Aud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBrbml0RHJlc3NUb3AuaXNDbGlja2FibGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGlzQ2xpY2thYmxlO1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgICAgIHRpbWVvdXRNc2c6ICdrbml0RHJlc3NUb3AgZWxlbWVudCBpcyBub3QgY2xpY2thYmxlIGFmdGVyIHdhaXRpbmcgZm9yIDEwIHNlY29uZHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICBhd2FpdCBrbml0RHJlc3NUb3AuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja0Jpa2VySmFja2V0KCkge1xyXG4gICAgICAgIGNvbnN0IGJpa2VySmFja2V0VG9wID0gYXdhaXQgdGhpcy5iaWtlckphY2tldDtcclxuICAgICAgICBhd2FpdCBiaWtlckphY2tldFRvcC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IGJpa2VySmFja2V0VG9wLmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiAnYmlrZXJKYWNrZXRUb3AgZWxlbWVudCBpcyBub3QgY2xpY2thYmxlIGFmdGVyIHdhaXRpbmcgZm9yIDEwIHNlY29uZHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICBhd2FpdCBiaWtlckphY2tldFRvcC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNrTGVnZ2lucygpIHtcclxuICAgICAgICBjb25zdCBMZWdnaW5nc0JvdHRvbSA9IGF3YWl0IHRoaXMubGVnZ2lucztcclxuICAgICAgICBhd2FpdCBMZWdnaW5nc0JvdHRvbS53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IExlZ2dpbmdzQm90dG9tLmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiAnTGVnZ2lucyBlbGVtZW50IGlzIG5vdCBjbGlja2FibGUgYWZ0ZXIgd2FpdGluZyBmb3IgMTAgc2Vjb25kcydcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGF3YWl0IExlZ2dpbmdzQm90dG9tLmNsaWNrKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGNsaWNrRmxhcmVUcm91c2VycygpIHtcclxuICAgICAgICBjb25zdCBmbGFyZVRyb3VzZXJzQm90ID0gYXdhaXQgdGhpcy5mbGFyZVRyb3VzZXJzO1xyXG4gICAgICAgIGF3YWl0IGZsYXJlVHJvdXNlcnNCb3Qud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBmbGFyZVRyb3VzZXJzQm90LmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiAnZmxhcmVUcm91c2VycyBlbGVtZW50IGlzIG5vdCBjbGlja2FibGUgYWZ0ZXIgd2FpdGluZyBmb3IgMTAgc2Vjb25kcydcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGF3YWl0IGZsYXJlVHJvdXNlcnNCb3QuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSTFxyXG4gICAgYXN5bmMgY2xpY2tFbGVtZW50KGVsZW1lbnQpIHtcclxuICAgICAgICBhd2FpdCBlbGVtZW50LndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiAxMDAwMCB9KTtcclxuICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBlbGVtZW50LmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiBgJHtlbGVtZW50fSBlbGVtZW50IGlzIG5vdCBjbGlja2FibGUgYWZ0ZXIgd2FpdGluZyBmb3IgMTAgc2Vjb25kc2BcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGF3YWl0IGVsZW1lbnQuY2xpY2soKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgIGNsaWNrY2FtZGVuV29vbENyZXBlSmFja2V0cG9sbygpIHtcclxuICAgICAgICBjb25zdCBqYWNrZXRQb2xvID0gYXdhaXQgdGhpcy5jYW1kZW5Xb29sQ3JlcGVKYWNrZXRwb2xvO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGphY2tldFBvbG8pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja2NhbWRlbldvb2xDcmVwZUphY2tldCgpIHtcclxuICAgICAgICBjb25zdCBqYWNrZXQgPSBhd2FpdCB0aGlzLmNhbWRlbldvb2xDcmVwZUphY2tldDtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChqYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja3BsZWF0ZWRNaWRpU2tpcnQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2tpcnQgPSBhd2FpdCB0aGlzLnBsZWF0ZWRNaWRpU2tpcnQ7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoc2tpcnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja3N0cmFpZ2h0TGVnU2F0aW5QYW50KCkge1xyXG4gICAgICAgIGNvbnN0IHN0cmFpZ2h0TGVnUGFudCA9IGF3YWl0IHRoaXMuc3RyYWlnaHRMZWdTYXRpblBhbnQ7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoc3RyYWlnaHRMZWdQYW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY2xpY2tjbGFzc2ljRml0TWVzaCgpIHtcclxuICAgICAgICBjb25zdCBjbGFzc2ljRml0ID0gYXdhaXQgdGhpcy5jbGFzc2ljRml0TWVzaDtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChjbGFzc2ljRml0KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY2xpY2tjb3R0b25DcmV3bmVja1RlZSgpIHtcclxuICAgICAgICBjb25zdCBDcmV3bmVja1RlZSA9IGF3YWl0IHRoaXMuY290dG9uQ3Jld25lY2tUZWU7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoQ3Jld25lY2tUZWUpO1xyXG4gICAgfSBcclxuICAgIFxyXG4gICAgYXN5bmMgIGNsaWNrdGhlUGFja2FibGVKYWNrZXQoKSB7XHJcbiAgICAgICAgY29uc3QgUGFja2FibGVKYWNrZXQgPSBhd2FpdCB0aGlzLnRoZVBhY2thYmxlSmFja2V0O1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KFBhY2thYmxlSmFja2V0KTtcclxuICAgIH0gXHJcblxyXG4gICAgYXN5bmMgIGNsaWNrY290dG9uQnJvYWRjbG90aERyZXNzKCkge1xyXG4gICAgICAgIGNvbnN0IGNsb3RoRHJlc3MgPSBhd2FpdCB0aGlzLmNvdHRvbkJyb2FkY2xvdGhEcmVzcztcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChjbG90aERyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY2xpY2tjcm9wcGVkUXVpbHRlZEphY2tldCgpIHtcclxuICAgICAgICBjb25zdCBRdWlsdGVkSmFja2V0ID0gYXdhaXQgdGhpcy5jcm9wcGVkUXVpbHRlZEphY2tldDtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChRdWlsdGVkSmFja2V0KTtcclxuICAgIH1cclxuIH0gXHJcbiBcclxuIG1vZHVsZS5leHBvcnRzID0gbmV3IFByb2R1Y3RwYWdlKCk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFOUIsTUFBTUMsV0FBVyxTQUFTRixJQUFJLENBQUM7RUFDM0I7RUFDQTtFQUNBLElBQUlHLGtCQUFrQkEsQ0FBQSxFQUFFO0lBQ3BCLE9BQU9DLENBQUMsQ0FBQyxrRUFBa0UsQ0FBQztFQUNoRjs7RUFFQTtFQUNBLElBQUlDLG9CQUFvQkEsQ0FBQSxFQUFFO0lBQ3RCO0lBQ0EsT0FBT0QsQ0FBQyxDQUFDLGdGQUFnRixDQUFDO0VBQzlGO0VBRUEsSUFBSUUsU0FBU0EsQ0FBQSxFQUFFO0lBQ1gsT0FBT0YsQ0FBQyxDQUFDLGtFQUFrRSxDQUFDO0VBQ2hGO0VBRUEsSUFBSUcsU0FBU0EsQ0FBQSxFQUFFO0lBQ1gsT0FBT0gsQ0FBQyxDQUFDLGtFQUFrRSxDQUFDO0VBQ2hGO0VBRUEsSUFBSUksU0FBU0EsQ0FBQSxFQUFFO0lBQ1gsT0FBT0osQ0FBQyxDQUFDLGtF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","map":{"version":3,"names":["Page","require","Productpage","polofitmeshElement","$","doubleBreastedJacket","sportsBra","knitSkirt","knitDress","bikerJacket","leggins","flareTrousers","camdenWoolCrepeJacketpolo","camdenWoolCrepeJacket","pleatedMidiSkirt","straightLegSatinPant","classicFitMesh","cottonCrewneckTee","thePackableJacket","cottonBroadclothDress","croppedQuiltedJacket","clickpolofitmesh","polofitmesh","waitForDisplayed","timeout","browser","pause","click","clickdoubleBreastedJacket","doublejacket","clicksportsBra","sportsBraTop","clickKnitSkirt","knitSkirtBottom","waitUntil","isClickable","timeoutMsg","clickKnitDress","knitDressTop","clickBikerJacket","bikerJacketTop","clickLeggins","LeggingsBottom","clickFlareTrousers","flareTrousersBot","clickElement","element","clickcamdenWoolCrepeJacketpolo","jacketPolo","clickcamdenWoolCrepeJacket","jacket","clickpleatedMidiSkirt","skirt","clickstraightLegSatinPant","straightLegPant","clickclassicFitMesh","classicFit","clickcottonCrewneckTee","CrewneckTee","clickthePackableJacket","PackableJacket","clickcottonBroadclothDress","clothDress","clickcroppedQuiltedJacket","QuiltedJacket","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["product_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\n\r\nclass Productpage extends Page {\r\n    // ========= Selectors =========\r\n    // ***********Ralphlauren **************\r\n    get polofitmeshElement(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\");\r\n    }    \r\n    \r\n    //********** Balmain ************************\r\n    get doubleBreastedJacket(){\r\n        //return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[1]\");\r\n        return $(\"(//div[@class='container-fluid']//descendant::div[@class='col-6 col-md-3'])[1]\");\r\n    }\r\n\r\n    get sportsBra(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[2]\");\r\n    }\r\n\r\n    get knitSkirt(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[3]\")\r\n    }\r\n\r\n    get knitDress(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[6]\");\r\n    }\r\n\r\n    get bikerJacket(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[7]\")\r\n    }\r\n\r\n    get leggins(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[4]\")\r\n    }\r\n\r\n    get flareTrousers(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\")  \r\n    }\r\n\r\n    //RL Garments\r\n    get camdenWoolCrepeJacketpolo(){\r\n        return $(\"//a[contains(text(),'Crepe Jacket (with Polo)')]\")  \r\n    }\r\n\r\n    get camdenWoolCrepeJacket(){\r\n        return $(\"(//a[contains(text(),'Crepe Jacket')])[2]\")  \r\n    }\r\n\r\n    get pleatedMidiSkirt(){\r\n        return $(\"//a[contains(text(),'Pleated Midi Skirt')]\")  \r\n    }    \r\n\r\n    get straightLegSatinPant(){\r\n        return $(\"//a[contains(text(),'Leg Satin Pant')]\")  \r\n    }     \r\n\r\n    get classicFitMesh(){\r\n        return $(\"//a[contains(text(),'Classic Fit Mesh')]\")  \r\n    }\r\n\r\n    get cottonCrewneckTee(){\r\n        return $(\"//a[contains(text(),'Cotton Crewneck Tee')]\")  \r\n    }\r\n\r\n    get thePackableJacket(){\r\n        return $(\"//a[contains(text(),'Packable Jacket')]\")  \r\n    }\r\n\r\n    get cottonBroadclothDress(){\r\n        return $(\"//a[contains(text(),'Cotton Broadcloth')]\")  \r\n    }\r\n\r\n    get croppedQuiltedJacket(){\r\n        return $(\"//a[contains(text(),'Cropped Quilted Jacket')]\")  \r\n    }\r\n    // ========== Methods ==========\r\n    // ***********Ralphlauren **************\r\n    async clickpolofitmesh() {\r\n        const polofitmesh = await this.polofitmeshElement;\r\n        await polofitmesh.waitForDisplayed({ timeout: 5000 });   \r\n        await browser.pause(1000); \r\n        await polofitmesh.click();\r\n    }\r\n\r\n    //********** Balmain ************************\r\n    async clickdoubleBreastedJacket() {\r\n        const doublejacket = await this.doubleBreastedJacket;\r\n        await doublejacket.waitForDisplayed({ timeout: 5000 });   \r\n        await browser.pause(1000); \r\n        await doublejacket.click();\r\n    }\r\n\r\n    async clicksportsBra() {\r\n        const sportsBraTop = await this.sportsBra;\r\n        await sportsBraTop.waitForDisplayed({ timeout: 10000 });   \r\n        await browser.pause(1000); \r\n        await sportsBraTop.click();\r\n    }\r\n\r\n    async clickKnitSkirt() {\r\n        const knitSkirtBottom = await this.knitSkirt;\r\n        await knitSkirtBottom.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await knitSkirtBottom.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'knit Skirt element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await knitSkirtBottom.click();\r\n    }\r\n\r\n    async clickKnitDress() {\r\n        const knitDressTop = await this.knitDress;\r\n        await knitDressTop.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await knitDressTop.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'knitDressTop element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await knitDressTop.click();\r\n    }\r\n\r\n    async clickBikerJacket() {\r\n        const bikerJacketTop = await this.bikerJacket;\r\n        await bikerJacketTop.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await bikerJacketTop.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'bikerJacketTop element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await bikerJacketTop.click();\r\n    }\r\n\r\n    async clickLeggins() {\r\n        const LeggingsBottom = await this.leggins;\r\n        await LeggingsBottom.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await LeggingsBottom.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'Leggins element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await LeggingsBottom.click();\r\n    }\r\n    \r\n    async clickFlareTrousers() {\r\n        const flareTrousersBot = await this.flareTrousers;\r\n        await flareTrousersBot.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await flareTrousersBot.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'flareTrousers element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await flareTrousersBot.click();\r\n    }\r\n\r\n    // RL\r\n    async clickElement(element) {\r\n        await element.waitForDisplayed({ timeout: 10000 });\r\n    \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await element.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: `${element} element is not clickable after waiting for 10 seconds`\r\n        });\r\n    \r\n        await element.click();\r\n    }\r\n    \r\n    async  clickcamdenWoolCrepeJacketpolo() {\r\n        const jacketPolo = await this.camdenWoolCrepeJacketpolo;\r\n        await this.clickElement(jacketPolo);\r\n    }\r\n\r\n    async  clickcamdenWoolCrepeJacket() {\r\n        const jacket = await this.camdenWoolCrepeJacket;\r\n        await this.clickElement(jacket);\r\n    }\r\n\r\n    async  clickpleatedMidiSkirt() {\r\n        const skirt = await this.pleatedMidiSkirt;\r\n        await this.clickElement(skirt);\r\n    }\r\n\r\n    async  clickstraightLegSatinPant() {\r\n        const straightLegPant = await this.straightLegSatinPant;\r\n        await this.clickElement(straightLegPant);\r\n    }\r\n\r\n    async  clickclassicFitMesh() {\r\n        const classicFit = await this.classicFitMesh;\r\n        await this.clickElement(classicFit);\r\n    }\r\n\r\n    async  clickcottonCrewneckTee() {\r\n        const CrewneckTee = await this.cottonCrewneckTee;\r\n        await this.clickElement(CrewneckTee);\r\n    } \r\n    \r\n    async  clickthePackableJacket() {\r\n        const PackableJacket = await this.thePackableJacket;\r\n        await this.clickElement(PackableJacket);\r\n    } \r\n\r\n    async  clickcottonBroadclothDress() {\r\n        const clothDress = await this.cottonBroadclothDress;\r\n        await this.clickElement(clothDress);\r\n    }\r\n\r\n    async  clickcroppedQuiltedJacket() {\r\n        const QuiltedJacket = await this.croppedQuiltedJacket;\r\n        await this.clickElement(QuiltedJacket);\r\n    }\r\n } \r\n \r\n module.exports = new Productpage();"],"mappings":"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"}},"mtime":1704396784079},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\avatar_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nconst config = require(\"../data/config\");\nclass avatarpage extends Page {\n  // ========= Selectors =========\n  get bods3DButtonElement() {\n    //return $('//a[@class=\"btn.btn-lg.btn-dark\"][text()=\"BODS 3D Fitting\"]');\n    //return $('.btn.btn-lg.btn-dark');\n    return $(\"//a[contains(@class,'bods-cta btn btn-sm btn-dark')]\");\n  }\n  get loginElement() {\n    return $('//a[text()=\"Log in\"]');\n  }\n  get emailelement() {\n    return $('#filled-hidden-label-small');\n  }\n  get passwordelement() {\n    //return $('//div[contains(@class,\"adornedEnd MuiInputBase-hiddenLabel css-k72cy0\")]');\n    return $('//*[@type=\"password\"]');\n  }\n  get signinelement() {\n    //return $('.bods__card__cta');\n    return $('//*[@id=\"bods-app\"]//descendant::button[contains(@class,\"bods__button bods__button\")]');\n  }\n  get loadingelement() {\n    return $('//div[@class=\"loading-label\"]');\n  }\n  get avatarelement() {\n    return $('.bods__avatar video');\n  }\n  get fitmapelement() {\n    return $(\"//div[contains(@class,'bods__fitmap')]//div\");\n  }\n  get myprofileelelment() {\n    return $(\"//*[contains(@class,'bods__profile')]\");\n  }\n  get cupsizeelement() {\n    //return $('//p[text()=\"Cup Size\"]');\n    let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";\n    return $(cupsizeele);\n  }\n  get bodsOverlay() {\n    return $('(//div[@id=\"bods-app\"]//descendant::div)[2]');\n  }\n  get recenterElement() {\n    // return $('//*[@id=\"bods-app\"]/div/div[1]/div[2]/div[1]');\n    return $('//*[@id=\"bods-app\"]/div/div[1]/div[3]/div[1]/div');\n  }\n\n  // ========== Methods ==========\n  async clickWithRetry(elementGetter, retryCount = 5, delay = 1000) {\n    for (let retry = 0; retry < retryCount; retry++) {\n      try {\n        const element = await elementGetter();\n        const overlay = await this.bodsOverlay;\n        await browser.pause(3000);\n        await element.waitForDisplayed({\n          timeout: 30000\n        });\n        await element.waitForClickable({\n          timeout: 30000\n        });\n        await browser.pause(3000);\n        await element.click();\n        await browser.waitUntil(async () => await overlay.isDisplayed(), {\n          timeout: 10000\n        });\n        console.log('Clicked successfully');\n        return; // Exit the loop if click is successful\n      } catch (error) {\n        console.error(`Attempt ${retry + 1} failed: ${error.message}`);\n        await browser.pause(delay); // Wait before retrying\n      }\n    }\n\n    throw new Error(`Failed to click element after ${retryCount} attempts`);\n  }\n  async clickbods3DWithRetry() {\n    await this.clickWithRetry(() => this.bods3DButtonElement);\n  }\n  async clickbods3D() {\n    await this.clickbods3DWithRetry();\n  }\n\n  /*async clickLoginlink(){\r\n      // On Classic Fit Mesh Polo Shirt Bods- will land on login Page\r\n      const loginLink = await this.loginElement;\r\n      await browser.pause(3000);\r\n      await loginLink.waitForDisplayed();\r\n      await loginLink.click();\r\n  }  */\n\n  async clickLoginlink() {\n    const loginLink = await this.loginElement;\n    await loginLink.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await loginLink.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'loginLink element is not clickable after waiting for 10 seconds'\n    });\n    await loginLink.click();\n  }\n  async login() {\n    const inputmail = await this.emailelement;\n    await inputmail.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputmail.setValue(\"test010@bods.me\");\n    const inputPassword = await this.passwordelement;\n    await inputPassword.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputPassword.click();\n    await inputPassword.setValue(\"123456\");\n    await this.signinelement.click();\n    const element = await this.loadingelement;\n    // Set a custom timeout (in milliseconds)\n    const customTimeout = 20000;\n\n    // Wait for the element to not exist in the DOM within the specified timeout\n    const elementExists = await element.waitForExist({\n      timeout: customTimeout,\n      reverse: true\n    });\n  }\n  async multiplelogin(username, password) {\n    const inputmail = await this.emailelement;\n    await inputmail.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputmail.setValue(username);\n    const inputPassword = await this.passwordelement;\n    await inputPassword.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputPassword.click();\n    await inputPassword.setValue(password);\n    await this.signinelement.click();\n    const element = await this.loadingelement;\n    // Set a custom timeout (in milliseconds)\n    const customTimeout = 20000;\n\n    // Wait for the element to not exist in the DOM within the specified timeout\n    const elementExists = await element.waitForExist({\n      timeout: customTimeout,\n      reverse: true\n    });\n  }\n  async avatardisplayed() {\n    // On Classic Fit Mesh Polo Shirt Bods- 3D Interface\n    const avatar = await this.avatarelement;\n    await browser.waitUntil(async () => await avatar.isDisplayed(), {\n      timeout: 120000\n    });\n    await browser.pause(10000); // Spinner not displayed\n  }\n\n  async clickfitmap() {\n    const fitmap = await this.fitmapelement;\n    await browser.waitUntil(async () => await fitmap.isDisplayed(), {\n      timeout: 60000\n    });\n    await fitmap.click();\n    const avatar = await this.avatardisplayed();\n  }\n  async backview() {\n    await browser.execute(() => {\n      const connection = window.bods.devTools._pixelStreamingConnections[0];\n      connection.sendBodsCommand({\n        getVersion: () => 0,\n        getName: () => \"AnimateToVantageCommand\",\n        VantageName: \"Back\"\n      });\n    });\n  }\n  async clickrecenter() {\n    const recenter = await this.recenterElement;\n    await recenter.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await recenter.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'recenter element is not clickable after waiting for 10 seconds'\n    });\n    await recenter.click();\n  }\n}\nmodule.exports = new avatarpage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsImNvbmZpZyIsImF2YXRhcnBhZ2UiLCJib2RzM0RCdXR0b25FbGVtZW50IiwiJCIsImxvZ2luRWxlbWVudCIsImVtYWlsZWxlbWVudCIsInBhc3N3b3JkZWxlbWVudCIsInNpZ25pbmVsZW1lbnQiLCJsb2FkaW5nZWxlbWVudCIsImF2YXRhcmVsZW1lbnQiLCJmaXRtYXBlbGVtZW50IiwibXlwcm9maWxlZWxlbG1lbnQiLCJjdXBzaXplZWxlbWVudCIsImN1cHNpemVlbGUiLCJib2RzT3ZlcmxheSIsInJlY2VudGVyRWxlbWVudCIsImNsaWNrV2l0aFJldHJ5IiwiZWxlbWVudEdldHRlciIsInJldHJ5Q291bnQiLCJkZWxheSIsInJldHJ5IiwiZWxlbWVudCIsIm92ZXJsYXkiLCJicm93c2VyIiwicGF1c2UiLCJ3YWl0Rm9yRGlzcGxheWVkIiwidGltZW91dCIsIndhaXRGb3JDbGlja2FibGUiLCJjbGljayIsIndhaXRVbnRpbCIsImlzRGlzcGxheWVkIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSIsIkVycm9yIiwiY2xpY2tib2RzM0RXaXRoUmV0cnkiLCJjbGlja2JvZHMzRCIsImNsaWNrTG9naW5saW5rIiwibG9naW5MaW5rIiwiaXNDbGlja2FibGUiLCJ0aW1lb3V0TXNnIiwibG9naW4iLCJpbnB1dG1haWwiLCJzZXRWYWx1ZSIsImlucHV0UGFzc3dvcmQiLCJjdXN0b21UaW1lb3V0IiwiZWxlbWVudEV4aXN0cyIsIndhaXRGb3JFeGlzdCIsInJldmVyc2UiLCJtdWx0aXBsZWxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImF2YXRhcmRpc3BsYXllZCIsImF2YXRhciIsImNsaWNrZml0bWFwIiwiZml0bWFwIiwiYmFja3ZpZXciLCJleGVjdXRlIiwiY29ubmVjdGlvbiIsIndpbmRvdyIsImJvZHMiLCJkZXZUb29scyIsIl9waXhlbFN0cmVhbWluZ0Nvbm5lY3Rpb25zIiwic2VuZEJvZHNDb21tYW5kIiwiZ2V0VmVyc2lvbiIsImdldE5hbWUiLCJWYW50YWdlTmFtZSIsImNsaWNrcmVjZW50ZXIiLCJyZWNlbnRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXHRlc3RcXHNwZWNzXFxib2RzLXVzXFxib2RzXFxwYWdlb2JqZWN0c1xcIiwic291cmNlcyI6WyJhdmF0YXJfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQYWdlID0gcmVxdWlyZShcIi4vcGFnZVwiKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2RhdGEvY29uZmlnXCIpO1xyXG5cclxuY2xhc3MgYXZhdGFycGFnZSBleHRlbmRzIFBhZ2Uge1xyXG4gICAgLy8gPT09PT09PT09IFNlbGVjdG9ycyA9PT09PT09PT1cclxuICAgIGdldCBib2RzM0RCdXR0b25FbGVtZW50KCl7XHJcbiAgICAgICAgLy9yZXR1cm4gJCgnLy9hW0BjbGFzcz1cImJ0bi5idG4tbGcuYnRuLWRhcmtcIl1bdGV4dCgpPVwiQk9EUyAzRCBGaXR0aW5nXCJdJyk7XHJcbiAgICAgICAgLy9yZXR1cm4gJCgnLmJ0bi5idG4tbGcuYnRuLWRhcmsnKTtcclxuICAgICAgICByZXR1cm4gJChcIi8vYVtjb250YWlucyhAY2xhc3MsJ2JvZHMtY3RhIGJ0biBidG4tc20gYnRuLWRhcmsnKV1cIik7XHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbiAgICBnZXQgbG9naW5FbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vYVt0ZXh0KCk9XCJMb2cgaW5cIl0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW1haWxlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJyNmaWxsZWQtaGlkZGVuLWxhYmVsLXNtYWxsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhc3N3b3JkZWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJy8vZGl2W2NvbnRhaW5zKEBjbGFzcyxcImFkb3JuZWRFbmQgTXVpSW5wdXRCYXNlLWhpZGRlbkxhYmVsIGNzcy1rNzJjeTBcIildJyk7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAdHlwZT1cInBhc3N3b3JkXCJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNpZ25pbmVsZW1lbnQoKXtcclxuICAgICAgICAvL3JldHVybiAkKCcuYm9kc19fY2FyZF9fY3RhJyk7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAaWQ9XCJib2RzLWFwcFwiXS8vZGVzY2VuZGFudDo6YnV0dG9uW2NvbnRhaW5zKEBjbGFzcyxcImJvZHNfX2J1dHRvbiBib2RzX19idXR0b25cIildJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxvYWRpbmdlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vZGl2W0BjbGFzcz1cImxvYWRpbmctbGFiZWxcIl0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXZhdGFyZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcuYm9kc19fYXZhdGFyIHZpZGVvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpdG1hcGVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vZGl2W2NvbnRhaW5zKEBjbGFzcywnYm9kc19fZml0bWFwJyldLy9kaXZcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG15cHJvZmlsZWVsZWxtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvLypbY29udGFpbnMoQGNsYXNzLCdib2RzX19wcm9maWxlJyldXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXBzaXplZWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJy8vcFt0ZXh0KCk9XCJDdXAgU2l6ZVwiXScpO1xyXG4gICAgICAgIGxldCBjdXBzaXplZWxlID0gXCIjc2ltcGxlLXRhYnBhbmVsLTAgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuc2MtdHNGWUUuZHBFTW9sLk11aUJveC1yb290LmNzcy0wID4gZGl2Om50aC1jaGlsZCgzKSA+IHAuTXVpVHlwb2dyYXBoeS1yb290Lk11aVR5cG9ncmFwaHktYm9keTEuc2Mta1lXVllBLmlFWllXLmNzcy0xaXF5d3A5XCI7ICAgIFxyXG4gICAgICAgIHJldHVybiAkKGN1cHNpemVlbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBib2RzT3ZlcmxheSgpe1xyXG4gICAgICAgIHJldHVybiAkKCcoLy9kaXZbQGlkPVwiYm9kcy1hcHBcIl0vL2Rlc2NlbmRhbnQ6OmRpdilbMl0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVjZW50ZXJFbGVtZW50KCl7XHJcbiAgICAgICAvLyByZXR1cm4gJCgnLy8qW0BpZD1cImJvZHMtYXBwXCJdL2Rpdi9kaXZbMV0vZGl2WzJdL2RpdlsxXScpO1xyXG4gICAgICAgIHJldHVybiAkKCcvLypbQGlkPVwiYm9kcy1hcHBcIl0vZGl2L2RpdlsxXS9kaXZbM10vZGl2WzFdL2RpdicpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgIGFzeW5jIGNsaWNrV2l0aFJldHJ5KGVsZW1lbnRHZXR0ZXIsIHJldHJ5Q291bnQgPSA1LCBkZWxheSA9IDEwMDApIHtcclxuICAgICAgICBmb3IgKGxldCByZXRyeSA9IDA7IHJldHJ5IDwgcmV0cnlDb3VudDsgcmV0cnkrKykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGF3YWl0IGVsZW1lbnRHZXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBhd2FpdCB0aGlzLmJvZHNPdmVybGF5O1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgzMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGVsZW1lbnQud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDMwMDAwIH0pO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudC53YWl0Rm9yQ2xpY2thYmxlKHsgdGltZW91dDogMzAwMDAgfSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDMwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgb3ZlcmxheS5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogMTAwMDB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGlja2VkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IHRoZSBsb29wIGlmIGNsaWNrIGlzIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEF0dGVtcHQgJHtyZXRyeSArIDF9IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZShkZWxheSk7IC8vIFdhaXQgYmVmb3JlIHJldHJ5aW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY2xpY2sgZWxlbWVudCBhZnRlciAke3JldHJ5Q291bnR9IGF0dGVtcHRzYCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGNsaWNrYm9kczNEV2l0aFJldHJ5KCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tXaXRoUmV0cnkoKCkgPT4gdGhpcy5ib2RzM0RCdXR0b25FbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja2JvZHMzRCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrYm9kczNEV2l0aFJldHJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyphc3luYyBjbGlja0xvZ2lubGluaygpe1xyXG4gICAgICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBCb2RzLSB3aWxsIGxhbmQgb24gbG9naW4gUGFnZVxyXG4gICAgICAgIGNvbnN0IGxvZ2luTGluayA9IGF3YWl0IHRoaXMubG9naW5FbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMzAwMCk7XHJcbiAgICAgICAgYXdhaXQgbG9naW5MaW5rLndhaXRGb3JEaXNwbGF5ZWQoKTtcclxuICAgICAgICBhd2FpdCBsb2dpbkxpbmsuY2xpY2soKTtcclxuICAgIH0gICovXHJcblxyXG4gICAgYXN5bmMgY2xpY2tMb2dpbmxpbmsoKSB7XHJcbiAgICAgICAgY29uc3QgbG9naW5MaW5rID0gYXdhaXQgdGhpcy5sb2dpbkVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgbG9naW5MaW5rLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiAxMDAwMCB9KTtcclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgbG9naW5MaW5rLmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiAnbG9naW5MaW5rIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgYXdhaXQgbG9naW5MaW5rLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9naW4oKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRtYWlsID0gYXdhaXQgdGhpcy5lbWFpbGVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgaW5wdXRtYWlsLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiA1MDAwIH0pO1xyXG4gICAgICAgIGF3YWl0IGlucHV0bWFpbC5zZXRWYWx1ZShcInRlc3QwMTBAYm9kcy5tZVwiKTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGlucHV0UGFzc3dvcmQgPSBhd2FpdCB0aGlzLnBhc3N3b3JkZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBpbnB1dFBhc3N3b3JkLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiA1MDAwIH0pO1xyXG4gICAgICAgIGF3YWl0IGlucHV0UGFzc3dvcmQuY2xpY2soKTtcclxuICAgICAgICBhd2FpdCBpbnB1dFBhc3N3b3JkLnNldFZhbHVlKFwiMTIzNDU2XCIpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2lnbmluZWxlbWVudC5jbGljaygpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGF3YWl0IHRoaXMubG9hZGluZ2VsZW1lbnQ7XHJcbiAgICAgICAgLy8gU2V0IGEgY3VzdG9tIHRpbWVvdXQgKGluIG1pbGxpc2Vjb25kcylcclxuICAgICAgICBjb25zdCBjdXN0b21UaW1lb3V0ID0gMjAwMDA7IFxyXG5cclxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgZWxlbWVudCB0byBub3QgZXhpc3QgaW4gdGhlIERPTSB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lb3V0XHJcbiAgICAgICAgY29uc3QgZWxlbWVudEV4aXN0cyA9IGF3YWl0IGVsZW1lbnQud2FpdEZvckV4aXN0KHsgdGltZW91dDogY3VzdG9tVGltZW91dCwgcmV2ZXJzZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBtdWx0aXBsZWxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0bWFpbCA9IGF3YWl0IHRoaXMuZW1haWxlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGlucHV0bWFpbC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNTAwMCB9KTtcclxuICAgICAgICBhd2FpdCBpbnB1dG1haWwuc2V0VmFsdWUodXNlcm5hbWUpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgaW5wdXRQYXNzd29yZCA9IGF3YWl0IHRoaXMucGFzc3dvcmRlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGlucHV0UGFzc3dvcmQud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDUwMDAgfSk7XHJcbiAgICAgICAgYXdhaXQgaW5wdXRQYXNzd29yZC5jbGljaygpO1xyXG4gICAgICAgIGF3YWl0IGlucHV0UGFzc3dvcmQuc2V0VmFsdWUocGFzc3dvcmQpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2lnbmluZWxlbWVudC5jbGljaygpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGF3YWl0IHRoaXMubG9hZGluZ2VsZW1lbnQ7XHJcbiAgICAgICAgLy8gU2V0IGEgY3VzdG9tIHRpbWVvdXQgKGluIG1pbGxpc2Vjb25kcylcclxuICAgICAgICBjb25zdCBjdXN0b21UaW1lb3V0ID0gMjAwMDA7IFxyXG5cclxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgZWxlbWVudCB0byBub3QgZXhpc3QgaW4gdGhlIERPTSB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lb3V0XHJcbiAgICAgICAgY29uc3QgZWxlbWVudEV4aXN0cyA9IGF3YWl0IGVsZW1lbnQud2FpdEZvckV4aXN0KHsgdGltZW91dDogY3VzdG9tVGltZW91dCwgcmV2ZXJzZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdmF0YXJkaXNwbGF5ZWQoKXtcclxuICAgICAgICAvLyBPbiBDbGFzc2ljIEZpdCBNZXNoIFBvbG8gU2hpcnQgQm9kcy0gM0QgSW50ZXJmYWNlXHJcbiAgICAgICAgY29uc3QgYXZhdGFyID0gYXdhaXQgdGhpcy5hdmF0YXJlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IGF2YXRhci5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogMTIwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7ICAgLy8gU3Bpbm5lciBub3QgZGlzcGxheWVkXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tmaXRtYXAoKXtcclxuICAgICAgICBjb25zdCBmaXRtYXAgPSBhd2FpdCB0aGlzLmZpdG1hcGVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgZml0bWFwLmlzRGlzcGxheWVkKCksIHt0aW1lb3V0OiA2MDAwMH0pO1xyXG4gICAgICAgIGF3YWl0IGZpdG1hcC5jbGljaygpO1xyXG4gICAgICAgIGNvbnN0IGF2YXRhciA9IGF3YWl0IHRoaXMuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYmFja3ZpZXcoKSB7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci5leGVjdXRlKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHdpbmRvdy5ib2RzLmRldlRvb2xzLl9waXhlbFN0cmVhbWluZ0Nvbm5lY3Rpb25zWzBdO1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uLnNlbmRCb2RzQ29tbWFuZCh7XHJcbiAgICAgICAgICAgICAgICBnZXRWZXJzaW9uOiAoKSA9PiAwLFxyXG4gICAgICAgICAgICAgICAgZ2V0TmFtZTogKCkgPT4gXCJBbmltYXRlVG9WYW50YWdlQ29tbWFuZFwiLFxyXG4gICAgICAgICAgICAgICAgVmFudGFnZU5hbWU6IFwiQmFja1wiXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja3JlY2VudGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHJlY2VudGVyID0gYXdhaXQgdGhpcy5yZWNlbnRlckVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgcmVjZW50ZXIud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCByZWNlbnRlci5pc0NsaWNrYWJsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNDbGlja2FibGU7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcclxuICAgICAgICAgICAgdGltZW91dE1zZzogJ3JlY2VudGVyIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgYXdhaXQgcmVjZW50ZXIuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbn0gICAgIFxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBuZXcgYXZhdGFycGFnZSgpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzlCLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBRXhDLE1BQU1FLFVBQVUsU0FBU0gsSUFBSSxDQUFDO0VBQzFCO0VBQ0EsSUFBSUksbUJBQW1CQSxDQUFBLEVBQUU7SUFDckI7SUFDQTtJQUNBLE9BQU9DLENBQUMsQ0FBQyxzREFBc0QsQ0FBQztFQUNwRTtFQUVBLElBQUlDLFlBQVlBLENBQUEsRUFBRTtJQUNkLE9BQU9ELENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztFQUNwQztFQUVBLElBQUlFLFlBQVlBLENBQUEsRUFBRTtJQUNkLE9BQU9GLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQztFQUMxQztFQUVBLElBQUlHLGVBQWVBLENBQUEsRUFBRTtJQUNqQjtJQUNBLE9BQU9I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","map":{"version":3,"names":["Page","require","config","avatarpage","bods3DButtonElement","$","loginElement","emailelement","passwordelement","signinelement","loadingelement","avatarelement","fitmapelement","myprofileelelment","cupsizeelement","cupsizeele","bodsOverlay","recenterElement","clickWithRetry","elementGetter","retryCount","delay","retry","element","overlay","browser","pause","waitForDisplayed","timeout","waitForClickable","click","waitUntil","isDisplayed","console","log","error","message","Error","clickbods3DWithRetry","clickbods3D","clickLoginlink","loginLink","isClickable","timeoutMsg","login","inputmail","setValue","inputPassword","customTimeout","elementExists","waitForExist","reverse","multiplelogin","username","password","avatardisplayed","avatar","clickfitmap","fitmap","backview","execute","connection","window","bods","devTools","_pixelStreamingConnections","sendBodsCommand","getVersion","getName","VantageName","clickrecenter","recenter","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["avatar_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\nconst config = require(\"../data/config\");\r\n\r\nclass avatarpage extends Page {\r\n    // ========= Selectors =========\r\n    get bods3DButtonElement(){\r\n        //return $('//a[@class=\"btn.btn-lg.btn-dark\"][text()=\"BODS 3D Fitting\"]');\r\n        //return $('.btn.btn-lg.btn-dark');\r\n        return $(\"//a[contains(@class,'bods-cta btn btn-sm btn-dark')]\");\r\n    }    \r\n    \r\n    get loginElement(){\r\n        return $('//a[text()=\"Log in\"]');\r\n    }\r\n\r\n    get emailelement(){\r\n        return $('#filled-hidden-label-small');\r\n    }\r\n\r\n    get passwordelement(){\r\n        //return $('//div[contains(@class,\"adornedEnd MuiInputBase-hiddenLabel css-k72cy0\")]');\r\n        return $('//*[@type=\"password\"]');\r\n    }\r\n\r\n    get signinelement(){\r\n        //return $('.bods__card__cta');\r\n        return $('//*[@id=\"bods-app\"]//descendant::button[contains(@class,\"bods__button bods__button\")]');\r\n    }\r\n\r\n    get loadingelement(){\r\n        return $('//div[@class=\"loading-label\"]');\r\n    }\r\n\r\n    get avatarelement(){\r\n        return $('.bods__avatar video');\r\n    }\r\n\r\n    get fitmapelement(){\r\n        return $(\"//div[contains(@class,'bods__fitmap')]//div\");\r\n    }\r\n\r\n    get myprofileelelment(){\r\n        return $(\"//*[contains(@class,'bods__profile')]\");\r\n    }\r\n\r\n    get cupsizeelement(){\r\n        //return $('//p[text()=\"Cup Size\"]');\r\n        let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \r\n        return $(cupsizeele);\r\n    }\r\n\r\n    get bodsOverlay(){\r\n        return $('(//div[@id=\"bods-app\"]//descendant::div)[2]');\r\n    }\r\n\r\n    get recenterElement(){\r\n       // return $('//*[@id=\"bods-app\"]/div/div[1]/div[2]/div[1]');\r\n        return $('//*[@id=\"bods-app\"]/div/div[1]/div[3]/div[1]/div')\r\n    }\r\n\r\n    // ========== Methods ==========\r\n    async clickWithRetry(elementGetter, retryCount = 5, delay = 1000) {\r\n        for (let retry = 0; retry < retryCount; retry++) {\r\n            try {\r\n                const element = await elementGetter();\r\n                const overlay = await this.bodsOverlay;\r\n                await browser.pause(3000);\r\n                await element.waitForDisplayed({ timeout: 30000 });\r\n                await element.waitForClickable({ timeout: 30000 });\r\n                await browser.pause(3000);\r\n                await element.click();\r\n                await browser.waitUntil(async () => await overlay.isDisplayed(), {timeout: 10000});\r\n                console.log('Clicked successfully');\r\n                return; // Exit the loop if click is successful\r\n            } catch (error) {\r\n                console.error(`Attempt ${retry + 1} failed: ${error.message}`);\r\n                await browser.pause(delay); // Wait before retrying\r\n            }\r\n        }\r\n        throw new Error(`Failed to click element after ${retryCount} attempts`);\r\n    }\r\n    \r\n    async clickbods3DWithRetry() {\r\n        await this.clickWithRetry(() => this.bods3DButtonElement);\r\n    }\r\n\r\n    async clickbods3D() {\r\n        await this.clickbods3DWithRetry();\r\n    }\r\n\r\n    /*async clickLoginlink(){\r\n        // On Classic Fit Mesh Polo Shirt Bods- will land on login Page\r\n        const loginLink = await this.loginElement;\r\n        await browser.pause(3000);\r\n        await loginLink.waitForDisplayed();\r\n        await loginLink.click();\r\n    }  */\r\n\r\n    async clickLoginlink() {\r\n        const loginLink = await this.loginElement;\r\n        await loginLink.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await loginLink.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'loginLink element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await loginLink.click();\r\n    }\r\n\r\n    async login() {\r\n        const inputmail = await this.emailelement;\r\n        await inputmail.waitForDisplayed({ timeout: 5000 });\r\n        await inputmail.setValue(\"test010@bods.me\");\r\n    \r\n        const inputPassword = await this.passwordelement;\r\n        await inputPassword.waitForDisplayed({ timeout: 5000 });\r\n        await inputPassword.click();\r\n        await inputPassword.setValue(\"123456\");\r\n        await this.signinelement.click();\r\n    \r\n        const element = await this.loadingelement;\r\n        // Set a custom timeout (in milliseconds)\r\n        const customTimeout = 20000; \r\n\r\n        // Wait for the element to not exist in the DOM within the specified timeout\r\n        const elementExists = await element.waitForExist({ timeout: customTimeout, reverse: true });\r\n    }\r\n\r\n    async multiplelogin(username, password) {\r\n        const inputmail = await this.emailelement;\r\n        await inputmail.waitForDisplayed({ timeout: 5000 });\r\n        await inputmail.setValue(username);\r\n    \r\n        const inputPassword = await this.passwordelement;\r\n        await inputPassword.waitForDisplayed({ timeout: 5000 });\r\n        await inputPassword.click();\r\n        await inputPassword.setValue(password);\r\n        await this.signinelement.click();\r\n    \r\n        const element = await this.loadingelement;\r\n        // Set a custom timeout (in milliseconds)\r\n        const customTimeout = 20000; \r\n\r\n        // Wait for the element to not exist in the DOM within the specified timeout\r\n        const elementExists = await element.waitForExist({ timeout: customTimeout, reverse: true });\r\n    }\r\n\r\n    async avatardisplayed(){\r\n        // On Classic Fit Mesh Polo Shirt Bods- 3D Interface\r\n        const avatar = await this.avatarelement;\r\n        await browser.waitUntil(async () => await avatar.isDisplayed(), {timeout: 120000});\r\n        await browser.pause(10000);   // Spinner not displayed\r\n    }\r\n\r\n    async clickfitmap(){\r\n        const fitmap = await this.fitmapelement;\r\n        await browser.waitUntil(async () => await fitmap.isDisplayed(), {timeout: 60000});\r\n        await fitmap.click();\r\n        const avatar = await this.avatardisplayed();\r\n    }\r\n\r\n    async backview() {\r\n        await browser.execute(() => {\r\n            const connection = window.bods.devTools._pixelStreamingConnections[0];\r\n            connection.sendBodsCommand({\r\n                getVersion: () => 0,\r\n                getName: () => \"AnimateToVantageCommand\",\r\n                VantageName: \"Back\"\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    async clickrecenter() {\r\n        const recenter = await this.recenterElement;\r\n        await recenter.waitForDisplayed({ timeout: 10000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await recenter.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'recenter element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await recenter.click();\r\n    }\r\n\r\n}     \r\n    module.exports = new avatarpage();"],"mappings":"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"}},"mtime":1701170337970},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\myProfile.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nconst avatarpage = require('./avatar_page');\nconst home_page = require('./home_page');\nclass myprofile extends Page {\n  // ========= Selectors =========\n\n  get myprofileelelment() {\n    return $(\"//*[contains(@class,'bods__profile')]\");\n  }\n  get allCupElement() {\n    return $$('//p[text()=\"Cup Size\"]//parent::div//descendant::select//option');\n  }\n  get applyElement() {\n    return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[8]/button');\n  }\n  get backArrowElement() {\n    return $('//*[@data-testid=\"ArrowBackIosIcon\"]');\n  }\n  get yourwearing() {\n    //return $$('//div[@id=\"bods__current-product-item--0\"]//parent::div//button');\n    //return $$('(//div[contains(@class,\"bods__product-list\")])[1]//div[contains(@class,\"bods__product-item\")] //button//parent::div');\n    return $$(\"//div[contains(@id,'bods__current-product-item')]\");\n  }\n  get cupsizeelement() {\n    //return $('//p[text()=\"Cup Size\"]');\n    //let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \n    return $('(//*[@id=\"simple-tabpanel-0\"]//descendant::p)[8]');\n  }\n  get dropdowncupelement() {\n    return $('//p[text()=\"Cup Size\"]//parent::div//descendant::select');\n  }\n  get cupBelement() {\n    return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[4]');\n  }\n  get cupCelement() {\n    return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[5]');\n  }\n  get measurment() {\n    return $(\"//button[contains(@class,'bods__link-measurements')]\");\n  }\n  get myinformation() {\n    return $('#simple-tab-1');\n  }\n  get logoutelement() {\n    return $('//button[contains(@class,\"bods__button bods__button\")]');\n  }\n  get recommendationelement() {\n    return $('(//div[contains(@class,\"bods__product-list\")])[2]');\n  }\n  get pantelement() {\n    return $('#bods__related-product-item--1');\n  }\n\n  //Balmain\n  get flaredTrousers() {\n    return $('//p[text()=\"Flared trousers with creases\"]//parent::div');\n  }\n  get legginsElement() {\n    return $('//p[text()=\"Knit leggings with monogram\"]//parent::div');\n  }\n  get knitSkirtElement() {\n    return $('//p[text()=\"Monogrammed knit skirt\"]//parent::div');\n  }\n  get bBuzzBagElement() {\n    return $('//p[text()=\"B-Buzz 19 leather bag with jacquard monogram\"]//parent::div');\n  }\n  get smoothLeatherBag() {\n    return $('//p[text()=\"Smooth leather B-Buzz 23 bag\"]//parent::div');\n  }\n  get skyeBoots() {\n    return $('//p[contains(text(),\"Bicolor stretch knit Skye ankle boots\")]//parent::div');\n  }\n  get resetSettingElement() {\n    return $('//button[text()=\"Reset Settings\"]');\n  }\n  get yrwearRemoveElement() {\n    return $('(//div[contains(@class,\"bods__product-item--image\")]//following-sibling::button)[2]');\n  }\n  get abdomenElement() {\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5)');\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-bPyhqo.iOWCwn.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(9) > div');\n    return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[4]');\n  }\n  get armsElement() {\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(7)');\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-dUWWNf.dblbWX.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5) > div');\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-dUWWNf.dblbWX.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5) > div');\n    return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[2]');\n  }\n  get thightsElement() {\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(9)');\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-bPyhqo.iOWCwn.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(7) > div');\n    return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[3]');\n  }\n  get fullnessElement() {\n    //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(4) > div:nth-child(3) > div');\n    return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[4]/div[1]');\n  }\n\n  /*\r\n  Celia Calfskin Pump': \"//p[text()='Celia Calfskin Pump']\"\r\n  Leather Medium Bellport Tote: \"(//p[contains(text(),'Leather Medium Bellport Tote')])[1]\"\r\n  Small Steel Black Finish: \"//p[text()='Small Steel Black Finish']\"\r\n  Welington Enamel Bracelet: \"//p[text()='Welington Enamel Bracelet']\"\r\n  Cotton Broadcloth Dress: \"//p[text()='Cotton Broadcloth Dress']\"\r\n  Calfskin Mini RL50 Handbag: \"//p[text()='Calfskin Mini RL50 Handbag']\"\r\n  Leather Medium Bellport Tote (Cuoio): \"//p[text()='Leather Medium Bellport Tote (Cuoio)']\"\r\n  Courtster Sneaker: \"//p[text()='Courtster Sneaker']\"\r\n  */\n  //RL Garments\n  get camdenWoolCrepeJacketpolo() {\n    return $(\"//p[text()='Camden Wool Crepe Jacket (with Polo)']\");\n  }\n  get camdenWoolCrepeJacket() {\n    return $(\"//p[text()='Camden Wool Crepe Jacket']\");\n  }\n  get pleatedMidiSkirt() {\n    return $(\"//p[text()='Pleated Midi Skirt']\");\n  }\n  get straightLegSatinPant() {\n    return $(\"//p[text()='Straight Leg Satin Pant']\");\n  }\n  get classicFitMesh() {\n    return $(\"//p[text()='Classic Fit Mesh Polo Shirt']\");\n  }\n  get cottonCrewneckTee() {\n    return $(\"//p[text()='Cotton Broadcloth Dress']\");\n  }\n  get thePackableJacket() {\n    return $(\"//p[text()='Packable Quilted Jacket']\");\n  }\n  get cottonBroadclothDress() {\n    return $(\"//a[contains(text(),'Cotton Broadcloth')]\");\n  }\n  get croppedQuiltedJacket() {\n    return $(\"//a[contains(text(),'Cropped Quilted Jacket')]\");\n  }\n  get celiaCalfskinPump() {\n    return $(\"//p[text()='Celia Calfskin Pump']\");\n  }\n  get LeatherMediumBellportTote() {\n    return $(\"(//p[contains(text(),'Leather Medium Bellport Tote')])[1]\");\n  }\n  get SmallSteelBlackFinish() {\n    return $(\"//p[text()='Small Steel Black Finish']\");\n  }\n  get welingtonEnamelBracelet() {\n    return $(\"//p[text()='Welington Enamel Bracelet']\");\n  }\n  get cottonBroadclothDress() {\n    return $(\"//p[text()='Cotton Broadcloth Dress']\");\n  }\n  get calfskinMiniRL50Handbag() {\n    return $(\"//p[text()='Calfskin Mini RL50 Handbag']\");\n  }\n  get leatherMediumBellportToteCuoio() {\n    return $(\"//p[text()='Leather Medium Bellport Tote (Cuoio)']\");\n  }\n  get courtsterSneaker() {\n    return $(\"//p[text()='Courtster Sneaker']\");\n  }\n  get spinnerWheel() {\n    return $(\"//*[contains(@class,'MuiCircularProgress-svg')]\");\n  }\n  // ========== Methods ==========\n  // RL\n  async clickElement(element) {\n    await element.waitForDisplayed({\n      timeout: 10000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await element.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: `${element} element is not clickable after waiting for 10 seconds`\n    });\n    await element.click();\n  }\n  async clickcamdenWoolCrepeJacketpolo() {\n    const jacketPolo = await this.camdenWoolCrepeJacketpolo;\n    await this.clickElement(jacketPolo);\n  }\n  async clickcamdenWoolCrepeJacket() {\n    const jacket = await this.camdenWoolCrepeJacket;\n    await this.clickElement(jacket);\n  }\n  async clickpleatedMidiSkirt() {\n    const skirt = await this.pleatedMidiSkirt;\n    await this.clickElement(skirt);\n  }\n  async clickstraightLegSatinPant() {\n    const straightLegPant = await this.straightLegSatinPant;\n    await this.clickElement(straightLegPant);\n  }\n  async clickclassicFitMesh() {\n    const classicFit = await this.classicFitMesh;\n    await this.clickElement(classicFit);\n  }\n  async clickcottonCrewneckTee() {\n    const CrewneckTee = await this.cottonCrewneckTee;\n    await this.clickElement(CrewneckTee);\n  }\n  async clickthePackableJacket() {\n    const PackableJacket = await this.thePackableJacket;\n    await this.clickElement(PackableJacket);\n  }\n  async clickcottonBroadclothDress() {\n    const clothDress = await this.cottonBroadclothDress;\n    await this.clickElement(clothDress);\n  }\n  async clickcroppedQuiltedJacket() {\n    const QuiltedJacket = await this.croppedQuiltedJacket;\n    await this.clickElement(QuiltedJacket);\n  }\n  async clickceliaCalfskinPump() {\n    const CalfskinPump = await this.celiaCalfskinPump;\n    await this.clickElement(CalfskinPump);\n  }\n  async clickLeatherMediumBellportTote() {\n    const MediumBellportTote = await this.LeatherMediumBellportTote;\n    await this.clickElement(MediumBellportTote);\n  }\n  async clickSmallSteelBlackFinish() {\n    const SteelBlackFinish = await this.SmallSteelBlackFinish;\n    await this.clickElement(SteelBlackFinish);\n  }\n  async clickwelingtonEnamelBracelet() {\n    const EnamelBracelet = await this.welingtonEnamelBracelet;\n    await this.clickElement(EnamelBracelet);\n  }\n  async clickcalfskinMiniRL50Handbag() {\n    const calfskinHandbag = await this.calfskinMiniRL50Handbag;\n    await this.clickElement(calfskinHandbag);\n  }\n  async clickleatherMediumBellportTote_Cuoio() {\n    const leatherBellportTote = await this.leatherMediumBellportToteCuoio;\n    await this.clickElement(leatherBellportTote);\n  }\n  async clickcourtsterSneaker() {\n    const courtsterSneakers = await this.courtsterSneaker;\n    await this.clickElement(courtsterSneakers);\n  }\n  async waitForSpinnerToDisappear(timeout = 60000) {\n    const spinner = this.spinnerWheel;\n    try {\n      await spinner.waitForDisplayed({\n        timeout,\n        reverse: true\n      });\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n  async sliderdrag() {\n    const abdomen = await this.abdomenElement;\n    const arms = await this.armsElement;\n    const thighs = await this.thightsElement;\n    const fullness = await this.fullnessElement;\n    await abdomen.dragAndDrop({\n      x: 110,\n      y: 0\n    });\n    await arms.dragAndDrop({\n      x: 110,\n      y: 0\n    });\n    await thighs.dragAndDrop({\n      x: 110,\n      y: 0\n    });\n    await fullness.dragAndDrop({\n      x: 110,\n      y: 0\n    });\n  }\n  async clickMyprofile() {\n    const TIMEOUT = 60000;\n    try {\n      const myprofile = await this.myprofileelelment;\n      await myprofile.waitForDisplayed({\n        timeout: TIMEOUT\n      });\n      await myprofile.click();\n      console.log('Clicked My Profile successfully');\n    } catch (error) {\n      if (error.name === 'TimeoutError') {\n        console.error(`My Profile button did not appear within ${TIMEOUT / 1000} seconds.`);\n      } else {\n        console.error(`Error occurred while clicking My Profile: ${error.message}`);\n      }\n    }\n  }\n  async clickresetSetting() {\n    const TIMEOUT = 60000;\n    try {\n      const reset = await this.resetSettingElement;\n      await reset.waitForDisplayed({\n        timeout: TIMEOUT\n      });\n      await reset.click();\n      console.log('Clicked reset successfully');\n    } catch (error) {\n      if (error.name === 'TimeoutError') {\n        console.error(`reset link did not appear within ${TIMEOUT / 1000} seconds.`);\n      } else {\n        console.error(`Error occurred while clicking reset: ${error.message}`);\n      }\n    }\n  }\n  async scrolltocupsize() {\n    const cupsize = await this.cupsizeelement;\n    await browser.waitUntil(async () => await cupsize.isDisplayed(), {\n      timeout: 40000\n    });\n    await cupsize.scrollIntoView();\n    await browser.pause(2000);\n  }\n\n  // Cup size B to C\n  async toggleDropdownValueC() {\n    const dropdown = await this.dropdowncupelement;\n    await dropdown.scrollIntoView();\n    const cupB = await this.cupBelement;\n\n    // Get the current value\n    const currentValue = await cupB.getText();\n    // Click the dropdown to switch to the desired value\n    if (currentValue === 'B') {\n      await dropdown.click();\n      const optionC = await this.cupCelement;\n      await browser.pause(2000);\n      await optionC.click();\n      await browser.pause(1000);\n    }\n  }\n\n  // Cup size C to B\n  async toggleDropdownValueB() {\n    const dropdown = await this.dropdowncupelement;\n    await dropdown.scrollIntoView();\n    const cupC = await this.cupCelement;\n    // Get the current value\n    const currentValue = await cupC.getText();\n\n    // Click the dropdown to switch to the desired value\n    if (currentValue === 'C') {\n      await dropdown.click();\n      const optionB = await this.cupBelement;\n      await browser.pause(2000);\n      await optionB.click();\n      await browser.pause(2000);\n    }\n  }\n  async scrolltomeasurment() {\n    const measurementlink = await this.measurment;\n    await browser.waitUntil(async () => await measurementlink.isDisplayed(), {\n      timeout: 60000\n    });\n    await measurementlink.scrollIntoView();\n    await browser.pause(2000);\n  }\n  async clickMyInformation() {\n    const information = await this.myinformation;\n    await browser.waitUntil(async () => await information.isDisplayed(), {\n      timeout: 60000\n    });\n    await information.click();\n    // await browser.pause(1000);\n  }\n\n  async clickLogout() {\n    const logout = await this.logoutelement;\n    await browser.waitUntil(async () => await logout.isDisplayed(), {\n      timeout: 60000\n    });\n    await logout.click();\n  }\n  async scrolltoListOfRecommendation() {\n    try {\n      const list = await this.recommendationelement;\n      await browser.waitUntil(async () => {\n        await list.scrollIntoView();\n        return await list.isDisplayed();\n      }, {\n        timeout: 60000,\n        timeoutMsg: 'List of recommendations is not displayed within the timeout period'\n      });\n    } catch (error) {\n      console.error(\"Error occurred while scrolling to list of recommendations:\", error);\n    }\n  }\n  async clickPant() {\n    const pant = await this.pantelement;\n    await browser.waitUntil(async () => await pant.isDisplayed(), {\n      timeout: 60000\n    });\n    await pant.click();\n  }\n  async clickflaredTrousers() {\n    const flaredTrouser = await this.flaredTrousers;\n    await browser.waitUntil(async () => await flaredTrouser.isDisplayed(), {\n      timeout: 60000\n    });\n    await flaredTrouser.click();\n  }\n  async clickleggins() {\n    const leggins = await this.legginsElement;\n    await browser.waitUntil(async () => await leggins.isDisplayed(), {\n      timeout: 60000\n    });\n    await leggins.click();\n  }\n  async clickknitSkirt() {\n    const LeggingsBottom = await this.knitSkirtElement;\n    await LeggingsBottom.waitForDisplayed({\n      timeout: 60000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await LeggingsBottom.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'Leggins element is not clickable after waiting for 10 seconds'\n    });\n    await LeggingsBottom.click();\n  }\n  async clickbBuzzBag() {\n    const bBuzzBag = await this.bBuzzBagElement;\n    await bBuzzBag.waitForDisplayed({\n      timeout: 60000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await bBuzzBag.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'bBuzzBag element is not clickable after waiting for 10 seconds'\n    });\n    await bBuzzBag.click();\n  }\n  async clickyrwearRemove() {\n    try {\n      const yrwearRemove = await this.yrwearRemoveElement;\n      await yrwearRemove.waitForDisplayed({\n        timeout: 60000\n      });\n      await browser.waitUntil(async () => {\n        const isClickable = await yrwearRemove.isClickable();\n        return isClickable;\n      }, {\n        timeout: 10000,\n        timeoutMsg: 'yrwearRemove element is not clickable after waiting for 10 seconds'\n      });\n      await yrwearRemove.click();\n    } catch (error) {\n      // Handle the error gracefully (e.g., log the error, but do not throw it)\n      console.log('yrwearRemove element was not found Due to garment Size NA:', error.message);\n    }\n  }\n  async clickskyeBoots() {\n    const skyeBoot = await this.skyeBoots;\n    await skyeBoot.waitForDisplayed({\n      timeout: 60000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await skyeBoot.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'skyeBoot element is not clickable after waiting for 10 seconds'\n    });\n    await skyeBoot.click();\n  }\n  async clicksmoothLeatherBags() {\n    const smoothLeatherBags = await this.smoothLeatherBag;\n    await smoothLeatherBags.waitForDisplayed({\n      timeout: 60000\n    });\n    await browser.waitUntil(async () => {\n      const isClickable = await smoothLeatherBags.isClickable();\n      return isClickable;\n    }, {\n      timeout: 10000,\n      timeoutMsg: 'smoothLeatherBags element is not clickable after waiting for 10 seconds'\n    });\n    await smoothLeatherBags.click();\n  }\n  async clickbackArrow() {\n    const TIMEOUT = 60000;\n    try {\n      const backArrow = await this.backArrowElement;\n      await backArrow.waitForDisplayed({\n        timeout: TIMEOUT\n      });\n      await backArrow.click();\n    } catch (error) {\n      if (error.name === 'TimeoutError') {\n        console.error(`BackArrow button did not appear within ${TIMEOUT / 1000} seconds.`);\n      } else {\n        console.error(`Error occurred while clicking back Arrow: ${error.message}`);\n      }\n    }\n  }\n  async clickApplyButton() {\n    const TIMEOUT = 60000;\n    try {\n      const apply = await this.applyElement;\n      const isApplyButtonDisplayed = await apply.isDisplayed();\n      const isApplyButtonEnabled = await apply.isEnabled();\n      if (isApplyButtonDisplayed && isApplyButtonEnabled) {\n        await apply.click();\n        console.log('Clicked Apply button successfully');\n      } else {\n        console.log('Apply button is not displayed or disabled.');\n        await this.clickbackArrow();\n      }\n    } catch (error) {\n      console.error(`Error occurred while clicking Apply: ${error.message}`);\n      // Handle the error as needed (e.g., logging, throwing, or returning a specific value).\n    }\n  }\n\n  async keepFirstElementAndRemoveOthers() {\n    // Find all matching elements\n    const elements = await $$('[id^=\"bods__current-product-item--\"] > button');\n    console.log(`Number of elements found: ${elements.length}`);\n    // Start the loop from the second last element and go in reverse order\n    for (let i = elements.length - 1; i >= 1; i--) {\n      const buttonElement = elements[i];\n\n      // Wait for the button to be clickable\n      await buttonElement.waitForClickable({\n        timeout: 5000\n      });\n      const buttonText = await buttonElement.getText();\n      if (buttonText.trim() === \"Remove\") {\n        // Remove the element (adjust based on your use case)\n        await buttonElement.click();\n        console.log(`Clicked on the \"Remove\" button at index ${i}.`);\n      } else {\n        console.log(`Item with text content \"${buttonText}\" is not the \"Remove\" button.`);\n      }\n    }\n  }\n  storedSizeTexts = [];\n  previousUser = null;\n  // Special function to handle with care\n  async selectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('N', '', index, 'Wool_Jacket', cupText);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('O', '', index, '_Wool-Jacket_profile_', sizeText, cupText, '_default_', '', '_front_', 'Wool_Jacket', user);\n          console.log(\"Done5\");\n          await avatarpage.backview();\n          await browser.pause(10000);\n          await home_page.captureAndUploadImage('P', '', index, '_Wool-Jacket_profile_', sizeText, cupText, '_default_', '', '_back_', 'Wool_Jacket', user);\n          console.log(\"Done6\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Q', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done7\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done8\");\n        await avatarpage.clickrecenter();\n\n        //new functions \n        // ******Combo flare Trousers ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickflaredTrousers();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('U', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Flared_Pant_', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Flared_Pant_', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo leggins ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickleggins();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('W', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_leggins_', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_leggins_', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Skirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickknitSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Y', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Knit_skirt_', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Knit_skirt_', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clickbBuzzBag();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clicksmoothLeatherBags();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async sportsBra_selectCup(index, user, sizeText) {\n    try {\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('O', '', index, 'Sports_Bra', cupText);\n        await home_page.captureAndUploadImage('P', '', index, '_Sports_Bra_profile_', sizeText, cupText, '_default_', '', '_front_', 'Sports_Bra', user);\n        console.log(\"Done5\");\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Sports_Bra', user);\n        console.log(\"Done7\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('S', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Sports_Bra', user);\n        console.log(\"Done8\");\n        await avatarpage.clickrecenter();\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clickbBuzzBag();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('V', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_front_', 'Sports_Bra', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('W', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_back_', 'Sports_Bra', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clicksmoothLeatherBags();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('X', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_front_', 'Sports_Bra', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Y', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_back_', 'Sports_Bra', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async Knit_Dress_selectCup(index, user, sizeText) {\n    try {\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_Knit_Dress_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Dress', user);\n        console.log(\"Done9\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('S', '', index, '_Knit_Dress_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Dress', user);\n        console.log(\"Done10\");\n        await avatarpage.clickrecenter();\n        await this.clickMyprofile();\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async bikerJacketselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('P', '', index, 'Wool_Jacket', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('Q', '', index, '_Biker_Jacket_profile_', sizeText, cupText, '_default_', '', '_front_', 'Biker_Jacket', user);\n          console.log(\"Done8\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('S', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done9\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done10\");\n        await avatarpage.clickrecenter();\n\n        //new functions \n        // ******Combo flare Trousers ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickflaredTrousers();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('U', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Flared_Pant_', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Flared_Pant_', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo leggins ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickleggins();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('W', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_leggins_', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_leggins_', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Skirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickknitSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Y', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Knit_skirt_', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Knit_skirt_', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clickbBuzzBag();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clicksmoothLeatherBags();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_front_', 'Biker_Jacket', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_back_', 'Biker_Jacket', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async knitskirtselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('R', '', index, 'Knit_Skirt', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('S', '', index, '_Knit_Skirt_profile_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Skirt', user);\n          console.log(\"Done9\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Skirt', user);\n        console.log(\"Done10\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('U', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Skirt', user);\n        console.log(\"Done11\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clickbBuzzBag();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('V', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_front_', 'Knit_Skirt', user);\n        console.log(\"Done12\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('W', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_back_', 'Knit_Skirt', user);\n        console.log(\"Done13\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clicksmoothLeatherBags();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('X', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_front_', 'Knit_Skirt', user);\n        console.log(\"Done14\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Y', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_back_', 'Knit_Skirt', user);\n        console.log(\"Done15\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        /*if (i !==  cupElements.length - 1) {\r\n           console.log('index: ${i}');\r\n           console.log(\"loop entered\");\r\n           await this.clickMyprofile();\r\n         } */\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async LeggingsselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('R', '', index, 'Leggings', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('S', '', index, '_Leggings_profile_', sizeText, cupText, '_default_', '', '_front_', 'Leggings', user);\n          console.log(\"Done9\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Leggings', user);\n        console.log(\"Done10\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('U', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Leggings', user);\n        console.log(\"Done11\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clickbBuzzBag();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('V', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_front_', 'Leggings', user);\n        console.log(\"Done12\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('W', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_B-Buzz_', '_back_', 'Leggings', user);\n        console.log(\"Done13\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.scrolltoListOfRecommendation();\n        await this.clicksmoothLeatherBags();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('X', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_front_', 'Leggings', user);\n        console.log(\"Done14\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Y', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_Smooth-leather_', '_back_', 'Leggings', user);\n        console.log(\"Done15\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo****\n        await this.clickyrwearRemove();\n        await this.scrolltoListOfRecommendation();\n        await this.clickskyeBoots();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await home_page.captureAndUploadImage('z', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_skyeboots_', '_front_', 'Leggings', user);\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        console.log(\"Done16\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Y', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '_skyeboots_', '_back_', 'Leggings', user);\n        console.log(\"Done17\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async flareTrousersselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await avatarpage.clickrecenter();\n        await browser.pause(10000);\n        await home_page.insertTextGS('R', '', index, 'Flare_Trousers', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('S', '', index, '_Flare_Trousers_profile_', sizeText, cupText, '_default_', '', '_front_', 'Flare_Trousers', user);\n          console.log(\"Done9\");\n        }\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Flare_Trousers', user);\n        console.log(\"Done10\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('U', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Flare_Trousers', user);\n        console.log(\"Done11\");\n        await avatarpage.clickrecenter();\n        await browser.pause(1000);\n        // scroll to list of recommendation ****Combo****\n        //await this.clickyrwearRemove();\n        await this.scrolltoListOfRecommendation();\n        await this.clickskyeBoots();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await home_page.captureAndUploadImage('V', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '_skyeboots_', '_front_', 'Leggings', user);\n        await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n        console.log(\"Done12\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('W', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '_skyeboots_', '_back_', 'Leggings', user);\n        console.log(\"Done13\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async camdenWoolCrepeJacketselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_camden_Wool_Crepe_Jacket_polo_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo straightLegSatinPant ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        await this.clickstraightLegSatinPant();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('O', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_front_', 'RL', user);\n        console.log(\"Done27\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('P', '', index, '_camden_Wool_Crepe_Jacket_polo__fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_back_', 'RL', user);\n        console.log(\"Done28\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo pleatedMidiSkirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickpleatedMidiSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Q', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_front_', 'RL', user);\n        console.log(\"Done29\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_camden_Wool_Crepe_Jacket_polo_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_back_', 'RL', user);\n        console.log(\"Done30\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async cottonBroadclothDressselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_cotton_Broad_clothDress_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_cotton_Broad_clothDress_camden_Wool_Crepe_Jacket_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_cotton_Broad_clothDress_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async classicfitmapselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_polo_Shirt_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_polo_Shirt__fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_polo_Shirt__fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_polo_Shirt__fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo straightLegSatinPant ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        await this.clickstraightLegSatinPant();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('O', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_front_', 'RL', user);\n        console.log(\"Done27\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('P', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_back_', 'RL', user);\n        console.log(\"Done28\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo pleatedMidiSkirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickpleatedMidiSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Q', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_front_', 'RL', user);\n        console.log(\"Done29\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_polo_Shirt_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_back_', 'RL', user);\n        console.log(\"Done30\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async cottoncrowneckselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_cotton_Crewneck_Tee_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo straightLegSatinPant ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        await this.clickstraightLegSatinPant();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('O', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_front_', 'RL', user);\n        console.log(\"Done27\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('P', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_back_', 'RL', user);\n        console.log(\"Done28\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo pleatedMidiSkirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickpleatedMidiSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Q', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_front_', 'RL', user);\n        console.log(\"Done29\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_cotton_Crewneck_Tee_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_back_', 'RL', user);\n        console.log(\"Done30\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async croppedquiltedselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_Cropped_Quilted_Jacket_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo straightLegSatinPant ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        await this.clickstraightLegSatinPant();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('O', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_front_', 'RL', user);\n        console.log(\"Done27\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('P', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_back_', 'RL', user);\n        console.log(\"Done28\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo pleatedMidiSkirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickpleatedMidiSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Q', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_front_', 'RL', user);\n        console.log(\"Done29\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_Cropped_Quilted_Jacket_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_back_', 'RL', user);\n        console.log(\"Done30\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async packableJacketselectCup(index, user, sizeText) {\n    try {\n      console.log('Current User:', user);\n      const userHasChanged = this.previousUser !== user.username;\n      this.previousUser = user.username;\n      if (userHasChanged) {\n        // Replace userHasChanged with your condition to detect a user change\n        this.storedSizeTexts = []; // Clear the array\n      }\n\n      console.log(`Pushed Size to array: ${sizeText}`);\n      this.storedSizeTexts.push(sizeText);\n      const cupElements = await this.allCupElement;\n      const availableSizes = [];\n      let i;\n      const cup = cupElements.length;\n      console.log(` length: ${cup}`);\n      // Collect all available cup sizes\n      for (i = 0; i < cupElements.length; i++) {\n        const cupElement = cupElements[i];\n        const isDisabled = await cupElement.getAttribute('disabled');\n        const cupText = await cupElement.getText();\n        if (!isDisabled) {\n          availableSizes.push(cupText);\n        }\n      }\n\n      // Iterate over available sizes and select each one\n      //for (const cupText of availableSizes)\n      for (let i = 0; i < availableSizes.length; i++) {\n        const cupText = availableSizes[i];\n        const cupElement = await this.getCupElementByText(cupText);\n        await cupElement.click();\n        console.log(`Clicked Size: ${cupText}`);\n\n        // Profile view front and back\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'RL', cupText);\n        console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\n        if (this.storedSizeTexts.length === 1) {\n          await home_page.captureAndUploadImage('L', '', index, '_The_packable_Jacket_profile_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n          console.log(\"Done10\");\n        }\n\n        // after selecting the cup size\n        await this.clickApplyButton();\n        // Wait for avatar to be displayed after clicking Apply (modify time as needed)\n        await avatarpage.avatardisplayed();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done11\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('N', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done12\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo Calfskin Handbag ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickcalfskinMiniRL50Handbag();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('S', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_front_', 'RL', user);\n        console.log(\"Done13\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Calfskin_Handbag_', '_back_', 'RL', user);\n        console.log(\"Done14\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\n        await this.scrolltoListOfRecommendation();\n        await this.clickleatherMediumBellportTote_Cuoio();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('U', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_front_', 'RL', user);\n        console.log(\"Done15\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('V', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportToteCuoio_', '_back_', 'RL', user);\n        console.log(\"Done16\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\n        await this.scrolltoListOfRecommendation();\n        await this.clickLeatherMediumBellportTote();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('W', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_front_', 'RL', user);\n        console.log(\"Done17\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('X', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_leatherMediumBellportTote_', '_back_', 'RL', user);\n        console.log(\"Done18\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Small Steel Black Finish\n        await this.scrolltoListOfRecommendation();\n        await this.clickSmallSteelBlackFinish();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('Y', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_front_', 'RL', user);\n        console.log(\"Done19\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Z', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Small_Steel_Black_Finish_', '_back_', 'RL', user);\n        console.log(\"Done20\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\n        await this.scrolltoListOfRecommendation();\n        await this.clickwelingtonEnamelBracelet();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'A', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_front_', 'RL', user);\n        console.log(\"Done21\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'B', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Welington_Enamel_Bracel_', '_back_', 'RL', user);\n        console.log(\"Done22\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** courtster Sneaker\n        await this.scrolltoListOfRecommendation();\n        await this.clickcourtsterSneaker();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'E', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_front_', 'RL', user);\n        console.log(\"Done23\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'F', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_courtster_Sneaker_', '_back_', 'RL', user);\n        console.log(\"Done24\");\n        await avatarpage.clickrecenter();\n\n        // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\n        await this.scrolltoListOfRecommendation();\n        await this.clickceliaCalfskinPump();\n        await avatarpage.avatardisplayed(); // To handle the time to combo visible\n        await this.waitForSpinnerToDisappear();\n        //Capture screenshot and Upload it\n        await home_page.captureAndUploadImage('A', 'C', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_front_', 'RL', user);\n        console.log(\"Done25\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('A', 'D', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_Celia_Calfskin_Pump_', '_back_', 'RL', user);\n        console.log(\"Done26\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo straightLegSatinPant ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        await this.clickstraightLegSatinPant();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('O', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_front_', 'RL', user);\n        console.log(\"Done27\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('P', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_straightLegSatinPant_', '_back_', 'RL', user);\n        console.log(\"Done28\");\n        await avatarpage.clickrecenter();\n\n        // ******Combo pleatedMidiSkirt ****************\n        // scroll to list of recommendation\n        await this.scrolltoListOfRecommendation();\n        //Pick the Floured pant\n        await this.clickpleatedMidiSkirt();\n        // wait for avatar to be displayed\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('Q', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_front_', 'RL', user);\n        console.log(\"Done29\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('R', '', index, '_The_packable_Jacket_fitting_', sizeText, cupText, '_default_', '_pleatedMidiSkirt_', '_back_', 'RL', user);\n        console.log(\"Done30\");\n        await avatarpage.clickrecenter();\n        await this.keepFirstElementAndRemoveOthers();\n        await this.clickMyprofile();\n        console.log(`[${i}-${i}] index: ${i}`);\n        if (i === cupElements.length - 2) {\n          console.log(\"Closing loop entered\");\n          await this.clickresetSetting();\n          await this.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          console.log(\"Closing loop END\");\n        }\n        index++;\n      }\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n    }\n  }\n  async getCupElementByText(cupText) {\n    const cupElements = await this.allCupElement;\n    for (let i = 0; i < cupElements.length; i++) {\n      const cupElement = cupElements[i];\n      const text = await cupElement.getText();\n      if (text === cupText) {\n        return cupElement;\n      }\n    }\n    throw new Error(`Cup element with text \"${cupText}\" not found.`);\n  }\n}\nmodule.exports = new myprofile();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsImF2YXRhcnBhZ2UiLCJob21lX3BhZ2UiLCJteXByb2ZpbGUiLCJteXByb2ZpbGVlbGVsbWVudCIsIiQiLCJhbGxDdXBFbGVtZW50IiwiJCQiLCJhcHBseUVsZW1lbnQiLCJiYWNrQXJyb3dFbGVtZW50IiwieW91cndlYXJpbmciLCJjdXBzaXplZWxlbWVudCIsImRyb3Bkb3duY3VwZWxlbWVudCIsImN1cEJlbGVtZW50IiwiY3VwQ2VsZW1lbnQiLCJtZWFzdXJtZW50IiwibXlpbmZvcm1hdGlvbiIsImxvZ291dGVsZW1lbnQiLCJyZWNvbW1lbmRhdGlvbmVsZW1lbnQiLCJwYW50ZWxlbWVudCIsImZsYXJlZFRyb3VzZXJzIiwibGVnZ2luc0VsZW1lbnQiLCJrbml0U2tpcnRFbGVtZW50IiwiYkJ1enpCYWdFbGVtZW50Iiwic21vb3RoTGVhdGhlckJhZyIsInNreWVCb290cyIsInJlc2V0U2V0dGluZ0VsZW1lbnQiLCJ5cndlYXJSZW1vdmVFbGVtZW50IiwiYWJkb21lbkVsZW1lbnQiLCJhcm1zRWxlbWVudCIsInRoaWdodHNFbGVtZW50IiwiZnVsbG5lc3NFbGVtZW50IiwiY2FtZGVuV29vbENyZXBlSmFja2V0cG9sbyIsImNhbWRlbldvb2xDcmVwZUphY2tldCIsInBsZWF0ZWRNaWRpU2tpcnQiLCJzdHJhaWdodExlZ1NhdGluUGFudCIsImNsYXNzaWNGaXRNZXNoIiwiY290dG9uQ3Jld25lY2tUZWUiLCJ0aGVQYWNrYWJsZUphY2tldCIsImNvdHRvbkJyb2FkY2xvdGhEcmVzcyIsImNyb3BwZWRRdWlsdGVkSmFja2V0IiwiY2VsaWFDYWxmc2tpblB1bXAiLCJMZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlIiwiU21hbGxTdGVlbEJsYWNrRmluaXNoIiwid2VsaW5ndG9uRW5hbWVsQnJhY2VsZXQiLCJjYWxmc2tpbk1pbmlSTDUwSGFuZGJhZyIsImxlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pbyIsImNvdXJ0c3RlclNuZWFrZXIiLCJzcGlubmVyV2hlZWwiLCJjbGlja0VsZW1lbnQiLCJlbGVtZW50Iiwid2FpdEZvckRpc3BsYXllZCIsInRpbWVvdXQiLCJicm93c2VyIiwid2FpdFVudGlsIiwiaXNDbGlja2FibGUiLCJ0aW1lb3V0TXNnIiwiY2xpY2siLCJjbGlja2NhbWRlbldvb2xDcmVwZUphY2tldHBvbG8iLCJqYWNrZXRQb2xvIiwiY2xpY2tjYW1kZW5Xb29sQ3JlcGVKYWNrZXQiLCJqYWNrZXQiLCJjbGlja3BsZWF0ZWRNaWRpU2tpcnQiLCJza2lydCIsImNsaWNrc3RyYWlnaHRMZWdTYXRpblBhbnQiLCJzdHJhaWdodExlZ1BhbnQiLCJjbGlja2NsYXNzaWNGaXRNZXNoIiwiY2xhc3NpY0ZpdCIsImNsaWNrY290dG9uQ3Jld25lY2tUZWUiLCJDcmV3bmVja1RlZSIsImNsaWNrdGhlUGFja2FibGVKYWNrZXQiLCJQYWNrYWJsZUphY2tldCIsImNsaWNrY290dG9uQnJvYWRjbG90aERyZXNzIiwiY2xvdGhEcmVzcyIsImNsaWNrY3JvcHBlZFF1aWx0ZWRKYWNrZXQiLCJRdWlsdGVkSmFja2V0IiwiY2xpY2tjZWxpYUNhbGZza2luUHVtcCIsIkNhbGZza2luUHVtcCIsImNsaWNrTGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZSIsIk1lZGl1bUJlbGxwb3J0VG90ZSIsImNsaWNrU21hbGxTdGVlbEJsYWNrRmluaXNoIiwiU3RlZWxCbGFja0ZpbmlzaCIsImNsaWNrd2VsaW5ndG9uRW5hbWVsQnJhY2VsZXQiLCJFbmFtZWxCcmFjZWxldCIsImNsaWNrY2FsZnNraW5NaW5pUkw1MEhhbmRiYWciLCJjYWxmc2tpbkhhbmRiYWciLCJjbGlja2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfQ3VvaW8iLCJsZWF0aGVyQmVsbHBvcnRUb3RlIiwiY2xpY2tjb3VydHN0ZXJTbmVha2VyIiwiY291cnRzdGVyU25lYWtlcnMiLCJ3YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyIiwic3Bpbm5lciIsInJldmVyc2UiLCJlcnJvciIsInNsaWRlcmRyYWciLCJhYmRvbWVuIiwiYXJtcyIsInRoaWdocyIsImZ1bGxuZXNzIiwiZHJhZ0FuZERyb3AiLCJ4IiwieSIsImNsaWNrTXlwcm9maWxlIiwiVElNRU9VVCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwibWVzc2FnZSIsImNsaWNrcmVzZXRTZXR0aW5nIiwicmVzZXQiLCJzY3JvbGx0b2N1cHNpemUiLCJjdXBzaXplIiwiaXNEaXNwbGF5ZWQiLCJzY3JvbGxJbnRvVmlldyIsInBhdXNlIiwidG9nZ2xlRHJvcGRvd25WYWx1ZUMiLCJkcm9wZG93biIsImN1cEIiLCJjdXJyZW50VmFsdWUiLCJnZXRUZXh0Iiwib3B0aW9uQyIsInRvZ2dsZURyb3Bkb3duVmFsdWVCIiwiY3VwQyIsIm9wdGlvbkIiLCJzY3JvbGx0b21lYXN1cm1lbnQiLCJtZWFzdXJlbWVudGxpbmsiLCJjbGlja015SW5mb3JtYXRpb24iLCJpbmZvcm1hdGlvbiIsImNsaWNrTG9nb3V0IiwibG9nb3V0Iiwic2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbiIsImxpc3QiLCJjbGlja1BhbnQiLCJwYW50IiwiY2xpY2tmbGFyZWRUcm91c2VycyIsImZsYXJlZFRyb3VzZXIiLCJjbGlja2xlZ2dpbnMiLCJsZWdnaW5zIiwiY2xpY2trbml0U2tpcnQiLCJMZWdnaW5nc0JvdHRvbSIsImNsaWNrYkJ1enpCYWciLCJiQnV6ekJhZyIsImNsaWNreXJ3ZWFyUmVtb3ZlIiwieXJ3ZWFyUmVtb3ZlIiwiY2xpY2tza3llQm9vdHMiLCJza3llQm9vdCIsImNsaWNrc21vb3RoTGVhdGhlckJhZ3MiLCJzbW9vdGhMZWF0aGVyQmFncyIsImNsaWNrYmFja0Fycm93IiwiYmFja0Fycm93IiwiY2xpY2tBcHBseUJ1dHRvbiIsImFwcGx5IiwiaXNBcHBseUJ1dHRvbkRpc3BsYXllZCIsImlzQXBwbHlCdXR0b25FbmFibGVkIiwiaXNFbmFibGVkIiwia2VlcEZpcnN0RWxlbWVudEFuZFJlbW92ZU90aGVycyIsImVsZW1lbnRzIiwibGVuZ3RoIiwiaSIsImJ1dHRvbkVsZW1lbnQiLCJ3YWl0Rm9yQ2xpY2thYmxlIiwiYnV0dG9uVGV4dCIsInRyaW0iLCJzdG9yZWRTaXplVGV4dHMiLCJwcmV2aW91c1VzZXIiLCJzZWxlY3RDdXAiLCJpbmRleCIsInVzZXIiLCJzaXplVGV4dCIsInVzZXJIYXNDaGFuZ2VkIiwidXNlcm5hbWUiLCJwdXNoIiwiY3VwRWxlbWVudHMiLCJhdmFpbGFibGVTaXplcyIsImN1cCIsImN1cEVsZW1lbnQiLCJpc0Rpc2FibGVkIiwiZ2V0QXR0cmlidXRlIiwiY3VwVGV4dCIsImdldEN1cEVsZW1lbnRCeVRleHQiLCJhdmF0YXJkaXNwbGF5ZWQiLCJpbnNlcnRUZXh0R1MiLCJjYXB0dXJlQW5kVXBsb2FkSW1hZ2UiLCJiYWNrdmlldyIsImNsaWNrcmVjZW50ZXIiLCJzcG9ydHNCcmFfc2VsZWN0Q3VwIiwiS25pdF9EcmVzc19zZWxlY3RDdXAiLCJiaWtlckphY2tldHNlbGVjdEN1cCIsImtuaXRza2lydHNlbGVjdEN1cCIsIkxlZ2dpbmdzc2VsZWN0Q3VwIiwiZmxhcmVUcm91c2Vyc3NlbGVjdEN1cCIsImNhbWRlbldvb2xDcmVwZUphY2tldHNlbGVjdEN1cCIsImNvdHRvbkJyb2FkY2xvdGhEcmVzc3NlbGVjdEN1cCIsImNsYXNzaWNmaXRtYXBzZWxlY3RDdXAiLCJjb3R0b25jcm93bmVja3NlbGVjdEN1cCIsImNyb3BwZWRxdWlsdGVkc2VsZWN0Q3VwIiwicGFja2FibGVKYWNrZXRzZWxlY3RDdXAiLCJ0ZXh0IiwiRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccGFnZW9iamVjdHNcXCIsInNvdXJjZXMiOlsibXlQcm9maWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhZ2UgPSByZXF1aXJlKFwiLi9wYWdlXCIpO1xyXG5jb25zdCBhdmF0YXJwYWdlID0gcmVxdWlyZSgnLi9hdmF0YXJfcGFnZScpO1xyXG5jb25zdCBob21lX3BhZ2UgPSByZXF1aXJlKCcuL2hvbWVfcGFnZScpO1xyXG5cclxuY2xhc3MgbXlwcm9maWxlIGV4dGVuZHMgUGFnZSB7XHJcbiAgICAvLyA9PT09PT09PT0gU2VsZWN0b3JzID09PT09PT09PVxyXG5cclxuICAgIGdldCBteXByb2ZpbGVlbGVsbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy8qW2NvbnRhaW5zKEBjbGFzcywnYm9kc19fcHJvZmlsZScpXVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxsQ3VwRWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkJCgnLy9wW3RleHQoKT1cIkN1cCBTaXplXCJdLy9wYXJlbnQ6OmRpdi8vZGVzY2VuZGFudDo6c2VsZWN0Ly9vcHRpb24nKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBnZXQgYXBwbHlFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAaWQ9XCJzaW1wbGUtdGFicGFuZWwtMFwiXS9kaXYvZGl2L2Rpdi9kaXYvZGl2WzJdL2Rpdls4XS9idXR0b24nKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBiYWNrQXJyb3dFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAZGF0YS10ZXN0aWQ9XCJBcnJvd0JhY2tJb3NJY29uXCJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHlvdXJ3ZWFyaW5nKCl7XHJcbiAgICAgICAgLy9yZXR1cm4gJCQoJy8vZGl2W0BpZD1cImJvZHNfX2N1cnJlbnQtcHJvZHVjdC1pdGVtLS0wXCJdLy9wYXJlbnQ6OmRpdi8vYnV0dG9uJyk7XHJcbiAgICAgICAgLy9yZXR1cm4gJCQoJygvL2Rpdltjb250YWlucyhAY2xhc3MsXCJib2RzX19wcm9kdWN0LWxpc3RcIildKVsxXS8vZGl2W2NvbnRhaW5zKEBjbGFzcyxcImJvZHNfX3Byb2R1Y3QtaXRlbVwiKV0gLy9idXR0b24vL3BhcmVudDo6ZGl2Jyk7XHJcbiAgICAgICAgcmV0dXJuICQkKFwiLy9kaXZbY29udGFpbnMoQGlkLCdib2RzX19jdXJyZW50LXByb2R1Y3QtaXRlbScpXVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3Vwc2l6ZWVsZW1lbnQoKXtcclxuICAgICAgICAvL3JldHVybiAkKCcvL3BbdGV4dCgpPVwiQ3VwIFNpemVcIl0nKTtcclxuICAgICAgICAvL2xldCBjdXBzaXplZWxlID0gXCIjc2ltcGxlLXRhYnBhbmVsLTAgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuc2MtdHNGWUUuZHBFTW9sLk11aUJveC1yb290LmNzcy0wID4gZGl2Om50aC1jaGlsZCgzKSA+IHAuTXVpVHlwb2dyYXBoeS1yb290Lk11aVR5cG9ncmFwaHktYm9keTEuc2Mta1lXVllBLmlFWllXLmNzcy0xaXF5d3A5XCI7ICAgIFxyXG4gICAgICAgIHJldHVybiAkKCcoLy8qW0BpZD1cInNpbXBsZS10YWJwYW5lbC0wXCJdLy9kZXNjZW5kYW50OjpwKVs4XScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkcm9wZG93bmN1cGVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnLy9wW3RleHQoKT1cIkN1cCBTaXplXCJdLy9wYXJlbnQ6OmRpdi8vZGVzY2VuZGFudDo6c2VsZWN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGN1cEJlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJygvL3BbdGV4dCgpPVwiQ3VwIFNpemVcIl0vL3BhcmVudDo6ZGl2Ly9kZXNjZW5kYW50OjpzZWxlY3QvL29wdGlvbilbNF0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VwQ2VsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnKC8vcFt0ZXh0KCk9XCJDdXAgU2l6ZVwiXS8vcGFyZW50OjpkaXYvL2Rlc2NlbmRhbnQ6OnNlbGVjdC8vb3B0aW9uKVs1XScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtZWFzdXJtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2J1dHRvbltjb250YWlucyhAY2xhc3MsJ2JvZHNfX2xpbmstbWVhc3VyZW1lbnRzJyldXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBteWluZm9ybWF0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuICQoJyNzaW1wbGUtdGFiLTEnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbG9nb3V0ZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcvL2J1dHRvbltjb250YWlucyhAY2xhc3MsXCJib2RzX19idXR0b24gYm9kc19fYnV0dG9uXCIpXScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNvbW1lbmRhdGlvbmVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnKC8vZGl2W2NvbnRhaW5zKEBjbGFzcyxcImJvZHNfX3Byb2R1Y3QtbGlzdFwiKV0pWzJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhbnRlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJyNib2RzX19yZWxhdGVkLXByb2R1Y3QtaXRlbS0tMScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQmFsbWFpblxyXG4gICAgZ2V0IGZsYXJlZFRyb3VzZXJzKCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vcFt0ZXh0KCk9XCJGbGFyZWQgdHJvdXNlcnMgd2l0aCBjcmVhc2VzXCJdLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZWdnaW5zRWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcvL3BbdGV4dCgpPVwiS25pdCBsZWdnaW5ncyB3aXRoIG1vbm9ncmFtXCJdLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrbml0U2tpcnRFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vcFt0ZXh0KCk9XCJNb25vZ3JhbW1lZCBrbml0IHNraXJ0XCJdLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBiQnV6ekJhZ0VsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnLy9wW3RleHQoKT1cIkItQnV6eiAxOSBsZWF0aGVyIGJhZyB3aXRoIGphY3F1YXJkIG1vbm9ncmFtXCJdLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzbW9vdGhMZWF0aGVyQmFnKCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vcFt0ZXh0KCk9XCJTbW9vdGggbGVhdGhlciBCLUJ1enogMjMgYmFnXCJdLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBza3llQm9vdHMoKXtcclxuICAgICAgICByZXR1cm4gJCgnLy9wW2NvbnRhaW5zKHRleHQoKSxcIkJpY29sb3Igc3RyZXRjaCBrbml0IFNreWUgYW5rbGUgYm9vdHNcIildLy9wYXJlbnQ6OmRpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZXNldFNldHRpbmdFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vYnV0dG9uW3RleHQoKT1cIlJlc2V0IFNldHRpbmdzXCJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHlyd2VhclJlbW92ZUVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnKC8vZGl2W2NvbnRhaW5zKEBjbGFzcyxcImJvZHNfX3Byb2R1Y3QtaXRlbS0taW1hZ2VcIildLy9mb2xsb3dpbmctc2libGluZzo6YnV0dG9uKVsyXScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhYmRvbWVuRWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJyNzaW1wbGUtdGFicGFuZWwtMCA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdi5zYy1mV0lNVlEua0R3VlFzLk11aUJveC1yb290LmNzcy0wID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoNSknKTtcclxuICAgICAgICAvL3JldHVybiAkKCcjc2ltcGxlLXRhYnBhbmVsLTAgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuc2MtYlB5aHFvLmlPV0N3bi5NdWlCb3gtcm9vdC5jc3MtMCA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDkpID4gZGl2Jyk7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAaWQ9XCJzaW1wbGUtdGFicGFuZWwtMFwiXS9kaXYvZGl2L2Rpdi9kaXYvZGl2WzJdL2RpdlsyXS9kaXZbNF0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXJtc0VsZW1lbnQoKXtcclxuICAgICAgICAvL3JldHVybiAkKCcjc2ltcGxlLXRhYnBhbmVsLTAgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuc2MtZldJTVZRLmtEd1ZRcy5NdWlCb3gtcm9vdC5jc3MtMCA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDcpJyk7XHJcbiAgICAgICAgLy9yZXR1cm4gJCgnI3NpbXBsZS10YWJwYW5lbC0wID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2LnNjLWRVV1dOZi5kYmxiV1guTXVpQm94LXJvb3QuY3NzLTAgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCg1KSA+IGRpdicpO1xyXG4gICAgICAgIC8vcmV0dXJuICQoJyNzaW1wbGUtdGFicGFuZWwtMCA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdi5zYy1kVVdXTmYuZGJsYldYLk11aUJveC1yb290LmNzcy0wID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoNSkgPiBkaXYnKTtcclxuICAgICAgICByZXR1cm4gJCgnLy8qW0BpZD1cInNpbXBsZS10YWJwYW5lbC0wXCJdL2Rpdi9kaXYvZGl2L2Rpdi9kaXZbMl0vZGl2WzJdL2RpdlsyXScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aGlnaHRzRWxlbWVudCgpe1xyXG4gICAgICAgLy9yZXR1cm4gJCgnI3NpbXBsZS10YWJwYW5lbC0wID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2LnNjLWZXSU1WUS5rRHdWUXMuTXVpQm94LXJvb3QuY3NzLTAgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCg5KScpO1xyXG4gICAgICAvL3JldHVybiAkKCcjc2ltcGxlLXRhYnBhbmVsLTAgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuc2MtYlB5aHFvLmlPV0N3bi5NdWlCb3gtcm9vdC5jc3MtMCA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDcpID4gZGl2Jyk7XHJcbiAgICAgIHJldHVybiAkKCcvLypbQGlkPVwic2ltcGxlLXRhYnBhbmVsLTBcIl0vZGl2L2Rpdi9kaXYvZGl2L2RpdlsyXS9kaXZbMl0vZGl2WzNdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZ1bGxuZXNzRWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJyNzaW1wbGUtdGFicGFuZWwtMCA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdi5zYy1mV0lNVlEua0R3VlFzLk11aUJveC1yb290LmNzcy0wID4gZGl2Om50aC1jaGlsZCg0KSA+IGRpdjpudGgtY2hpbGQoMykgPiBkaXYnKTtcclxuICAgICAgICByZXR1cm4gJCgnLy8qW0BpZD1cInNpbXBsZS10YWJwYW5lbC0wXCJdL2Rpdi9kaXYvZGl2L2Rpdi9kaXZbMl0vZGl2WzRdL2RpdlsxXScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbkNlbGlhIENhbGZza2luIFB1bXAnOiBcIi8vcFt0ZXh0KCk9J0NlbGlhIENhbGZza2luIFB1bXAnXVwiXHJcbkxlYXRoZXIgTWVkaXVtIEJlbGxwb3J0IFRvdGU6IFwiKC8vcFtjb250YWlucyh0ZXh0KCksJ0xlYXRoZXIgTWVkaXVtIEJlbGxwb3J0IFRvdGUnKV0pWzFdXCJcclxuU21hbGwgU3RlZWwgQmxhY2sgRmluaXNoOiBcIi8vcFt0ZXh0KCk9J1NtYWxsIFN0ZWVsIEJsYWNrIEZpbmlzaCddXCJcclxuV2VsaW5ndG9uIEVuYW1lbCBCcmFjZWxldDogXCIvL3BbdGV4dCgpPSdXZWxpbmd0b24gRW5hbWVsIEJyYWNlbGV0J11cIlxyXG5Db3R0b24gQnJvYWRjbG90aCBEcmVzczogXCIvL3BbdGV4dCgpPSdDb3R0b24gQnJvYWRjbG90aCBEcmVzcyddXCJcclxuQ2FsZnNraW4gTWluaSBSTDUwIEhhbmRiYWc6IFwiLy9wW3RleHQoKT0nQ2FsZnNraW4gTWluaSBSTDUwIEhhbmRiYWcnXVwiXHJcbkxlYXRoZXIgTWVkaXVtIEJlbGxwb3J0IFRvdGUgKEN1b2lvKTogXCIvL3BbdGV4dCgpPSdMZWF0aGVyIE1lZGl1bSBCZWxscG9ydCBUb3RlIChDdW9pbyknXVwiXHJcbkNvdXJ0c3RlciBTbmVha2VyOiBcIi8vcFt0ZXh0KCk9J0NvdXJ0c3RlciBTbmVha2VyJ11cIlxyXG4qL1xyXG4gICAgLy9STCBHYXJtZW50c1xyXG4gICAgZ2V0IGNhbWRlbldvb2xDcmVwZUphY2tldHBvbG8oKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vcFt0ZXh0KCk9J0NhbWRlbiBXb29sIENyZXBlIEphY2tldCAod2l0aCBQb2xvKSddXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2FtZGVuV29vbENyZXBlSmFja2V0KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdDYW1kZW4gV29vbCBDcmVwZSBKYWNrZXQnXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBsZWF0ZWRNaWRpU2tpcnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vcFt0ZXh0KCk9J1BsZWF0ZWQgTWlkaSBTa2lydCddXCIpICBcclxuICAgIH0gICAgXHJcblxyXG4gICAgZ2V0IHN0cmFpZ2h0TGVnU2F0aW5QYW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdTdHJhaWdodCBMZWcgU2F0aW4gUGFudCddXCIpICBcclxuICAgIH0gICAgIFxyXG5cclxuICAgIGdldCBjbGFzc2ljRml0TWVzaCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9wW3RleHQoKT0nQ2xhc3NpYyBGaXQgTWVzaCBQb2xvIFNoaXJ0J11cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb3R0b25DcmV3bmVja1RlZSgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9wW3RleHQoKT0nQ290dG9uIEJyb2FkY2xvdGggRHJlc3MnXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRoZVBhY2thYmxlSmFja2V0KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdQYWNrYWJsZSBRdWlsdGVkIEphY2tldCddXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY290dG9uQnJvYWRjbG90aERyZXNzKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2FbY29udGFpbnModGV4dCgpLCdDb3R0b24gQnJvYWRjbG90aCcpXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNyb3BwZWRRdWlsdGVkSmFja2V0KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2FbY29udGFpbnModGV4dCgpLCdDcm9wcGVkIFF1aWx0ZWQgSmFja2V0JyldXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2VsaWFDYWxmc2tpblB1bXAoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vcFt0ZXh0KCk9J0NlbGlhIENhbGZza2luIFB1bXAnXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IExlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGUoKXtcclxuICAgICAgICByZXR1cm4gJChcIigvL3BbY29udGFpbnModGV4dCgpLCdMZWF0aGVyIE1lZGl1bSBCZWxscG9ydCBUb3RlJyldKVsxXVwiKSAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNtYWxsU3RlZWxCbGFja0ZpbmlzaCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9wW3RleHQoKT0nU21hbGwgU3RlZWwgQmxhY2sgRmluaXNoJ11cIikgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3ZWxpbmd0b25FbmFtZWxCcmFjZWxldCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy9wW3RleHQoKT0nV2VsaW5ndG9uIEVuYW1lbCBCcmFjZWxldCddXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY290dG9uQnJvYWRjbG90aERyZXNzKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdDb3R0b24gQnJvYWRjbG90aCBEcmVzcyddXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2FsZnNraW5NaW5pUkw1MEhhbmRiYWcoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vcFt0ZXh0KCk9J0NhbGZza2luIE1pbmkgUkw1MCBIYW5kYmFnJ11cIikgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdMZWF0aGVyIE1lZGl1bSBCZWxscG9ydCBUb3RlIChDdW9pbyknXVwiKSAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBjb3VydHN0ZXJTbmVha2VyKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3BbdGV4dCgpPSdDb3VydHN0ZXIgU25lYWtlciddXCIpICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3Bpbm5lcldoZWVsKCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvLypbY29udGFpbnMoQGNsYXNzLCdNdWlDaXJjdWxhclByb2dyZXNzLXN2ZycpXVwiKVxyXG4gICAgfVxyXG4gICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgICAgICAvLyBSTFxyXG4gICAgICAgIGFzeW5jIGNsaWNrRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGVsZW1lbnQud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IGVsZW1lbnQuaXNDbGlja2FibGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0TXNnOiBgJHtlbGVtZW50fSBlbGVtZW50IGlzIG5vdCBjbGlja2FibGUgYWZ0ZXIgd2FpdGluZyBmb3IgMTAgc2Vjb25kc2BcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGF3YWl0IGVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrY2FtZGVuV29vbENyZXBlSmFja2V0cG9sbygpIHtcclxuICAgICAgICBjb25zdCBqYWNrZXRQb2xvID0gYXdhaXQgdGhpcy5jYW1kZW5Xb29sQ3JlcGVKYWNrZXRwb2xvO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGphY2tldFBvbG8pO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgYXN5bmMgIGNsaWNrY2FtZGVuV29vbENyZXBlSmFja2V0KCkge1xyXG4gICAgICAgIGNvbnN0IGphY2tldCA9IGF3YWl0IHRoaXMuY2FtZGVuV29vbENyZXBlSmFja2V0O1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGphY2tldCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrcGxlYXRlZE1pZGlTa2lydCgpIHtcclxuICAgICAgICBjb25zdCBza2lydCA9IGF3YWl0IHRoaXMucGxlYXRlZE1pZGlTa2lydDtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChza2lydCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrc3RyYWlnaHRMZWdTYXRpblBhbnQoKSB7XHJcbiAgICAgICAgY29uc3Qgc3RyYWlnaHRMZWdQYW50ID0gYXdhaXQgdGhpcy5zdHJhaWdodExlZ1NhdGluUGFudDtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChzdHJhaWdodExlZ1BhbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja2NsYXNzaWNGaXRNZXNoKCkge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzaWNGaXQgPSBhd2FpdCB0aGlzLmNsYXNzaWNGaXRNZXNoO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGNsYXNzaWNGaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja2NvdHRvbkNyZXduZWNrVGVlKCkge1xyXG4gICAgICAgIGNvbnN0IENyZXduZWNrVGVlID0gYXdhaXQgdGhpcy5jb3R0b25DcmV3bmVja1RlZTtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChDcmV3bmVja1RlZSk7XHJcbiAgICB9IFxyXG4gICAgXHJcbiAgICBhc3luYyAgY2xpY2t0aGVQYWNrYWJsZUphY2tldCgpIHtcclxuICAgICAgICBjb25zdCBQYWNrYWJsZUphY2tldCA9IGF3YWl0IHRoaXMudGhlUGFja2FibGVKYWNrZXQ7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoUGFja2FibGVKYWNrZXQpO1xyXG4gICAgfSBcclxuXHJcbiAgICBhc3luYyAgY2xpY2tjb3R0b25Ccm9hZGNsb3RoRHJlc3MoKSB7XHJcbiAgICAgICAgY29uc3QgY2xvdGhEcmVzcyA9IGF3YWl0IHRoaXMuY290dG9uQnJvYWRjbG90aERyZXNzO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGNsb3RoRHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja2Nyb3BwZWRRdWlsdGVkSmFja2V0KCkge1xyXG4gICAgICAgIGNvbnN0IFF1aWx0ZWRKYWNrZXQgPSBhd2FpdCB0aGlzLmNyb3BwZWRRdWlsdGVkSmFja2V0O1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KFF1aWx0ZWRKYWNrZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja2NlbGlhQ2FsZnNraW5QdW1wKCkge1xyXG4gICAgICAgIGNvbnN0IENhbGZza2luUHVtcCA9IGF3YWl0IHRoaXMuY2VsaWFDYWxmc2tpblB1bXA7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoQ2FsZnNraW5QdW1wKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY2xpY2tMZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlKCkge1xyXG4gICAgICAgIGNvbnN0IE1lZGl1bUJlbGxwb3J0VG90ZSA9IGF3YWl0IHRoaXMuTGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZTtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChNZWRpdW1CZWxscG9ydFRvdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jICBjbGlja1NtYWxsU3RlZWxCbGFja0ZpbmlzaCgpIHtcclxuICAgICAgICBjb25zdCBTdGVlbEJsYWNrRmluaXNoID0gYXdhaXQgdGhpcy5TbWFsbFN0ZWVsQmxhY2tGaW5pc2g7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQoU3RlZWxCbGFja0ZpbmlzaCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrd2VsaW5ndG9uRW5hbWVsQnJhY2VsZXQoKSB7XHJcbiAgICAgICAgY29uc3QgRW5hbWVsQnJhY2VsZXQgPSBhd2FpdCB0aGlzLndlbGluZ3RvbkVuYW1lbEJyYWNlbGV0O1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KEVuYW1lbEJyYWNlbGV0KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY2xpY2tjYWxmc2tpbk1pbmlSTDUwSGFuZGJhZygpIHtcclxuICAgICAgICBjb25zdCBjYWxmc2tpbkhhbmRiYWcgPSBhd2FpdCB0aGlzLmNhbGZza2luTWluaVJMNTBIYW5kYmFnO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tFbGVtZW50KGNhbGZza2luSGFuZGJhZyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV9DdW9pbygpIHtcclxuICAgICAgICBjb25zdCBsZWF0aGVyQmVsbHBvcnRUb3RlID0gYXdhaXQgdGhpcy5sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlQ3VvaW87XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jbGlja0VsZW1lbnQobGVhdGhlckJlbGxwb3J0VG90ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNsaWNrY291cnRzdGVyU25lYWtlcigpIHtcclxuICAgICAgICBjb25zdCBjb3VydHN0ZXJTbmVha2VycyA9IGF3YWl0IHRoaXMuY291cnRzdGVyU25lYWtlcjtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrRWxlbWVudChjb3VydHN0ZXJTbmVha2Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgd2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcih0aW1lb3V0ID0gNjAwMDApIHtcclxuICAgICAgICBjb25zdCBzcGlubmVyID0gdGhpcy5zcGlubmVyV2hlZWw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgc3Bpbm5lci53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dCwgcmV2ZXJzZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNsaWRlcmRyYWcoKXtcclxuICAgICAgICBjb25zdCBhYmRvbWVuID0gYXdhaXQgdGhpcy5hYmRvbWVuRWxlbWVudDtcclxuICAgICAgICBjb25zdCBhcm1zID0gYXdhaXQgdGhpcy5hcm1zRWxlbWVudDtcclxuICAgICAgICBjb25zdCB0aGlnaHMgPSBhd2FpdCB0aGlzLnRoaWdodHNFbGVtZW50XHJcbiAgICAgICAgY29uc3QgZnVsbG5lc3MgPSBhd2FpdCB0aGlzLmZ1bGxuZXNzRWxlbWVudDtcclxuXHJcbiAgICAgICAgYXdhaXQgYWJkb21lbi5kcmFnQW5kRHJvcCh7IHg6IDExMCwgeTogMCB9KTtcclxuICAgICAgICBhd2FpdCBhcm1zLmRyYWdBbmREcm9wKHsgeDogMTEwLCB5OiAwIH0pO1xyXG4gICAgICAgIGF3YWl0IHRoaWdocy5kcmFnQW5kRHJvcCh7IHg6IDExMCwgeTogMCB9KTtcclxuICAgICAgICBhd2FpdCBmdWxsbmVzcy5kcmFnQW5kRHJvcCh7IHg6IDExMCwgeTogMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja015cHJvZmlsZSgpIHtcclxuICAgICAgICBjb25zdCBUSU1FT1VUID0gNjAwMDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbXlwcm9maWxlID0gYXdhaXQgdGhpcy5teXByb2ZpbGVlbGVsbWVudDtcclxuICAgICAgICAgICAgYXdhaXQgbXlwcm9maWxlLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCBteXByb2ZpbGUuY2xpY2soKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsaWNrZWQgTXkgUHJvZmlsZSBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE15IFByb2ZpbGUgYnV0dG9uIGRpZCBub3QgYXBwZWFyIHdpdGhpbiAke1RJTUVPVVQgLyAxMDAwfSBzZWNvbmRzLmApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQgd2hpbGUgY2xpY2tpbmcgTXkgUHJvZmlsZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBjbGlja3Jlc2V0U2V0dGluZygpIHtcclxuICAgICAgICBjb25zdCBUSU1FT1VUID0gNjAwMDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzZXQgPSBhd2FpdCB0aGlzLnJlc2V0U2V0dGluZ0VsZW1lbnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHJlc2V0LndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCByZXNldC5jbGljaygpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpY2tlZCByZXNldCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYHJlc2V0IGxpbmsgZGlkIG5vdCBhcHBlYXIgd2l0aGluICR7VElNRU9VVCAvIDEwMDB9IHNlY29uZHMuYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZCB3aGlsZSBjbGlja2luZyByZXNldDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNjcm9sbHRvY3Vwc2l6ZSgpe1xyXG4gICAgICAgIGNvbnN0IGN1cHNpemUgPSBhd2FpdCB0aGlzLmN1cHNpemVlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IGN1cHNpemUuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDQwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgY3Vwc2l6ZS5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMjAwMCk7XHJcbiAgICB9ICBcclxuICAgIFxyXG4gICAgLy8gQ3VwIHNpemUgQiB0byBDXHJcbiAgICBhc3luYyB0b2dnbGVEcm9wZG93blZhbHVlQygpIHtcclxuICAgICAgICBjb25zdCBkcm9wZG93biA9IGF3YWl0IHRoaXMuZHJvcGRvd25jdXBlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGRyb3Bkb3duLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgY29uc3QgY3VwQiA9IGF3YWl0IHRoaXMuY3VwQmVsZW1lbnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gYXdhaXQgY3VwQi5nZXRUZXh0KCk7XHJcbiAgICAgICAgLy8gQ2xpY2sgdGhlIGRyb3Bkb3duIHRvIHN3aXRjaCB0byB0aGUgZGVzaXJlZCB2YWx1ZVxyXG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09ICdCJykge1xyXG4gICAgICAgICAgICBhd2FpdCBkcm9wZG93bi5jbGljaygpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25DID0gYXdhaXQgdGhpcy5jdXBDZWxlbWVudDtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgyMDAwKTtcclxuICAgICAgICAgICAgYXdhaXQgb3B0aW9uQy5jbGljaygpO1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDApO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcbiBcclxuICAgIC8vIEN1cCBzaXplIEMgdG8gQlxyXG4gICAgYXN5bmMgdG9nZ2xlRHJvcGRvd25WYWx1ZUIoKSB7XHJcbiAgICAgICAgY29uc3QgZHJvcGRvd24gPSBhd2FpdCB0aGlzLmRyb3Bkb3duY3VwZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBkcm9wZG93bi5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIGNvbnN0IGN1cEMgPSBhd2FpdCB0aGlzLmN1cENlbGVtZW50O1xyXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCB2YWx1ZVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGF3YWl0IGN1cEMuZ2V0VGV4dCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsaWNrIHRoZSBkcm9wZG93biB0byBzd2l0Y2ggdG8gdGhlIGRlc2lyZWQgdmFsdWVcclxuICAgICAgICBpZiAoY3VycmVudFZhbHVlID09PSAnQycpIHtcclxuICAgICAgICAgICAgYXdhaXQgZHJvcGRvd24uY2xpY2soKTtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uQiA9IGF3YWl0IHRoaXMuY3VwQmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMjAwMCk7XHJcbiAgICAgICAgICAgIGF3YWl0IG9wdGlvbkIuY2xpY2soKTtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgyMDAwKTtcclxuICAgICAgICB9IFxyXG4gICAgfSAgIFxyXG5cclxuICAgIGFzeW5jIHNjcm9sbHRvbWVhc3VybWVudCgpe1xyXG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50bGluayA9IGF3YWl0IHRoaXMubWVhc3VybWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBtZWFzdXJlbWVudGxpbmsuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDYwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbWVhc3VyZW1lbnRsaW5rLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja015SW5mb3JtYXRpb24oKXtcclxuICAgICAgICBjb25zdCBpbmZvcm1hdGlvbiA9IGF3YWl0IHRoaXMubXlpbmZvcm1hdGlvbjtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBpbmZvcm1hdGlvbi5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogNjAwMDB9KTtcclxuICAgICAgICBhd2FpdCBpbmZvcm1hdGlvbi5jbGljaygpO1xyXG4gICAgICAgLy8gYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja0xvZ291dCgpe1xyXG4gICAgICAgIGNvbnN0IGxvZ291dCA9IGF3YWl0IHRoaXMubG9nb3V0ZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBsb2dvdXQuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDYwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbG9nb3V0LmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgdGhpcy5yZWNvbW1lbmRhdGlvbmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGxpc3Quc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBsaXN0LmlzRGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgIH0sIHsgdGltZW91dDogNjAwMDAsIHRpbWVvdXRNc2c6ICdMaXN0IG9mIHJlY29tbWVuZGF0aW9ucyBpcyBub3QgZGlzcGxheWVkIHdpdGhpbiB0aGUgdGltZW91dCBwZXJpb2QnIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvY2N1cnJlZCB3aGlsZSBzY3JvbGxpbmcgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbnM6XCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tQYW50KCl7XHJcbiAgICAgICAgY29uc3QgcGFudCA9IGF3YWl0IHRoaXMucGFudGVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgcGFudC5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogNjAwMDB9KTtcclxuICAgICAgICBhd2FpdCBwYW50LmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tmbGFyZWRUcm91c2Vycygpe1xyXG4gICAgICAgIGNvbnN0IGZsYXJlZFRyb3VzZXIgPSBhd2FpdCB0aGlzLmZsYXJlZFRyb3VzZXJzO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IGZsYXJlZFRyb3VzZXIuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDYwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgZmxhcmVkVHJvdXNlci5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNrbGVnZ2lucygpe1xyXG4gICAgICAgIGNvbnN0IGxlZ2dpbnMgPSBhd2FpdCB0aGlzLmxlZ2dpbnNFbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IGxlZ2dpbnMuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDYwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbGVnZ2lucy5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNra25pdFNraXJ0KCkge1xyXG4gICAgICAgIGNvbnN0IExlZ2dpbmdzQm90dG9tID0gYXdhaXQgdGhpcy5rbml0U2tpcnRFbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IExlZ2dpbmdzQm90dG9tLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiA2MDAwMCB9KTtcclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgTGVnZ2luZ3NCb3R0b20uaXNDbGlja2FibGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGlzQ2xpY2thYmxlO1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgICAgIHRpbWVvdXRNc2c6ICdMZWdnaW5zIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgYXdhaXQgTGVnZ2luZ3NCb3R0b20uY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja2JCdXp6QmFnKCkge1xyXG4gICAgICAgIGNvbnN0IGJCdXp6QmFnID0gYXdhaXQgdGhpcy5iQnV6ekJhZ0VsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYkJ1enpCYWcud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDYwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBiQnV6ekJhZy5pc0NsaWNrYWJsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNDbGlja2FibGU7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcclxuICAgICAgICAgICAgdGltZW91dE1zZzogJ2JCdXp6QmFnIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgYXdhaXQgYkJ1enpCYWcuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja3lyd2VhclJlbW92ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB5cndlYXJSZW1vdmUgPSBhd2FpdCB0aGlzLnlyd2VhclJlbW92ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHlyd2VhclJlbW92ZS53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNjAwMDAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCB5cndlYXJSZW1vdmUuaXNDbGlja2FibGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0TXNnOiAneXJ3ZWFyUmVtb3ZlIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICBhd2FpdCB5cndlYXJSZW1vdmUuY2xpY2soKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGVycm9yIGdyYWNlZnVsbHkgKGUuZy4sIGxvZyB0aGUgZXJyb3IsIGJ1dCBkbyBub3QgdGhyb3cgaXQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5cndlYXJSZW1vdmUgZWxlbWVudCB3YXMgbm90IGZvdW5kIER1ZSB0byBnYXJtZW50IFNpemUgTkE6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgYXN5bmMgY2xpY2tza3llQm9vdHMoKSB7XHJcbiAgICAgICAgY29uc3Qgc2t5ZUJvb3QgPSBhd2FpdCB0aGlzLnNreWVCb290cztcclxuICAgICAgICBhd2FpdCBza3llQm9vdC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNjAwMDAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNreWVCb290LmlzQ2xpY2thYmxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0NsaWNrYWJsZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxyXG4gICAgICAgICAgICB0aW1lb3V0TXNnOiAnc2t5ZUJvb3QgZWxlbWVudCBpcyBub3QgY2xpY2thYmxlIGFmdGVyIHdhaXRpbmcgZm9yIDEwIHNlY29uZHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICBhd2FpdCBza3llQm9vdC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNrc21vb3RoTGVhdGhlckJhZ3MoKSB7XHJcbiAgICAgICAgY29uc3Qgc21vb3RoTGVhdGhlckJhZ3MgPSBhd2FpdCB0aGlzLnNtb290aExlYXRoZXJCYWc7XHJcbiAgICAgICAgYXdhaXQgc21vb3RoTGVhdGhlckJhZ3Mud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDYwMDAwIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBzbW9vdGhMZWF0aGVyQmFncy5pc0NsaWNrYWJsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNDbGlja2FibGU7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcclxuICAgICAgICAgICAgdGltZW91dE1zZzogJ3Ntb290aExlYXRoZXJCYWdzIGVsZW1lbnQgaXMgbm90IGNsaWNrYWJsZSBhZnRlciB3YWl0aW5nIGZvciAxMCBzZWNvbmRzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgYXdhaXQgc21vb3RoTGVhdGhlckJhZ3MuY2xpY2soKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgY2xpY2tiYWNrQXJyb3coKSB7XHJcbiAgICAgICAgY29uc3QgVElNRU9VVCA9IDYwMDAwO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhY2tBcnJvdyA9IGF3YWl0IHRoaXMuYmFja0Fycm93RWxlbWVudDtcclxuICAgICAgICAgICAgYXdhaXQgYmFja0Fycm93LndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCBiYWNrQXJyb3cuY2xpY2soKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJhY2tBcnJvdyBidXR0b24gZGlkIG5vdCBhcHBlYXIgd2l0aGluICR7VElNRU9VVCAvIDEwMDB9IHNlY29uZHMuYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZCB3aGlsZSBjbGlja2luZyBiYWNrIEFycm93OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tBcHBseUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBUSU1FT1VUID0gNjAwMDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYXBwbHkgPSBhd2FpdCB0aGlzLmFwcGx5RWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgaXNBcHBseUJ1dHRvbkRpc3BsYXllZCA9IGF3YWl0IGFwcGx5LmlzRGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQXBwbHlCdXR0b25FbmFibGVkID0gYXdhaXQgYXBwbHkuaXNFbmFibGVkKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGlzQXBwbHlCdXR0b25EaXNwbGF5ZWQgJiYgaXNBcHBseUJ1dHRvbkVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGFwcGx5LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpY2tlZCBBcHBseSBidXR0b24gc3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcGx5IGJ1dHRvbiBpcyBub3QgZGlzcGxheWVkIG9yIGRpc2FibGVkLicpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2JhY2tBcnJvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQgd2hpbGUgY2xpY2tpbmcgQXBwbHk6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBlcnJvciBhcyBuZWVkZWQgKGUuZy4sIGxvZ2dpbmcsIHRocm93aW5nLCBvciByZXR1cm5pbmcgYSBzcGVjaWZpYyB2YWx1ZSkuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBrZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCkge1xyXG4gICAgICAgIC8vIEZpbmQgYWxsIG1hdGNoaW5nIGVsZW1lbnRzXHJcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPWF3YWl0ICQkKCdbaWRePVwiYm9kc19fY3VycmVudC1wcm9kdWN0LWl0ZW0tLVwiXSA+IGJ1dHRvbicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBOdW1iZXIgb2YgZWxlbWVudHMgZm91bmQ6ICR7ZWxlbWVudHMubGVuZ3RofWApO1xyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBsb29wIGZyb20gdGhlIHNlY29uZCBsYXN0IGVsZW1lbnQgYW5kIGdvIGluIHJldmVyc2Ugb3JkZXJcclxuICAgICAgICBmb3IgKGxldCBpID0gZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAxOyBpLS0pIHtcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGVsZW1lbnRzW2ldO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBidXR0b24gdG8gYmUgY2xpY2thYmxlXHJcbiAgICAgICAgICAgIGF3YWl0IGJ1dHRvbkVsZW1lbnQud2FpdEZvckNsaWNrYWJsZSh7IHRpbWVvdXQ6IDUwMDAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGF3YWl0IGJ1dHRvbkVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChidXR0b25UZXh0LnRyaW0oKSA9PT0gXCJSZW1vdmVcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBlbGVtZW50IChhZGp1c3QgYmFzZWQgb24geW91ciB1c2UgY2FzZSlcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJ1dHRvbkVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIG9uIHRoZSBcIlJlbW92ZVwiIGJ1dHRvbiBhdCBpbmRleCAke2l9LmApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEl0ZW0gd2l0aCB0ZXh0IGNvbnRlbnQgXCIke2J1dHRvblRleHR9XCIgaXMgbm90IHRoZSBcIlJlbW92ZVwiIGJ1dHRvbi5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgc3RvcmVkU2l6ZVRleHRzID0gW107XHJcbiAgICAgcHJldmlvdXNVc2VyID0gbnVsbDtcclxuICAgIC8vIFNwZWNpYWwgZnVuY3Rpb24gdG8gaGFuZGxlIHdpdGggY2FyZVxyXG4gICAgYXN5bmMgc2VsZWN0Q3VwKGluZGV4LCB1c2VyLHNpemVUZXh0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgVXNlcjonLCB1c2VyKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlckhhc0NoYW5nZWQgPSB0aGlzLnByZXZpb3VzVXNlciAhPT0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1VzZXIgPSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICBpZiAodXNlckhhc0NoYW5nZWQpIHsgLy8gUmVwbGFjZSB1c2VySGFzQ2hhbmdlZCB3aXRoIHlvdXIgY29uZGl0aW9uIHRvIGRldGVjdCBhIHVzZXIgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cyA9IFtdOyAvLyBDbGVhciB0aGUgYXJyYXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHVzaGVkIFNpemUgdG8gYXJyYXk6ICR7c2l6ZVRleHR9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50cyA9IGF3YWl0IHRoaXMuYWxsQ3VwRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cCA9IGN1cEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCBsZW5ndGg6ICR7Y3VwfWApO1xyXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBhdmFpbGFibGUgY3VwIHNpemVzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGN1cEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplcy5wdXNoKGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGF2YWlsYWJsZSBzaXplcyBhbmQgc2VsZWN0IGVhY2ggb25lXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBjdXBUZXh0IG9mIGF2YWlsYWJsZVNpemVzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2YWlsYWJsZVNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXZhaWxhYmxlU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRDdXBFbGVtZW50QnlUZXh0KGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3VwRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtjdXBUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdOJywgJycsIGluZGV4LCAnV29vbF9KYWNrZXQnLCBjdXBUZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdPJywnJyxpbmRleCwnX1dvb2wtSmFja2V0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnV29vbF9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNVwiKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdQJywnJyxpbmRleCwnX1dvb2wtSmFja2V0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU2XCIpOyBcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWQgYWZ0ZXIgY2xpY2tpbmcgQXBwbHkgKG1vZGlmeSB0aW1lIGFzIG5lZWRlZClcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1EnLCcnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU3XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUicsJycsaW5kZXgsJ19Xb29sLUphY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnV29vbF9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL25ldyBmdW5jdGlvbnMgXHJcbiAgICAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBmbGFyZSBUcm91c2VycyAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2ZsYXJlZFRyb3VzZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVScsJycsaW5kZXgsJ19Xb29sLUphY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0ZsYXJlZF9QYW50XycsJ19mcm9udF8nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMVwiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdWJywnJyxpbmRleCwnX1dvb2wtSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfRmxhcmVkX1BhbnRfJywnX2JhY2tfJywnV29vbF9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTJcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIGxlZ2dpbnMgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tsZWdnaW5zKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVycsJycsaW5kZXgsJ19Xb29sLUphY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlZ2dpbnNfJywnX2Zyb250XycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEzXCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1gnLCcnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWdnaW5zXycsJ19iYWNrXycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBTa2lydCAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2tuaXRTa2lydCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19Lbml0X3NraXJ0XycsJ19mcm9udF8nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNVwiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdaJywnJyxpbmRleCwnX1dvb2wtSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfS25pdF9za2lydF8nLCdfYmFja18nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKlxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrYkJ1enpCYWcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0EnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19CLUJ1enpfJywnX2Zyb250XycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQicsaW5kZXgsJ19Xb29sLUphY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0ItQnV6el8nLCdfYmFja18nLCdXb29sX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKlxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrc21vb3RoTGVhdGhlckJhZ3MoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoNTAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdDJyxpbmRleCwnX1dvb2wtSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21vb3RoLWxlYXRoZXJfJywnX2Zyb250XycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE5XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRCcsaW5kZXgsJ19Xb29sLUphY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1Ntb290aC1sZWF0aGVyXycsJ19iYWNrXycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIwXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMua2VlcEZpcnN0RWxlbWVudEFuZFJlbW92ZU90aGVycygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFske2l9LSR7aX1dIGluZGV4OiAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gIGN1cEVsZW1lbnRzLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBlbnRlcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc3BvcnRzQnJhX3NlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF2YWlsYWJsZVNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGF3YWl0IHRoaXMuZ2V0Q3VwRWxlbWVudEJ5VGV4dChjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGN1cEVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIFNpemU6ICR7Y3VwVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUHJvZmlsZSB2aWV3IGZyb250IGFuZCBiYWNrXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmluc2VydFRleHRHUygnTycsICcnLCBpbmRleCwgJ1Nwb3J0c19CcmEnLCBjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1AnLCcnLGluZGV4LCdfU3BvcnRzX0JyYV9wcm9maWxlXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1Nwb3J0c19CcmEnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1InLCcnLGluZGV4LCdfU3BvcnRzX0JyYV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1Nwb3J0c19CcmEnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lN1wiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1MnLCcnLGluZGV4LCdfU3BvcnRzX0JyYV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnU3BvcnRzX0JyYScsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU4XCIpOyBcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqXHJcbiAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2JCdXp6QmFnKCk7XHJcbiAgICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdWJywnJyxpbmRleCwnX1Nwb3J0c19CcmFfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19CLUJ1enpfJywnX2Zyb250XycsJ1Nwb3J0c19CcmEnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdXJywnJyxpbmRleCwnX1Nwb3J0c19CcmFfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19CLUJ1enpfJywnX2JhY2tfJywnU3BvcnRzX0JyYScsdXNlcik7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMThcIik7IFxyXG4gICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrc21vb3RoTGVhdGhlckJhZ3MoKTtcclxuICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX1Nwb3J0c19CcmFfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbW9vdGgtbGVhdGhlcl8nLCdfZnJvbnRfJywnU3BvcnRzX0JyYScsdXNlcik7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTlcIik7XHJcbiAgICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfU3BvcnRzX0JyYV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1Ntb290aC1sZWF0aGVyXycsJ19iYWNrXycsJ1Nwb3J0c19CcmEnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIwXCIpOyBcclxuICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmtlZXBGaXJzdEVsZW1lbnRBbmRSZW1vdmVPdGhlcnMoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gIGN1cEVsZW1lbnRzLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbG9zaW5nIGxvb3AgZW50ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIEVORFwiKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBLbml0X0RyZXNzX3NlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF2YWlsYWJsZVNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGF3YWl0IHRoaXMuZ2V0Q3VwRWxlbWVudEJ5VGV4dChjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGN1cEVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIFNpemU6ICR7Y3VwVGV4dH1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1InLCcnLGluZGV4LCdfS25pdF9EcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0tuaXRfRHJlc3MnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1MnLCcnLGluZGV4LCdfS25pdF9EcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnS25pdF9EcmVzcycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTsgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIEVORFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgIFxyXG4gICAgYXN5bmMgYmlrZXJKYWNrZXRzZWxlY3RDdXAoaW5kZXgsIHVzZXIsc2l6ZVRleHQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVc2VyOicsIHVzZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VySGFzQ2hhbmdlZCA9IHRoaXMucHJldmlvdXNVc2VyICE9PSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVXNlciA9IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIGlmICh1c2VySGFzQ2hhbmdlZCkgeyAvLyBSZXBsYWNlIHVzZXJIYXNDaGFuZ2VkIHdpdGggeW91ciBjb25kaXRpb24gdG8gZGV0ZWN0IGEgdXNlciBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzID0gW107IC8vIENsZWFyIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQdXNoZWQgU2l6ZSB0byBhcnJheTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMucHVzaChzaXplVGV4dCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50cyA9IGF3YWl0IHRoaXMuYWxsQ3VwRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cCA9IGN1cEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCBsZW5ndGg6ICR7Y3VwfWApO1xyXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBhdmFpbGFibGUgY3VwIHNpemVzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGN1cEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplcy5wdXNoKGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGF2YWlsYWJsZSBzaXplcyBhbmQgc2VsZWN0IGVhY2ggb25lXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBjdXBUZXh0IG9mIGF2YWlsYWJsZVNpemVzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2YWlsYWJsZVNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXZhaWxhYmxlU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRDdXBFbGVtZW50QnlUZXh0KGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3VwRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtjdXBUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdQJywgJycsIGluZGV4LCAnV29vbF9KYWNrZXQnLCBjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVuZ3RoIG9mIHN0b3JlZFNpemVUZXh0czpcIiwgdGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1EnLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZThcIik7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNlbGVjdGluZyB0aGUgY3VwIHNpemVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZCBhZnRlciBjbGlja2luZyBBcHBseSAobW9kaWZ5IHRpbWUgYXMgbmVlZGVkKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19CaWtlcl9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdCaWtlcl9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1QnLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdCaWtlcl9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9uZXcgZnVuY3Rpb25zIFxyXG4gICAgICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gZmxhcmUgVHJvdXNlcnMgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tmbGFyZWRUcm91c2VycygpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1UnLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfRmxhcmVkX1BhbnRfJywnX2Zyb250XycsJ0Jpa2VyX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMVwiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdWJywnJyxpbmRleCwnX0Jpa2VyX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0ZsYXJlZF9QYW50XycsJ19iYWNrXycsJ0Jpa2VyX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gbGVnZ2lucyAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2xlZ2dpbnMoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdXJywnJyxpbmRleCwnX0Jpa2VyX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlZ2dpbnNfJywnX2Zyb250XycsJ0Jpa2VyX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxM1wiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX0Jpa2VyX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlZ2dpbnNfJywnX2JhY2tfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBTa2lydCAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2tuaXRTa2lydCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfS25pdF9za2lydF8nLCdfZnJvbnRfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE1XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1onLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfS25pdF9za2lydF8nLCdfYmFja18nLCdCaWtlcl9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTZcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2JCdXp6QmFnKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdDJyxpbmRleCwnX0Jpa2VyX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0ItQnV6el8nLCdfZnJvbnRfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRCcsaW5kZXgsJ19CaWtlcl9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19CLUJ1enpfJywnX2JhY2tfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tzbW9vdGhMZWF0aGVyQmFncygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0UnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21vb3RoLWxlYXRoZXJfJywnX2Zyb250XycsJ0Jpa2VyX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0YnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21vb3RoLWxlYXRoZXJfJywnX2JhY2tfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIwXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMua2VlcEZpcnN0RWxlbWVudEFuZFJlbW92ZU90aGVycygpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTsgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFske2l9LSR7aX1dIGluZGV4OiAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gIGN1cEVsZW1lbnRzLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBlbnRlcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbG9zaW5nIGxvb3AgRU5EXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBrbml0c2tpcnRzZWxlY3RDdXAoaW5kZXgsIHVzZXIsc2l6ZVRleHQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVc2VyOicsIHVzZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VySGFzQ2hhbmdlZCA9IHRoaXMucHJldmlvdXNVc2VyICE9PSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVXNlciA9IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIGlmICh1c2VySGFzQ2hhbmdlZCkgeyAvLyBSZXBsYWNlIHVzZXJIYXNDaGFuZ2VkIHdpdGggeW91ciBjb25kaXRpb24gdG8gZGV0ZWN0IGEgdXNlciBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzID0gW107IC8vIENsZWFyIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQdXNoZWQgU2l6ZSB0byBhcnJheTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMucHVzaChzaXplVGV4dCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50cyA9IGF3YWl0IHRoaXMuYWxsQ3VwRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cCA9IGN1cEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCBsZW5ndGg6ICR7Y3VwfWApO1xyXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBhdmFpbGFibGUgY3VwIHNpemVzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGN1cEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplcy5wdXNoKGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGF2YWlsYWJsZSBzaXplcyBhbmQgc2VsZWN0IGVhY2ggb25lXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBjdXBUZXh0IG9mIGF2YWlsYWJsZVNpemVzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2YWlsYWJsZVNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXZhaWxhYmxlU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRDdXBFbGVtZW50QnlUZXh0KGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3VwRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtjdXBUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdSJywgJycsIGluZGV4LCAnS25pdF9Ta2lydCcsIGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZW5ndGggb2Ygc3RvcmVkU2l6ZVRleHRzOlwiLCB0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19Lbml0X1NraXJ0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnS25pdF9Ta2lydCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU5XCIpO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWQgYWZ0ZXIgY2xpY2tpbmcgQXBwbHkgKG1vZGlmeSB0aW1lIGFzIG5lZWRlZClcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1QnLCcnLGluZGV4LCdfS25pdF9Ta2lydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0tuaXRfU2tpcnQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX0tuaXRfU2tpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ0tuaXRfU2tpcnQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTFcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2JCdXp6QmFnKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1YnLCcnLGluZGV4LCdfS25pdF9Ta2lydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0ItQnV6el8nLCdfZnJvbnRfJywnS25pdF9Ta2lydCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVycsJycsaW5kZXgsJ19Lbml0X1NraXJ0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQi1CdXp6XycsJ19iYWNrXycsJ0tuaXRfU2tpcnQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTNcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Ntb290aExlYXRoZXJCYWdzKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDUwMCk7ICAvLyAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZSBTcGlubmVyIG5vdCBkaXNwbGF5ZWQgXHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX0tuaXRfU2tpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbW9vdGgtbGVhdGhlcl8nLCdfZnJvbnRfJywnS25pdF9Ta2lydCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNFwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWScsJycsaW5kZXgsJ19Lbml0X1NraXJ0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21vb3RoLWxlYXRoZXJfJywnX2JhY2tfJywnS25pdF9Ta2lydCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmtlZXBGaXJzdEVsZW1lbnRBbmRSZW1vdmVPdGhlcnMoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtpfS0ke2l9XSBpbmRleDogJHtpfWApO1xyXG4gICAgICAgICAgICAgICAvKmlmIChpICE9PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5kZXg6ICR7aX0nKTtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIH0gKi9cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIEVORFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBMZWdnaW5nc3NlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVzZXI6JywgdXNlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJIYXNDaGFuZ2VkID0gdGhpcy5wcmV2aW91c1VzZXIgIT09IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNVc2VyID0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgaWYgKHVzZXJIYXNDaGFuZ2VkKSB7IC8vIFJlcGxhY2UgdXNlckhhc0NoYW5nZWQgd2l0aCB5b3VyIGNvbmRpdGlvbiB0byBkZXRlY3QgYSB1c2VyIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMgPSBbXTsgLy8gQ2xlYXIgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFB1c2hlZCBTaXplIHRvIGFycmF5OiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cy5wdXNoKHNpemVUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXZhaWxhYmxlIHNpemVzIGFuZCBzZWxlY3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IGN1cFRleHQgb2YgYXZhaWxhYmxlU2l6ZXMpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhdmFpbGFibGVTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldEN1cEVsZW1lbnRCeVRleHQoY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXBFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke2N1cFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFByb2ZpbGUgdmlldyBmcm9udCBhbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ1InLCAnJywgaW5kZXgsICdMZWdnaW5ncycsIGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZW5ndGggb2Ygc3RvcmVkU2l6ZVRleHRzOlwiLCB0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19MZWdnaW5nc19wcm9maWxlXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNlbGVjdGluZyB0aGUgY3VwIHNpemVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZCBhZnRlciBjbGlja2luZyBBcHBseSAobW9kaWZ5IHRpbWUgYXMgbmVlZGVkKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19MZWdnaW5nc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEwXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVScsJycsaW5kZXgsJ19MZWdnaW5nc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnTGVnZ2luZ3MnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTFcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2JCdXp6QmFnKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1YnLCcnLGluZGV4LCdfTGVnZ2luZ3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19CLUJ1enpfJywnX2Zyb250XycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEyXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdXJywnJyxpbmRleCwnX0xlZ2dpbmdzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQi1CdXp6XycsJ19iYWNrXycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEzXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tzbW9vdGhMZWF0aGVyQmFncygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWCcsJycsaW5kZXgsJ19MZWdnaW5nc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1Ntb290aC1sZWF0aGVyXycsJ19mcm9udF8nLCdMZWdnaW5ncycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNFwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWScsJycsaW5kZXgsJ19MZWdnaW5nc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1Ntb290aC1sZWF0aGVyXycsJ19iYWNrXycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE1XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNreXJ3ZWFyUmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tza3llQm9vdHMoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ3onLCcnLGluZGV4LCdfTGVnZ2luZ3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19za3llYm9vdHNfJywnX2Zyb250XycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoNTAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE2XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdZJywnJyxpbmRleCwnX0xlZ2dpbmdzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfc2t5ZWJvb3RzXycsJ19iYWNrXycsJ0xlZ2dpbmdzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMua2VlcEZpcnN0RWxlbWVudEFuZFJlbW92ZU90aGVycygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFske2l9LSR7aX1dIGluZGV4OiAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gIGN1cEVsZW1lbnRzLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBlbnRlcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZmxhcmVUcm91c2Vyc3NlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVzZXI6JywgdXNlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJIYXNDaGFuZ2VkID0gdGhpcy5wcmV2aW91c1VzZXIgIT09IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNVc2VyID0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgaWYgKHVzZXJIYXNDaGFuZ2VkKSB7IC8vIFJlcGxhY2UgdXNlckhhc0NoYW5nZWQgd2l0aCB5b3VyIGNvbmRpdGlvbiB0byBkZXRlY3QgYSB1c2VyIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMgPSBbXTsgLy8gQ2xlYXIgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFB1c2hlZCBTaXplIHRvIGFycmF5OiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cy5wdXNoKHNpemVUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXZhaWxhYmxlIHNpemVzIGFuZCBzZWxlY3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IGN1cFRleHQgb2YgYXZhaWxhYmxlU2l6ZXMpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhdmFpbGFibGVTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldEN1cEVsZW1lbnRCeVRleHQoY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXBFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke2N1cFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFByb2ZpbGUgdmlldyBmcm9udCBhbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdSJywgJycsIGluZGV4LCAnRmxhcmVfVHJvdXNlcnMnLCBjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVuZ3RoIG9mIHN0b3JlZFNpemVUZXh0czpcIiwgdGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19GbGFyZV9Ucm91c2Vyc19wcm9maWxlXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0ZsYXJlX1Ryb3VzZXJzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgc2VsZWN0aW5nIHRoZSBjdXAgc2l6ZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkIGFmdGVyIGNsaWNraW5nIEFwcGx5IChtb2RpZnkgdGltZSBhcyBuZWVkZWQpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdUJywnJyxpbmRleCwnX0ZsYXJlX1Ryb3VzZXJzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnRmxhcmVfVHJvdXNlcnMnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX0ZsYXJlX1Ryb3VzZXJzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdGbGFyZV9Ucm91c2VycycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqXHJcbiAgICAgICAgICAgICAgICAvL2F3YWl0IHRoaXMuY2xpY2t5cndlYXJSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3NreWVCb290cygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVicsJycsaW5kZXgsJ19GbGFyZV9Ucm91c2Vyc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3NreWVib290c18nLCdfZnJvbnRfJywnTGVnZ2luZ3MnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTJcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1cnLCcnLGluZGV4LCdfRmxhcmVfVHJvdXNlcnNfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19za3llYm9vdHNfJywnX2JhY2tfJywnTGVnZ2luZ3MnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTNcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5rZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7aX0tJHtpfV0gaW5kZXg6ICR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIEVORFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjYW1kZW5Xb29sQ3JlcGVKYWNrZXRzZWxlY3RDdXAoaW5kZXgsIHVzZXIsc2l6ZVRleHQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVc2VyOicsIHVzZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VySGFzQ2hhbmdlZCA9IHRoaXMucHJldmlvdXNVc2VyICE9PSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVXNlciA9IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIGlmICh1c2VySGFzQ2hhbmdlZCkgeyAvLyBSZXBsYWNlIHVzZXJIYXNDaGFuZ2VkIHdpdGggeW91ciBjb25kaXRpb24gdG8gZGV0ZWN0IGEgdXNlciBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzID0gW107IC8vIENsZWFyIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQdXNoZWQgU2l6ZSB0byBhcnJheTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMucHVzaChzaXplVGV4dCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50cyA9IGF3YWl0IHRoaXMuYWxsQ3VwRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cCA9IGN1cEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCBsZW5ndGg6ICR7Y3VwfWApO1xyXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBhdmFpbGFibGUgY3VwIHNpemVzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGN1cEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplcy5wdXNoKGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGF2YWlsYWJsZSBzaXplcyBhbmQgc2VsZWN0IGVhY2ggb25lXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBjdXBUZXh0IG9mIGF2YWlsYWJsZVNpemVzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2YWlsYWJsZVNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXZhaWxhYmxlU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRDdXBFbGVtZW50QnlUZXh0KGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3VwRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtjdXBUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdLJywgJycsIGluZGV4LCAnUkwnLCBjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVuZ3RoIG9mIHN0b3JlZFNpemVUZXh0czpcIiwgdGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0wnLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fcHJvZmlsZV8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMFwiKTtcclxuICAgICAgICAgICAgICAgIH0gXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgc2VsZWN0aW5nIHRoZSBjdXAgc2l6ZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkIGFmdGVyIGNsaWNraW5nIEFwcGx5IChtb2RpZnkgdGltZSBhcyBuZWVkZWQpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdNJywnJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTExXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTicsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTJcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIENhbGZza2luIEhhbmRiYWcgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjYWxmc2tpbk1pbmlSTDUwSGFuZGJhZygpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1MnLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2FsZnNraW5fSGFuZGJhZ18nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTNcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DYWxmc2tpbl9IYW5kYmFnXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGxlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV9DdW9pbygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7ICAvLyAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZSBTcGlubmVyIG5vdCBkaXNwbGF5ZWQgXHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVicsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb18nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tMZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1cnLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1gnLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFNtYWxsIFN0ZWVsIEJsYWNrIEZpbmlzaFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrU21hbGxTdGVlbEJsYWNrRmluaXNoKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21hbGxfU3RlZWxfQmxhY2tfRmluaXNoXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWicsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1NtYWxsX1N0ZWVsX0JsYWNrX0ZpbmlzaF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFdlbGluZ3RvbiBFbmFtZWwgQnJhY2VsXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2t3ZWxpbmd0b25FbmFtZWxCcmFjZWxldCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQScsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19XZWxpbmd0b25fRW5hbWVsX0JyYWNlbF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjFcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdCJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIyXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGNvdXJ0c3RlciBTbmVha2VyXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjb3VydHN0ZXJTbmVha2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdFJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfY291cnRzdGVyX1NuZWFrZXJfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIzXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRicsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2NvdXJ0c3Rlcl9TbmVha2VyXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogQ2VsaWEgQ2FsZnNraW4gUHVtcFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY2VsaWFDYWxmc2tpblB1bXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0MnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DZWxpYV9DYWxmc2tpbl9QdW1wXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0QnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DZWxpYV9DYWxmc2tpbl9QdW1wXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI2XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIHN0cmFpZ2h0TGVnU2F0aW5QYW50ICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tzdHJhaWdodExlZ1NhdGluUGFudCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ08nLCcnLGluZGV4LCdfY2FtZGVuX1dvb2xfQ3JlcGVfSmFja2V0X3BvbG9fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19zdHJhaWdodExlZ1NhdGluUGFudF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjdcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUCcsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19zdHJhaWdodExlZ1NhdGluUGFudF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gcGxlYXRlZE1pZGlTa2lydCAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3BsZWF0ZWRNaWRpU2tpcnQoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdRJywnJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfcGxlYXRlZE1pZGlTa2lydF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjlcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUicsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3BsZWF0ZWRNaWRpU2tpcnRfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMzBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5rZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7aX0tJHtpfV0gaW5kZXg6ICR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY290dG9uQnJvYWRjbG90aERyZXNzc2VsZWN0Q3VwKGluZGV4LCB1c2VyLHNpemVUZXh0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgVXNlcjonLCB1c2VyKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlckhhc0NoYW5nZWQgPSB0aGlzLnByZXZpb3VzVXNlciAhPT0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1VzZXIgPSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICBpZiAodXNlckhhc0NoYW5nZWQpIHsgLy8gUmVwbGFjZSB1c2VySGFzQ2hhbmdlZCB3aXRoIHlvdXIgY29uZGl0aW9uIHRvIGRldGVjdCBhIHVzZXIgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cyA9IFtdOyAvLyBDbGVhciB0aGUgYXJyYXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHVzaGVkIFNpemUgdG8gYXJyYXk6ICR7c2l6ZVRleHR9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzLnB1c2goc2l6ZVRleHQpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudHMgPSBhd2FpdCB0aGlzLmFsbEN1cEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZVNpemVzID0gW107XHJcbiAgICAgICAgICAgIGxldCBpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXAgPSBjdXBFbGVtZW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgbGVuZ3RoOiAke2N1cH1gKTtcclxuICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgYXZhaWxhYmxlIGN1cCBzaXplc1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY3VwRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBjdXBFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBjdXBFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBjdXBFbGVtZW50LmdldFRleHQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlU2l6ZXMucHVzaChjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXZhaWxhYmxlIHNpemVzIGFuZCBzZWxlY3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IGN1cFRleHQgb2YgYXZhaWxhYmxlU2l6ZXMpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhdmFpbGFibGVTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldEN1cEVsZW1lbnRCeVRleHQoY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXBFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke2N1cFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFByb2ZpbGUgdmlldyBmcm9udCBhbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdSTCcsIGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZW5ndGggb2Ygc3RvcmVkU2l6ZVRleHRzOlwiLCB0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTCcsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19wcm9maWxlXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEwXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWQgYWZ0ZXIgY2xpY2tpbmcgQXBwbHkgKG1vZGlmeSB0aW1lIGFzIG5lZWRlZClcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdfY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ04nLCcnLGluZGV4LCdfY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEyXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBDYWxmc2tpbiBIYW5kYmFnICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vUGljayB0aGUgRmxvdXJlZCBwYW50XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY2FsZnNraW5NaW5pUkw1MEhhbmRiYWcoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdTJywnJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2FsZnNraW5fSGFuZGJhZ18nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTNcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NhbGZza2luX0hhbmRiYWdfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTRcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlX0N1b2lvKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1UnLCcnLGluZGV4LCdfY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlQ3VvaW9fJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdWJywnJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE2XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGxlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVycsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBTbWFsbCBTdGVlbCBCbGFjayBGaW5pc2hcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja1NtYWxsU3RlZWxCbGFja0ZpbmlzaCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdZJywnJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21hbGxfU3RlZWxfQmxhY2tfRmluaXNoXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWicsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1NtYWxsX1N0ZWVsX0JsYWNrX0ZpbmlzaF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFdlbGluZ3RvbiBFbmFtZWwgQnJhY2VsXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2t3ZWxpbmd0b25FbmFtZWxCcmFjZWxldCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQScsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0InLGluZGV4LCdfY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19XZWxpbmd0b25fRW5hbWVsX0JyYWNlbF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBjb3VydHN0ZXIgU25lYWtlclxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY291cnRzdGVyU25lYWtlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRScsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2NvdXJ0c3Rlcl9TbmVha2VyXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyM1wiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0YnLGluZGV4LCdfY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19jb3VydHN0ZXJfU25lYWtlcl8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIENlbGlhIENhbGZza2luIFB1bXBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NlbGlhQ2FsZnNraW5QdW1wKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdDJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NlbGlhX0NhbGZza2luX1B1bXBfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRCcsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NlbGlhX0NhbGZza2luX1B1bXBfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjZcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5rZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7aX0tJHtpfV0gaW5kZXg6ICR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xhc3NpY2ZpdG1hcHNlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVzZXI6JywgdXNlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJIYXNDaGFuZ2VkID0gdGhpcy5wcmV2aW91c1VzZXIgIT09IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNVc2VyID0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgaWYgKHVzZXJIYXNDaGFuZ2VkKSB7IC8vIFJlcGxhY2UgdXNlckhhc0NoYW5nZWQgd2l0aCB5b3VyIGNvbmRpdGlvbiB0byBkZXRlY3QgYSB1c2VyIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMgPSBbXTsgLy8gQ2xlYXIgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFB1c2hlZCBTaXplIHRvIGFycmF5OiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cy5wdXNoKHNpemVUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXZhaWxhYmxlIHNpemVzIGFuZCBzZWxlY3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IGN1cFRleHQgb2YgYXZhaWxhYmxlU2l6ZXMpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhdmFpbGFibGVTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldEN1cEVsZW1lbnRCeVRleHQoY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXBFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke2N1cFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFByb2ZpbGUgdmlldyBmcm9udCBhbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdSTCcsIGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZW5ndGggb2Ygc3RvcmVkU2l6ZVRleHRzOlwiLCB0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTCcsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTBcIik7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNlbGVjdGluZyB0aGUgY3VwIHNpemVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZCBhZnRlciBjbGlja2luZyBBcHBseSAobW9kaWZ5IHRpbWUgYXMgbmVlZGVkKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTScsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTExXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTicsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gQ2FsZnNraW4gSGFuZGJhZyAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NhbGZza2luTWluaVJMNTBIYW5kYmFnKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X19maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NhbGZza2luX0hhbmRiYWdfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEzXCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1QnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NhbGZza2luX0hhbmRiYWdfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTRcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlX0N1b2lvKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1UnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb18nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1YnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb18nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tMZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1cnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX3BvbG9fU2hpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFNtYWxsIFN0ZWVsIEJsYWNrIEZpbmlzaFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrU21hbGxTdGVlbEJsYWNrRmluaXNoKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfcG9sb19TaGlydF9fZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbWFsbF9TdGVlbF9CbGFja19GaW5pc2hfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE5XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdaJywnJyxpbmRleCwnX3BvbG9fU2hpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbWFsbF9TdGVlbF9CbGFja19GaW5pc2hfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBXZWxpbmd0b24gRW5hbWVsIEJyYWNlbFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrd2VsaW5ndG9uRW5hbWVsQnJhY2VsZXQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0EnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0InLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIyXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGNvdXJ0c3RlciBTbmVha2VyXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjb3VydHN0ZXJTbmVha2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdFJyxpbmRleCwnX3BvbG9fU2hpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19jb3VydHN0ZXJfU25lYWtlcl8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjNcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdGJyxpbmRleCwnX3BvbG9fU2hpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19jb3VydHN0ZXJfU25lYWtlcl8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIENlbGlhIENhbGZza2luIFB1bXBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NlbGlhQ2FsZnNraW5QdW1wKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdDJyxpbmRleCwnX3BvbG9fU2hpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DZWxpYV9DYWxmc2tpbl9QdW1wXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0QnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NlbGlhX0NhbGZza2luX1B1bXBfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjZcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gc3RyYWlnaHRMZWdTYXRpblBhbnQgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3N0cmFpZ2h0TGVnU2F0aW5QYW50KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTycsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfc3RyYWlnaHRMZWdTYXRpblBhbnRfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI3XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1AnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3N0cmFpZ2h0TGVnU2F0aW5QYW50XycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBwbGVhdGVkTWlkaVNraXJ0ICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vUGljayB0aGUgRmxvdXJlZCBwYW50XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrcGxlYXRlZE1pZGlTa2lydCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1EnLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3BsZWF0ZWRNaWRpU2tpcnRfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI5XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1InLCcnLGluZGV4LCdfcG9sb19TaGlydF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3BsZWF0ZWRNaWRpU2tpcnRfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMzBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5rZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7aX0tJHtpfV0gaW5kZXg6ICR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY290dG9uY3Jvd25lY2tzZWxlY3RDdXAoaW5kZXgsIHVzZXIsc2l6ZVRleHQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVc2VyOicsIHVzZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VySGFzQ2hhbmdlZCA9IHRoaXMucHJldmlvdXNVc2VyICE9PSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVXNlciA9IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIGlmICh1c2VySGFzQ2hhbmdlZCkgeyAvLyBSZXBsYWNlIHVzZXJIYXNDaGFuZ2VkIHdpdGggeW91ciBjb25kaXRpb24gdG8gZGV0ZWN0IGEgdXNlciBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzID0gW107IC8vIENsZWFyIHRoZSBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQdXNoZWQgU2l6ZSB0byBhcnJheTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMucHVzaChzaXplVGV4dCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50cyA9IGF3YWl0IHRoaXMuYWxsQ3VwRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cCA9IGN1cEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCBsZW5ndGg6ICR7Y3VwfWApO1xyXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGFsbCBhdmFpbGFibGUgY3VwIHNpemVzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGN1cEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGN1cEVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplcy5wdXNoKGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGF2YWlsYWJsZSBzaXplcyBhbmQgc2VsZWN0IGVhY2ggb25lXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBjdXBUZXh0IG9mIGF2YWlsYWJsZVNpemVzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2YWlsYWJsZVNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXZhaWxhYmxlU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRDdXBFbGVtZW50QnlUZXh0KGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3VwRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtjdXBUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdLJywgJycsIGluZGV4LCAnUkwnLCBjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVuZ3RoIG9mIHN0b3JlZFNpemVUZXh0czpcIiwgdGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0wnLCcnLGluZGV4LCdfY290dG9uX0NyZXduZWNrX1RlZV9wcm9maWxlXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEwXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgdGhlIGN1cCBzaXplXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWQgYWZ0ZXIgY2xpY2tpbmcgQXBwbHkgKG1vZGlmeSB0aW1lIGFzIG5lZWRlZClcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdfY290dG9uX0NyZXduZWNrX1RlZV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTExXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTicsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gQ2FsZnNraW4gSGFuZGJhZyAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NhbGZza2luTWluaVJMNTBIYW5kYmFnKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUycsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2FsZnNraW5fSGFuZGJhZ18nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTNcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2FsZnNraW5fSGFuZGJhZ18nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlQ3VvaW9cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfQ3VvaW8oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVScsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVicsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE2XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGxlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVycsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1gnLCcnLGluZGV4LCdfY290dG9uX0NyZXduZWNrX1RlZV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMThcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogU21hbGwgU3RlZWwgQmxhY2sgRmluaXNoXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tTbWFsbFN0ZWVsQmxhY2tGaW5pc2goKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWScsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21hbGxfU3RlZWxfQmxhY2tfRmluaXNoXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWicsJycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfU21hbGxfU3RlZWxfQmxhY2tfRmluaXNoXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIwXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogV2VsaW5ndG9uIEVuYW1lbCBCcmFjZWxcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3dlbGluZ3RvbkVuYW1lbEJyYWNlbGV0KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdBJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19XZWxpbmd0b25fRW5hbWVsX0JyYWNlbF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjFcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdCJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19XZWxpbmd0b25fRW5hbWVsX0JyYWNlbF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBjb3VydHN0ZXIgU25lYWtlclxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY291cnRzdGVyU25lYWtlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRScsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfY291cnRzdGVyX1NuZWFrZXJfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIzXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRicsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfY291cnRzdGVyX1NuZWFrZXJfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjRcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBDZWxpYSBDYWxmc2tpbiBQdW1wXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjZWxpYUNhbGZza2luUHVtcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQycsaW5kZXgsJ19jb3R0b25fQ3Jld25lY2tfVGVlX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2VsaWFfQ2FsZnNraW5fUHVtcF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdEJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DZWxpYV9DYWxmc2tpbl9QdW1wXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI2XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIHN0cmFpZ2h0TGVnU2F0aW5QYW50ICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tzdHJhaWdodExlZ1NhdGluUGFudCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ08nLCcnLGluZGV4LCdfY290dG9uX0NyZXduZWNrX1RlZV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3N0cmFpZ2h0TGVnU2F0aW5QYW50XycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyN1wiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdQJywnJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19zdHJhaWdodExlZ1NhdGluUGFudF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gcGxlYXRlZE1pZGlTa2lydCAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3BsZWF0ZWRNaWRpU2tpcnQoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdRJywnJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19wbGVhdGVkTWlkaVNraXJ0XycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyOVwiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdSJywnJyxpbmRleCwnX2NvdHRvbl9DcmV3bmVja19UZWVfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19wbGVhdGVkTWlkaVNraXJ0XycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTMwXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMua2VlcEZpcnN0RWxlbWVudEFuZFJlbW92ZU90aGVycygpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tNeXByb2ZpbGUoKTsgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFske2l9LSR7aX1dIGluZGV4OiAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gIGN1cEVsZW1lbnRzLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBlbnRlcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbG9zaW5nIGxvb3AgRU5EXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNyb3BwZWRxdWlsdGVkc2VsZWN0Q3VwKGluZGV4LCB1c2VyLHNpemVUZXh0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgVXNlcjonLCB1c2VyKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlckhhc0NoYW5nZWQgPSB0aGlzLnByZXZpb3VzVXNlciAhPT0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1VzZXIgPSB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICBpZiAodXNlckhhc0NoYW5nZWQpIHsgLy8gUmVwbGFjZSB1c2VySGFzQ2hhbmdlZCB3aXRoIHlvdXIgY29uZGl0aW9uIHRvIGRldGVjdCBhIHVzZXIgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cyA9IFtdOyAvLyBDbGVhciB0aGUgYXJyYXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHVzaGVkIFNpemUgdG8gYXJyYXk6ICR7c2l6ZVRleHR9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmVkU2l6ZVRleHRzLnB1c2goc2l6ZVRleHQpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudHMgPSBhd2FpdCB0aGlzLmFsbEN1cEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZVNpemVzID0gW107XHJcbiAgICAgICAgICAgIGxldCBpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXAgPSBjdXBFbGVtZW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgbGVuZ3RoOiAke2N1cH1gKTtcclxuICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgYXZhaWxhYmxlIGN1cCBzaXplc1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY3VwRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBjdXBFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBjdXBFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBjdXBFbGVtZW50LmdldFRleHQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlU2l6ZXMucHVzaChjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBhdmFpbGFibGUgc2l6ZXMgYW5kIHNlbGVjdCBlYWNoIG9uZVxyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3QgY3VwVGV4dCBvZiBhdmFpbGFibGVTaXplcylcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF2YWlsYWJsZVNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwRWxlbWVudCA9IGF3YWl0IHRoaXMuZ2V0Q3VwRWxlbWVudEJ5VGV4dChjdXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGN1cEVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIFNpemU6ICR7Y3VwVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUHJvZmlsZSB2aWV3IGZyb250IGFuZCBiYWNrXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmluc2VydFRleHRHUygnSycsICcnLCBpbmRleCwgJ1JMJywgY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxlbmd0aCBvZiBzdG9yZWRTaXplVGV4dHM6XCIsIHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yZWRTaXplVGV4dHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdMJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfcHJvZmlsZV8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMFwiKTtcclxuICAgICAgICAgICAgICAgIH0gXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgc2VsZWN0aW5nIHRoZSBjdXAgc2l6ZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkIGFmdGVyIGNsaWNraW5nIEFwcGx5IChtb2RpZnkgdGltZSBhcyBuZWVkZWQpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdNJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ04nLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTJcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIENhbGZza2luIEhhbmRiYWcgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjYWxmc2tpbk1pbmlSTDUwSGFuZGJhZygpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1MnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NhbGZza2luX0hhbmRiYWdfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEzXCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1QnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NhbGZza2luX0hhbmRiYWdfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTRcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZUN1b2lvXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlX0N1b2lvKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTsgIC8vIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlIFNwaW5uZXIgbm90IGRpc3BsYXllZCBcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1UnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb18nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1YnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb18nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxNlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBsZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tMZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1cnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2xlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdYJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFNtYWxsIFN0ZWVsIEJsYWNrIEZpbmlzaFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrU21hbGxTdGVlbEJsYWNrRmluaXNoKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1knLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1NtYWxsX1N0ZWVsX0JsYWNrX0ZpbmlzaF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTlcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1onLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1NtYWxsX1N0ZWVsX0JsYWNrX0ZpbmlzaF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIFdlbGluZ3RvbiBFbmFtZWwgQnJhY2VsXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2t3ZWxpbmd0b25FbmFtZWxCcmFjZWxldCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQScsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfV2VsaW5ndG9uX0VuYW1lbF9CcmFjZWxfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIxXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnQicsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfV2VsaW5ndG9uX0VuYW1lbF9CcmFjZWxfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjJcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogY291cnRzdGVyIFNuZWFrZXJcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NvdXJ0c3RlclNuZWFrZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0UnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2NvdXJ0c3Rlcl9TbmVha2VyXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyM1wiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0YnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX2NvdXJ0c3Rlcl9TbmVha2VyXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogQ2VsaWEgQ2FsZnNraW4gUHVtcFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY2VsaWFDYWxmc2tpblB1bXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0MnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NlbGlhX0NhbGZza2luX1B1bXBfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdBJywnRCcsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfQ2VsaWFfQ2FsZnNraW5fUHVtcF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNlwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBzdHJhaWdodExlZ1NhdGluUGFudCAqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrc3RyYWlnaHRMZWdTYXRpblBhbnQoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdPJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19zdHJhaWdodExlZ1NhdGluUGFudF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjdcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUCcsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfc3RyYWlnaHRMZWdTYXRpblBhbnRfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjhcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgIC8vICoqKioqKkNvbWJvIHBsZWF0ZWRNaWRpU2tpcnQgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2twbGVhdGVkTWlkaVNraXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUScsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfcGxlYXRlZE1pZGlTa2lydF8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjlcIik7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUicsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfcGxlYXRlZE1pZGlTa2lydF8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUzMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmtlZXBGaXJzdEVsZW1lbnRBbmRSZW1vdmVPdGhlcnMoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrTXlwcm9maWxlKCk7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtpfS0ke2l9XSBpbmRleDogJHtpfWApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09ICBjdXBFbGVtZW50cy5sZW5ndGggLSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbG9zaW5nIGxvb3AgZW50ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIEVORFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwYWNrYWJsZUphY2tldHNlbGVjdEN1cChpbmRleCwgdXNlcixzaXplVGV4dCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVzZXI6JywgdXNlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJIYXNDaGFuZ2VkID0gdGhpcy5wcmV2aW91c1VzZXIgIT09IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNVc2VyID0gdXNlci51c2VybmFtZTtcclxuICAgICAgICAgICAgaWYgKHVzZXJIYXNDaGFuZ2VkKSB7IC8vIFJlcGxhY2UgdXNlckhhc0NoYW5nZWQgd2l0aCB5b3VyIGNvbmRpdGlvbiB0byBkZXRlY3QgYSB1c2VyIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZWRTaXplVGV4dHMgPSBbXTsgLy8gQ2xlYXIgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFB1c2hlZCBTaXplIHRvIGFycmF5OiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlZFNpemVUZXh0cy5wdXNoKHNpemVUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnRzID0gYXdhaXQgdGhpcy5hbGxDdXBFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgY29uc3QgY3VwID0gY3VwRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgIGxlbmd0aDogJHtjdXB9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbGxlY3QgYWxsIGF2YWlsYWJsZSBjdXAgc2l6ZXNcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgY3VwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgY3VwRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2goY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXZhaWxhYmxlIHNpemVzIGFuZCBzZWxlY3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IGN1cFRleHQgb2YgYXZhaWxhYmxlU2l6ZXMpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhdmFpbGFibGVTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cEVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldEN1cEVsZW1lbnRCeVRleHQoY3VwVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXBFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke2N1cFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFByb2ZpbGUgdmlldyBmcm9udCBhbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdSTCcsIGN1cFRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZW5ndGggb2Ygc3RvcmVkU2l6ZVRleHRzOlwiLCB0aGlzLnN0b3JlZFNpemVUZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2l6ZVRleHRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTCcsJycsaW5kZXgsJ19UaGVfcGFja2FibGVfSmFja2V0X3Byb2ZpbGVfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTBcIik7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNlbGVjdGluZyB0aGUgY3VwIHNpemVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZCBhZnRlciBjbGlja2luZyBBcHBseSAobW9kaWZ5IHRpbWUgYXMgbmVlZGVkKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTScsJycsaW5kZXgsJ19UaGVfcGFja2FibGVfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTFcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdOJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEyXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBDYWxmc2tpbiBIYW5kYmFnICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vUGljayB0aGUgRmxvdXJlZCBwYW50XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrY2FsZnNraW5NaW5pUkw1MEhhbmRiYWcoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdTJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DYWxmc2tpbl9IYW5kYmFnXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxM1wiKTsgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdUJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DYWxmc2tpbl9IYW5kYmFnXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE0XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGxlYXRoZXJNZWRpdW1CZWxscG9ydFRvdGVDdW9pb1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV9DdW9pbygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7ICAvLyAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZSBTcGlubmVyIG5vdCBkaXNwbGF5ZWQgXHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlQ3VvaW9fJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdWJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlQ3VvaW9fJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMTZcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKiogbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrTGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdXJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19sZWF0aGVyTWVkaXVtQmVsbHBvcnRUb3RlXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxN1wiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnWCcsJycsaW5kZXgsJ19UaGVfcGFja2FibGVfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfbGVhdGhlck1lZGl1bUJlbGxwb3J0VG90ZV8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBTbWFsbCBTdGVlbCBCbGFjayBGaW5pc2hcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja1NtYWxsU3RlZWxCbGFja0ZpbmlzaCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3Bpbm5lclRvRGlzYXBwZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdZJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbWFsbF9TdGVlbF9CbGFja19GaW5pc2hfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTE5XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdaJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19TbWFsbF9TdGVlbF9CbGFja19GaW5pc2hfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb24gKioqKkNvbWJvKioqKiBXZWxpbmd0b24gRW5hbWVsIEJyYWNlbFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrd2VsaW5ndG9uRW5hbWVsQnJhY2VsZXQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNwaW5uZXJUb0Rpc2FwcGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0EnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyMVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0InLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX1dlbGluZ3Rvbl9FbmFtZWxfQnJhY2VsXycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTIyXCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIGNvdXJ0c3RlciBTbmVha2VyXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tjb3VydHN0ZXJTbmVha2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdFJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19jb3VydHN0ZXJfU25lYWtlcl8nLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjNcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdGJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19jb3VydHN0ZXJfU25lYWtlcl8nLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvbiAqKioqQ29tYm8qKioqIENlbGlhIENhbGZza2luIFB1bXBcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja2NlbGlhQ2FsZnNraW5QdW1wKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpOyAgIC8vIFRvIGhhbmRsZSB0aGUgdGltZSB0byBjb21ibyB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JTcGlubmVyVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vQ2FwdHVyZSBzY3JlZW5zaG90IGFuZCBVcGxvYWQgaXRcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdDJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJ19DZWxpYV9DYWxmc2tpbl9QdW1wXycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUyNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJ0QnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX0NlbGlhX0NhbGZza2luX1B1bXBfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMjZcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gc3RyYWlnaHRMZWdTYXRpblBhbnQgKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3N0cmFpZ2h0TGVnU2F0aW5QYW50KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTycsJycsaW5kZXgsJ19UaGVfcGFja2FibGVfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCdfc3RyYWlnaHRMZWdTYXRpblBhbnRfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI3XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1AnLCcnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3N0cmFpZ2h0TGVnU2F0aW5QYW50XycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAvLyAqKioqKipDb21ibyBwbGVhdGVkTWlkaVNraXJ0ICoqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vUGljayB0aGUgRmxvdXJlZCBwYW50XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWNrcGxlYXRlZE1pZGlTa2lydCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1EnLCcnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3BsZWF0ZWRNaWRpU2tpcnRfJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTI5XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1InLCcnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnX3BsZWF0ZWRNaWRpU2tpcnRfJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMzBcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5rZWVwRmlyc3RFbGVtZW50QW5kUmVtb3ZlT3RoZXJzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja015cHJvZmlsZSgpOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7aX0tJHtpfV0gaW5kZXg6ICR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAgY3VwRWxlbWVudHMubGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBsb29wIGVudGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgbG9vcCBFTkRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Q3VwRWxlbWVudEJ5VGV4dChjdXBUZXh0KSB7XHJcbiAgICAgICAgY29uc3QgY3VwRWxlbWVudHMgPSBhd2FpdCB0aGlzLmFsbEN1cEVsZW1lbnQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXBFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXBFbGVtZW50ID0gY3VwRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBjdXBFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgaWYgKHRleHQgPT09IGN1cFRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXBFbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ3VwIGVsZW1lbnQgd2l0aCB0ZXh0IFwiJHtjdXBUZXh0fVwiIG5vdCBmb3VuZC5gKTtcclxuICAgIH1cclxuICAgIFxyXG59ICAgICBcclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgbXlwcm9maWxlKCk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUIsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsZUFBZSxDQUFDO0FBQzNDLE1BQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUV4QyxNQUFNRyxTQUFTLFNBQVNKLElBQUksQ0FBQztFQUN6Qjs7RUFFQSxJQUFJSyxpQkFBaUJBLENBQUEsRUFBRTtJQUNuQixPQUFPQyxDQUFDLENBQUMsdUNBQXVDLENBQUM7RUFDckQ7RUFFQSxJQUFJQyxhQUFhQSxDQUFBLEVBQUU7SUFDZixPQUFPQyxFQUFFLENBQUMsaUVBQWlFLENBQUM7RUFDaEY7RUFFQSxJQUFJQyxZQUFZQSxDQUFBLEVBQUU7SUFDZCxPQUFPSCxDQUFDLENBQUMsbUVBQW1FLENBQUM7RUFDakY7RUFFQSxJQUFJSSxnQkFBZ0JBLENBQUEsRUFBRTtJQUNsQixPQUFPSixDQUFDLENBQUMsc0NBQXNDLENBQUM7RUFDcEQ7RUFFQSxJQUFJSyxXQUFXQSxDQUFBLEVBQUU7SUFDYjtJQUNBO0lBQ0EsT0FBT0gsRUFBRSxDQUFDLG1EQUFtRCxDQUFDO0VBQ2xFO0VBRUEsSUFBSUksY0FBY0EsQ0FBQSxFQUFFO0lBQ2hCO0lBQ0E7SUFDQSxPQUFPTixDQUFDLENBQUMsa0RBQWtELENBQUM7RUFDaEU7RUFFQSxJQUFJTyxrQkFBa0JBLENBQUEsRUFBRTtJQUNwQixPQUFPUCxDQUFDLENBQUMseURBQXlELENBQUM7RUFDdkU7RUFFQSxJQUFJUSxXQUFXQSxDQUFBLEVBQUU7SUFDYixPQUFPUixDQUFDLENBQUMsc0VBQXNFLENBQUM7RUFDcEY7RUFFQSxJQUFJUyxXQUFXQSxDQUFBLEVBQUU7SUFDYixPQUFPVCxDQUFDLENBQUMsc0VBQXNFLENBQUM7RUFDcEY7RUFFQSxJQUFJVSxVQUFVQSxDQUFBLEVBQUU7SUFDWixPQUFPVixDQUFDLENBQUMsc0RBQXNELENBQUM7RUFDcEU7RUFFQSxJQUFJVyxhQUFhQSxDQUFBLEVBQUU7SUFDZixPQUFPWCxDQUFDLENBQUMsZUFBZSxDQUFDO0VBQzdCO0VBRUEsSUFBSVksYUFBYUEsQ0FBQSxFQUFFO0lBQ2YsT0FBT1osQ0FBQyxDQUFDLHdEQUF3RCxDQUFDO0VBQ3RFO0VBRUEsSUFBSWEscUJBQXFCQSxDQUFBLEVBQUU7SUFDdkIsT0FBT2IsQ0FBQyxDQUFDLG1EQUFtRCxDQUFDO0VBQ2pFO0VBRUEsSUFBSWMsV0FBV0EsQ0FBQSxFQUFFO0lBQ2IsT0FBT2QsQ0FBQyxDQUFDLGdDQUFnQyxDQUFDO0VBQzlDOztFQUVBO0VBQ0EsSUFBSWUsY0FBY0EsQ0FBQSxFQUFFO0lBQ2hCLE9BQU9mLENBQUMsQ0FBQyx5REFBeUQsQ0FBQztFQUN2RTtFQUVBLElBQUlnQixjQUFjQSxDQUFBLEVBQUU7SUFDaEIsT0FBT2hCLENBQUMsQ0FBQyx3REFBd0QsQ0FBQztFQUN0RTtFQUVBLElBQUlpQixnQkFBZ0JBLENBQUEsRUFBRTtJQUNsQixPQUFPakIsQ0FBQyxDQUFDLG1EQUFtRCxDQUFDO0VBQ2pFO0VBRUEsSUFBSWtCLGVBQWVBLENBQUEsRUFBRTtJQUNqQixPQUFPbEIsQ0FBQyxDQUFDLHlFQUF5RSxDQUFDO0VBQ3ZGO0VBRUEsSUFBSW1CLGdCQUFnQkEsQ0FBQSxFQUFFO0lBQ2xCLE9BQU9uQixDQUFDLENBQUMseURBQXlELENBQUM7RUFDdkU7RUFFQSxJQUFJb0IsU0FBU0EsQ0FBQSxFQUFFO0lBQ1gsT0FBT3BCLENBQUMsQ0FBQyw0RUFBNEUsQ0FBQztFQUMxRjtFQUVBLElBQUlxQixtQkFBbUJBLENBQUEsRUFBRTtJQUNyQixPQUFPckIsQ0FBQyxDQUFDLG1DQUFtQyxDQUFDO0VBQ2pEO0VBRUEsSUFBSXNCLG1CQUFtQkEsQ0FBQSxFQUFFO0lBQ3JCLE9BQU90QixDQUFDLENBQUMscUZBQXFGLENBQUM7RUFDbkc7RUFFQSxJQUFJdUIsY0FBY0EsQ0FBQSxFQUFFO0lBQ2hCO0lBQ0E7SUFDQSxPQUFPdkIsQ0FBQyxDQUFDLG1FQUFtRSxDQUFDO0VBQ2pGO0VBRUEsSUFBSXdCLFdBQVdBLENBQUEsRUFBRTtJQUNiO0lBQ0E7SUFDQTtJQUNBLE9BQU94QixDQUFDLENBQUMsbUVBQW1FLENBQUM7RUFDakY7RUFFQSxJQUFJeUIsY0FBY0EsQ0FBQSxFQUFFO0lBQ2pCO0lBQ0Q7SUFDQSxPQUFPekIsQ0FBQyxDQUFDLG1FQUFtRSxDQUFDO0VBQy9FO0VBRUEsSUFBSTBCLGVBQWVBLENBQUEsRUFBRTtJQUNqQjtJQUNBLE9BQU8xQixDQUFDLENBQUMsbUVBQW1FLENBQUM7RUFDakY7O0VBRUE7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSTtFQUNBLElBQUkyQix5QkFBeUJBLENBQUEsRUFBRTtJQUMzQixPQUFPM0IsQ0FBQyxDQUFDLG9EQUFvRCxDQUFDO0VBQ2xFO0VBRUEsSUFBSTRCLHFCQUFxQkEsQ0FBQSxFQUFFO0lBQ3ZCLE9BQU81QixDQUFDLENBQUMsd0NBQXdDLENBQUM7RUFDdEQ7RUFFQSxJQUFJNkIsZ0JBQWdCQSxDQUFBLEVBQUU7SUFDbEIsT0FBTzdCLENBQUMsQ0FBQyxrQ0FBa0MsQ0FBQztFQUNoRDtFQUVBLElBQUk4QixvQkFBb0JBLENBQUEsRUFBRTtJQUN0QixPQUFPOUIsQ0FBQyxDQUFDLHVDQUF1QyxDQUFDO0VBQ3JEO0VBRUEsSUFBSStCLGNBQWNBLENBQUEsRUFBRTtJQUNoQixPQUFPL0IsQ0FBQyxDQUFDLDJDQUEyQyxDQUFDO0VBQ3pEO0VBRUEsSUFBSWdDLGlCQUFpQkEsQ0FBQSxFQUFFO0lBQ25CLE9BQU9oQyxDQUFDLENBQUMsdUNBQXVDLENBQUM7RUFDckQ7RUFFQSxJQUFJaUMsaUJBQWlCQSxDQUFBLEVBQUU7SUFDbkIsT0FBT2pDLENBQUMsQ0FBQyx1Q0FBdUMsQ0FBQztFQUNyRDtFQUVBLElBQUlrQyxxQkFBcUJBLENBQUEsRUFBRTtJQUN2QixPQUFPbEMsQ0FBQyxDQUFDLDJDQUEyQyxDQUFDO0VBQ3pEO0VBRUEsSUFBSW1DLG9CQUFvQkEsQ0FBQSxFQUFFO0lBQ3RCLE9BQU9uQyxDQUFDLENBQUMsZ0RBQWdELENBQUM7RUFDOUQ7RUFFQSxJQUFJb0MsaUJBQWlCQSxDQUFBLEVBQUU7SUFDbkIsT0FBT3BDLENBQUMsQ0FBQyxtQ0FBbUMsQ0FBQztFQUNqRDtFQUVBLElBQUlxQyx5QkFBeUJBLENBQUEsRUFBRTtJQUMzQixPQUFPckMsQ0FBQyxDQUFDLDJEQUEyRCxDQUFDO0VBQ3pFO0VBRUEsSUFBSXNDLHFCQUFxQkEsQ0FBQSxFQUFFO0lBQ3ZCLE9BQU90QyxDQUFDLENBQUMsd0NBQXdDLENBQUM7RUFDdEQ7RUFFQSxJQUFJdUMsdUJBQXVCQSxDQUFBLEVBQUU7SUFDekIsT0FBT3ZDLENBQUMsQ0FBQyx5Q0FBeUMsQ0FBQztFQUN2RDtFQUVBLElBQUlrQyxxQkFBcUJBLENBQUEsRUFBRTtJQUN2QixPQUFPbEMsQ0FBQyxDQUFDLHVDQUF1QyxDQUFDO0VBQ3JEO0VBRUEsSUFBSXdDLHVCQUF1QkEsQ0FBQSxFQUFFO0lBQ3pCLE9BQU94QyxDQUFDLENBQUMsMENBQTBDLENBQUM7RUFDeEQ7RUFFQSxJQUFJeUMsOEJBQThCQSxDQUFBLEVBQUU7SUFDaEMsT0FBT3pDLENBQUMsQ0FBQyxvREFBb0QsQ0FBQztFQUNsRTtFQUVBLElBQUkwQyxnQkFBZ0JBLENBQUEsRUFBRTtJQUNsQixPQUFPMUMsQ0FBQyxDQUFDLGlDQUFpQyxDQUFDO0VBQy9DO0VBRUEsSUFBSTJDLFlBQVlBLENBQUEsRUFBRTtJQUNkLE9BQU8zQyxDQUFDLENBQUMsaURBQWlELENBQUM7RUFDL0Q7RUFDQTtFQUNJO0VBQ0EsTUFBTTRDLFlBQVlBLENBQUNDLE9BQU8sRUFBRTtJQUN4QixNQUFNQSxPQUFPLENBQUNDLGdCQUFnQixDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFNLENBQUMsQ0FBQztJQUVsRCxNQUFNQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxZQUFZO01BQ2hDLE1BQU1DLFdBQVcsR0FBRyxNQUFNTCxPQUFPLENBQUNLLFdBQVcsQ0FBQyxDQUFDO01BQy9DLE9BQU9BLFdBQVc7SUFDdEIsQ0FBQyxFQUFFO01BQ0NILE9BQU8sRUFBRSxLQUFLO01BQ2RJLFVBQVUsRUFBRyxHQUFFTixPQUFRO0lBQzNCLENBQUMsQ0FBQztJQUVGLE1BQU1BLE9BQU8sQ0FBQ08sS0FBSyxDQUFDLENBQUM7RUFDekI7RUFFSixNQUFPQyw4QkFBOEJBLENBQUEsRUFBRztJQUNwQyxNQUFNQyxVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUMzQix5QkFBeUI7SUFDdkQsTUFBTSxJQUFJLENBQUNpQixZQUFZLENBQUNVLFVBQVUsQ0FBQztFQUN2QztFQUdBLE1BQU9DLDBCQUEwQkEsQ0FBQSxFQUFHO0lBQ2hDLE1BQU1DLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQzVCLHFCQUFxQjtJQUMvQyxNQUFNLElBQUksQ0FBQ2dCLFlBQVksQ0FBQ1ksTUFBTSxDQUFDO0VBQ25DO0VBRUEsTUFBT0MscUJBQXFCQSxDQUFBLEVBQUc7SUFDM0IsTUFBTUMsS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDN0IsZ0JBQWdCO0lBQ3pDLE1BQU0sSUFBSSxDQUFDZSxZQUFZLENBQUNjLEtBQUssQ0FBQztFQUNsQztFQUVBLE1BQU9DLHlCQUF5QkEsQ0FBQSxFQUFHO0lBQy9CLE1BQU1DLGVBQWUsR0FBRyxNQUFNLElBQUksQ0FBQzlCLG9CQUFvQjtJQUN2RCxNQUFNLElBQUksQ0FBQ2MsWUFBWSxDQUFDZ0IsZUFBZSxDQUFDO0VBQzVDO0VBRUEsTUFBT0MsbUJBQW1CQSxDQUFBLEVBQUc7SUFDekIsTUFBTUMsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDL0IsY0FBYztJQUM1QyxNQUFNLElBQUksQ0FBQ2EsWUFBWSxDQUFDa0IsVUFBVSxDQUFDO0VBQ3ZDO0VBRUEsTUFBT0Msc0JBQXNCQSxDQUFBLEVBQUc7SUFDNUIsTUFBTUMsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDaEMsaUJBQWlCO0lBQ2hELE1BQU0sSUFBSSxDQUFDWSxZQUFZLENBQUNvQixXQUFXLENBQUM7RUFDeEM7RUFFQSxNQUFPQyxzQkFBc0JBLENBQUEsRUFBRztJQUM1QixNQUFNQyxjQUFjLEdBQUcsTUFBTSxJQUFJLENBQUNqQyxpQkFBaUI7SUFDbkQsTUFBTSxJQUFJLENBQUNXLFlBQVksQ0FBQ3NCLGNBQWMsQ0FBQztFQUMzQztFQUVBLE1BQU9DLDBCQUEwQkEsQ0FBQSxFQUFHO0lBQ2hDLE1BQU1DLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQ2xDLHFCQUFxQjtJQUNuRCxNQUFNLElBQUksQ0FBQ1UsWUFBWSxDQUFDd0IsVUFBVSxDQUFDO0VBQ3ZDO0VBRUEsTUFBT0MseUJBQXlCQSxDQUFBLEVBQUc7SUFDL0IsTUFBTUMsYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDbkMsb0JBQW9CO0lBQ3JELE1BQU0sSUFBSSxDQUFDUyxZQUFZLENBQUMwQixhQUFhLENBQUM7RUFDMUM7RUFFQSxNQUFPQyxzQkFBc0JBLENBQUEsRUFBRztJQUM1QixNQUFNQyxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUNwQyxpQkFBaUI7SUFDakQsTUFBTSxJQUFJLENBQUNRLFlBQVksQ0FBQzRCLFlBQVksQ0FBQztFQUN6QztFQUVBLE1BQU9DLDhCQUE4QkEsQ0FBQSxFQUFHO0lBQ3BDLE1BQU1DLGtCQUFrQixHQUFHLE1BQU0sSUFBSSxDQUFDckMseUJBQXlCO0lBQy9ELE1BQU0sSUFBSSxDQUFDTyxZQUFZLENBQUM4QixrQkFBa0IsQ0FBQztFQUMvQztFQUVBLE1BQU9DLDBCQUEwQkEsQ0FBQSxFQUFHO0lBQ2hDLE1BQU1DLGdCQUFnQixHQUFHLE1BQU0sSUFBSSxDQUFDdEMscUJBQXFCO0lBQ3pELE1BQU0sSUFBSSxDQUFDTSxZQUFZLENBQUNnQyxnQkFBZ0IsQ0FBQztFQUM3QztFQUVBLE1BQU9DLDRCQUE0QkEsQ0FBQSxFQUFHO0lBQ2xDLE1BQU1DLGNBQWMsR0FBRyxNQUFNLElBQUksQ0FBQ3ZDLHVCQUF1QjtJQUN6RCxNQUFNLElBQUksQ0FBQ0ssWUFBWSxDQUFDa0MsY0FBYyxDQUFDO0VBQzNDO0VBRUEsTUFBT0MsNEJBQTRCQSxDQUFBLEVBQUc7SUFDbEMsTUFBTUMsZUFBZSxHQUFHLE1BQU0sSUFBSSxDQUFDeEMsdUJBQXVCO0lBQzFELE1BQU0sSUFBSSxDQUFDSSxZQUFZLENBQUNvQyxlQUFlLENBQUM7RUFDNUM7RUFFQSxNQUFPQyxvQ0FBb0NBLENBQUEsRUFBRztJQUMxQyxNQUFNQyxtQkFBbUIsR0FBRyxNQUFNLElBQUksQ0FBQ3pDLDhCQUE4QjtJQUNyRSxNQUFNLElBQUksQ0FBQ0csWUFBWSxDQUFDc0MsbUJBQW1CLENBQUM7RUFDaEQ7RUFFQSxNQUFPQyxxQkFBcUJBLENBQUEsRUFBRztJQUMzQixNQUFNQyxpQkFBaUIsR0FBRyxNQUFNLElBQUksQ0FBQzFDLGdCQUFnQjtJQUNyRCxNQUFNLElBQUksQ0FBQ0UsWUFBWSxDQUFDd0MsaUJBQWlCLENBQUM7RUFDOUM7RUFFQSxNQUFNQyx5QkFBeUJBLENBQUN0QyxPQUFPLEdBQUcsS0FBSyxFQUFFO0lBQzdDLE1BQU11QyxPQUFPLEdBQUcsSUFBSSxDQUFDM0MsWUFBWTtJQUNqQyxJQUFJO01BQ0EsTUFBTTJDLE9BQU8sQ0FBQ3hDLGdCQUFnQixDQUFDO1FBQUVDLE9BQU87UUFBRXdDLE9BQU8sRUFBRTtNQUFLLENBQUMsQ0FBQztNQUMxRCxPQUFPLElBQUk7SUFDZixDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO01BQ1osT0FBTyxLQUFLO0lBQ2hCO0VBQ0o7RUFFQSxNQUFNQyxVQUFVQSxDQUFBLEVBQUU7SUFDZCxNQUFNQyxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUNuRSxjQUFjO0lBQ3pDLE1BQU1vRSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUNuRSxXQUFXO0lBQ25DLE1BQU1vRSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUNuRSxjQUFjO0lBQ3hDLE1BQU1vRSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUNuRSxlQUFlO0lBRTNDLE1BQU1nRSxPQUFPLENBQUNJLFdBQVcsQ0FBQztNQUFFQyxDQUFDLEVBQUUsR0FBRztNQUFFQyxDQUFDLEVBQUU7SUFBRSxDQUFDLENBQUM7SUFDM0MsTUFBTUwsSUFBSSxDQUFDRyxXQUFXLENBQUM7TUFBRUMsQ0FBQyxFQUFFLEdBQUc7TUFBRUMsQ0FBQyxFQUFFO0lBQUUsQ0FBQyxDQUFDO0lBQ3hDLE1BQU1KLE1BQU0sQ0FBQ0UsV0FBVyxDQUFDO01BQUVDLENBQUMsRUFBRSxHQUFHO01BQUVDLENBQUMsRUFBRTtJQUFFLENBQUMsQ0FBQztJQUMxQyxNQUFNSCxRQUFRLENBQUNDLFdBQVcsQ0FBQztNQUFFQyxDQUFDLEVBQUUsR0FBRztNQUFFQyxDQUFDLEVBQUU7SUFBRSxDQUFDLENBQUM7RUFDaEQ7RUFFQSxNQUFNQyxjQUFjQSxDQUFBLEVBQUc7SUFDbkIsTUFBTUMsT0FBTyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLE1BQU1wRyxTQUFTLEdBQUcsTUFBTSxJQUFJLENBQUNDLGlCQUFpQjtNQUM5QyxNQUFNRCxTQUFTLENBQUNnRCxnQkFBZ0IsQ0FBQztRQUFFQyxPQUFPLEVBQUVtRDtNQUFRLENBQUMsQ0FBQztNQUN0RCxNQUFNcEcsU0FBUyxDQUFDc0QsS0FBSyxDQUFDLENBQUM7TUFDdkIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsT0FBT1osS0FBSyxFQUFFO01BQ1osSUFBSUEsS0FBSyxDQUFDYSxJQUFJLEtBQUssY0FBYyxFQUFFO1FBQy9CRixPQUFPLENBQUNYLEtBQUssQ0FBRSwyQ0FBMENVLE9BQU8sR0FBRyxJQUFLLFdBQVUsQ0FBQztNQUN2RixDQUFDLE1BQU07UUFDSEMsT0FBTyxDQUFDWCxLQUFLLENBQUUsNkNBQTRDQSxLQUFLLENBQUNjLE9BQVEsRUFBQyxDQUFDO01BQy9FO0lBQ0o7RUFDSjtFQUVBLE1BQU1DLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ3RCLE1BQU1MLE9BQU8sR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxNQUFNTSxLQUFLLEdBQUcsTUFBTSxJQUFJLENBQUNuRixtQkFBbUI7TUFDNUMsTUFBTW1GLEtBQUssQ0FBQzFELGdCQUFnQixDQUFDO1FBQUVDLE9BQU8sRUFBRW1EO01BQVEsQ0FBQyxDQUFDO01BQ2xELE1BQU1NLEtBQUssQ0FBQ3BELEtBQUssQ0FBQyxDQUFDO01BQ25CK0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLENBQUM7SUFDN0MsQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtNQUNaLElBQUlBLEtBQUssQ0FBQ2EsSUFBSSxLQUFLLGNBQWMsRUFBRTtRQUMvQkYsT0FBTyxDQUFDWCxLQUFLLENBQUUsb0NBQW1DVSxPQUFPLEdBQUcsSUFBSyxXQUFVLENBQUM7TUFDaEYsQ0FBQyxNQUFNO1FBQ0hDLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLHdDQUF1Q0EsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztNQUMxRTtJQUNKO0VBQ0o7RUFFQSxNQUFNRyxlQUFlQSxDQUFBLEVBQUU7SUFDbkIsTUFBTUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDcEcsY0FBYztJQUN6QyxNQUFNMEMsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWSxNQUFNeUQsT0FBTyxDQUFDQyxXQUFXLENBQUMsQ0FBQyxFQUFFO01BQUM1RCxPQUFPLEVBQUU7SUFBSyxDQUFDLENBQUM7SUFDbEYsTUFBTTJELE9BQU8sQ0FBQ0UsY0FBYyxDQUFDLENBQUM7SUFDOUIsTUFBTTVELE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxJQUFJLENBQUM7RUFDN0I7O0VBRUE7RUFDQSxNQUFNQyxvQkFBb0JBLENBQUEsRUFBRztJQUN6QixNQUFNQyxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUN4RyxrQkFBa0I7SUFDOUMsTUFBTXdHLFFBQVEsQ0FBQ0gsY0FBYyxDQUFDLENBQUM7SUFDL0IsTUFBTUksSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDeEcsV0FBVzs7SUFFbkM7SUFDQSxNQUFNeUcsWUFBWSxHQUFHLE1BQU1ELElBQUksQ0FBQ0UsT0FBTyxDQUFDLENBQUM7SUFDekM7SUFDQSxJQUFJRCxZQUFZLEtBQUssR0FBRyxFQUFFO01BQ3RCLE1BQU1GLFFBQVEsQ0FBQzNELEtBQUssQ0FBQyxDQUFDO01BQ3RCLE1BQU0rRCxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMxRyxXQUFXO01BQ3RDLE1BQU11QyxPQUFPLENBQUM2RCxLQUFLLENBQUMsSUFBSSxDQUFDO01BQ3pCLE1BQU1NLE9BQU8sQ0FBQy9ELEtBQUssQ0FBQyxDQUFDO01BQ3JCLE1BQU1KLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDN0I7RUFDSjs7RUFFQTtFQUNBLE1BQU1PLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ3pCLE1BQU1MLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQ3hHLGtCQUFrQjtJQUM5QyxNQUFNd0csUUFBUSxDQUFDSCxjQUFjLENBQUMsQ0FBQztJQUMvQixNQUFNUyxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUM1RyxXQUFXO0lBQ25DO0lBQ0EsTUFBTXdHLFlBQVksR0FBRyxNQUFNSSxJQUFJLENBQUNILE9BQU8sQ0FBQyxDQUFDOztJQUV6QztJQUNBLElBQUlELFlBQVksS0FBSyxHQUFHLEVBQUU7TUFDdEIsTUFBTUYsUUFBUSxDQUFDM0QsS0FBSyxDQUFDLENBQUM7TUFDdEIsTUFBTWtFLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQzlHLFdBQVc7TUFDdEMsTUFBTXdDLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxJQUFJLENBQUM7TUFDekIsTUFBTVMsT0FBTyxDQUFDbEUsS0FBSyxDQUFDLENBQUM7TUFDckIsTUFBTUosT0FBTyxDQUFDNkQsS0FBSyxDQUFDLElBQUksQ0FBQztJQUM3QjtFQUNKO0VBRUEsTUFBTVUsa0JBQWtCQSxDQUFBLEVBQUU7SUFDdEIsTUFBTUMsZUFBZSxHQUFHLE1BQU0sSUFBSSxDQUFDOUcsVUFBVTtJQUM3QyxNQUFNc0MsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWSxNQUFNdUUsZUFBZSxDQUFDYixXQUFXLENBQUMsQ0FBQyxFQUFFO01BQUM1RCxPQUFPLEVBQUU7SUFBSyxDQUFDLENBQUM7SUFDMUYsTUFBTXlFLGVBQWUsQ0FBQ1osY0FBYyxDQUFDLENBQUM7SUFDdEMsTUFBTTVELE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxJQUFJLENBQUM7RUFDN0I7RUFFQSxNQUFNWSxrQkFBa0JBLENBQUEsRUFBRTtJQUN0QixNQUFNQyxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUMvRyxhQUFhO0lBQzVDLE1BQU1xQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxZQUFZLE1BQU15RSxXQUFXLENBQUNmLFdBQVcsQ0FBQyxDQUFDLEVBQUU7TUFBQzVELE9BQU8sRUFBRTtJQUFLLENBQUMsQ0FBQztJQUN0RixNQUFNMkUsV0FBVyxDQUFDdEUsS0FBSyxDQUFDLENBQUM7SUFDMUI7RUFDSDs7RUFFQSxNQUFNdUUsV0FBV0EsQ0FBQSxFQUFFO0lBQ2YsTUFBTUMsTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDaEgsYUFBYTtJQUN2QyxNQUFNb0MsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWSxNQUFNMkUsTUFBTSxDQUFDakIsV0FBVyxDQUFDLENBQUMsRUFBRTtNQUFDNUQsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQ2pGLE1BQU02RSxNQUFNLENBQUN4RSxLQUFLLENBQUMsQ0FBQztFQUN4QjtFQUVBLE1BQU15RSw0QkFBNEJBLENBQUEsRUFBRztJQUNqQyxJQUFJO01BQ0EsTUFBTUMsSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDakgscUJBQXFCO01BQzdDLE1BQU1tQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxZQUFZO1FBQ2hDLE1BQU02RSxJQUFJLENBQUNsQixjQUFjLENBQUMsQ0FBQztRQUMzQixPQUFPLE1BQU1rQixJQUFJLENBQUNuQixXQUFXLENBQUMsQ0FBQztNQUNuQyxDQUFDLEVBQUU7UUFBRTVELE9BQU8sRUFBRSxLQUFLO1FBQUVJLFVBQVUsRUFBRTtNQUFxRSxDQUFDLENBQUM7SUFDNUcsQ0FBQyxDQUFDLE9BQU9xQyxLQUFLLEVBQUU7TUFDWlcsT0FBTyxDQUFDWCxLQUFLLENBQUMsNERBQTRELEVBQUVBLEtBQUssQ0FBQztJQUN0RjtFQUNKO0VBRUEsTUFBTXVDLFNBQVNBLENBQUEsRUFBRTtJQUNiLE1BQU1DLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQ2xILFdBQVc7SUFDbkMsTUFBTWtDLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDLFlBQVksTUFBTStFLElBQUksQ0FBQ3JCLFdBQVcsQ0FBQyxDQUFDLEVBQUU7TUFBQzVELE9BQU8sRUFBRTtJQUFLLENBQUMsQ0FBQztJQUMvRSxNQUFNaUYsSUFBSSxDQUFDNUUsS0FBSyxDQUFDLENBQUM7RUFDdEI7RUFFQSxNQUFNNkUsbUJBQW1CQSxDQUFBLEVBQUU7SUFDdkIsTUFBTUMsYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDbkgsY0FBYztJQUMvQyxNQUFNaUMsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWSxNQUFNaUYsYUFBYSxDQUFDdkIsV0FBVyxDQUFDLENBQUMsRUFBRTtNQUFDNUQsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQ3hGLE1BQU1tRixhQUFhLENBQUM5RSxLQUFLLENBQUMsQ0FBQztFQUMvQjtFQUVBLE1BQU0rRSxZQUFZQSxDQUFBLEVBQUU7SUFDaEIsTUFBTUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDcEgsY0FBYztJQUN6QyxNQUFNZ0MsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWSxNQUFNbUYsT0FBTyxDQUFDekIsV0FBVyxDQUFDLENBQUMsRUFBRTtNQUFDNUQsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQ2xGLE1BQU1xRixPQUFPLENBQUNoRixLQUFLLENBQUMsQ0FBQztFQUN6QjtFQUVBLE1BQU1pRixjQUFjQSxDQUFBLEVBQUc7SUFDbkIsTUFBTUMsY0FBYyxHQUFHLE1BQU0sSUFBSSxDQUFDckgsZ0JBQWdCO0lBQ2xELE1BQU1xSCxjQUFjLENBQUN4RixnQkFBZ0IsQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBTSxDQUFDLENBQUM7SUFFekQsTUFBTUMsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWTtNQUNoQyxNQUFNQyxXQUFXLEdBQUcsTUFBTW9GLGNBQWMsQ0FBQ3BGLFdBQVcsQ0FBQyxDQUFDO01BQ3RELE9BQU9BLFdBQVc7SUFDdEIsQ0FBQyxFQUFFO01BQ0NILE9BQU8sRUFBRSxLQUFLO01BQ2RJLFVBQVUsRUFBRTtJQUNoQixDQUFDLENBQUM7SUFFRixNQUFNbUYsY0FBYyxDQUFDbEYsS0FBSyxDQUFDLENBQUM7RUFDaEM7RUFFQSxNQUFNbUYsYUFBYUEsQ0FBQSxFQUFHO0lBQ2xCLE1BQU1DLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQ3RILGVBQWU7SUFDM0MsTUFBTXNILFFBQVEsQ0FBQzFGLGdCQUFnQixDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFNLENBQUMsQ0FBQztJQUVuRCxNQUFNQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxZQUFZO01BQ2hDLE1BQU1DLFdBQVcsR0FBRyxNQUFNc0YsUUFBUSxDQUFDdEYsV0FBVyxDQUFDLENBQUM7TUFDaEQsT0FBT0EsV0FBVztJQUN0QixDQUFDLEVBQUU7TUFDQ0gsT0FBTyxFQUFFLEtBQUs7TUFDZEksVUFBVSxFQUFFO0lBQ2hCLENBQUMsQ0FBQztJQUVGLE1BQU1xRixRQUFRLENBQUNwRixLQUFLLENBQUMsQ0FBQztFQUMxQjtFQUVBLE1BQU1xRixpQkFBaUJBLENBQUEsRUFBRztJQUN0QixJQUFJO01BQ0EsTUFBTUMsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDcEgsbUJBQW1CO01BQ25ELE1BQU1vSCxZQUFZLENBQUM1RixnQkFBZ0IsQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBTSxDQUFDLENBQUM7TUFFdkQsTUFBTUMsT0FBTyxDQUFDQyxTQUFTLENBQUMsWUFBWTtRQUNoQyxNQUFNQyxXQUFXLEdBQUcsTUFBTXdGLFlBQVksQ0FBQ3hGLFdBQVcsQ0FBQyxDQUFDO1FBQ3BELE9BQU9BLFdBQVc7TUFDdEIsQ0FBQyxFQUFFO1FBQ0NILE9BQU8sRUFBRSxLQUFLO1FBQ2RJLFVBQVUsRUFBRTtNQUNoQixDQUFDLENBQUM7TUFFRixNQUFNdUYsWUFBWSxDQUFDdEYsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQyxDQUFDLE9BQU9vQyxLQUFLLEVBQUU7TUFDWjtNQUNBVyxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0REFBNEQsRUFBRVosS0FBSyxDQUFDYyxPQUFPLENBQUM7SUFDNUY7RUFDSjtFQUdBLE1BQU1xQyxjQUFjQSxDQUFBLEVBQUc7SUFDbkIsTUFBTUMsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDeEgsU0FBUztJQUNyQyxNQUFNd0gsUUFBUSxDQUFDOUYsZ0JBQWdCLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQU0sQ0FBQyxDQUFDO0lBRW5ELE1BQU1DLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDLFlBQVk7TUFDaEMsTUFBTUMsV0FBVyxHQUFHLE1BQU0wRixRQUFRLENBQUMxRixXQUFXLENBQUMsQ0FBQztNQUNoRCxPQUFPQSxXQUFXO0lBQ3RCLENBQUMsRUFBRTtNQUNDSCxPQUFPLEVBQUUsS0FBSztNQUNkSSxVQUFVLEVBQUU7SUFDaEIsQ0FBQyxDQUFDO0lBRUYsTUFBTXlGLFFBQVEsQ0FBQ3hGLEtBQUssQ0FBQyxDQUFDO0VBQzFCO0VBRUEsTUFBTXlGLHNCQUFzQkEsQ0FBQSxFQUFHO0lBQzNCLE1BQU1DLGlCQUFpQixHQUFHLE1BQU0sSUFBSSxDQUFDM0gsZ0JBQWdCO0lBQ3JELE1BQU0ySCxpQkFBaUIsQ0FBQ2hHLGdCQUFnQixDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFNLENBQUMsQ0FBQztJQUU1RCxNQUFNQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxZQUFZO01BQ2hDLE1BQU1DLFdBQVcsR0FBRyxNQUFNNEYsaUJBQWlCLENBQUM1RixXQUFXLENBQUMsQ0FBQztNQUN6RCxPQUFPQSxXQUFXO0lBQ3RCLENBQUMsRUFBRTtNQUNDSCxPQUFPLEVBQUUsS0FBSztNQUNkSSxVQUFVLEVBQUU7SUFDaEIsQ0FBQyxDQUFDO0lBRUYsTUFBTTJGLGlCQUFpQixDQUFDMUYsS0FBSyxDQUFDLENBQUM7RUFDbkM7RUFHQSxNQUFNMkYsY0FBY0EsQ0FBQSxFQUFHO0lBQ25CLE1BQU03QyxPQUFPLEdBQUcsS0FBSztJQUNyQixJQUFJO01BQ0EsTUFBTThDLFNBQVMsR0FBRyxNQUFNLElBQUksQ0FBQzVJLGdCQUFnQjtNQUM3QyxNQUFNNEksU0FBUyxDQUFDbEcsZ0JBQWdCLENBQUM7UUFBRUMsT0FBTyxFQUFFbUQ7TUFBUSxDQUFDLENBQUM7TUFDdEQsTUFBTThDLFNBQVMsQ0FBQzVGLEtBQUssQ0FBQyxDQUFDO0lBQzNCLENBQUMsQ0FBQyxPQUFPb0MsS0FBSyxFQUFFO01BQ1osSUFBSUEsS0FBSyxDQUFDYSxJQUFJLEtBQUssY0FBYyxFQUFFO1FBQy9CRixPQUFPLENBQUNYLEtBQUssQ0FBRSwwQ0FBeUNVLE9BQU8sR0FBRyxJQUFLLFdBQVUsQ0FBQztNQUN0RixDQUFDLE1BQU07UUFDSEMsT0FBTyxDQUFDWCxLQUFLLENBQUUsNkNBQTRDQSxLQUFLLENBQUNjLE9BQVEsRUFBQyxDQUFDO01BQy9FO0lBQ0o7RUFDSjtFQUVBLE1BQU0yQyxnQkFBZ0JBLENBQUEsRUFBRztJQUNyQixNQUFNL0MsT0FBTyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLE1BQU1nRCxLQUFLLEdBQUcsTUFBTSxJQUFJLENBQUMvSSxZQUFZO01BQ3JDLE1BQU1nSixzQkFBc0IsR0FBRyxNQUFNRCxLQUFLLENBQUN2QyxXQUFXLENBQUMsQ0FBQztNQUN4RCxNQUFNeUMsb0JBQW9CLEdBQUcsTUFBTUYsS0FBSyxDQUFDRyxTQUFTLENBQUMsQ0FBQztNQUVwRCxJQUFJRixzQkFBc0IsSUFBSUMsb0JBQW9CLEVBQUU7UUFDaEQsTUFBTUYsS0FBSyxDQUFDOUYsS0FBSyxDQUFDLENBQUM7UUFDbkIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxtQ0FBbUMsQ0FBQztNQUVwRCxDQUFDLE1BQU07UUFDSEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsNENBQTRDLENBQUM7UUFDekQsTUFBTSxJQUFJLENBQUMyQyxjQUFjLENBQUMsQ0FBQztNQUMvQjtJQUNKLENBQUMsQ0FBQyxPQUFPdkQsS0FBSyxFQUFFO01BQ1pXLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLHdDQUF1Q0EsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztNQUN0RTtJQUNKO0VBQ0o7O0VBR0EsTUFBTWdELCtCQUErQkEsQ0FBQSxFQUFHO0lBQ3BDO0lBQ0EsTUFBTUMsUUFBUSxHQUFFLE1BQU1ySixFQUFFLENBQUMsK0NBQStDLENBQUM7SUFDekVpRyxPQUFPLENBQUNDLEdBQUcsQ0FBRSw2QkFBNEJtRCxRQUFRLENBQUNDLE1BQU8sRUFBQyxDQUFDO0lBQzNEO0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUdGLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRUMsQ0FBQyxJQUFJLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7TUFDM0MsTUFBTUMsYUFBYSxHQUFHSCxRQUFRLENBQUNFLENBQUMsQ0FBQzs7TUFFakM7TUFDQSxNQUFNQyxhQUFhLENBQUNDLGdCQUFnQixDQUFDO1FBQUU1RyxPQUFPLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFFdkQsTUFBTTZHLFVBQVUsR0FBRyxNQUFNRixhQUFhLENBQUN4QyxPQUFPLENBQUMsQ0FBQztNQUVoRCxJQUFJMEMsVUFBVSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxLQUFLLFFBQVEsRUFBRTtRQUNoQztRQUNBLE1BQU1ILGFBQWEsQ0FBQ3RHLEtBQUssQ0FBQyxDQUFDO1FBQzNCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsMkNBQTBDcUQsQ0FBRSxHQUFFLENBQUM7TUFDaEUsQ0FBQyxNQUFNO1FBQ0h0RCxPQUFPLENBQUNDLEdBQUcsQ0FBRSwyQkFBMEJ3RCxVQUFXLCtCQUE4QixDQUFDO01BQ3JGO0lBQ0o7RUFDSjtFQUVDRSxlQUFlLEdBQUcsRUFBRTtFQUNwQkMsWUFBWSxHQUFHLElBQUk7RUFDcEI7RUFDQSxNQUFNQyxTQUFTQSxDQUFDQyxLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ2xDLElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BQ25DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLGFBQWEsRUFBRVksT0FBTyxDQUFDO1FBRXBFLElBQUksSUFBSSxDQUFDZixlQUFlLENBQUNOLE1BQU0sS0FBSyxDQUFDLEVBQUU7VUFDdkMsTUFBTTNKLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQ1gsSUFBSSxDQUFDO1VBQ3hJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1VBRXBCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztVQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztVQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7VUFDdkkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQ1gsSUFBSSxDQUFDO1FBQ3hJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7UUFDdkkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNHO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ0ksbUJBQW1CLENBQUMsQ0FBQztRQUNoQztRQUNBLE1BQU1ySSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNbEwsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGVBQWUsRUFBQyxTQUFTLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7UUFDckovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHVCQUF1QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsZUFBZSxFQUFDLFFBQVEsRUFBQyxhQUFhLEVBQUNYLElBQUksQ0FBQztRQUNwSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ00sWUFBWSxDQUFDLENBQUM7UUFDekI7UUFDQSxNQUFNdkksVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQ1gsSUFBSSxDQUFDO1FBQ2pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7UUFDaEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUNRLGNBQWMsQ0FBQyxDQUFDO1FBQzNCO1FBQ0EsTUFBTXpJLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHVCQUF1QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsY0FBYyxFQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUNYLElBQUksQ0FBQztRQUNwSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxjQUFjLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQ1gsSUFBSSxDQUFDO1FBQ25KL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNVLGFBQWEsQ0FBQyxDQUFDO1FBQzFCLE1BQU0zSSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFFO1FBQzdCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQ1gsSUFBSSxDQUFDO1FBQ2pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7UUFDaEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBLE1BQU0sSUFBSSxDQUFDdEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNLElBQUksQ0FBQ2dCLHNCQUFzQixDQUFDLENBQUM7UUFDbkMsTUFBTWpKLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBRztRQUN0QyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDM0I7UUFDQSxNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtCQUFrQixFQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUNYLElBQUksQ0FBQztRQUN6Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDWCxJQUFJLENBQUM7UUFDeEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDO1FBRWhDLE1BQU0sSUFBSSxDQUFDN0IsK0JBQStCLENBQUMsQ0FBQztRQUM1QyxNQUFNLElBQUksQ0FBQ3JELGNBQWMsQ0FBQyxDQUFDO1FBQzNCRSxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHcUQsQ0FBRSxJQUFHQSxDQUFFLFlBQVdBLENBQUUsRUFBQyxDQUFDO1FBQ3RDLElBQUlBLENBQUMsS0FBTWMsV0FBVyxDQUFDZixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQy9CckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFDbkMsTUFBTSxJQUFJLENBQUNHLGlCQUFpQixDQUFDLENBQUM7VUFDOUIsTUFBTSxJQUFJLENBQUMwQyxnQkFBZ0IsQ0FBQyxDQUFDO1VBQzdCLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztVQUNsQzVFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ25DO1FBQ0E2RCxLQUFLLEVBQUU7TUFDWDtJQUNKLENBQUMsQ0FBQyxPQUFPekUsS0FBSyxFQUFFO01BQ1pXLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztJQUNyRDtFQUNKO0VBRUEsTUFBTThFLG1CQUFtQkEsQ0FBQ25CLEtBQUssRUFBRUMsSUFBSSxFQUFDQyxRQUFRLEVBQUU7SUFDNUMsSUFBSTtNQUNBLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7TUFDQSxLQUFLLElBQUlwQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdlLGNBQWMsQ0FBQ2hCLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDNUMsTUFBTW9CLE9BQU8sR0FBR0wsY0FBYyxDQUFDZixDQUFDLENBQUM7UUFDakMsTUFBTWlCLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQ0ksbUJBQW1CLENBQUNELE9BQU8sQ0FBQztRQUMxRCxNQUFNSCxVQUFVLENBQUN0SCxLQUFLLENBQUMsQ0FBQztRQUN4QitDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGlCQUFnQnlFLE9BQVEsRUFBQyxDQUFDOztRQUV2QztRQUNBLE1BQU1qTCxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNbEwsU0FBUyxDQUFDbUwsWUFBWSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUVmLEtBQUssRUFBRSxZQUFZLEVBQUVZLE9BQU8sQ0FBQztRQUNuRSxNQUFNaEwsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDdEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7O1FBRXBCO1FBQ0EsTUFBTSxJQUFJLENBQUM2QyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdCLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDdEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztRQUNySS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUVwQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7UUFDL0I7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNVLGFBQWEsQ0FBQyxDQUFDO1FBQzFCLE1BQU0zSSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFFO1FBQzdCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQ1gsSUFBSSxDQUFDO1FBQzlJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDN0kvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBLE1BQU0sSUFBSSxDQUFDdEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNLElBQUksQ0FBQ2dCLHNCQUFzQixDQUFDLENBQUM7UUFDbkMsTUFBTWpKLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBRztRQUN0QyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDM0I7UUFDQSxNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtCQUFrQixFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztRQUN0Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDckovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sSUFBSSxDQUFDN0IsK0JBQStCLENBQUMsQ0FBQztRQUU1QyxNQUFNLElBQUksQ0FBQ3JELGNBQWMsQ0FBQyxDQUFDO1FBQzNCLElBQUl3RCxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1o7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU0rRSxvQkFBb0JBLENBQUNwQixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQzdDLElBQUk7TUFDQSxNQUFNSSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUN0SyxhQUFhO01BQzVDLE1BQU11SyxjQUFjLEdBQUcsRUFBRTtNQUN6QixJQUFJZixDQUFDO01BQ0wsTUFBTWdCLEdBQUcsR0FBR0YsV0FBVyxDQUFDZixNQUFNO01BQzlCckQsT0FBTyxDQUFDQyxHQUFHLENBQUUsWUFBV3FFLEdBQUksRUFBQyxDQUFDO01BQzlCO01BQ0EsS0FBS2hCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2MsV0FBVyxDQUFDZixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQ3JDLE1BQU1pQixVQUFVLEdBQUdILFdBQVcsQ0FBQ2QsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1rQixVQUFVLEdBQUcsTUFBTUQsVUFBVSxDQUFDRSxZQUFZLENBQUMsVUFBVSxDQUFDO1FBQzVELE1BQU1DLE9BQU8sR0FBRyxNQUFNSCxVQUFVLENBQUN4RCxPQUFPLENBQUMsQ0FBQztRQUUxQyxJQUFJLENBQUN5RCxVQUFVLEVBQUU7VUFDYkgsY0FBYyxDQUFDRixJQUFJLENBQUNPLE9BQU8sQ0FBQztRQUNoQztNQUNKO01BQ0EsS0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZSxjQUFjLENBQUNoQixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU1vQixPQUFPLEdBQUdMLGNBQWMsQ0FBQ2YsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1pQixVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRCxPQUFPLENBQUM7UUFDMUQsTUFBTUgsVUFBVSxDQUFDdEgsS0FBSyxDQUFDLENBQUM7UUFDeEIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0J5RSxPQUFRLEVBQUMsQ0FBQzs7UUFFdkM7UUFDQSxNQUFNLElBQUksQ0FBQzVCLGdCQUFnQixDQUFDLENBQUM7UUFDN0IsTUFBTXJKLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztRQUN0SS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLFlBQVksRUFBQ1gsSUFBSSxDQUFDO1FBQ3JJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQ2xGLGNBQWMsQ0FBQyxDQUFDO1FBQzNCLElBQUl3RCxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUdBLE1BQU1nRixvQkFBb0JBLENBQUNyQixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQzdDLElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLGFBQWEsRUFBRVksT0FBTyxDQUFDO1FBQ3BFMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7VUFDMUkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsd0JBQXdCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQ1gsSUFBSSxDQUFDO1FBQzFJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7UUFDekkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNHO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ0ksbUJBQW1CLENBQUMsQ0FBQztRQUNoQztRQUNBLE1BQU1ySSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNbEwsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGVBQWUsRUFBQyxTQUFTLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7UUFDdkovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHdCQUF3QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsZUFBZSxFQUFDLFFBQVEsRUFBQyxjQUFjLEVBQUNYLElBQUksQ0FBQztRQUN0Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ00sWUFBWSxDQUFDLENBQUM7UUFDekI7UUFDQSxNQUFNdkksVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsd0JBQXdCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQ1gsSUFBSSxDQUFDO1FBQ25KL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7UUFDbEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUNRLGNBQWMsQ0FBQyxDQUFDO1FBQzNCO1FBQ0EsTUFBTXpJLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHdCQUF3QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsY0FBYyxFQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUNYLElBQUksQ0FBQztRQUN0Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsd0JBQXdCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxjQUFjLEVBQUMsUUFBUSxFQUFDLGNBQWMsRUFBQ1gsSUFBSSxDQUFDO1FBQ3JKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNVLGFBQWEsQ0FBQyxDQUFDO1FBQzFCLE1BQU0zSSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFFO1FBQzdCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsd0JBQXdCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQ1gsSUFBSSxDQUFDO1FBQ25KL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7UUFDbEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBLE1BQU0sSUFBSSxDQUFDdEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNLElBQUksQ0FBQ2dCLHNCQUFzQixDQUFDLENBQUM7UUFDbkMsTUFBTWpKLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBRztRQUN0QyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDM0I7UUFDQSxNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx3QkFBd0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtCQUFrQixFQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUNYLElBQUksQ0FBQztRQUMzSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsd0JBQXdCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDWCxJQUFJLENBQUM7UUFDMUovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDO1FBRWhDLE1BQU0sSUFBSSxDQUFDN0IsK0JBQStCLENBQUMsQ0FBQztRQUM1QyxNQUFNLElBQUksQ0FBQ3JELGNBQWMsQ0FBQyxDQUFDO1FBQzNCRSxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHcUQsQ0FBRSxJQUFHQSxDQUFFLFlBQVdBLENBQUUsRUFBQyxDQUFDO1FBQ3RDLElBQUlBLENBQUMsS0FBTWMsV0FBVyxDQUFDZixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQy9CckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFDbkMsTUFBTSxJQUFJLENBQUNHLGlCQUFpQixDQUFDLENBQUM7VUFDOUIsTUFBTSxJQUFJLENBQUMwQyxnQkFBZ0IsQ0FBQyxDQUFDO1VBQzdCLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztVQUNsQzVFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ25DO1FBQ0E2RCxLQUFLLEVBQUU7TUFDWDtJQUNKLENBQUMsQ0FBQyxPQUFPekUsS0FBSyxFQUFFO01BQ1pXLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztJQUNyRDtFQUNKO0VBR0EsTUFBTWlGLGtCQUFrQkEsQ0FBQ3RCLEtBQUssRUFBRUMsSUFBSSxFQUFDQyxRQUFRLEVBQUU7SUFDM0MsSUFBSTtNQUNBaEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxFQUFFOEQsSUFBSSxDQUFDO01BQ2xDLE1BQU1FLGNBQWMsR0FBRyxJQUFJLENBQUNMLFlBQVksS0FBS0csSUFBSSxDQUFDRyxRQUFRO01BQzFELElBQUksQ0FBQ04sWUFBWSxHQUFHRyxJQUFJLENBQUNHLFFBQVE7TUFDakMsSUFBSUQsY0FBYyxFQUFFO1FBQUU7UUFDbEIsSUFBSSxDQUFDTixlQUFlLEdBQUcsRUFBRSxDQUFDLENBQUM7TUFDL0I7O01BQ0EzRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSx5QkFBd0IrRCxRQUFTLEVBQUMsQ0FBQztNQUNoRCxJQUFJLENBQUNMLGVBQWUsQ0FBQ1EsSUFBSSxDQUFDSCxRQUFRLENBQUM7TUFFbkMsTUFBTUksV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDdEssYUFBYTtNQUM1QyxNQUFNdUssY0FBYyxHQUFHLEVBQUU7TUFDekIsSUFBSWYsQ0FBQztNQUNMLE1BQU1nQixHQUFHLEdBQUdGLFdBQVcsQ0FBQ2YsTUFBTTtNQUM5QnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLFlBQVdxRSxHQUFJLEVBQUMsQ0FBQztNQUM5QjtNQUNBLEtBQUtoQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdjLFdBQVcsQ0FBQ2YsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUNyQyxNQUFNaUIsVUFBVSxHQUFHSCxXQUFXLENBQUNkLENBQUMsQ0FBQztRQUNqQyxNQUFNa0IsVUFBVSxHQUFHLE1BQU1ELFVBQVUsQ0FBQ0UsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUM1RCxNQUFNQyxPQUFPLEdBQUcsTUFBTUgsVUFBVSxDQUFDeEQsT0FBTyxDQUFDLENBQUM7UUFFMUMsSUFBSSxDQUFDeUQsVUFBVSxFQUFFO1VBQ2JILGNBQWMsQ0FBQ0YsSUFBSSxDQUFDTyxPQUFPLENBQUM7UUFDaEM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZSxjQUFjLENBQUNoQixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU1vQixPQUFPLEdBQUdMLGNBQWMsQ0FBQ2YsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1pQixVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRCxPQUFPLENBQUM7UUFDMUQsTUFBTUgsVUFBVSxDQUFDdEgsS0FBSyxDQUFDLENBQUM7UUFDeEIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0J5RSxPQUFRLEVBQUMsQ0FBQzs7UUFFdkM7UUFDQSxNQUFNakwsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ21MLFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFZixLQUFLLEVBQUUsWUFBWSxFQUFFWSxPQUFPLENBQUM7UUFDbkUxRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMwRCxlQUFlLENBQUNOLE1BQU0sQ0FBQztRQUN0RSxJQUFJLElBQUksQ0FBQ00sZUFBZSxDQUFDTixNQUFNLEtBQUssQ0FBQyxFQUFFO1VBQ3ZDLE1BQU0zSixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztVQUN0SS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQjs7UUFFQTtRQUNBLE1BQU0sSUFBSSxDQUFDNkMsZ0JBQWdCLENBQUMsQ0FBQztRQUM3QjtRQUNBLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDdEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztRQUNySS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDVSxhQUFhLENBQUMsQ0FBQztRQUMxQixNQUFNM0ksVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUNYLElBQUksQ0FBQztRQUM5SS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLFlBQVksRUFBQ1gsSUFBSSxDQUFDO1FBQzdJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNnQixzQkFBc0IsQ0FBQyxDQUFDO1FBQ25DLE1BQU1qSixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1FBQzNCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDWCxJQUFJLENBQUM7UUFDdEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0JBQWtCLEVBQUMsUUFBUSxFQUFDLFlBQVksRUFBQ1gsSUFBSSxDQUFDO1FBQ3JKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN2QztBQUNmO0FBQ0E7QUFDQTtBQUNBO1FBQ2dCLElBQUlBLENBQUMsS0FBTWMsV0FBVyxDQUFDZixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQy9CckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFDbkMsTUFBTSxJQUFJLENBQUNHLGlCQUFpQixDQUFDLENBQUM7VUFDOUIsTUFBTSxJQUFJLENBQUMwQyxnQkFBZ0IsQ0FBQyxDQUFDO1VBQzdCLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztVQUNsQzVFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ25DO1FBQ0E2RCxLQUFLLEVBQUU7TUFDWDtJQUNKLENBQUMsQ0FBQyxPQUFPekUsS0FBSyxFQUFFO01BQ1pXLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztJQUNyRDtFQUNKO0VBRUEsTUFBTWtGLGlCQUFpQkEsQ0FBQ3ZCLEtBQUssRUFBRUMsSUFBSSxFQUFDQyxRQUFRLEVBQUU7SUFDMUMsSUFBSTtNQUNBaEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxFQUFFOEQsSUFBSSxDQUFDO01BQ2xDLE1BQU1FLGNBQWMsR0FBRyxJQUFJLENBQUNMLFlBQVksS0FBS0csSUFBSSxDQUFDRyxRQUFRO01BQzFELElBQUksQ0FBQ04sWUFBWSxHQUFHRyxJQUFJLENBQUNHLFFBQVE7TUFDakMsSUFBSUQsY0FBYyxFQUFFO1FBQUU7UUFDbEIsSUFBSSxDQUFDTixlQUFlLEdBQUcsRUFBRSxDQUFDLENBQUM7TUFDL0I7O01BQ0EzRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSx5QkFBd0IrRCxRQUFTLEVBQUMsQ0FBQztNQUNoRCxJQUFJLENBQUNMLGVBQWUsQ0FBQ1EsSUFBSSxDQUFDSCxRQUFRLENBQUM7TUFFbkMsTUFBTUksV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDdEssYUFBYTtNQUM1QyxNQUFNdUssY0FBYyxHQUFHLEVBQUU7TUFDekIsSUFBSWYsQ0FBQztNQUNMLE1BQU1nQixHQUFHLEdBQUdGLFdBQVcsQ0FBQ2YsTUFBTTtNQUM5QnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLFlBQVdxRSxHQUFJLEVBQUMsQ0FBQztNQUM5QjtNQUNBLEtBQUtoQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdjLFdBQVcsQ0FBQ2YsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUNyQyxNQUFNaUIsVUFBVSxHQUFHSCxXQUFXLENBQUNkLENBQUMsQ0FBQztRQUNqQyxNQUFNa0IsVUFBVSxHQUFHLE1BQU1ELFVBQVUsQ0FBQ0UsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUM1RCxNQUFNQyxPQUFPLEdBQUcsTUFBTUgsVUFBVSxDQUFDeEQsT0FBTyxDQUFDLENBQUM7UUFFMUMsSUFBSSxDQUFDeUQsVUFBVSxFQUFFO1VBQ2JILGNBQWMsQ0FBQ0YsSUFBSSxDQUFDTyxPQUFPLENBQUM7UUFDaEM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZSxjQUFjLENBQUNoQixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU1vQixPQUFPLEdBQUdMLGNBQWMsQ0FBQ2YsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1pQixVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRCxPQUFPLENBQUM7UUFDMUQsTUFBTUgsVUFBVSxDQUFDdEgsS0FBSyxDQUFDLENBQUM7UUFDeEIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0J5RSxPQUFRLEVBQUMsQ0FBQzs7UUFFdkM7UUFDQSxNQUFNakwsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ21MLFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFZixLQUFLLEVBQUUsVUFBVSxFQUFFWSxPQUFPLENBQUM7UUFDakUxRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMwRCxlQUFlLENBQUNOLE1BQU0sQ0FBQztRQUN0RSxJQUFJLElBQUksQ0FBQ00sZUFBZSxDQUFDTixNQUFNLEtBQUssQ0FBQyxFQUFFO1VBQ3ZDLE1BQU0zSixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG9CQUFvQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUNYLElBQUksQ0FBQztVQUNsSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQjs7UUFFQTtRQUNBLE1BQU0sSUFBSSxDQUFDNkMsZ0JBQWdCLENBQUMsQ0FBQztRQUM3QjtRQUNBLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxvQkFBb0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDWCxJQUFJLENBQUM7UUFDbEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG9CQUFvQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxVQUFVLEVBQUNYLElBQUksQ0FBQztRQUNqSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDVSxhQUFhLENBQUMsQ0FBQztRQUMxQixNQUFNM0ksVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG9CQUFvQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUNYLElBQUksQ0FBQztRQUMxSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsb0JBQW9CLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQ1gsSUFBSSxDQUFDO1FBQ3pJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNnQixzQkFBc0IsQ0FBQyxDQUFDO1FBQ25DLE1BQU1qSixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1FBQzNCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsb0JBQW9CLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDWCxJQUFJLENBQUM7UUFDbEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG9CQUFvQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0JBQWtCLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQ1gsSUFBSSxDQUFDO1FBQ2pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQzFDLGlCQUFpQixDQUFDLENBQUM7UUFDOUIsTUFBTSxJQUFJLENBQUNaLDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNjLGNBQWMsQ0FBQyxDQUFDO1FBQzNCLE1BQU0vSSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsb0JBQW9CLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQ1gsSUFBSSxDQUFDO1FBQzdJLE1BQU1sSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBRTtRQUMzQlYsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxvQkFBb0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGFBQWEsRUFBQyxRQUFRLEVBQUMsVUFBVSxFQUFDWCxJQUFJLENBQUM7UUFDNUkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDO1FBRWhDLE1BQU0sSUFBSSxDQUFDN0IsK0JBQStCLENBQUMsQ0FBQztRQUM1QyxNQUFNLElBQUksQ0FBQ3JELGNBQWMsQ0FBQyxDQUFDO1FBQzNCRSxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHcUQsQ0FBRSxJQUFHQSxDQUFFLFlBQVdBLENBQUUsRUFBQyxDQUFDO1FBQ3RDLElBQUlBLENBQUMsS0FBTWMsV0FBVyxDQUFDZixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQy9CckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7VUFDbkMsTUFBTSxJQUFJLENBQUNHLGlCQUFpQixDQUFDLENBQUM7VUFDOUIsTUFBTSxJQUFJLENBQUMwQyxnQkFBZ0IsQ0FBQyxDQUFDO1VBQzdCLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztVQUNsQzVFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ25DO1FBQ0E2RCxLQUFLLEVBQUU7TUFDWDtJQUNKLENBQUMsQ0FBQyxPQUFPekUsS0FBSyxFQUFFO01BQ1pXLE9BQU8sQ0FBQ1gsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDYyxPQUFRLEVBQUMsQ0FBQztJQUNyRDtFQUNKO0VBRUEsTUFBTW1GLHNCQUFzQkEsQ0FBQ3hCLEtBQUssRUFBRUMsSUFBSSxFQUFDQyxRQUFRLEVBQUU7SUFDL0MsSUFBSTtNQUNBaEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxFQUFFOEQsSUFBSSxDQUFDO01BQ2xDLE1BQU1FLGNBQWMsR0FBRyxJQUFJLENBQUNMLFlBQVksS0FBS0csSUFBSSxDQUFDRyxRQUFRO01BQzFELElBQUksQ0FBQ04sWUFBWSxHQUFHRyxJQUFJLENBQUNHLFFBQVE7TUFDakMsSUFBSUQsY0FBYyxFQUFFO1FBQUU7UUFDbEIsSUFBSSxDQUFDTixlQUFlLEdBQUcsRUFBRSxDQUFDLENBQUM7TUFDL0I7O01BQ0EzRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSx5QkFBd0IrRCxRQUFTLEVBQUMsQ0FBQztNQUNoRCxJQUFJLENBQUNMLGVBQWUsQ0FBQ1EsSUFBSSxDQUFDSCxRQUFRLENBQUM7TUFFbkMsTUFBTUksV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDdEssYUFBYTtNQUM1QyxNQUFNdUssY0FBYyxHQUFHLEVBQUU7TUFDekIsSUFBSWYsQ0FBQztNQUNMLE1BQU1nQixHQUFHLEdBQUdGLFdBQVcsQ0FBQ2YsTUFBTTtNQUM5QnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLFlBQVdxRSxHQUFJLEVBQUMsQ0FBQztNQUM5QjtNQUNBLEtBQUtoQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdjLFdBQVcsQ0FBQ2YsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUNyQyxNQUFNaUIsVUFBVSxHQUFHSCxXQUFXLENBQUNkLENBQUMsQ0FBQztRQUNqQyxNQUFNa0IsVUFBVSxHQUFHLE1BQU1ELFVBQVUsQ0FBQ0UsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUM1RCxNQUFNQyxPQUFPLEdBQUcsTUFBTUgsVUFBVSxDQUFDeEQsT0FBTyxDQUFDLENBQUM7UUFFMUMsSUFBSSxDQUFDeUQsVUFBVSxFQUFFO1VBQ2JILGNBQWMsQ0FBQ0YsSUFBSSxDQUFDTyxPQUFPLENBQUM7UUFDaEM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZSxjQUFjLENBQUNoQixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU1vQixPQUFPLEdBQUdMLGNBQWMsQ0FBQ2YsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1pQixVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRCxPQUFPLENBQUM7UUFDMUQsTUFBTUgsVUFBVSxDQUFDdEgsS0FBSyxDQUFDLENBQUM7UUFDeEIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0J5RSxPQUFRLEVBQUMsQ0FBQzs7UUFFdkM7UUFDQSxNQUFNakwsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTW5MLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1uSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLGdCQUFnQixFQUFFWSxPQUFPLENBQUM7UUFDdkUxRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMwRCxlQUFlLENBQUNOLE1BQU0sQ0FBQztRQUV0RSxJQUFJLElBQUksQ0FBQ00sZUFBZSxDQUFDTixNQUFNLEtBQUssQ0FBQyxFQUFFO1VBQ3ZDLE1BQU0zSixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBCQUEwQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxnQkFBZ0IsRUFBQ1gsSUFBSSxDQUFDO1VBQzlJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsMEJBQTBCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLGdCQUFnQixFQUFDWCxJQUFJLENBQUM7UUFDOUkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBCQUEwQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxnQkFBZ0IsRUFBQ1gsSUFBSSxDQUFDO1FBQzdJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN6QjtRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUNnQiw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDYyxjQUFjLENBQUMsQ0FBQztRQUMzQixNQUFNL0ksVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBCQUEwQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUNYLElBQUksQ0FBQztRQUNuSixNQUFNbEgsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDM0JWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDc0wsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTWxJLE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsMEJBQTBCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQ1gsSUFBSSxDQUFDO1FBQ2xKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU1vRiw4QkFBOEJBLENBQUN6QixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ3ZELElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLElBQUksRUFBRVksT0FBTyxDQUFDO1FBQzNEMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7VUFDakovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsMENBQTBDLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2xKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDaEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUM5Qyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTW5GLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBDQUEwQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywwQ0FBMEMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLG9CQUFvQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNuSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDNUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRCxNQUFNckYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHlDQUF5QyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pML0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtDQUFrQyxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNoTC9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDcEQsOEJBQThCLENBQUMsQ0FBQztRQUMzQyxNQUFNN0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBDQUEwQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzdLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDZCQUE2QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMzSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDbEQsMEJBQTBCLENBQUMsQ0FBQztRQUN2QyxNQUFNL0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLDBDQUEwQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzVLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDRCQUE0QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMxSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDaEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNakYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLDBDQUEwQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzVLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywwQ0FBMEMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMzSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMUMscUJBQXFCLENBQUMsQ0FBQztRQUNsQyxNQUFNdkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLHlDQUF5QyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3JLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNwSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDdEQsc0JBQXNCLENBQUMsQ0FBQztRQUNuQyxNQUFNM0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLHlDQUF5QyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyx5Q0FBeUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN0Sy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTS9ELFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHlDQUF5QyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsd0JBQXdCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywwQ0FBMEMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN2Sy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ3BFLHFCQUFxQixDQUFDLENBQUM7UUFDbEM7UUFDQSxNQUFNN0QsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMseUNBQXlDLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDbksvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHlDQUF5QyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2xLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU1xRiw4QkFBOEJBLENBQUMxQixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ3ZELElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7TUFDQTtNQUNBO01BQ0EsS0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZSxjQUFjLENBQUNoQixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU1vQixPQUFPLEdBQUdMLGNBQWMsQ0FBQ2YsQ0FBQyxDQUFDO1FBQ2pDLE1BQU1pQixVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRCxPQUFPLENBQUM7UUFDMUQsTUFBTUgsVUFBVSxDQUFDdEgsS0FBSyxDQUFDLENBQUM7UUFDeEIrQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0J5RSxPQUFRLEVBQUMsQ0FBQzs7UUFFdkM7UUFDQSxNQUFNakwsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ21MLFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFZixLQUFLLEVBQUUsSUFBSSxFQUFFWSxPQUFPLENBQUM7UUFDM0QxRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMwRCxlQUFlLENBQUNOLE1BQU0sQ0FBQztRQUN0RSxJQUFJLElBQUksQ0FBQ00sZUFBZSxDQUFDTixNQUFNLEtBQUssQ0FBQyxFQUFFO1VBQ3ZDLE1BQU0zSixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztVQUMzSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQjs7UUFFQTtRQUNBLE1BQU0sSUFBSSxDQUFDNkMsZ0JBQWdCLENBQUMsQ0FBQztRQUM3QjtRQUNBLE1BQU1ySixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNL0gsT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxtQ0FBbUMsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDM0kvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMxSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQzlDLDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNbkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDN0ovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzVKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUM1QyxvQ0FBb0MsQ0FBQyxDQUFDO1FBQ2pELE1BQU1yRixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFFO1FBQzdCO1FBQ0EsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxrQ0FBa0MsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDM0svRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzFLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNwRCw4QkFBOEIsQ0FBQyxDQUFDO1FBQzNDLE1BQU03RSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTSxJQUFJLENBQUMxRix5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTXhGLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyw2QkFBNkIsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDdEsvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3JLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFHaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRCwwQkFBMEIsQ0FBQyxDQUFDO1FBQ3ZDLE1BQU0vRSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTSxJQUFJLENBQUMxRix5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTXhGLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyw0QkFBNEIsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDcksvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNoRCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU1qRixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTSxJQUFJLENBQUMxRix5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTXhGLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQywyQkFBMkIsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDcksvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFHaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUMxQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ2xDLE1BQU12RixVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTSxJQUFJLENBQUMxRix5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTXhGLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsbUNBQW1DLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxxQkFBcUIsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDL0ovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzlKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQzs7UUFFaEM7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUN0RCxzQkFBc0IsQ0FBQyxDQUFDO1FBQ25DLE1BQU0zRSxVQUFVLENBQUNtTCxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUc7UUFDdEMsTUFBTSxJQUFJLENBQUMxRix5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTXhGLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUNoQixLQUFLLEVBQUMsNERBQTRELEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyx1QkFBdUIsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDMUwvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLG1DQUFtQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2hLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU1zRixzQkFBc0JBLENBQUMzQixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQy9DLElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLElBQUksRUFBRVksT0FBTyxDQUFDO1FBQzNEMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7VUFDOUgvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsdUJBQXVCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQy9IL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDN0gvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUM5Qyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTW5GLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHVCQUF1QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLG9CQUFvQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMvSS9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDNUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRCxNQUFNckYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzlKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtDQUFrQyxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM3Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDcEQsOEJBQThCLENBQUMsQ0FBQztRQUMzQyxNQUFNN0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDZCQUE2QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN4Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDbEQsMEJBQTBCLENBQUMsQ0FBQztRQUN2QyxNQUFNL0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHVCQUF1QixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDRCQUE0QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN2Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDaEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNakYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3hKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN2Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMUMscUJBQXFCLENBQUMsQ0FBQztRQUNsQyxNQUFNdkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2xKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNqSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDdEQsc0JBQXNCLENBQUMsQ0FBQztRQUNuQyxNQUFNM0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNuSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTS9ELFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsd0JBQXdCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNuSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ3BFLHFCQUFxQixDQUFDLENBQUM7UUFDbEM7UUFDQSxNQUFNN0QsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsc0JBQXNCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDaEovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLHNCQUFzQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQy9JL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU11Rix1QkFBdUJBLENBQUM1QixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ2hELElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLElBQUksRUFBRVksT0FBTyxDQUFDO1FBQzNEMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7VUFDdkkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsK0JBQStCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDdEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUM5Qyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTW5GLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLG9CQUFvQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN4Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDNUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRCxNQUFNckYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtDQUFrQyxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN0Sy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDcEQsOEJBQThCLENBQUMsQ0FBQztRQUMzQyxNQUFNN0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2xLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDZCQUE2QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNqSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDbEQsMEJBQTBCLENBQUMsQ0FBQztRQUN2QyxNQUFNL0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDRCQUE0QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNoSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDaEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNakYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNoSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMUMscUJBQXFCLENBQUMsQ0FBQztRQUNsQyxNQUFNdkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzNKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMxSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDdEQsc0JBQXNCLENBQUMsQ0FBQztRQUNuQyxNQUFNM0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzdKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM1Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTS9ELFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsd0JBQXdCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzdKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM1Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ3BFLHFCQUFxQixDQUFDLENBQUM7UUFDbEM7UUFDQSxNQUFNN0QsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsK0JBQStCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDekovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3hKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU13Rix1QkFBdUJBLENBQUM3QixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ2hELElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLElBQUksRUFBRVksT0FBTyxDQUFDO1FBQzNEMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7VUFDMUkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsa0NBQWtDLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzFJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDekkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUM5Qyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTW5GLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzVKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLG9CQUFvQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMzSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDNUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRCxNQUFNckYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzFLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtDQUFrQyxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN6Sy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDcEQsOEJBQThCLENBQUMsQ0FBQztRQUMzQyxNQUFNN0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3JLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDZCQUE2QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNwSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDbEQsMEJBQTBCLENBQUMsQ0FBQztRQUN2QyxNQUFNL0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDRCQUE0QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNuSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDaEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNakYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3BLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNuSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMUMscUJBQXFCLENBQUMsQ0FBQztRQUNsQyxNQUFNdkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzlKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM3Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDdEQsc0JBQXNCLENBQUMsQ0FBQztRQUNuQyxNQUFNM0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2hLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMvSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTS9ELFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsd0JBQXdCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2hLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQyxrQ0FBa0MsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMvSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ3BFLHFCQUFxQixDQUFDLENBQUM7UUFDbEM7UUFDQSxNQUFNN0QsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsa0NBQWtDLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDNUovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLGtDQUFrQyxFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzNKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU15Rix1QkFBdUJBLENBQUM5QixLQUFLLEVBQUVDLElBQUksRUFBQ0MsUUFBUSxFQUFFO0lBQ2hELElBQUk7TUFDQWhFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRThELElBQUksQ0FBQztNQUNsQyxNQUFNRSxjQUFjLEdBQUcsSUFBSSxDQUFDTCxZQUFZLEtBQUtHLElBQUksQ0FBQ0csUUFBUTtNQUMxRCxJQUFJLENBQUNOLFlBQVksR0FBR0csSUFBSSxDQUFDRyxRQUFRO01BQ2pDLElBQUlELGNBQWMsRUFBRTtRQUFFO1FBQ2xCLElBQUksQ0FBQ04sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQy9COztNQUNBM0QsT0FBTyxDQUFDQyxHQUFHLENBQUUseUJBQXdCK0QsUUFBUyxFQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDTCxlQUFlLENBQUNRLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BRW5DLE1BQU1JLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ3RLLGFBQWE7TUFDNUMsTUFBTXVLLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUlmLENBQUM7TUFDTCxNQUFNZ0IsR0FBRyxHQUFHRixXQUFXLENBQUNmLE1BQU07TUFDOUJyRCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxZQUFXcUUsR0FBSSxFQUFDLENBQUM7TUFDOUI7TUFDQSxLQUFLaEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHYyxXQUFXLENBQUNmLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTWlCLFVBQVUsR0FBR0gsV0FBVyxDQUFDZCxDQUFDLENBQUM7UUFDakMsTUFBTWtCLFVBQVUsR0FBRyxNQUFNRCxVQUFVLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDNUQsTUFBTUMsT0FBTyxHQUFHLE1BQU1ILFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQ3lELFVBQVUsRUFBRTtVQUNiSCxjQUFjLENBQUNGLElBQUksQ0FBQ08sT0FBTyxDQUFDO1FBQ2hDO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2UsY0FBYyxDQUFDaEIsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtRQUM1QyxNQUFNb0IsT0FBTyxHQUFHTCxjQUFjLENBQUNmLENBQUMsQ0FBQztRQUNqQyxNQUFNaUIsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQzFELE1BQU1ILFVBQVUsQ0FBQ3RILEtBQUssQ0FBQyxDQUFDO1FBQ3hCK0MsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCeUUsT0FBUSxFQUFDLENBQUM7O1FBRXZDO1FBQ0EsTUFBTWpMLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNtTCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWYsS0FBSyxFQUFFLElBQUksRUFBRVksT0FBTyxDQUFDO1FBQzNEMUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDMEQsZUFBZSxDQUFDTixNQUFNLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUNNLGVBQWUsQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtVQUN2QyxNQUFNM0osU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7VUFDdkkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckI7O1FBRUE7UUFDQSxNQUFNLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDLENBQUM7UUFDN0I7UUFDQSxNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTS9ILE9BQU8sQ0FBQzZELEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWhILFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsK0JBQStCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZJL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDdEkvRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3VMLGFBQWEsQ0FBQyxDQUFDOztRQUVoQztRQUNBO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTSxJQUFJLENBQUM5Qyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDO1FBQ0EsTUFBTW5GLFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3pKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLG9CQUFvQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN4Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDNUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRCxNQUFNckYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0vSCxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRTtRQUM3QjtRQUNBLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsa0NBQWtDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLGtDQUFrQyxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUN0Sy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDcEQsOEJBQThCLENBQUMsQ0FBQztRQUMzQyxNQUFNN0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNkJBQTZCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2xLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDZCQUE2QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNqSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDbEQsMEJBQTBCLENBQUMsQ0FBQztRQUN2QyxNQUFNL0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDRCQUE0QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNoSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDaEQsNEJBQTRCLENBQUMsQ0FBQztRQUN6QyxNQUFNakYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsMkJBQTJCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ2pLL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUNoSy9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBR2hDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMUMscUJBQXFCLENBQUMsQ0FBQztRQUNsQyxNQUFNdkYsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzNKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUMxSi9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0EsTUFBTSxJQUFJLENBQUN0RCw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sSUFBSSxDQUFDdEQsc0JBQXNCLENBQUMsQ0FBQztRQUNuQyxNQUFNM0UsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFHO1FBQ3RDLE1BQU0sSUFBSSxDQUFDMUYseUJBQXlCLENBQUMsQ0FBQztRQUN0QztRQUNBLE1BQU14RixTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzdKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM1Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRWhDO1FBQ0E7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLENBQUNsRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3RDO1FBQ0EsTUFBTS9ELFVBQVUsQ0FBQ21MLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1sTCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsd0JBQXdCLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQzdKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUNzTCxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbEksT0FBTyxDQUFDNkQsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNaEgsU0FBUyxDQUFDb0wscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2hCLEtBQUssRUFBQywrQkFBK0IsRUFBQ0UsUUFBUSxFQUFDVSxPQUFPLEVBQUMsV0FBVyxFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNYLElBQUksQ0FBQztRQUM1Si9ELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNyQixNQUFNeEcsVUFBVSxDQUFDdUwsYUFBYSxDQUFDLENBQUM7O1FBRTdCO1FBQ0g7UUFDQSxNQUFNLElBQUksQ0FBQ3RELDRCQUE0QixDQUFDLENBQUM7UUFDekM7UUFDQSxNQUFNLElBQUksQ0FBQ3BFLHFCQUFxQixDQUFDLENBQUM7UUFDbEM7UUFDQSxNQUFNN0QsVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTWxMLFNBQVMsQ0FBQ29MLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNoQixLQUFLLEVBQUMsK0JBQStCLEVBQUNFLFFBQVEsRUFBQ1UsT0FBTyxFQUFDLFdBQVcsRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDWCxJQUFJLENBQUM7UUFDekovRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDckIsTUFBTXhHLFVBQVUsQ0FBQ3NMLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1sSSxPQUFPLENBQUM2RCxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1oSCxTQUFTLENBQUNvTCxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDaEIsS0FBSyxFQUFDLCtCQUErQixFQUFDRSxRQUFRLEVBQUNVLE9BQU8sRUFBQyxXQUFXLEVBQUMsb0JBQW9CLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1gsSUFBSSxDQUFDO1FBQ3hKL0QsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU14RyxVQUFVLENBQUN1TCxhQUFhLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksQ0FBQzdCLCtCQUErQixDQUFDLENBQUM7UUFDNUMsTUFBTSxJQUFJLENBQUNyRCxjQUFjLENBQUMsQ0FBQztRQUMzQkUsT0FBTyxDQUFDQyxHQUFHLENBQUUsSUFBR3FELENBQUUsSUFBR0EsQ0FBRSxZQUFXQSxDQUFFLEVBQUMsQ0FBQztRQUN0QyxJQUFJQSxDQUFDLEtBQU1jLFdBQVcsQ0FBQ2YsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUMvQnJELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1VBQ25DLE1BQU0sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQyxDQUFDO1VBQzlCLE1BQU0sSUFBSSxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztVQUM3QixNQUFNckosVUFBVSxDQUFDbUwsZUFBZSxDQUFDLENBQUM7VUFDbEM1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztRQUNuQztRQUNBNkQsS0FBSyxFQUFFO01BQ1g7SUFDSixDQUFDLENBQUMsT0FBT3pFLEtBQUssRUFBRTtNQUNaVyxPQUFPLENBQUNYLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ2MsT0FBUSxFQUFDLENBQUM7SUFDckQ7RUFDSjtFQUVBLE1BQU13RSxtQkFBbUJBLENBQUNELE9BQU8sRUFBRTtJQUMvQixNQUFNTixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUN0SyxhQUFhO0lBQzVDLEtBQUssSUFBSXdKLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2MsV0FBVyxDQUFDZixNQUFNLEVBQUVDLENBQUMsRUFBRSxFQUFFO01BQ3pDLE1BQU1pQixVQUFVLEdBQUdILFdBQVcsQ0FBQ2QsQ0FBQyxDQUFDO01BQ2pDLE1BQU11QyxJQUFJLEdBQUcsTUFBTXRCLFVBQVUsQ0FBQ3hELE9BQU8sQ0FBQyxDQUFDO01BQ3ZDLElBQUk4RSxJQUFJLEtBQUtuQixPQUFPLEVBQUU7UUFDbEIsT0FBT0gsVUFBVTtNQUNyQjtJQUNKO0lBQ0EsTUFBTSxJQUFJdUIsS0FBSyxDQUFFLDBCQUF5QnBCLE9BQVEsY0FBYSxDQUFDO0VBQ3BFO0FBRUo7QUFDQXFCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUlyTSxTQUFTLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Page","require","avatarpage","home_page","myprofile","myprofileelelment","$","allCupElement","$$","applyElement","backArrowElement","yourwearing","cupsizeelement","dropdowncupelement","cupBelement","cupCelement","measurment","myinformation","logoutelement","recommendationelement","pantelement","flaredTrousers","legginsElement","knitSkirtElement","bBuzzBagElement","smoothLeatherBag","skyeBoots","resetSettingElement","yrwearRemoveElement","abdomenElement","armsElement","thightsElement","fullnessElement","camdenWoolCrepeJacketpolo","camdenWoolCrepeJacket","pleatedMidiSkirt","straightLegSatinPant","classicFitMesh","cottonCrewneckTee","thePackableJacket","cottonBroadclothDress","croppedQuiltedJacket","celiaCalfskinPump","LeatherMediumBellportTote","SmallSteelBlackFinish","welingtonEnamelBracelet","calfskinMiniRL50Handbag","leatherMediumBellportToteCuoio","courtsterSneaker","spinnerWheel","clickElement","element","waitForDisplayed","timeout","browser","waitUntil","isClickable","timeoutMsg","click","clickcamdenWoolCrepeJacketpolo","jacketPolo","clickcamdenWoolCrepeJacket","jacket","clickpleatedMidiSkirt","skirt","clickstraightLegSatinPant","straightLegPant","clickclassicFitMesh","classicFit","clickcottonCrewneckTee","CrewneckTee","clickthePackableJacket","PackableJacket","clickcottonBroadclothDress","clothDress","clickcroppedQuiltedJacket","QuiltedJacket","clickceliaCalfskinPump","CalfskinPump","clickLeatherMediumBellportTote","MediumBellportTote","clickSmallSteelBlackFinish","SteelBlackFinish","clickwelingtonEnamelBracelet","EnamelBracelet","clickcalfskinMiniRL50Handbag","calfskinHandbag","clickleatherMediumBellportTote_Cuoio","leatherBellportTote","clickcourtsterSneaker","courtsterSneakers","waitForSpinnerToDisappear","spinner","reverse","error","sliderdrag","abdomen","arms","thighs","fullness","dragAndDrop","x","y","clickMyprofile","TIMEOUT","console","log","name","message","clickresetSetting","reset","scrolltocupsize","cupsize","isDisplayed","scrollIntoView","pause","toggleDropdownValueC","dropdown","cupB","currentValue","getText","optionC","toggleDropdownValueB","cupC","optionB","scrolltomeasurment","measurementlink","clickMyInformation","information","clickLogout","logout","scrolltoListOfRecommendation","list","clickPant","pant","clickflaredTrousers","flaredTrouser","clickleggins","leggins","clickknitSkirt","LeggingsBottom","clickbBuzzBag","bBuzzBag","clickyrwearRemove","yrwearRemove","clickskyeBoots","skyeBoot","clicksmoothLeatherBags","smoothLeatherBags","clickbackArrow","backArrow","clickApplyButton","apply","isApplyButtonDisplayed","isApplyButtonEnabled","isEnabled","keepFirstElementAndRemoveOthers","elements","length","i","buttonElement","waitForClickable","buttonText","trim","storedSizeTexts","previousUser","selectCup","index","user","sizeText","userHasChanged","username","push","cupElements","availableSizes","cup","cupElement","isDisabled","getAttribute","cupText","getCupElementByText","avatardisplayed","insertTextGS","captureAndUploadImage","backview","clickrecenter","sportsBra_selectCup","Knit_Dress_selectCup","bikerJacketselectCup","knitskirtselectCup","LeggingsselectCup","flareTrousersselectCup","camdenWoolCrepeJacketselectCup","cottonBroadclothDressselectCup","classicfitmapselectCup","cottoncrowneckselectCup","croppedquiltedselectCup","packableJacketselectCup","text","Error","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["myProfile.js"],"sourcesContent":["const Page = require(\"./page\");\r\nconst avatarpage = require('./avatar_page');\r\nconst home_page = require('./home_page');\r\n\r\nclass myprofile extends Page {\r\n    // ========= Selectors =========\r\n\r\n    get myprofileelelment(){\r\n        return $(\"//*[contains(@class,'bods__profile')]\");\r\n    }\r\n\r\n    get allCupElement(){\r\n        return $$('//p[text()=\"Cup Size\"]//parent::div//descendant::select//option');\r\n    }\r\n   \r\n    get applyElement(){\r\n        return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[8]/button')\r\n    }\r\n\r\n    get backArrowElement(){\r\n        return $('//*[@data-testid=\"ArrowBackIosIcon\"]');\r\n    }\r\n\r\n    get yourwearing(){\r\n        //return $$('//div[@id=\"bods__current-product-item--0\"]//parent::div//button');\r\n        //return $$('(//div[contains(@class,\"bods__product-list\")])[1]//div[contains(@class,\"bods__product-item\")] //button//parent::div');\r\n        return $$(\"//div[contains(@id,'bods__current-product-item')]\");\r\n    }\r\n\r\n    get cupsizeelement(){\r\n        //return $('//p[text()=\"Cup Size\"]');\r\n        //let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \r\n        return $('(//*[@id=\"simple-tabpanel-0\"]//descendant::p)[8]');\r\n    }\r\n\r\n    get dropdowncupelement(){\r\n        return $('//p[text()=\"Cup Size\"]//parent::div//descendant::select');\r\n    }\r\n\r\n    get cupBelement(){\r\n        return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[4]');\r\n    }\r\n\r\n    get cupCelement(){\r\n        return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[5]');\r\n    }\r\n\r\n    get measurment(){\r\n        return $(\"//button[contains(@class,'bods__link-measurements')]\");\r\n    }\r\n\r\n    get myinformation(){\r\n        return $('#simple-tab-1');\r\n    }\r\n\r\n    get logoutelement(){\r\n        return $('//button[contains(@class,\"bods__button bods__button\")]');\r\n    }\r\n\r\n    get recommendationelement(){\r\n        return $('(//div[contains(@class,\"bods__product-list\")])[2]');\r\n    }\r\n\r\n    get pantelement(){\r\n        return $('#bods__related-product-item--1');\r\n    }\r\n\r\n    //Balmain\r\n    get flaredTrousers(){\r\n        return $('//p[text()=\"Flared trousers with creases\"]//parent::div');\r\n    }\r\n\r\n    get legginsElement(){\r\n        return $('//p[text()=\"Knit leggings with monogram\"]//parent::div');\r\n    }\r\n\r\n    get knitSkirtElement(){\r\n        return $('//p[text()=\"Monogrammed knit skirt\"]//parent::div');\r\n    }\r\n\r\n    get bBuzzBagElement(){\r\n        return $('//p[text()=\"B-Buzz 19 leather bag with jacquard monogram\"]//parent::div');\r\n    }\r\n\r\n    get smoothLeatherBag(){\r\n        return $('//p[text()=\"Smooth leather B-Buzz 23 bag\"]//parent::div');\r\n    }\r\n\r\n    get skyeBoots(){\r\n        return $('//p[contains(text(),\"Bicolor stretch knit Skye ankle boots\")]//parent::div');\r\n    }\r\n\r\n    get resetSettingElement(){\r\n        return $('//button[text()=\"Reset Settings\"]');\r\n    }\r\n\r\n    get yrwearRemoveElement(){\r\n        return $('(//div[contains(@class,\"bods__product-item--image\")]//following-sibling::button)[2]');\r\n    }\r\n\r\n    get abdomenElement(){\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5)');\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-bPyhqo.iOWCwn.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(9) > div');\r\n        return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[4]');\r\n    }\r\n\r\n    get armsElement(){\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(7)');\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-dUWWNf.dblbWX.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5) > div');\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-dUWWNf.dblbWX.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(5) > div');\r\n        return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[2]');\r\n    }\r\n\r\n    get thightsElement(){\r\n       //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(9)');\r\n      //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-bPyhqo.iOWCwn.MuiBox-root.css-0 > div:nth-child(2) > div:nth-child(7) > div');\r\n      return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[2]/div[3]');\r\n    }\r\n\r\n    get fullnessElement(){\r\n        //return $('#simple-tabpanel-0 > div > div > div > div > div.sc-fWIMVQ.kDwVQs.MuiBox-root.css-0 > div:nth-child(4) > div:nth-child(3) > div');\r\n        return $('//*[@id=\"simple-tabpanel-0\"]/div/div/div/div/div[2]/div[4]/div[1]');\r\n    }\r\n\r\n    /*\r\nCelia Calfskin Pump': \"//p[text()='Celia Calfskin Pump']\"\r\nLeather Medium Bellport Tote: \"(//p[contains(text(),'Leather Medium Bellport Tote')])[1]\"\r\nSmall Steel Black Finish: \"//p[text()='Small Steel Black Finish']\"\r\nWelington Enamel Bracelet: \"//p[text()='Welington Enamel Bracelet']\"\r\nCotton Broadcloth Dress: \"//p[text()='Cotton Broadcloth Dress']\"\r\nCalfskin Mini RL50 Handbag: \"//p[text()='Calfskin Mini RL50 Handbag']\"\r\nLeather Medium Bellport Tote (Cuoio): \"//p[text()='Leather Medium Bellport Tote (Cuoio)']\"\r\nCourtster Sneaker: \"//p[text()='Courtster Sneaker']\"\r\n*/\r\n    //RL Garments\r\n    get camdenWoolCrepeJacketpolo(){\r\n        return $(\"//p[text()='Camden Wool Crepe Jacket (with Polo)']\")  \r\n    }\r\n\r\n    get camdenWoolCrepeJacket(){\r\n        return $(\"//p[text()='Camden Wool Crepe Jacket']\")  \r\n    }\r\n\r\n    get pleatedMidiSkirt(){\r\n        return $(\"//p[text()='Pleated Midi Skirt']\")  \r\n    }    \r\n\r\n    get straightLegSatinPant(){\r\n        return $(\"//p[text()='Straight Leg Satin Pant']\")  \r\n    }     \r\n\r\n    get classicFitMesh(){\r\n        return $(\"//p[text()='Classic Fit Mesh Polo Shirt']\")  \r\n    }\r\n\r\n    get cottonCrewneckTee(){\r\n        return $(\"//p[text()='Cotton Broadcloth Dress']\")  \r\n    }\r\n\r\n    get thePackableJacket(){\r\n        return $(\"//p[text()='Packable Quilted Jacket']\")  \r\n    }\r\n\r\n    get cottonBroadclothDress(){\r\n        return $(\"//a[contains(text(),'Cotton Broadcloth')]\")  \r\n    }\r\n\r\n    get croppedQuiltedJacket(){\r\n        return $(\"//a[contains(text(),'Cropped Quilted Jacket')]\")  \r\n    }\r\n\r\n    get celiaCalfskinPump(){\r\n        return $(\"//p[text()='Celia Calfskin Pump']\")  \r\n    }\r\n\r\n    get LeatherMediumBellportTote(){\r\n        return $(\"(//p[contains(text(),'Leather Medium Bellport Tote')])[1]\")  \r\n    }\r\n\r\n    get SmallSteelBlackFinish(){\r\n        return $(\"//p[text()='Small Steel Black Finish']\")  \r\n    }\r\n\r\n    get welingtonEnamelBracelet(){\r\n        return $(\"//p[text()='Welington Enamel Bracelet']\")  \r\n    }\r\n\r\n    get cottonBroadclothDress(){\r\n        return $(\"//p[text()='Cotton Broadcloth Dress']\")  \r\n    }\r\n\r\n    get calfskinMiniRL50Handbag(){\r\n        return $(\"//p[text()='Calfskin Mini RL50 Handbag']\")  \r\n    }\r\n    \r\n    get leatherMediumBellportToteCuoio(){\r\n        return $(\"//p[text()='Leather Medium Bellport Tote (Cuoio)']\")  \r\n    }\r\n    \r\n    get courtsterSneaker(){\r\n        return $(\"//p[text()='Courtster Sneaker']\")  \r\n    }\r\n\r\n    get spinnerWheel(){\r\n        return $(\"//*[contains(@class,'MuiCircularProgress-svg')]\")\r\n    }\r\n    // ========== Methods ==========\r\n        // RL\r\n        async clickElement(element) {\r\n            await element.waitForDisplayed({ timeout: 10000 });\r\n        \r\n            await browser.waitUntil(async () => {\r\n                const isClickable = await element.isClickable();\r\n                return isClickable;\r\n            }, {\r\n                timeout: 10000,\r\n                timeoutMsg: `${element} element is not clickable after waiting for 10 seconds`\r\n            });\r\n        \r\n            await element.click();\r\n        }\r\n\r\n    async  clickcamdenWoolCrepeJacketpolo() {\r\n        const jacketPolo = await this.camdenWoolCrepeJacketpolo;\r\n        await this.clickElement(jacketPolo);\r\n    }\r\n\r\n    \r\n    async  clickcamdenWoolCrepeJacket() {\r\n        const jacket = await this.camdenWoolCrepeJacket;\r\n        await this.clickElement(jacket);\r\n    }\r\n\r\n    async  clickpleatedMidiSkirt() {\r\n        const skirt = await this.pleatedMidiSkirt;\r\n        await this.clickElement(skirt);\r\n    }\r\n\r\n    async  clickstraightLegSatinPant() {\r\n        const straightLegPant = await this.straightLegSatinPant;\r\n        await this.clickElement(straightLegPant);\r\n    }\r\n\r\n    async  clickclassicFitMesh() {\r\n        const classicFit = await this.classicFitMesh;\r\n        await this.clickElement(classicFit);\r\n    }\r\n\r\n    async  clickcottonCrewneckTee() {\r\n        const CrewneckTee = await this.cottonCrewneckTee;\r\n        await this.clickElement(CrewneckTee);\r\n    } \r\n    \r\n    async  clickthePackableJacket() {\r\n        const PackableJacket = await this.thePackableJacket;\r\n        await this.clickElement(PackableJacket);\r\n    } \r\n\r\n    async  clickcottonBroadclothDress() {\r\n        const clothDress = await this.cottonBroadclothDress;\r\n        await this.clickElement(clothDress);\r\n    }\r\n\r\n    async  clickcroppedQuiltedJacket() {\r\n        const QuiltedJacket = await this.croppedQuiltedJacket;\r\n        await this.clickElement(QuiltedJacket);\r\n    }\r\n\r\n    async  clickceliaCalfskinPump() {\r\n        const CalfskinPump = await this.celiaCalfskinPump;\r\n        await this.clickElement(CalfskinPump);\r\n    }\r\n\r\n    async  clickLeatherMediumBellportTote() {\r\n        const MediumBellportTote = await this.LeatherMediumBellportTote;\r\n        await this.clickElement(MediumBellportTote);\r\n    }\r\n\r\n    async  clickSmallSteelBlackFinish() {\r\n        const SteelBlackFinish = await this.SmallSteelBlackFinish;\r\n        await this.clickElement(SteelBlackFinish);\r\n    }\r\n\r\n    async  clickwelingtonEnamelBracelet() {\r\n        const EnamelBracelet = await this.welingtonEnamelBracelet;\r\n        await this.clickElement(EnamelBracelet);\r\n    }\r\n\r\n    async  clickcalfskinMiniRL50Handbag() {\r\n        const calfskinHandbag = await this.calfskinMiniRL50Handbag;\r\n        await this.clickElement(calfskinHandbag);\r\n    }\r\n\r\n    async  clickleatherMediumBellportTote_Cuoio() {\r\n        const leatherBellportTote = await this.leatherMediumBellportToteCuoio;\r\n        await this.clickElement(leatherBellportTote);\r\n    }\r\n\r\n    async  clickcourtsterSneaker() {\r\n        const courtsterSneakers = await this.courtsterSneaker;\r\n        await this.clickElement(courtsterSneakers);\r\n    }\r\n\r\n    async waitForSpinnerToDisappear(timeout = 60000) {\r\n        const spinner = this.spinnerWheel;\r\n        try {\r\n            await spinner.waitForDisplayed({ timeout, reverse: true });\r\n            return true; \r\n        } catch (error) {\r\n            return false; \r\n        }\r\n    }\r\n\r\n    async sliderdrag(){\r\n        const abdomen = await this.abdomenElement;\r\n        const arms = await this.armsElement;\r\n        const thighs = await this.thightsElement\r\n        const fullness = await this.fullnessElement;\r\n\r\n        await abdomen.dragAndDrop({ x: 110, y: 0 });\r\n        await arms.dragAndDrop({ x: 110, y: 0 });\r\n        await thighs.dragAndDrop({ x: 110, y: 0 });\r\n        await fullness.dragAndDrop({ x: 110, y: 0 });\r\n    }\r\n\r\n    async clickMyprofile() {\r\n        const TIMEOUT = 60000;\r\n        try {\r\n            const myprofile = await this.myprofileelelment;\r\n            await myprofile.waitForDisplayed({ timeout: TIMEOUT });\r\n            await myprofile.click();\r\n            console.log('Clicked My Profile successfully');\r\n        } catch (error) {\r\n            if (error.name === 'TimeoutError') {\r\n                console.error(`My Profile button did not appear within ${TIMEOUT / 1000} seconds.`);\r\n            } else {\r\n                console.error(`Error occurred while clicking My Profile: ${error.message}`);\r\n            }\r\n        }\r\n    }\r\n    \r\n    async clickresetSetting() {\r\n        const TIMEOUT = 60000;\r\n        try {\r\n            const reset = await this.resetSettingElement;\r\n            await reset.waitForDisplayed({ timeout: TIMEOUT });\r\n            await reset.click();\r\n            console.log('Clicked reset successfully');\r\n        } catch (error) {\r\n            if (error.name === 'TimeoutError') {\r\n                console.error(`reset link did not appear within ${TIMEOUT / 1000} seconds.`);\r\n            } else {\r\n                console.error(`Error occurred while clicking reset: ${error.message}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    async scrolltocupsize(){\r\n        const cupsize = await this.cupsizeelement;\r\n        await browser.waitUntil(async () => await cupsize.isDisplayed(), {timeout: 40000});\r\n        await cupsize.scrollIntoView();\r\n        await browser.pause(2000);\r\n    }  \r\n    \r\n    // Cup size B to C\r\n    async toggleDropdownValueC() {\r\n        const dropdown = await this.dropdowncupelement;\r\n        await dropdown.scrollIntoView();\r\n        const cupB = await this.cupBelement;\r\n        \r\n        // Get the current value\r\n        const currentValue = await cupB.getText();\r\n        // Click the dropdown to switch to the desired value\r\n        if (currentValue === 'B') {\r\n            await dropdown.click();\r\n            const optionC = await this.cupCelement;\r\n            await browser.pause(2000);\r\n            await optionC.click();\r\n            await browser.pause(1000);\r\n        } \r\n    }\r\n \r\n    // Cup size C to B\r\n    async toggleDropdownValueB() {\r\n        const dropdown = await this.dropdowncupelement;\r\n        await dropdown.scrollIntoView();\r\n        const cupC = await this.cupCelement;\r\n        // Get the current value\r\n        const currentValue = await cupC.getText();\r\n        \r\n        // Click the dropdown to switch to the desired value\r\n        if (currentValue === 'C') {\r\n            await dropdown.click();\r\n            const optionB = await this.cupBelement;\r\n            await browser.pause(2000);\r\n            await optionB.click();\r\n            await browser.pause(2000);\r\n        } \r\n    }   \r\n\r\n    async scrolltomeasurment(){\r\n        const measurementlink = await this.measurment;\r\n        await browser.waitUntil(async () => await measurementlink.isDisplayed(), {timeout: 60000});\r\n        await measurementlink.scrollIntoView();\r\n        await browser.pause(2000);\r\n    }\r\n\r\n    async clickMyInformation(){\r\n        const information = await this.myinformation;\r\n        await browser.waitUntil(async () => await information.isDisplayed(), {timeout: 60000});\r\n        await information.click();\r\n       // await browser.pause(1000);\r\n    }\r\n\r\n    async clickLogout(){\r\n        const logout = await this.logoutelement;\r\n        await browser.waitUntil(async () => await logout.isDisplayed(), {timeout: 60000});\r\n        await logout.click();\r\n    }\r\n\r\n    async scrolltoListOfRecommendation() {\r\n        try {\r\n            const list = await this.recommendationelement;\r\n            await browser.waitUntil(async () => {\r\n                await list.scrollIntoView();\r\n                return await list.isDisplayed();\r\n            }, { timeout: 60000, timeoutMsg: 'List of recommendations is not displayed within the timeout period' });\r\n        } catch (error) {\r\n            console.error(\"Error occurred while scrolling to list of recommendations:\", error);\r\n        }\r\n    }\r\n\r\n    async clickPant(){\r\n        const pant = await this.pantelement;\r\n        await browser.waitUntil(async () => await pant.isDisplayed(), {timeout: 60000});\r\n        await pant.click();\r\n    }\r\n\r\n    async clickflaredTrousers(){\r\n        const flaredTrouser = await this.flaredTrousers;\r\n        await browser.waitUntil(async () => await flaredTrouser.isDisplayed(), {timeout: 60000});\r\n        await flaredTrouser.click();\r\n    }\r\n\r\n    async clickleggins(){\r\n        const leggins = await this.legginsElement;\r\n        await browser.waitUntil(async () => await leggins.isDisplayed(), {timeout: 60000});\r\n        await leggins.click();\r\n    }\r\n\r\n    async clickknitSkirt() {\r\n        const LeggingsBottom = await this.knitSkirtElement;\r\n        await LeggingsBottom.waitForDisplayed({ timeout: 60000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await LeggingsBottom.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'Leggins element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await LeggingsBottom.click();\r\n    }\r\n\r\n    async clickbBuzzBag() {\r\n        const bBuzzBag = await this.bBuzzBagElement;\r\n        await bBuzzBag.waitForDisplayed({ timeout: 60000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await bBuzzBag.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'bBuzzBag element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await bBuzzBag.click();\r\n    }\r\n\r\n    async clickyrwearRemove() {\r\n        try {\r\n            const yrwearRemove = await this.yrwearRemoveElement;\r\n            await yrwearRemove.waitForDisplayed({ timeout: 60000 });\r\n    \r\n            await browser.waitUntil(async () => {\r\n                const isClickable = await yrwearRemove.isClickable();\r\n                return isClickable;\r\n            }, {\r\n                timeout: 10000,\r\n                timeoutMsg: 'yrwearRemove element is not clickable after waiting for 10 seconds'\r\n            });\r\n    \r\n            await yrwearRemove.click();\r\n        } catch (error) {\r\n            // Handle the error gracefully (e.g., log the error, but do not throw it)\r\n            console.log('yrwearRemove element was not found Due to garment Size NA:', error.message);\r\n        }\r\n    }\r\n    \r\n\r\n    async clickskyeBoots() {\r\n        const skyeBoot = await this.skyeBoots;\r\n        await skyeBoot.waitForDisplayed({ timeout: 60000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await skyeBoot.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'skyeBoot element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await skyeBoot.click();\r\n    }\r\n\r\n    async clicksmoothLeatherBags() {\r\n        const smoothLeatherBags = await this.smoothLeatherBag;\r\n        await smoothLeatherBags.waitForDisplayed({ timeout: 60000 });\r\n        \r\n        await browser.waitUntil(async () => {\r\n            const isClickable = await smoothLeatherBags.isClickable();\r\n            return isClickable;\r\n        }, {\r\n            timeout: 10000,\r\n            timeoutMsg: 'smoothLeatherBags element is not clickable after waiting for 10 seconds'\r\n        });\r\n    \r\n        await smoothLeatherBags.click();\r\n    }\r\n\r\n\r\n    async clickbackArrow() {\r\n        const TIMEOUT = 60000;\r\n        try {\r\n            const backArrow = await this.backArrowElement;\r\n            await backArrow.waitForDisplayed({ timeout: TIMEOUT });\r\n            await backArrow.click();\r\n        } catch (error) {\r\n            if (error.name === 'TimeoutError') {\r\n                console.error(`BackArrow button did not appear within ${TIMEOUT / 1000} seconds.`);\r\n            } else {\r\n                console.error(`Error occurred while clicking back Arrow: ${error.message}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    async clickApplyButton() {\r\n        const TIMEOUT = 60000;\r\n        try {\r\n            const apply = await this.applyElement;\r\n            const isApplyButtonDisplayed = await apply.isDisplayed();\r\n            const isApplyButtonEnabled = await apply.isEnabled();\r\n    \r\n            if (isApplyButtonDisplayed && isApplyButtonEnabled) {\r\n                await apply.click();\r\n                console.log('Clicked Apply button successfully');\r\n\r\n            } else {\r\n                console.log('Apply button is not displayed or disabled.');\r\n                await this.clickbackArrow();\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred while clicking Apply: ${error.message}`);\r\n            // Handle the error as needed (e.g., logging, throwing, or returning a specific value).\r\n        }\r\n    }\r\n\r\n\r\n    async keepFirstElementAndRemoveOthers() {\r\n        // Find all matching elements\r\n        const elements =await $$('[id^=\"bods__current-product-item--\"] > button');\r\n        console.log(`Number of elements found: ${elements.length}`);\r\n        // Start the loop from the second last element and go in reverse order\r\n        for (let i = elements.length - 1; i >= 1; i--) {\r\n            const buttonElement = elements[i];\r\n    \r\n            // Wait for the button to be clickable\r\n            await buttonElement.waitForClickable({ timeout: 5000 });\r\n    \r\n            const buttonText = await buttonElement.getText();\r\n    \r\n            if (buttonText.trim() === \"Remove\") {\r\n                // Remove the element (adjust based on your use case)\r\n                await buttonElement.click();\r\n                console.log(`Clicked on the \"Remove\" button at index ${i}.`);\r\n            } else {\r\n                console.log(`Item with text content \"${buttonText}\" is not the \"Remove\" button.`);\r\n            }\r\n        }\r\n    }\r\n\r\n     storedSizeTexts = [];\r\n     previousUser = null;\r\n    // Special function to handle with care\r\n    async selectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('N', '', index, 'Wool_Jacket', cupText);\r\n\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('O','',index,'_Wool-Jacket_profile_',sizeText,cupText,'_default_','','_front_','Wool_Jacket',user);\r\n                console.log(\"Done5\");\r\n                \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_Wool-Jacket_profile_',sizeText,cupText,'_default_','','_back_','Wool_Jacket',user);\r\n                console.log(\"Done6\"); \r\n                }\r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Q','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','','_front_','Wool_Jacket',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','','_back_','Wool_Jacket',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                //new functions \r\n                   // ******Combo flare Trousers ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickflaredTrousers();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('U','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Flared_Pant_','_front_','Wool_Jacket',user);\r\n                console.log(\"Done11\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Flared_Pant_','_back_','Wool_Jacket',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo leggins ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickleggins();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('W','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_leggins_','_front_','Wool_Jacket',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_leggins_','_back_','Wool_Jacket',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Skirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickknitSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Y','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Knit_skirt_','_front_','Wool_Jacket',user);\r\n                console.log(\"Done15\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Knit_skirt_','_back_','Wool_Jacket',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickbBuzzBag();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_front_','Wool_Jacket',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_back_','Wool_Jacket',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clicksmoothLeatherBags();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_front_','Wool_Jacket',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_back_','Wool_Jacket',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();\r\n                await this.clickMyprofile();\r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed(); \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async sportsBra_selectCup(index, user,sizeText) {\r\n        try {\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('O', '', index, 'Sports_Bra', cupText);\r\n                await home_page.captureAndUploadImage('P','',index,'_Sports_Bra_profile_',sizeText,cupText,'_default_','','_front_','Sports_Bra',user);\r\n                console.log(\"Done5\");\r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','','_front_','Sports_Bra',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('S','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','','_back_','Sports_Bra',user);\r\n                console.log(\"Done8\"); \r\n\r\n                await avatarpage.clickrecenter();\r\n                 // scroll to list of recommendation ****Combo****\r\n                 await this.scrolltoListOfRecommendation();\r\n                 await this.clickbBuzzBag();\r\n                 await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                 await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                 //Capture screenshot and Upload it\r\n                 await home_page.captureAndUploadImage('V','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_front_','Sports_Bra',user);\r\n                 console.log(\"Done17\");\r\n                 await avatarpage.backview();\r\n                 await browser.pause(10000);\r\n                 await home_page.captureAndUploadImage('W','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_back_','Sports_Bra',user);\r\n                 console.log(\"Done18\"); \r\n                 await avatarpage.clickrecenter();\r\n                 \r\n                 // scroll to list of recommendation ****Combo****\r\n                 await this.scrolltoListOfRecommendation();\r\n                 await this.clicksmoothLeatherBags();\r\n                 await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                 await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                 //Capture screenshot and Upload it\r\n                 await home_page.captureAndUploadImage('X','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_front_','Sports_Bra',user);\r\n                 console.log(\"Done19\");\r\n                 await avatarpage.backview();\r\n                 await browser.pause(10000);\r\n                 await home_page.captureAndUploadImage('Y','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_back_','Sports_Bra',user);\r\n                 console.log(\"Done20\"); \r\n                 await avatarpage.clickrecenter();\r\n                 await this.keepFirstElementAndRemoveOthers();\r\n                \r\n                 await this.clickMyprofile();\r\n                 if (i ===  cupElements.length - 2) {\r\n                     console.log(\"Closing loop entered\");\r\n                     await this.clickresetSetting();\r\n                     await this.clickApplyButton();\r\n                     await avatarpage.avatardisplayed(); \r\n                     console.log(\"Closing loop END\");\r\n                 }\r\n                 index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n    \r\n    async Knit_Dress_selectCup(index, user,sizeText) {\r\n        try {\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_Knit_Dress_fitting_',sizeText,cupText,'_default_','','_front_','Knit_Dress',user);\r\n                console.log(\"Done9\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('S','',index,'_Knit_Dress_fitting_',sizeText,cupText,'_default_','','_back_','Knit_Dress',user);\r\n                console.log(\"Done10\"); \r\n                await avatarpage.clickrecenter(); \r\n                \r\n                await this.clickMyprofile();\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed(); \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n   \r\n    async bikerJacketselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('P', '', index, 'Wool_Jacket', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('Q','',index,'_Biker_Jacket_profile_',sizeText,cupText,'_default_','','_front_','Biker_Jacket',user);\r\n                console.log(\"Done8\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('S','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','','_front_','Biker_Jacket',user);\r\n                console.log(\"Done9\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','','_back_','Biker_Jacket',user);\r\n                console.log(\"Done10\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                //new functions \r\n                   // ******Combo flare Trousers ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickflaredTrousers();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('U','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Flared_Pant_','_front_','Biker_Jacket',user);\r\n                console.log(\"Done11\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Flared_Pant_','_back_','Biker_Jacket',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo leggins ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickleggins();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('W','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_leggins_','_front_','Biker_Jacket',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_leggins_','_back_','Biker_Jacket',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Skirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickknitSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Y','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Knit_skirt_','_front_','Biker_Jacket',user);\r\n                console.log(\"Done15\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Knit_skirt_','_back_','Biker_Jacket',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickbBuzzBag();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_front_','Biker_Jacket',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_back_','Biker_Jacket',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clicksmoothLeatherBags();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_front_','Biker_Jacket',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_back_','Biker_Jacket',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n\r\n    async knitskirtselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('R', '', index, 'Knit_Skirt', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('S','',index,'_Knit_Skirt_profile_',sizeText,cupText,'_default_','','_front_','Knit_Skirt',user);\r\n                console.log(\"Done9\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','','_front_','Knit_Skirt',user);\r\n                console.log(\"Done10\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('U','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','','_back_','Knit_Skirt',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickbBuzzBag();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('V','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_front_','Knit_Skirt',user);\r\n                console.log(\"Done12\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('W','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_back_','Knit_Skirt',user);\r\n                console.log(\"Done13\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clicksmoothLeatherBags();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('X','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_front_','Knit_Skirt',user);\r\n                console.log(\"Done14\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Y','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_back_','Knit_Skirt',user);\r\n                console.log(\"Done15\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();\r\n                await this.clickMyprofile();\r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n               /*if (i !==  cupElements.length - 1) {\r\n                  console.log('index: ${i}');\r\n                  console.log(\"loop entered\");\r\n                  await this.clickMyprofile();\r\n                } */\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed(); \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async LeggingsselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('R', '', index, 'Leggings', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('S','',index,'_Leggings_profile_',sizeText,cupText,'_default_','','_front_','Leggings',user);\r\n                console.log(\"Done9\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','','_front_','Leggings',user);\r\n                console.log(\"Done10\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('U','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','','_back_','Leggings',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickbBuzzBag();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('V','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_front_','Leggings',user);\r\n                console.log(\"Done12\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('W','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_B-Buzz_','_back_','Leggings',user);\r\n                console.log(\"Done13\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clicksmoothLeatherBags();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('X','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_front_','Leggings',user);\r\n                console.log(\"Done14\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Y','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_Smooth-leather_','_back_','Leggings',user);\r\n                console.log(\"Done15\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo****\r\n                await this.clickyrwearRemove();\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickskyeBoots();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await home_page.captureAndUploadImage('z','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_skyeboots_','_front_','Leggings',user);\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                console.log(\"Done16\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Y','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','_skyeboots_','_back_','Leggings',user);\r\n                console.log(\"Done17\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();\r\n                await this.clickMyprofile();\r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed(); \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async flareTrousersselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await avatarpage.clickrecenter();\r\n                await browser.pause(10000);\r\n                await home_page.insertTextGS('R', '', index, 'Flare_Trousers', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                \r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('S','',index,'_Flare_Trousers_profile_',sizeText,cupText,'_default_','','_front_','Flare_Trousers',user);\r\n                console.log(\"Done9\");\r\n                } \r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Flare_Trousers_fitting_',sizeText,cupText,'_default_','','_front_','Flare_Trousers',user);\r\n                console.log(\"Done10\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('U','',index,'_Flare_Trousers_fitting_',sizeText,cupText,'_default_','','_back_','Flare_Trousers',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.clickrecenter();\r\n                await browser.pause(1000);\r\n                // scroll to list of recommendation ****Combo****\r\n                //await this.clickyrwearRemove();\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickskyeBoots();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await home_page.captureAndUploadImage('V','',index,'_Flare_Trousers_fitting_',sizeText,cupText,'_default_','_skyeboots_','_front_','Leggings',user);\r\n                await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n                console.log(\"Done12\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('W','',index,'_Flare_Trousers_fitting_',sizeText,cupText,'_default_','_skyeboots_','_back_','Leggings',user);\r\n                console.log(\"Done13\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();\r\n                await this.clickMyprofile();\r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed(); \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async camdenWoolCrepeJacketselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_camden_Wool_Crepe_Jacket_polo_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // ******Combo straightLegSatinPant ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickstraightLegSatinPant();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('O','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_front_','RL',user);\r\n                console.log(\"Done27\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_camden_Wool_Crepe_Jacket_polo__fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_back_','RL',user);\r\n                console.log(\"Done28\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo pleatedMidiSkirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickpleatedMidiSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Q','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_front_','RL',user);\r\n                console.log(\"Done29\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_camden_Wool_Crepe_Jacket_polo_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_back_','RL',user);\r\n                console.log(\"Done30\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async cottonBroadclothDressselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_cotton_Broad_clothDress_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_cotton_Broad_clothDress_camden_Wool_Crepe_Jacket_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_cotton_Broad_clothDress_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async classicfitmapselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_polo_Shirt_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_polo_Shirt__fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_polo_Shirt__fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_polo_Shirt__fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // ******Combo straightLegSatinPant ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickstraightLegSatinPant();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('O','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_front_','RL',user);\r\n                console.log(\"Done27\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_back_','RL',user);\r\n                console.log(\"Done28\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo pleatedMidiSkirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickpleatedMidiSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Q','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_front_','RL',user);\r\n                console.log(\"Done29\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_polo_Shirt_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_back_','RL',user);\r\n                console.log(\"Done30\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async cottoncrowneckselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_cotton_Crewneck_Tee_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // ******Combo straightLegSatinPant ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickstraightLegSatinPant();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('O','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_front_','RL',user);\r\n                console.log(\"Done27\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_back_','RL',user);\r\n                console.log(\"Done28\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo pleatedMidiSkirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickpleatedMidiSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Q','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_front_','RL',user);\r\n                console.log(\"Done29\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_cotton_Crewneck_Tee_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_back_','RL',user);\r\n                console.log(\"Done30\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async croppedquiltedselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_Cropped_Quilted_Jacket_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // ******Combo straightLegSatinPant ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickstraightLegSatinPant();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('O','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_front_','RL',user);\r\n                console.log(\"Done27\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_back_','RL',user);\r\n                console.log(\"Done28\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo pleatedMidiSkirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickpleatedMidiSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Q','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_front_','RL',user);\r\n                console.log(\"Done29\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_Cropped_Quilted_Jacket_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_back_','RL',user);\r\n                console.log(\"Done30\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async packableJacketselectCup(index, user,sizeText) {\r\n        try {\r\n            console.log('Current User:', user);\r\n            const userHasChanged = this.previousUser !== user.username;\r\n            this.previousUser = user.username;\r\n            if (userHasChanged) { // Replace userHasChanged with your condition to detect a user change\r\n                this.storedSizeTexts = []; // Clear the array\r\n            }\r\n            console.log(`Pushed Size to array: ${sizeText}`);\r\n            this.storedSizeTexts.push(sizeText);\r\n\r\n            const cupElements = await this.allCupElement;\r\n            const availableSizes = [];\r\n            let i;\r\n            const cup = cupElements.length;\r\n            console.log(` length: ${cup}`);\r\n            // Collect all available cup sizes\r\n            for (i = 0; i < cupElements.length; i++) {\r\n                const cupElement = cupElements[i];\r\n                const isDisabled = await cupElement.getAttribute('disabled');\r\n                const cupText = await cupElement.getText();\r\n    \r\n                if (!isDisabled) {\r\n                    availableSizes.push(cupText);\r\n                }\r\n            }\r\n    \r\n            // Iterate over available sizes and select each one\r\n            //for (const cupText of availableSizes)\r\n            for (let i = 0; i < availableSizes.length; i++) {\r\n                const cupText = availableSizes[i];\r\n                const cupElement = await this.getCupElementByText(cupText);\r\n                await cupElement.click();\r\n                console.log(`Clicked Size: ${cupText}`);\r\n                \r\n                // Profile view front and back\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'RL', cupText);\r\n                console.log(\"Length of storedSizeTexts:\", this.storedSizeTexts.length);\r\n                if (this.storedSizeTexts.length === 1) {\r\n                await home_page.captureAndUploadImage('L','',index,'_The_packable_Jacket_profile_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done10\");\r\n                } \r\n\r\n                // after selecting the cup size\r\n                await this.clickApplyButton();\r\n                // Wait for avatar to be displayed after clicking Apply (modify time as needed)\r\n                await avatarpage.avatardisplayed();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done11\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('N','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done12\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // ******Combo Calfskin Handbag ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickcalfskinMiniRL50Handbag();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('S','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_front_','RL',user);\r\n                console.log(\"Done13\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Calfskin_Handbag_','_back_','RL',user);\r\n                console.log(\"Done14\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportToteCuoio\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickleatherMediumBellportTote_Cuoio();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('U','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_front_','RL',user);\r\n                console.log(\"Done15\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('V','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportToteCuoio_','_back_','RL',user);\r\n                console.log(\"Done16\"); \r\n                await avatarpage.clickrecenter();\r\n                \r\n                // scroll to list of recommendation ****Combo**** leatherMediumBellportTote\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickLeatherMediumBellportTote();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('W','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_front_','RL',user);\r\n                console.log(\"Done17\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('X','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_leatherMediumBellportTote_','_back_','RL',user);\r\n                console.log(\"Done18\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** Small Steel Black Finish\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickSmallSteelBlackFinish();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('Y','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_front_','RL',user);\r\n                console.log(\"Done19\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Z','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Small_Steel_Black_Finish_','_back_','RL',user);\r\n                console.log(\"Done20\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Welington Enamel Bracel\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickwelingtonEnamelBracelet();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','A',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_front_','RL',user);\r\n                console.log(\"Done21\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','B',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Welington_Enamel_Bracel_','_back_','RL',user);\r\n                console.log(\"Done22\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n\r\n                // scroll to list of recommendation ****Combo**** courtster Sneaker\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickcourtsterSneaker();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','E',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_front_','RL',user);\r\n                console.log(\"Done23\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','F',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_courtster_Sneaker_','_back_','RL',user);\r\n                console.log(\"Done24\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // scroll to list of recommendation ****Combo**** Celia Calfskin Pump\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickceliaCalfskinPump();\r\n                await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n                await this.waitForSpinnerToDisappear();\r\n                //Capture screenshot and Upload it\r\n                await home_page.captureAndUploadImage('A','C',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_front_','RL',user);\r\n                console.log(\"Done25\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('A','D',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_Celia_Calfskin_Pump_','_back_','RL',user);\r\n                console.log(\"Done26\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                // ******Combo straightLegSatinPant ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                await this.clickstraightLegSatinPant();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('O','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_front_','RL',user);\r\n                console.log(\"Done27\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('P','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_straightLegSatinPant_','_back_','RL',user);\r\n                console.log(\"Done28\"); \r\n                await avatarpage.clickrecenter();\r\n          \r\n                   // ******Combo pleatedMidiSkirt ****************\r\n                // scroll to list of recommendation\r\n                await this.scrolltoListOfRecommendation();\r\n                //Pick the Floured pant\r\n                await this.clickpleatedMidiSkirt();\r\n                // wait for avatar to be displayed\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('Q','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_front_','RL',user);\r\n                console.log(\"Done29\");  \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('R','',index,'_The_packable_Jacket_fitting_',sizeText,cupText,'_default_','_pleatedMidiSkirt_','_back_','RL',user);\r\n                console.log(\"Done30\"); \r\n                await avatarpage.clickrecenter();\r\n\r\n                await this.keepFirstElementAndRemoveOthers();                                              \r\n                await this.clickMyprofile();              \r\n                console.log(`[${i}-${i}] index: ${i}`);\r\n                if (i ===  cupElements.length - 2) {\r\n                    console.log(\"Closing loop entered\");\r\n                    await this.clickresetSetting();\r\n                    await this.clickApplyButton();\r\n                    await avatarpage.avatardisplayed();                                                                             \r\n                    console.log(\"Closing loop END\");\r\n                }\r\n                index++;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async getCupElementByText(cupText) {\r\n        const cupElements = await this.allCupElement;\r\n        for (let i = 0; i < cupElements.length; i++) {\r\n            const cupElement = cupElements[i];\r\n            const text = await cupElement.getText();\r\n            if (text === cupText) {\r\n                return cupElement;\r\n            }\r\n        }\r\n        throw new Error(`Cup element with text \"${cupText}\" not found.`);\r\n    }\r\n    \r\n}     \r\nmodule.exports = new myprofile();"],"mappings":"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"}},"mtime":1701170390217},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\017_bods.1628-fitmapBalmain_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst config = require(\"../../data/config\");\nconst myProfile = require('../../pageobjects/myProfile');\nconst sizepage = require('../../pageobjects/sizepage');\ndescribe(\"BODS :: Screen\", async () => {\n  const {\n    ralphLauren,\n    balmain\n  } = config.urls;\n  const users = config.users;\n  before(async () => {\n    // Perform initial setup steps only once before the tests start running\n    await Homepage.open('balmain');\n    // handle the warning overlay\n    await Homepage.warningOverlay();\n    // click the product Double breasted jacket\n    await Productpage.clickdoubleBreastedJacket();\n    // handle the warning overlay\n    await Homepage.warningOverlay();\n    // Click the BODS button\n    await avatarpage.clickbods3D();\n  });\n  beforeEach(async () => {\n    // Clear browser cookies before each iteration of the loop\n    await browser.deleteCookies();\n  });\n  users.forEach((user, index) => {\n    it(\"recorder :: 1628-fitmapBalmain_en\", async () => {\n      const gapi = require(process.cwd() + \"/utils/lib/gapi\");\n      const path = require(\"path\");\n\n      // land on login page\n      await avatarpage.clickLoginlink();\n      // login with existing account\n      await avatarpage.multiplelogin(user.username, user.password);\n      console.log(user.username, user.password);\n      console.log(index);\n      // wait for avatar to be displayed\n      await avatarpage.avatardisplayed();\n      await Homepage.captureAndUploadImage('A', '', index, 'Wool-jacket_fitting_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done1\");\n      await sizepage.selectEnabledSizes();\n\n      // click the fit map and to capture the avatar\n      await avatarpage.clickfitmap();\n      await Homepage.captureAndUploadImage('O', '', index, 'Wool-jacket_fitmap_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done2\");\n\n      // ******Combo flare Trousers ****************\n      // scroll to list of recommendation\n      await myProfile.scrolltoListOfRecommendation();\n      //Pick the Floured pant\n      await myProfile.clickflaredTrousers();\n      // wait for avatar to be displayed\n      await avatarpage.avatardisplayed();\n      await Homepage.captureAndUploadImage('P', '', index, 'Wool-jacket_fitting_Flared-Pants_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done3\");\n\n      // ******Combo leggins ****************\n      // scroll to list of recommendation\n      await myProfile.scrolltoListOfRecommendation();\n      //Pick the Floured pant\n      await myProfile.clickleggins();\n      // wait for avatar to be displayed\n      await avatarpage.avatardisplayed();\n      await Homepage.captureAndUploadImage('Q', '', index, 'Wool-jacket_fitting_Leggins_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done4\");\n\n      // ******Combo Skirt ****************\n      // scroll to list of recommendation\n      await myProfile.scrolltoListOfRecommendation();\n      //Pick the Floured pant\n      await myProfile.clickknitSkirt();\n      // wait for avatar to be displayed\n      await avatarpage.avatardisplayed();\n      await Homepage.captureAndUploadImage('R', '', index, 'Wool-jacket_fitting_KnitSkirt_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done5\");\n\n      // scroll to list of recommendation ****Combo****\n      await myProfile.scrolltoListOfRecommendation();\n      await myProfile.clickbBuzzBag();\n      await avatarpage.avatardisplayed(); // To handle the time to combo visible\n      await browser.pause(10000); // // To handle the time to combo visible Spinner not displayed \n      //Capture screenshot and Upload it\n      await Homepage.captureAndUploadImage('A', 'Z', index, 'Wool-jacket_fitting_B-BUZZ-Bag_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done6\");\n\n      // scroll to list of recommendation ****Combo****\n      await myProfile.scrolltoListOfRecommendation();\n      await myProfile.clicksmoothLeatherBags();\n      await avatarpage.avatardisplayed(); // To handle the time to combo visible\n      await browser.pause(500); // // To handle the time to combo visible Spinner not displayed \n      //Capture screenshot and Upload it\n      await Homepage.captureAndUploadImage('B', 'E', index, 'Wool-jacket_fitting_SmoothLeather-Bag_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done7\");\n\n      // click on myprofile to capture settings\n      await myProfile.clickMyprofile();\n      await myProfile.scrolltocupsize();\n      //Capture screenshot and Upload it\n      await Homepage.captureAndUploadImage('M', '', index, 'Wool-jacket_CUP_front', 'All_profile_testing - Oct19', user);\n      console.log(\"Done8\");\n      // click MyInformation link\n      await myProfile.clickMyInformation();\n      //Click logout button\n      await myProfile.clickLogout();\n    });\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1628-fitmapBalmain_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"017_bods.1628-fitmapBalmain_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"017_bods.1628-fitmapBalmain_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJjb25maWciLCJteVByb2ZpbGUiLCJzaXplcGFnZSIsImRlc2NyaWJlIiwicmFscGhMYXVyZW4iLCJiYWxtYWluIiwidXJscyIsInVzZXJzIiwiYmVmb3JlIiwib3BlbiIsIndhcm5pbmdPdmVybGF5IiwiY2xpY2tkb3VibGVCcmVhc3RlZEphY2tldCIsImNsaWNrYm9kczNEIiwiYmVmb3JlRWFjaCIsImJyb3dzZXIiLCJkZWxldGVDb29raWVzIiwiZm9yRWFjaCIsInVzZXIiLCJpbmRleCIsIml0IiwiZ2FwaSIsInByb2Nlc3MiLCJjd2QiLCJwYXRoIiwiY2xpY2tMb2dpbmxpbmsiLCJtdWx0aXBsZWxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImNvbnNvbGUiLCJsb2ciLCJhdmF0YXJkaXNwbGF5ZWQiLCJjYXB0dXJlQW5kVXBsb2FkSW1hZ2UiLCJzZWxlY3RFbmFibGVkU2l6ZXMiLCJjbGlja2ZpdG1hcCIsInNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24iLCJjbGlja2ZsYXJlZFRyb3VzZXJzIiwiY2xpY2tsZWdnaW5zIiwiY2xpY2trbml0U2tpcnQiLCJjbGlja2JCdXp6QmFnIiwicGF1c2UiLCJjbGlja3Ntb290aExlYXRoZXJCYWdzIiwiY2xpY2tNeXByb2ZpbGUiLCJzY3JvbGx0b2N1cHNpemUiLCJjbGlja015SW5mb3JtYXRpb24iLCJjbGlja0xvZ291dCIsInV0aWxzIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcYm9kcy1mdW5jdGlvbmFsLXRlc3RzXFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHJlY29yZFxcc2NyZWVuXFwiLCJzb3VyY2VzIjpbIjAxN19ib2RzLjE2MjgtZml0bWFwQmFsbWFpbl9lbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIb21lcGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2hvbWVfcGFnZScpO1xyXG5jb25zdCBQcm9kdWN0cGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL3Byb2R1Y3RfcGFnZScpO1xyXG5jb25zdCBhdmF0YXJwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvYXZhdGFyX3BhZ2UnKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uLy4uL2RhdGEvY29uZmlnXCIpO1xyXG5jb25zdCBteVByb2ZpbGUgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9teVByb2ZpbGUnKTtcclxuY29uc3Qgc2l6ZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9zaXplcGFnZScpXHJcblxyXG5kZXNjcmliZShcIkJPRFMgOjogU2NyZWVuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmFscGhMYXVyZW4sIGJhbG1haW4gfSA9IGNvbmZpZy51cmxzO1xyXG4gICAgY29uc3QgdXNlcnMgPSBjb25maWcudXNlcnM7XHJcbiAgICBiZWZvcmUoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIFBlcmZvcm0gaW5pdGlhbCBzZXR1cCBzdGVwcyBvbmx5IG9uY2UgYmVmb3JlIHRoZSB0ZXN0cyBzdGFydCBydW5uaW5nXHJcbiAgICAgICAgYXdhaXQgSG9tZXBhZ2Uub3BlbignYmFsbWFpbicpO1xyXG4gICAgICAgIC8vIGhhbmRsZSB0aGUgd2FybmluZyBvdmVybGF5XHJcbiAgICAgICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgICAgICAvLyBjbGljayB0aGUgcHJvZHVjdCBEb3VibGUgYnJlYXN0ZWQgamFja2V0XHJcbiAgICAgICAgYXdhaXQgUHJvZHVjdHBhZ2UuY2xpY2tkb3VibGVCcmVhc3RlZEphY2tldCgpO1xyXG4gICAgICAgIC8vIGhhbmRsZSB0aGUgd2FybmluZyBvdmVybGF5XHJcbiAgICAgICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgICAgICAvLyBDbGljayB0aGUgQk9EUyBidXR0b25cclxuICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBDbGVhciBicm93c2VyIGNvb2tpZXMgYmVmb3JlIGVhY2ggaXRlcmF0aW9uIG9mIHRoZSBsb29wXHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci5kZWxldGVDb29raWVzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB1c2Vycy5mb3JFYWNoKCh1c2VyLGluZGV4KSA9PiB7XHJcbiAgICBpdChcInJlY29yZGVyIDo6IDE2MjgtZml0bWFwQmFsbWFpbl9lblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBnYXBpID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2dhcGlcIik7XHJcbiAgICBjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcblxyXG4gICAgLy8gbGFuZCBvbiBsb2dpbiBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrTG9naW5saW5rKCk7XHJcbiAgICAvLyBsb2dpbiB3aXRoIGV4aXN0aW5nIGFjY291bnRcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UubXVsdGlwbGVsb2dpbih1c2VyLnVzZXJuYW1lLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgIGNvbnNvbGUubG9nKHVzZXIudXNlcm5hbWUsIHVzZXIucGFzc3dvcmQpO1xyXG4gICAgY29uc29sZS5sb2coaW5kZXgpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIGF3YWl0IEhvbWVwYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQScsJycsaW5kZXgsJ1dvb2wtamFja2V0X2ZpdHRpbmdfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lMVwiKTtcclxuXHJcbiAgICBhd2FpdCBzaXplcGFnZS5zZWxlY3RFbmFibGVkU2l6ZXMoKTtcclxuXHJcbiAgICAvLyBjbGljayB0aGUgZml0IG1hcCBhbmQgdG8gY2FwdHVyZSB0aGUgYXZhdGFyXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrZml0bWFwKCk7XHJcbiAgICBhd2FpdCBIb21lcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ08nLCcnLGluZGV4LCdXb29sLWphY2tldF9maXRtYXBfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lMlwiKTtcclxuXHJcbiAgICAgICAvLyAqKioqKipDb21ibyBmbGFyZSBUcm91c2VycyAqKioqKioqKioqKioqKioqXHJcbiAgICAvLyBzY3JvbGwgdG8gbGlzdCBvZiByZWNvbW1lbmRhdGlvblxyXG4gICAgYXdhaXQgbXlQcm9maWxlLnNjcm9sbHRvTGlzdE9mUmVjb21tZW5kYXRpb24oKTtcclxuICAgIC8vUGljayB0aGUgRmxvdXJlZCBwYW50XHJcbiAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tmbGFyZWRUcm91c2VycygpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIGF3YWl0IEhvbWVwYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUCcsJycsaW5kZXgsJ1dvb2wtamFja2V0X2ZpdHRpbmdfRmxhcmVkLVBhbnRzX2Zyb250JywnQWxsX3Byb2ZpbGVfdGVzdGluZyAtIE9jdDE5Jyx1c2VyKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRG9uZTNcIik7ICBcclxuXHJcbiAgICAgICAvLyAqKioqKipDb21ibyBsZWdnaW5zICoqKioqKioqKioqKioqKipcclxuICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uXHJcbiAgICBhd2FpdCBteVByb2ZpbGUuc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpO1xyXG4gICAgLy9QaWNrIHRoZSBGbG91cmVkIHBhbnRcclxuICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja2xlZ2dpbnMoKTtcclxuICAgIC8vIHdhaXQgZm9yIGF2YXRhciB0byBiZSBkaXNwbGF5ZWRcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICBhd2FpdCBIb21lcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1EnLCcnLGluZGV4LCdXb29sLWphY2tldF9maXR0aW5nX0xlZ2dpbnNfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lNFwiKTsgIFxyXG5cclxuICAgICAgICAgICAgICAgLy8gKioqKioqQ29tYm8gU2tpcnQgKioqKioqKioqKioqKioqKlxyXG4gICAgLy8gc2Nyb2xsIHRvIGxpc3Qgb2YgcmVjb21tZW5kYXRpb25cclxuICAgIGF3YWl0IG15UHJvZmlsZS5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICAvL1BpY2sgdGhlIEZsb3VyZWQgcGFudFxyXG4gICAgYXdhaXQgbXlQcm9maWxlLmNsaWNra25pdFNraXJ0KCk7XHJcbiAgICAvLyB3YWl0IGZvciBhdmF0YXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgYXdhaXQgSG9tZXBhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdSJywnJyxpbmRleCwnV29vbC1qYWNrZXRfZml0dGluZ19Lbml0U2tpcnRfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lNVwiKTsgIFxyXG5cclxuICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgIGF3YWl0IG15UHJvZmlsZS5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tiQnV6ekJhZygpO1xyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7ICAvLyAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZSBTcGlubmVyIG5vdCBkaXNwbGF5ZWQgXHJcbiAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICBhd2FpdCBIb21lcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0EnLCdaJyxpbmRleCwnV29vbC1qYWNrZXRfZml0dGluZ19CLUJVWlotQmFnX2Zyb250JywnQWxsX3Byb2ZpbGVfdGVzdGluZyAtIE9jdDE5Jyx1c2VyKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRG9uZTZcIik7XHJcbiAgICBcclxuICAgIC8vIHNjcm9sbCB0byBsaXN0IG9mIHJlY29tbWVuZGF0aW9uICoqKipDb21ibyoqKipcclxuICAgIGF3YWl0IG15UHJvZmlsZS5zY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uKCk7XHJcbiAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tzbW9vdGhMZWF0aGVyQmFncygpO1xyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTsgICAvLyBUbyBoYW5kbGUgdGhlIHRpbWUgdG8gY29tYm8gdmlzaWJsZVxyXG4gICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDApOyAgLy8gLy8gVG8gaGFuZGxlIHRoZSB0aW1lIHRvIGNvbWJvIHZpc2libGUgU3Bpbm5lciBub3QgZGlzcGxheWVkIFxyXG4gICAgLy9DYXB0dXJlIHNjcmVlbnNob3QgYW5kIFVwbG9hZCBpdFxyXG4gICAgYXdhaXQgSG9tZXBhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdCJywnRScsaW5kZXgsJ1dvb2wtamFja2V0X2ZpdHRpbmdfU21vb3RoTGVhdGhlci1CYWdfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lN1wiKTtcclxuXHJcbiAgICAvLyBjbGljayBvbiBteXByb2ZpbGUgdG8gY2FwdHVyZSBzZXR0aW5nc1xyXG4gICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICBhd2FpdCBteVByb2ZpbGUuc2Nyb2xsdG9jdXBzaXplKCk7XHJcbiAgICAvL0NhcHR1cmUgc2NyZWVuc2hvdCBhbmQgVXBsb2FkIGl0XHJcbiAgICBhd2FpdCBIb21lcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdXb29sLWphY2tldF9DVVBfZnJvbnQnLCdBbGxfcHJvZmlsZV90ZXN0aW5nIC0gT2N0MTknLHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJEb25lOFwiKTtcclxuICAgIC8vIGNsaWNrIE15SW5mb3JtYXRpb24gbGlua1xyXG4gICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlJbmZvcm1hdGlvbigpO1xyXG4gICAgLy9DbGljayBsb2dvdXQgYnV0dG9uXHJcbiAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tMb2dvdXQoKTtcclxuICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyOC1maXRtYXBCYWxtYWluX2VuXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy91dGlsc1wiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IFNLSVAgU1BFQyBJRiBXUk9ORyBDQVBBQklMSVRZXHJcbiAgICBsZXQgdmFsaWQgPSBhd2FpdCB1dGlscy5jaGVja1ZhbGlkQ2FwcygpO1xyXG4gICAgaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBDSEVDSyBGSVJFV0FMTFxyXG4gICAgYXdhaXQgdXRpbHMuY2hlY2tGaXJlV2FsbChcIjAxN19ib2RzLjE2MjgtZml0bWFwQmFsbWFpbl9lblwiKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1c3RvbSBjYXB0dXJlIG9wdHMuIFVuY29tbWVudCBhbmQgY2hhbmdlIHRoZSB2YWx1ZSB0byB1c2UgaXQuXHJcbiAgICAgKiBUaGUgZ2xvYmFsIGNvbmZpZyBpcyBzZXQgaW4gZGF0YS54bHN4IGFuZCBpcyBhcHBsaWVkIGJ5IGRlZmF1bHQgZm9yIGFsbCBzcGVjcy5cclxuICAgICAqIE5vdGU6IHRoZXNlIGNvbmZpZyBtYXkgYmUgcmVwbGFjZWQgaWYgdGhlcmUgaXMgbmV3IHZlcnNpb24gb2YgVXRpbHMgbGliIHJlbGVhc2VkLlxyXG4gICAgICovXHJcblxyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTdfYm9kcy4xNjI4LWZpdG1hcEJhbG1haW5fZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxN19ib2RzLjE2MjgtZml0bWFwQmFsbWFpbl9lblwiLCBcImlnbm9yZVRyYW5zcGFyZW50UGl4ZWxcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxN19ib2RzLjE2MjgtZml0bWFwQmFsbWFpbl9lblwiLCBcImlnbm9yZUFudGlhbGlhc2luZ1wiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE3X2JvZHMuMTYyOC1maXRtYXBCYWxtYWluX2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE3X2JvZHMuMTYyOC1maXRtYXBCYWxtYWluX2VuXCIsIFwibGFyZ2VJbWFnZVRocmVzaG9sZFwiLCAxMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTdfYm9kcy4xNjI4LWZpdG1hcEJhbG1haW5fZW5cIiwgXCJkaXNhYmxlQ1NTQW5pbWF0aW9uXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTdfYm9kcy4xNjI4LWZpdG1hcEJhbG1haW5fZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxN19ib2RzLjE2MjgtZml0bWFwQmFsbWFpbl9lblwiLCBcImlnbm9yZUFscGhhXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IElNRyBDT01QQVJJU09OIFNURVBcclxuICAgIGF3YWl0IHV0aWxzLmltZ0NvbXBhcmUoXCJib2RzXCIsIFwiMDE3X2JvZHMuMTYyOC1maXRtYXBCYWxtYWluX2VuXCIpO1xyXG5cclxuICB9KTtcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyA9PT09PT09IElNR19DT01QIDogRU5EID09PT09PT1cclxuXHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFDdkQsTUFBTUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDN0QsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsK0JBQStCLENBQUM7QUFDM0QsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDM0MsTUFBTUksU0FBUyxHQUFHSixPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFDeEQsTUFBTUssUUFBUSxHQUFHTCxPQUFPLENBQUMsNEJBQTRCLENBQUM7QUFFdERNLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZO0VBQ25DLE1BQU07SUFBRUMsV0FBVztJQUFFQztFQUFRLENBQUMsR0FBR0wsTUFBTSxDQUFDTSxJQUFJO0VBQzVDLE1BQU1DLEtBQUssR0FBR1AsTUFBTSxDQUFDTyxLQUFLO0VBQzFCQyxNQUFNLENBQUMsWUFBWTtJQUNmO0lBQ0EsTUFBTVosUUFBUSxDQUFDYSxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzlCO0lBQ0EsTUFBTWIsUUFBUSxDQUFDYyxjQUFjLENBQUMsQ0FBQztJQUMvQjtJQUNBLE1BQU1aLFdBQVcsQ0FBQ2EseUJBQXlCLENBQUMsQ0FBQztJQUM3QztJQUNBLE1BQU1mLFFBQVEsQ0FBQ2MsY0FBYyxDQUFDLENBQUM7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","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","config","myProfile","sizepage","describe","ralphLauren","balmain","urls","users","before","open","warningOverlay","clickdoubleBreastedJacket","clickbods3D","beforeEach","browser","deleteCookies","forEach","user","index","it","gapi","process","cwd","path","clickLoginlink","multiplelogin","username","password","console","log","avatardisplayed","captureAndUploadImage","selectEnabledSizes","clickfitmap","scrolltoListOfRecommendation","clickflaredTrousers","clickleggins","clickknitSkirt","clickbBuzzBag","pause","clicksmoothLeatherBags","clickMyprofile","scrolltocupsize","clickMyInformation","clickLogout","utils","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["017_bods.1628-fitmapBalmain_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst config = require(\"../../data/config\");\r\nconst myProfile = require('../../pageobjects/myProfile');\r\nconst sizepage = require('../../pageobjects/sizepage')\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n    const { ralphLauren, balmain } = config.urls;\r\n    const users = config.users;\r\n    before(async () => {\r\n        // Perform initial setup steps only once before the tests start running\r\n        await Homepage.open('balmain');\r\n        // handle the warning overlay\r\n        await Homepage.warningOverlay();\r\n        // click the product Double breasted jacket\r\n        await Productpage.clickdoubleBreastedJacket();\r\n        // handle the warning overlay\r\n        await Homepage.warningOverlay();\r\n        // Click the BODS button\r\n        await avatarpage.clickbods3D();\r\n    });\r\n\r\n    beforeEach(async () => {\r\n        // Clear browser cookies before each iteration of the loop\r\n        await browser.deleteCookies();\r\n    });\r\n\r\n    users.forEach((user,index) => {\r\n    it(\"recorder :: 1628-fitmapBalmain_en\", async () => {\r\n    const gapi = require(process.cwd() + \"/utils/lib/gapi\");\r\n    const path = require(\"path\");\r\n\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.multiplelogin(user.username, user.password);\r\n    console.log(user.username, user.password);\r\n    console.log(index);\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    await Homepage.captureAndUploadImage('A','',index,'Wool-jacket_fitting_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done1\");\r\n\r\n    await sizepage.selectEnabledSizes();\r\n\r\n    // click the fit map and to capture the avatar\r\n    await avatarpage.clickfitmap();\r\n    await Homepage.captureAndUploadImage('O','',index,'Wool-jacket_fitmap_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done2\");\r\n\r\n       // ******Combo flare Trousers ****************\r\n    // scroll to list of recommendation\r\n    await myProfile.scrolltoListOfRecommendation();\r\n    //Pick the Floured pant\r\n    await myProfile.clickflaredTrousers();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    await Homepage.captureAndUploadImage('P','',index,'Wool-jacket_fitting_Flared-Pants_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done3\");  \r\n\r\n       // ******Combo leggins ****************\r\n    // scroll to list of recommendation\r\n    await myProfile.scrolltoListOfRecommendation();\r\n    //Pick the Floured pant\r\n    await myProfile.clickleggins();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    await Homepage.captureAndUploadImage('Q','',index,'Wool-jacket_fitting_Leggins_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done4\");  \r\n\r\n               // ******Combo Skirt ****************\r\n    // scroll to list of recommendation\r\n    await myProfile.scrolltoListOfRecommendation();\r\n    //Pick the Floured pant\r\n    await myProfile.clickknitSkirt();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    await Homepage.captureAndUploadImage('R','',index,'Wool-jacket_fitting_KnitSkirt_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done5\");  \r\n\r\n    // scroll to list of recommendation ****Combo****\r\n    await myProfile.scrolltoListOfRecommendation();\r\n    await myProfile.clickbBuzzBag();\r\n    await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n    await browser.pause(10000);  // // To handle the time to combo visible Spinner not displayed \r\n    //Capture screenshot and Upload it\r\n    await Homepage.captureAndUploadImage('A','Z',index,'Wool-jacket_fitting_B-BUZZ-Bag_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done6\");\r\n    \r\n    // scroll to list of recommendation ****Combo****\r\n    await myProfile.scrolltoListOfRecommendation();\r\n    await myProfile.clicksmoothLeatherBags();\r\n    await avatarpage.avatardisplayed();   // To handle the time to combo visible\r\n    await browser.pause(500);  // // To handle the time to combo visible Spinner not displayed \r\n    //Capture screenshot and Upload it\r\n    await Homepage.captureAndUploadImage('B','E',index,'Wool-jacket_fitting_SmoothLeather-Bag_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done7\");\r\n\r\n    // click on myprofile to capture settings\r\n    await myProfile.clickMyprofile();\r\n    await myProfile.scrolltocupsize();\r\n    //Capture screenshot and Upload it\r\n    await Homepage.captureAndUploadImage('M','',index,'Wool-jacket_CUP_front','All_profile_testing - Oct19',user);\r\n    console.log(\"Done8\");\r\n    // click MyInformation link\r\n    await myProfile.clickMyInformation();\r\n    //Click logout button\r\n    await myProfile.clickLogout();\r\n   });\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1628-fitmapBalmain_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"017_bods.1628-fitmapBalmain_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"017_bods.1628-fitmapBalmain_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"017_bods.1628-fitmapBalmain_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,MAAM,GAAGH,OAAO,CAAC,mBAAmB,CAAC;AAC3C,MAAMI,SAAS,GAAGJ,OAAO,CAAC,6BAA6B,CAAC;AACxD,MAAMK,QAAQ,GAAGL,OAAO,CAAC,4BAA4B,CAAC;AAEtDM,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACnC,MAAM;IAAEC,WAAW;IAAEC;EAAQ,CAAC,GAAGL,MAAM,CAACM,IAAI;EAC5C,MAAMC,KAAK,GAAGP,MAAM,CAACO,KAAK;EAC1BC,MAAM,CAAC,YAAY;IACf;IACA,MAAMZ,QAAQ,CAACa,IAAI,CAAC,SAAS,CAAC;IAC9B;IACA,MAAMb,QAAQ,CAACc,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMZ,WAAW,CAACa,yBAAyB,CAAC,CAAC;IAC7C;IACA,MAAMf,QAAQ,CAACc,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMX,UAAU,CAACa,WAAW,CAAC,CAAC;EAClC,CAAC,CAAC;EAEFC,UAAU,CAAC,YAAY;IACnB;IACA,MAAMC,OAAO,CAACC,aAAa,CAAC,CAAC;EACjC,CAAC,CAAC;EAEFR,KAAK,CAACS,OAAO,CAAC,CAACC,IAAI,EAACC,KAAK,KAAK;IAC9BC,EAAE,CAAC,mCAAmC,EAAE,YAAY;MACpD,MAAMC,IAAI,GAAGvB,OAAO,CAACwB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,iBAAiB,CAAC;MACvD,MAAMC,IAAI,GAAG1B,OAAO,CAAC,MAAM,CAAC;;MAE5B;MACA,MAAME,UAAU,CAACyB,cAAc,CAAC,CAAC;MACjC;MACA,MAAMzB,UAAU,CAAC0B,aAAa,CAACR,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACU,QAAQ,CAAC;MAC5DC,OAAO,CAACC,GAAG,CAACZ,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACU,QAAQ,CAAC;MACzCC,OAAO,CAACC,GAAG,CAACX,KAAK,CAAC;MAClB;MACA,MAAMnB,UAAU,CAAC+B,eAAe,CAAC,CAAC;MAClC,MAAMlC,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,2BAA2B,EAAC,6BAA6B,EAACD,IAAI,CAAC;MACjHW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MAEpB,MAAM3B,QAAQ,CAAC8B,kBAAkB,CAAC,CAAC;;MAEnC;MACA,MAAMjC,UAAU,CAACkC,WAAW,CAAC,CAAC;MAC9B,MAAMrC,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,0BAA0B,EAAC,6BAA6B,EAACD,IAAI,CAAC;MAChHW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAEjB;MACH;MACA,MAAM5B,SAAS,CAACiC,4BAA4B,CAAC,CAAC;MAC9C;MACA,MAAMjC,SAAS,CAACkC,mBAAmB,CAAC,CAAC;MACrC;MACA,MAAMpC,UAAU,CAAC+B,eAAe,CAAC,CAAC;MAClC,MAAMlC,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,wCAAwC,EAAC,6BAA6B,EAACD,IAAI,CAAC;MAC9HW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAEjB;MACH;MACA,MAAM5B,SAAS,CAACiC,4BAA4B,CAAC,CAAC;MAC9C;MACA,MAAMjC,SAAS,CAACmC,YAAY,CAAC,CAAC;MAC9B;MACA,MAAMrC,UAAU,CAAC+B,eAAe,CAAC,CAAC;MAClC,MAAMlC,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,mCAAmC,EAAC,6BAA6B,EAACD,IAAI,CAAC;MACzHW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAET;MACX;MACA,MAAM5B,SAAS,CAACiC,4BAA4B,CAAC,CAAC;MAC9C;MACA,MAAMjC,SAAS,CAACoC,cAAc,CAAC,CAAC;MAChC;MACA,MAAMtC,UAAU,CAAC+B,eAAe,CAAC,CAAC;MAClC,MAAMlC,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,qCAAqC,EAAC,6BAA6B,EAACD,IAAI,CAAC;MAC3HW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAEpB;MACA,MAAM5B,SAAS,CAACiC,4BAA4B,CAAC,CAAC;MAC9C,MAAMjC,SAAS,CAACqC,aAAa,CAAC,CAAC;MAC/B,MAAMvC,UAAU,CAAC+B,eAAe,CAAC,CAAC,CAAC,CAAG;MACtC,MAAMhB,OAAO,CAACyB,KAAK,CAAC,KAAK,CAAC,CAAC,CAAE;MAC7B;MACA,MAAM3C,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,GAAG,EAACb,KAAK,EAAC,sCAAsC,EAAC,6BAA6B,EAACD,IAAI,CAAC;MAC7HW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAEpB;MACA,MAAM5B,SAAS,CAACiC,4BAA4B,CAAC,CAAC;MAC9C,MAAMjC,SAAS,CAACuC,sBAAsB,CAAC,CAAC;MACxC,MAAMzC,UAAU,CAAC+B,eAAe,CAAC,CAAC,CAAC,CAAG;MACtC,MAAMhB,OAAO,CAACyB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAE;MAC3B;MACA,MAAM3C,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,GAAG,EAACb,KAAK,EAAC,6CAA6C,EAAC,6BAA6B,EAACD,IAAI,CAAC;MACpIW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;MAEpB;MACA,MAAM5B,SAAS,CAACwC,cAAc,CAAC,CAAC;MAChC,MAAMxC,SAAS,CAACyC,eAAe,CAAC,CAAC;MACjC;MACA,MAAM9C,QAAQ,CAACmC,qBAAqB,CAAC,GAAG,EAAC,EAAE,EAACb,KAAK,EAAC,uBAAuB,EAAC,6BAA6B,EAACD,IAAI,CAAC;MAC7GW,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACpB;MACA,MAAM5B,SAAS,CAAC0C,kBAAkB,CAAC,CAAC;MACpC;MACA,MAAM1C,SAAS,CAAC2C,WAAW,CAAC,CAAC;IAC9B,CAAC,CAAC;EACH,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAzB,EAAE,CAAC,kDAAkD,EAAE,kBAAiB;IACtE,MAAM0B,KAAK,GAAGhD,OAAO,CAACwB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIwB,KAAK,GAAG,MAAMD,KAAK,CAACE,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAMH,KAAK,CAACI,aAAa,CAAC,gCAAgC,CAAC;;IAE3D;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMJ,KAAK,CAACK,UAAU,CAAC,MAAM,EAAE,gCAAgC,CAAC;EAElE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704389483926},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\data\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\data\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const urls = {\n  ralphLauren: 'https://ralphlauren.dev.bods.me/',\n  balmain: 'https://balmain.dev.bods.me/',\n  balmainprod: 'https://balmain.bods.me/'\n};\nconst users = [{\n  username: 'ygtest40@bods.me',\n  password: '123456'\n}, {\n  username: 'caitlin+30@bods.me',\n  password: '123456'\n}, {\n  username: 'chrisdev@bods.me',\n  password: '123456'\n}, {\n  username: 'test001@bods.me',\n  password: '123456'\n}, {\n  username: 'test002@bods.me',\n  password: '123456'\n}, {\n  username: 'test003@bods.me',\n  password: '123456'\n}, {\n  username: 'test004@bods.me',\n  password: '123456'\n}, {\n  username: 'test005@bods.me',\n  password: '123456'\n}, {\n  username: 'test006@bods.me',\n  password: '123456'\n}, {\n  username: 'test007@bods.me',\n  password: '123456'\n}, {\n  username: 'test008@bods.me',\n  password: '123456'\n}, {\n  username: 'test009@bods.me',\n  password: '123456'\n}, {\n  username: 'test010@bods.me',\n  password: '123456'\n}, {\n  username: 'test011@bods.me',\n  password: '123456'\n}, {\n  username: 'test012@bods.me',\n  password: '123456'\n}, {\n  username: 'test013@bods.me',\n  password: '123456'\n}, {\n  username: 'test014@bods.me',\n  password: '123456'\n}, {\n  username: 'test015@bods.me',\n  password: '123456'\n}, {\n  username: 'test016@bods.me',\n  password: '123456'\n}, {\n  username: 'test017@bods.me',\n  password: '123456'\n}, {\n  username: 'test018@bods.me',\n  password: '123456'\n}, {\n  username: 'test019@bods.me',\n  password: '123456'\n}, {\n  username: 'test020@bods.me',\n  password: '123456'\n}, {\n  username: 'test021@bods.me',\n  password: '123456'\n}, {\n  username: 'test022@bods.me',\n  password: '123456'\n}, {\n  username: 'test023@bods.me',\n  password: '123456'\n}, {\n  username: 'test024@bods.me',\n  password: '123456'\n}];\nmodule.exports = {\n  urls: urls,\n  users: users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cmxzIiwicmFscGhMYXVyZW4iLCJiYWxtYWluIiwiYmFsbWFpbnByb2QiLCJ1c2VycyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xcZGF0YVxcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdXJscyA9IHtcclxuICAgIHJhbHBoTGF1cmVuOiAnaHR0cHM6Ly9yYWxwaGxhdXJlbi5kZXYuYm9kcy5tZS8nLFxyXG4gICAgYmFsbWFpbjogJ2h0dHBzOi8vYmFsbWFpbi5kZXYuYm9kcy5tZS8nLFxyXG4gICAgYmFsbWFpbnByb2Q6ICdodHRwczovL2JhbG1haW4uYm9kcy5tZS8nXHJcblxyXG59O1xyXG5cclxuY29uc3QgdXNlcnMgPSBbXHJcbiAgICB7IHVzZXJuYW1lOiAneWd0ZXN0NDBAYm9kcy5tZScsIHBhc3N3b3JkOiAnMTIzNDU2JyB9LFxyXG4gICAgeyB1c2VybmFtZTogJ2NhaXRsaW4rMzBAYm9kcy5tZScsIHBhc3N3b3JkOiAnMTIzNDU2JyB9LFxyXG4gICAgeyB1c2VybmFtZTogJ2NocmlzZGV2QGJvZHMubWUnLCBwYXNzd29yZDogJzEyMzQ1NicgfSwgXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwMUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwMkBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwM0Bib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwNEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sICAgICAgXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwNUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwNkBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwN0Bib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwOEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAwOUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxMEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxMUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxMkBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxM0Bib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxNEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxNUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxNkBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxN0Bib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxOEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAxOUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAyMEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAyMUBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAyMkBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAyM0Bib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbiAgICB7IHVzZXJuYW1lOiAndGVzdDAyNEBib2RzLm1lJywgcGFzc3dvcmQ6ICcxMjM0NTYnIH0sXHJcbl07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHVybHM6IHVybHMgLFxyXG4gICAgdXNlcnM6IHVzZXJzfTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBRztFQUNUQyxXQUFXLEVBQUUsa0NBQWtDO0VBQy9DQyxPQUFPLEVBQUUsOEJBQThCO0VBQ3ZDQyxXQUFXLEVBQUU7QUFFakIsQ0FBQztBQUVELE1BQU1DLEtBQUssR0FBRyxDQUNWO0VBQUVDLFFBQVEsRUFBRSxrQkFBa0I7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNwRDtFQUFFRCxRQUFRLEVBQUUsb0JBQW9CO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDdEQ7RUFBRUQsUUFBUSxFQUFFLGtCQUFrQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ3BEO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLEVBQ25EO0VBQUVELFFBQVEsRUFBRSxpQkFBaUI7RUFBRUMsUUFBUSxFQUFFO0FBQVMsQ0FBQyxFQUNuRDtFQUFFRCxRQUFRLEVBQUUsaUJBQWlCO0VBQUVDLFFBQVEsRUFBRTtBQUFTLENBQUMsRUFDbkQ7RUFBRUQsUUFBUSxFQUFFLGlCQUFpQjtFQUFFQyxRQUFRLEVBQUU7QUFBUyxDQUFDLENBQ3REO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JSLElBQUksRUFBRUEsSUFBSTtFQUNWSSxLQUFLLEVBQUVBO0FBQUssQ0FBQyJ9","map":{"version":3,"names":["urls","ralphLauren","balmain","balmainprod","users","username","password","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\data\\","sources":["config.js"],"sourcesContent":["const urls = {\r\n    ralphLauren: 'https://ralphlauren.dev.bods.me/',\r\n    balmain: 'https://balmain.dev.bods.me/',\r\n    balmainprod: 'https://balmain.bods.me/'\r\n\r\n};\r\n\r\nconst users = [\r\n    { username: 'ygtest40@bods.me', password: '123456' },\r\n    { username: 'caitlin+30@bods.me', password: '123456' },\r\n    { username: 'chrisdev@bods.me', password: '123456' }, \r\n    { username: 'test001@bods.me', password: '123456' },\r\n    { username: 'test002@bods.me', password: '123456' },\r\n    { username: 'test003@bods.me', password: '123456' },\r\n    { username: 'test004@bods.me', password: '123456' },      \r\n    { username: 'test005@bods.me', password: '123456' },\r\n    { username: 'test006@bods.me', password: '123456' },\r\n    { username: 'test007@bods.me', password: '123456' },\r\n    { username: 'test008@bods.me', password: '123456' },\r\n    { username: 'test009@bods.me', password: '123456' },\r\n    { username: 'test010@bods.me', password: '123456' },\r\n    { username: 'test011@bods.me', password: '123456' },\r\n    { username: 'test012@bods.me', password: '123456' },\r\n    { username: 'test013@bods.me', password: '123456' },\r\n    { username: 'test014@bods.me', password: '123456' },\r\n    { username: 'test015@bods.me', password: '123456' },\r\n    { username: 'test016@bods.me', password: '123456' },\r\n    { username: 'test017@bods.me', password: '123456' },\r\n    { username: 'test018@bods.me', password: '123456' },\r\n    { username: 'test019@bods.me', password: '123456' },\r\n    { username: 'test020@bods.me', password: '123456' },\r\n    { username: 'test021@bods.me', password: '123456' },\r\n    { username: 'test022@bods.me', password: '123456' },\r\n    { username: 'test023@bods.me', password: '123456' },\r\n    { username: 'test024@bods.me', password: '123456' },\r\n];\r\n\r\nmodule.exports = {\r\n    urls: urls ,\r\n    users: users};"],"mappings":"AAAA,MAAMA,IAAI,GAAG;EACTC,WAAW,EAAE,kCAAkC;EAC/CC,OAAO,EAAE,8BAA8B;EACvCC,WAAW,EAAE;AAEjB,CAAC;AAED,MAAMC,KAAK,GAAG,CACV;EAAEC,QAAQ,EAAE,kBAAkB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACpD;EAAED,QAAQ,EAAE,oBAAoB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACtD;EAAED,QAAQ,EAAE,kBAAkB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACpD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,EACnD;EAAED,QAAQ,EAAE,iBAAiB;EAAEC,QAAQ,EAAE;AAAS,CAAC,CACtD;AAEDC,MAAM,CAACC,OAAO,GAAG;EACbR,IAAI,EAAEA,IAAI;EACVI,KAAK,EAAEA;AAAK,CAAC"}},"mtime":1704396784064},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\sizepage.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nconst avatarpage = require(\"./avatar_page\");\nconst home_page = require(\"./home_page\");\nconst config = require(\"../data/config\");\nconst myProfile = require(\"./myProfile\");\nclass Sizepage extends Page {\n  // ========= Selectors =========\n  get sizeElement() {\n    return $(\"//select[contains(@class,'input MuiInput-input')]\");\n  }\n  get listofsizeselement() {\n    return $$('//select[contains(@class,\"input MuiInput-input\")]//option');\n  }\n  get element() {\n    return $('//p[@class=\"MuiTypography-root MuiTypography-body1 sc-fnykZs bYTJRc css-1d07ei4\"]');\n  }\n  get nextsizelement() {\n    return $('//select[contains(@class,\"input MuiInput-input\")]//option)[5]');\n  }\n  // ========== Methods ==========\n\n  async clicksizedropdown() {\n    const sizelist = await this.sizeElement;\n    await sizelist.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await sizelist.click();\n  }\n  async clickNextAvailableSize() {\n    const listofsizes = await this.listofsizeselement; // Make sure this is correctly defined\n\n    let availableSizeCount = 0;\n    let selectedIndex = -1;\n    for (let i = 0; i < listofsizes.length; i++) {\n      const listofsize = listofsizes[i];\n      const value = await listofsize.getText();\n      const isEnabled = !(await listofsize.getAttribute('disabled'));\n      if (value.trim() !== '' && isEnabled) {\n        availableSizeCount++;\n        if (selectedIndex === -1) {\n          selectedIndex = i;\n        }\n      }\n    }\n    if (availableSizeCount > 0) {\n      const startIndex = (selectedIndex + 1) % listofsizes.length;\n      let nextIndex = startIndex;\n      do {\n        const nextSizeOption = listofsizes[nextIndex];\n        const isEnabled = !(await nextSizeOption.getAttribute('disabled'));\n        if (isEnabled) {\n          const nextSize = await nextSizeOption.getText();\n          // Here, perform the action to actually select the next size, e.g., click the option\n          await nextSizeOption.click(); // <-- Corrected line\n          await browser.pause(2000);\n          await super.waitForLoadingToDisappear();\n          console.log(`Selected size: ${nextSize}`);\n          break;\n        }\n        nextIndex = (nextIndex + 1) % listofsizes.length;\n      } while (nextIndex !== startIndex);\n    } else {\n      console.log('No available sizes.');\n    }\n  }\n\n  //fit predict Function\n  async processElementAndDropdown() {\n    const element = this.element;\n    const elementText = await element.getText();\n    const sizeMatch = elementText.match(/\\b\\d+\\b/);\n    if (sizeMatch) {\n      const extractedSize = sizeMatch[0];\n      const listofsizes = await this.listofsizeselement; // Assuming this returns an array of elements\n      let availableSizes = [];\n      for (let i = 0; i < listofsizes.length; i++) {\n        const listofsize = listofsizes[i];\n        const isDisabled = await listofsize.getAttribute('disabled');\n        if (!isDisabled) {\n          const value = await listofsize.getText();\n          availableSizes.push(value);\n        }\n      }\n      const formattedAvailableSizes = availableSizes.map(size => size.trim()).filter(size => size !== extractedSize).join('/');\n      const result = `${extractedSize}(${formattedAvailableSizes})`;\n      return result;\n    } else {\n      return 'NA'; // Return 'NA' as a string when there is no size match\n    }\n  }\n\n  async selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'Wool_Jacket', sizeText);\n        console.log(\"Done2\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        // await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('L', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done3\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_Wool-Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done4\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('S', '', index, '_Wool-Jacket_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Wool_Jacket', user);\n        console.log(\"Done9\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('T', '', index, '_Wool-Jacket_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Wool_Jacket', user);\n        console.log(\"Done10\");\n        await avatarpage.clickrecenter();\n        await myProfile.clickMyprofile();\n        await myProfile.selectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async getsizeElementByText(sizeText) {\n    const sizeElements = await this.listofsizeselement;\n    for (let i = 0; i < sizeElements.length; i++) {\n      const sizeElement = sizeElements[i];\n      const text = await sizeElement.getText();\n      if (text === sizeText) {\n        return sizeElement;\n      }\n    }\n    throw new Error(`Size element with text \"${sizeText}\" not found.`);\n  }\n  async sportsBra_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        if (sizeText < '36') {\n          await avatarpage.avatardisplayed();\n          await home_page.insertTextGS('K', '', index, 'Sports_Bra', sizeText);\n          console.log(\"Done2\");\n          await myProfile.clickMyprofile();\n          const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n          /// await myProfile.clickresetSetting();\n          await myProfile.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          await home_page.captureAndUploadImage('L', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Sports_Bra', user);\n          console.log(\"Done3\");\n          await avatarpage.backview();\n          await browser.pause(10000);\n          await home_page.captureAndUploadImage('M', '', index, '_Sports_Bra_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Sports_Bra', user);\n          console.log(\"Done4\");\n          await avatarpage.clickrecenter();\n          await avatarpage.clickfitmap();\n          await home_page.captureAndUploadImage('T', '', index, '_Sports_Bra_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Sports_Bra', user);\n          console.log(\"Done9\");\n          await avatarpage.backview();\n          await browser.pause(10000);\n          await home_page.captureAndUploadImage('U', '', index, '_Sports_Bra_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Sports_Bra', user);\n          console.log(\"Done10\");\n          await myProfile.clickMyprofile();\n          await myProfile.sportsBra_selectCup(index, user, sizeText);\n        }\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async knitDress_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'Knit_Dress', sizeText);\n        console.log(\"Done4\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('N', '', index, '_Knit_Dress_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Dress', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('O', '', index, '_Knit_Dress_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Dress', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('T', '', index, '_Knit_Dress_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Dress', user);\n        console.log(\"Done4\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('U', '', index, '_Knit_Dress_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Dress', user);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        await myProfile.Knit_Dress_selectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async bikerJacketselectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        if (sizeText === '38') {\n          await home_page.insertTextGS('K', '', index, 'Biker_Jacket', sizeText);\n          console.log(\"Done2\");\n          await myProfile.clickMyprofile();\n          const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n          /// await myProfile.clickresetSetting();\n          await myProfile.clickApplyButton();\n          await avatarpage.avatardisplayed();\n          await home_page.captureAndUploadImage('L', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Biker_Jacket', user);\n          console.log(\"Done4\");\n          await avatarpage.backview();\n          await browser.pause(10000);\n          await home_page.captureAndUploadImage('M', '', index, '_Biker_Jacket_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Biker_Jacket', user);\n          console.log(\"Done5\");\n          await avatarpage.clickrecenter();\n          await avatarpage.clickfitmap();\n          await home_page.captureAndUploadImage('N', '', index, '_Biker_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Biker_Jacket', user);\n          console.log(\"Done6\");\n          await avatarpage.backview();\n          await browser.pause(10000);\n          await home_page.captureAndUploadImage('M', '', index, '_Biker_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Biker_Jacket', user);\n          console.log(\"Done7\");\n          await avatarpage.clickrecenter();\n          await myProfile.clickMyprofile();\n          await myProfile.bikerJacketselectCup(index, user, sizeText);\n        }\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async knitskirtselectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'Knit_Skirt', sizeText);\n        console.log(\"Done4\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        /// await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('L', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Skirt', user);\n        console.log(\"Done5\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_Knit_Skirt_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Skirt', user);\n        console.log(\"Done6\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('P', '', index, '_Knit_Skirt_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Knit_Skirt', user);\n        console.log(\"Done7\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Q', '', index, '_Knit_Skirt_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Knit_Skirt', user);\n        console.log(\"Done8\");\n        await avatarpage.clickrecenter();\n        await myProfile.clickMyprofile();\n        await myProfile.knitskirtselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async LeggingsselectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'Leggings', sizeText);\n        console.log(\"Done4\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        /// await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('L', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Leggings', user);\n        console.log(\"Done5\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_Leggings_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Leggings', user);\n        console.log(\"Done6\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('P', '', index, '_Leggings_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Leggings', user);\n        console.log(\"Done7\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Q', '', index, '_Leggings_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Leggings', user);\n        console.log(\"Done8\");\n        await avatarpage.clickrecenter();\n        await myProfile.clickMyprofile();\n        await myProfile.LeggingsselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async flareTrousersselectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('K', '', index, 'Flare_Trousers', sizeText);\n        console.log(\"Done4\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('L', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '', '_front_', 'Flare_Trousers', user);\n        console.log(\"Done5\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('M', '', index, '_Flare_Trousers_fitting_', sizeText, cupText, '_default_', '', '_back_', 'Flare_Trousers', user);\n        console.log(\"Done6\");\n        await avatarpage.clickrecenter();\n        await browser.pause(1000);\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('P', '', index, '_Flare_Trousers_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'Flare_Trousers', user);\n        console.log(\"Done7\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('Q', '', index, '_Flare_Trousers_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'Flare_Trousers', user);\n        console.log(\"Done8\");\n        await avatarpage.clickrecenter();\n        await myProfile.clickMyprofile();\n        await myProfile.flareTrousersselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n\n  //RL\n  async camdenWoolCrepeJacketpolo_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_camden_Wool_Crepe_Jacket_polo_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_camden_Wool_Crepe_Jacket_polo_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_camden_Wool_Crepe_Jacket_polo__fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_camden_Wool_Crepe_Jacket_polo__fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.camdenWoolCrepeJacketselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async cotton_Broad_clothDress__selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_cotton_Broad_clothDress_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_cotton_Broad_clothDress_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_cotton_Broad_clothDress__fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_cotton_Broad_clothDress__fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.cottonBroadclothDressselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async classicfitmesh_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_polo_Shirt_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_polo_Shirt_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_polo_Shirt__fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_polo_Shirt_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.classicfitmapselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async getsizeElementByText(sizeText) {\n    const sizeElements = await this.listofsizeselement;\n    for (let i = 0; i < sizeElements.length; i++) {\n      const sizeElement = sizeElements[i];\n      const text = await sizeElement.getText();\n      if (text === sizeText) {\n        return sizeElement;\n      }\n    }\n    throw new Error(`Size element with text \"${sizeText}\" not found.`);\n  }\n  async cottoncrewnecktee_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_Cropped_Quilted_Jacket_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_Cropped_Quilted_Jacket_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_Cropped_Quilted_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_Cropped_Quilted_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.cottoncrowneckselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async croppedQuiltedJacket_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_Cropped_Quilted_Jacket_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_Cropped_Quilted_Jacket_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_Cropped_Quilted_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_Cropped_Quilted_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.croppedquiltedselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async packableJacket_selectSize(index, user) {\n    let sizeElement;\n    try {\n      const sizeElements = await this.listofsizeselement;\n      console.log(`Number of size elements: ${sizeElements.length}`);\n\n      // Store non-disabled size elements in an array\n      const nonDisabledSizes = [];\n      for (let i = 0; i < sizeElements.length; i++) {\n        sizeElement = sizeElements[i];\n        const isDisabled = await sizeElement.getAttribute('disabled');\n        if (!isDisabled) {\n          const sizeText = await sizeElement.getText();\n          nonDisabledSizes.push(sizeText);\n        }\n      }\n\n      // Iterate through non-disabled size elements and perform operations\n      //for (const sizeText of nonDisabledSizes) \n      for (let i = 0; i < nonDisabledSizes.length; i++) {\n        const sizeText = nonDisabledSizes[i];\n        const sizeElement = await this.getsizeElementByText(sizeText);\n        const isClickable = await sizeElement.isEnabled();\n        if (isClickable) {\n          await sizeElement.click();\n        }\n        console.log(`Clicked Size: ${sizeText}`);\n        await avatarpage.avatardisplayed();\n        await home_page.insertTextGS('F', '', index, 'RL', sizeText);\n        console.log(\"Done5\");\n        await myProfile.clickMyprofile();\n        const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n        await myProfile.clickresetSetting();\n        await myProfile.clickApplyButton();\n        await avatarpage.avatardisplayed();\n        await home_page.captureAndUploadImage('G', '', index, '_The_packable_Jacket_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done6\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('H', '', index, '_The_packable_Jacket_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done7\");\n        await avatarpage.clickrecenter();\n        await avatarpage.clickfitmap();\n        await home_page.captureAndUploadImage('I', '', index, '_The_packable_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n        console.log(\"Done8\");\n        await avatarpage.backview();\n        await browser.pause(10000);\n        await home_page.captureAndUploadImage('J', '', index, '_The_packable_Jacket_fitmap_', sizeText, cupText, '_default_', '', '_back_', 'RL', user);\n        console.log(\"Done9\");\n        await myProfile.clickMyprofile();\n        await myProfile.packableJacketselectCup(index, user, sizeText);\n      }\n      index++; // Increment index for each size element\n    } catch (error) {\n      console.error(`Error occurred: ${error.message}`);\n      throw error;\n    }\n    return index;\n  }\n  async getsizeElementByText(sizeText) {\n    const sizeElements = await this.listofsizeselement;\n    for (let i = 0; i < sizeElements.length; i++) {\n      const sizeElement = sizeElements[i];\n      const text = await sizeElement.getText();\n      if (text === sizeText) {\n        return sizeElement;\n      }\n    }\n    throw new Error(`Size element with text \"${sizeText}\" not found.`);\n  }\n}\nmodule.exports = new Sizepage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsImF2YXRhcnBhZ2UiLCJob21lX3BhZ2UiLCJjb25maWciLCJteVByb2ZpbGUiLCJTaXplcGFnZSIsInNpemVFbGVtZW50IiwiJCIsImxpc3RvZnNpemVzZWxlbWVudCIsIiQkIiwiZWxlbWVudCIsIm5leHRzaXplbGVtZW50IiwiY2xpY2tzaXplZHJvcGRvd24iLCJzaXplbGlzdCIsIndhaXRGb3JEaXNwbGF5ZWQiLCJ0aW1lb3V0IiwiYnJvd3NlciIsInBhdXNlIiwiY2xpY2siLCJjbGlja05leHRBdmFpbGFibGVTaXplIiwibGlzdG9mc2l6ZXMiLCJhdmFpbGFibGVTaXplQ291bnQiLCJzZWxlY3RlZEluZGV4IiwiaSIsImxlbmd0aCIsImxpc3RvZnNpemUiLCJ2YWx1ZSIsImdldFRleHQiLCJpc0VuYWJsZWQiLCJnZXRBdHRyaWJ1dGUiLCJ0cmltIiwic3RhcnRJbmRleCIsIm5leHRJbmRleCIsIm5leHRTaXplT3B0aW9uIiwibmV4dFNpemUiLCJ3YWl0Rm9yTG9hZGluZ1RvRGlzYXBwZWFyIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3NFbGVtZW50QW5kRHJvcGRvd24iLCJlbGVtZW50VGV4dCIsInNpemVNYXRjaCIsIm1hdGNoIiwiZXh0cmFjdGVkU2l6ZSIsImF2YWlsYWJsZVNpemVzIiwiaXNEaXNhYmxlZCIsInB1c2giLCJmb3JtYXR0ZWRBdmFpbGFibGVTaXplcyIsIm1hcCIsInNpemUiLCJmaWx0ZXIiLCJqb2luIiwicmVzdWx0Iiwic2VsZWN0U2l6ZSIsImluZGV4IiwidXNlciIsInNpemVFbGVtZW50cyIsIm5vbkRpc2FibGVkU2l6ZXMiLCJzaXplVGV4dCIsImdldHNpemVFbGVtZW50QnlUZXh0IiwiaXNDbGlja2FibGUiLCJhdmF0YXJkaXNwbGF5ZWQiLCJpbnNlcnRUZXh0R1MiLCJjbGlja015cHJvZmlsZSIsImN1cFRleHQiLCJnZXRWYWx1ZSIsImNsaWNrQXBwbHlCdXR0b24iLCJjYXB0dXJlQW5kVXBsb2FkSW1hZ2UiLCJiYWNrdmlldyIsImNsaWNrcmVjZW50ZXIiLCJjbGlja2ZpdG1hcCIsInNlbGVjdEN1cCIsImVycm9yIiwibWVzc2FnZSIsInRleHQiLCJFcnJvciIsInNwb3J0c0JyYV9zZWxlY3RTaXplIiwic3BvcnRzQnJhX3NlbGVjdEN1cCIsImtuaXREcmVzc19zZWxlY3RTaXplIiwiY2xpY2tyZXNldFNldHRpbmciLCJLbml0X0RyZXNzX3NlbGVjdEN1cCIsImJpa2VySmFja2V0c2VsZWN0U2l6ZSIsImJpa2VySmFja2V0c2VsZWN0Q3VwIiwia25pdHNraXJ0c2VsZWN0U2l6ZSIsImtuaXRza2lydHNlbGVjdEN1cCIsIkxlZ2dpbmdzc2VsZWN0U2l6ZSIsIkxlZ2dpbmdzc2VsZWN0Q3VwIiwiZmxhcmVUcm91c2Vyc3NlbGVjdFNpemUiLCJmbGFyZVRyb3VzZXJzc2VsZWN0Q3VwIiwiY2FtZGVuV29vbENyZXBlSmFja2V0cG9sb19zZWxlY3RTaXplIiwiY2FtZGVuV29vbENyZXBlSmFja2V0c2VsZWN0Q3VwIiwiY290dG9uX0Jyb2FkX2Nsb3RoRHJlc3NfX3NlbGVjdFNpemUiLCJjb3R0b25Ccm9hZGNsb3RoRHJlc3NzZWxlY3RDdXAiLCJjbGFzc2ljZml0bWVzaF9zZWxlY3RTaXplIiwiY2xhc3NpY2ZpdG1hcHNlbGVjdEN1cCIsImNvdHRvbmNyZXduZWNrdGVlX3NlbGVjdFNpemUiLCJjb3R0b25jcm93bmVja3NlbGVjdEN1cCIsImNyb3BwZWRRdWlsdGVkSmFja2V0X3NlbGVjdFNpemUiLCJjcm9wcGVkcXVpbHRlZHNlbGVjdEN1cCIsInBhY2thYmxlSmFja2V0X3NlbGVjdFNpemUiLCJwYWNrYWJsZUphY2tldHNlbGVjdEN1cCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXHRlc3RcXHNwZWNzXFxib2RzLXVzXFxib2RzXFxwYWdlb2JqZWN0c1xcIiwic291cmNlcyI6WyJzaXplcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQYWdlID0gcmVxdWlyZShcIi4vcGFnZVwiKTtcclxuY29uc3QgYXZhdGFycGFnZSA9IHJlcXVpcmUoXCIuL2F2YXRhcl9wYWdlXCIpO1xyXG5jb25zdCBob21lX3BhZ2UgPSByZXF1aXJlKFwiLi9ob21lX3BhZ2VcIik7XHJcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCIuLi9kYXRhL2NvbmZpZ1wiKTtcclxuY29uc3QgbXlQcm9maWxlID0gcmVxdWlyZShcIi4vbXlQcm9maWxlXCIpO1xyXG5cclxuY2xhc3MgU2l6ZXBhZ2UgZXh0ZW5kcyBQYWdlIHtcclxuICAgIC8vID09PT09PT09PSBTZWxlY3RvcnMgPT09PT09PT09XHJcbiAgICBnZXQgc2l6ZUVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vc2VsZWN0W2NvbnRhaW5zKEBjbGFzcywnaW5wdXQgTXVpSW5wdXQtaW5wdXQnKV1cIik7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIGdldCBsaXN0b2ZzaXplc2VsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCQoJy8vc2VsZWN0W2NvbnRhaW5zKEBjbGFzcyxcImlucHV0IE11aUlucHV0LWlucHV0XCIpXS8vb3B0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vcFtAY2xhc3M9XCJNdWlUeXBvZ3JhcGh5LXJvb3QgTXVpVHlwb2dyYXBoeS1ib2R5MSBzYy1mbnlrWnMgYllUSlJjIGNzcy0xZDA3ZWk0XCJdJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBuZXh0c2l6ZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcvL3NlbGVjdFtjb250YWlucyhAY2xhc3MsXCJpbnB1dCBNdWlJbnB1dC1pbnB1dFwiKV0vL29wdGlvbilbNV0nKTtcclxuICAgIH1cclxuICAgIC8vID09PT09PT09PT0gTWV0aG9kcyA9PT09PT09PT09XHJcblxyXG4gICAgYXN5bmMgY2xpY2tzaXplZHJvcGRvd24oKSB7XHJcbiAgICAgICAgY29uc3Qgc2l6ZWxpc3QgPSBhd2FpdCB0aGlzLnNpemVFbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IHNpemVsaXN0LndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiA1MDAwIH0pOyAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7IFxyXG4gICAgICAgIGF3YWl0IHNpemVsaXN0LmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tOZXh0QXZhaWxhYmxlU2l6ZSgpIHtcclxuICAgICAgICBjb25zdCBsaXN0b2ZzaXplcyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50OyAvLyBNYWtlIHN1cmUgdGhpcyBpcyBjb3JyZWN0bHkgZGVmaW5lZFxyXG4gICAgXHJcbiAgICAgICAgbGV0IGF2YWlsYWJsZVNpemVDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdG9mc2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdG9mc2l6ZSA9IGxpc3RvZnNpemVzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGxpc3RvZnNpemUuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSAhKGF3YWl0IGxpc3RvZnNpemUuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodmFsdWUudHJpbSgpICE9PSAnJyAmJiBpc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVDb3VudCsrO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChhdmFpbGFibGVTaXplQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoc2VsZWN0ZWRJbmRleCArIDEpICUgbGlzdG9mc2l6ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgbmV4dEluZGV4ID0gc3RhcnRJbmRleDtcclxuICAgIFxyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0U2l6ZU9wdGlvbiA9IGxpc3RvZnNpemVzW25leHRJbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSAhKGF3YWl0IG5leHRTaXplT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0U2l6ZSA9IGF3YWl0IG5leHRTaXplT3B0aW9uLmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIZXJlLCBwZXJmb3JtIHRoZSBhY3Rpb24gdG8gYWN0dWFsbHkgc2VsZWN0IHRoZSBuZXh0IHNpemUsIGUuZy4sIGNsaWNrIHRoZSBvcHRpb25cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXh0U2l6ZU9wdGlvbi5jbGljaygpOyAvLyA8LS0gQ29ycmVjdGVkIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDIwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN1cGVyLndhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VsZWN0ZWQgc2l6ZTogJHtuZXh0U2l6ZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gKG5leHRJbmRleCArIDEpICUgbGlzdG9mc2l6ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChuZXh0SW5kZXggIT09IHN0YXJ0SW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBhdmFpbGFibGUgc2l6ZXMuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy9maXQgcHJlZGljdCBGdW5jdGlvblxyXG4gICAgYXN5bmMgcHJvY2Vzc0VsZW1lbnRBbmREcm9wZG93bigpe1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudFRleHQgPSBhd2FpdCBlbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICBjb25zdCBzaXplTWF0Y2ggPSBlbGVtZW50VGV4dC5tYXRjaCgvXFxiXFxkK1xcYi8pO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKHNpemVNYXRjaCkge1xyXG4gICAgICAgICAgICBjb25zdCBleHRyYWN0ZWRTaXplID0gc2l6ZU1hdGNoWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0b2ZzaXplcyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50OyAvLyBBc3N1bWluZyB0aGlzIHJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHNcclxuICAgICAgICAgICAgbGV0IGF2YWlsYWJsZVNpemVzID0gW107XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0b2ZzaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdG9mc2l6ZSA9IGxpc3RvZnNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IGxpc3RvZnNpemUuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGxpc3RvZnNpemUuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNpemVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkQXZhaWxhYmxlU2l6ZXMgPSBhdmFpbGFibGVTaXplc1xyXG4gICAgICAgICAgICAgICAgLm1hcChzaXplID0+IHNpemUudHJpbSgpKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihzaXplID0+IHNpemUgIT09IGV4dHJhY3RlZFNpemUpXHJcbiAgICAgICAgICAgICAgICAuam9pbignLycpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGAke2V4dHJhY3RlZFNpemV9KCR7Zm9ybWF0dGVkQXZhaWxhYmxlU2l6ZXN9KWA7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICdOQSc7IC8vIFJldHVybiAnTkEnIGFzIGEgc3RyaW5nIHdoZW4gdGhlcmUgaXMgbm8gc2l6ZSBtYXRjaFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgc2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdXb29sX0phY2tldCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTJcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgLy8gYXdhaXQgbXlQcm9maWxlLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0wnLCAnJywgaW5kZXgsICdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCAnV29vbF9KYWNrZXQnLCB1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTNcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tmaXRtYXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1MnLCcnLGluZGV4LCdfV29vbC1KYWNrZXRfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdUJywnJyxpbmRleCwnX1dvb2wtSmFja2V0X2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1dvb2xfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTEwXCIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuc2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIEluY3JlbWVudCBpbmRleCBmb3IgZWFjaCBzaXplIGVsZW1lbnRcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfSBcclxuXHJcbiAgICBhc3luYyBnZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gc2l6ZUVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICBpZiAodGV4dCA9PT0gc2l6ZVRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplRWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNpemUgZWxlbWVudCB3aXRoIHRleHQgXCIke3NpemVUZXh0fVwiIG5vdCBmb3VuZC5gKTtcclxuICAgIH0gXHJcblxyXG4gICAgYXN5bmMgc3BvcnRzQnJhX3NlbGVjdFNpemUoaW5kZXgsdXNlcikge1xyXG4gICAgICAgIGxldCBzaXplRWxlbWVudDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE51bWJlciBvZiBzaXplIGVsZW1lbnRzOiAke3NpemVFbGVtZW50cy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU3RvcmUgbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgaW4gYW4gYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgbm9uRGlzYWJsZWRTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBub25EaXNhYmxlZFNpemVzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IHNpemVUZXh0IG9mIG5vbkRpc2FibGVkU2l6ZXMpIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vbkRpc2FibGVkU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gbm9uRGlzYWJsZWRTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNpemVFbGVtZW50LmlzRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXplRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChzaXplVGV4dCA8ICczNicpe1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdTcG9ydHNfQnJhJywgc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lMlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGJyb3dzZXIuJCgnLk11aU5hdGl2ZVNlbGVjdC1zZWxlY3QnKS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAvLy8gYXdhaXQgbXlQcm9maWxlLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0wnLCAnJywgaW5kZXgsICdfU3BvcnRzX0JyYV9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdTcG9ydHNfQnJhJywgdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUzXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdNJywnJyxpbmRleCwnX1Nwb3J0c19CcmFfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1Nwb3J0c19CcmEnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNFwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19TcG9ydHNfQnJhX2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdTcG9ydHNfQnJhJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX1Nwb3J0c19CcmFfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnU3BvcnRzX0JyYScsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUxMFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5zcG9ydHNCcmFfc2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgaW5kZXggZm9yIGVhY2ggc2l6ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH0gXHJcblxyXG4gICAgYXN5bmMga25pdERyZXNzX3NlbGVjdFNpemUoaW5kZXgsdXNlcikge1xyXG4gICAgICAgIGxldCBzaXplRWxlbWVudDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE51bWJlciBvZiBzaXplIGVsZW1lbnRzOiAke3NpemVFbGVtZW50cy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU3RvcmUgbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgaW4gYW4gYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgbm9uRGlzYWJsZWRTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBub25EaXNhYmxlZFNpemVzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IHNpemVUZXh0IG9mIG5vbkRpc2FibGVkU2l6ZXMpIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vbkRpc2FibGVkU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gbm9uRGlzYWJsZWRTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNpemVFbGVtZW50LmlzRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXplRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdLJywgJycsIGluZGV4LCAnS25pdF9EcmVzcycsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdOJywgJycsIGluZGV4LCAnX0tuaXRfRHJlc3NfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCAnS25pdF9EcmVzcycsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTycsJycsaW5kZXgsJ19Lbml0X0RyZXNzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdLbml0X0RyZXNzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnVCcsJycsaW5kZXgsJ19Lbml0X0RyZXNzX2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdLbml0X0RyZXNzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdVJywnJyxpbmRleCwnX0tuaXRfRHJlc3NfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnS25pdF9EcmVzcycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU1XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLktuaXRfRHJlc3Nfc2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7ICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gSW5jcmVtZW50IGluZGV4IGZvciBlYWNoIHNpemUgZWxlbWVudFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfSBcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9IFxyXG5cclxuICAgIGFzeW5jIGJpa2VySmFja2V0c2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzaXplVGV4dCA9PT0gJzM4Jykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmluc2VydFRleHRHUygnSycsICcnLCBpbmRleCwgJ0Jpa2VyX0phY2tldCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTJcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgLy8vIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdMJywgJycsIGluZGV4LCAnX0Jpa2VyX0phY2tldF9maXR0aW5nXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdCaWtlcl9KYWNrZXQnLCB1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdfQmlrZXJfSmFja2V0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdCaWtlcl9KYWNrZXQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTicsJycsaW5kZXgsJ19CaWtlcl9KYWNrZXRfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ0Jpa2VyX0phY2tldCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU2XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTScsJycsaW5kZXgsJ19CaWtlcl9KYWNrZXRfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnQmlrZXJfSmFja2V0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTdcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7ICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmJpa2VySmFja2V0c2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gSW5jcmVtZW50IGluZGV4IGZvciBlYWNoIHNpemUgZWxlbWVudFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfSBcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9IFxyXG5cclxuICAgIGFzeW5jIGtuaXRza2lydHNlbGVjdFNpemUoaW5kZXgsdXNlcikge1xyXG4gICAgICAgIGxldCBzaXplRWxlbWVudDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE51bWJlciBvZiBzaXplIGVsZW1lbnRzOiAke3NpemVFbGVtZW50cy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU3RvcmUgbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgaW4gYW4gYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgbm9uRGlzYWJsZWRTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBub25EaXNhYmxlZFNpemVzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IHNpemVUZXh0IG9mIG5vbkRpc2FibGVkU2l6ZXMpIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vbkRpc2FibGVkU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gbm9uRGlzYWJsZWRTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNpemVFbGVtZW50LmlzRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXplRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdLJywgJycsIGluZGV4LCAnS25pdF9Ta2lydCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgLy8vIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdMJywgJycsIGluZGV4LCAnX0tuaXRfU2tpcnRfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCAnS25pdF9Ta2lydCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnTScsJycsaW5kZXgsJ19Lbml0X1NraXJ0X2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdLbml0X1NraXJ0Jyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTZcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tmaXRtYXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ1AnLCcnLGluZGV4LCdfS25pdF9Ta2lydF9maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnS25pdF9Ta2lydCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU3XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUScsJycsaW5kZXgsJ19Lbml0X1NraXJ0X2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ0tuaXRfU2tpcnQnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmtuaXRza2lydHNlbGVjdEN1cChpbmRleCwgdXNlciwgc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgaW5kZXggZm9yIGVhY2ggc2l6ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH0gXHJcblxyXG4gICAgYXN5bmMgTGVnZ2luZ3NzZWxlY3RTaXplKGluZGV4LHVzZXIpIHtcclxuICAgICAgICBsZXQgc2l6ZUVsZW1lbnQ7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5saXN0b2ZzaXplc2VsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOdW1iZXIgb2Ygc2l6ZSBlbGVtZW50czogJHtzaXplRWxlbWVudHMubGVuZ3RofWApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGluIGFuIGFycmF5XHJcbiAgICAgICAgICAgIGNvbnN0IG5vbkRpc2FibGVkU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNpemVFbGVtZW50ID0gc2l6ZUVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IHNpemVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9uRGlzYWJsZWRTaXplcy5wdXNoKHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0snLCAnJywgaW5kZXgsICdMZWdnaW5ncycsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgLy8vIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdMJywgJycsIGluZGV4LCAnX0xlZ2dpbmdzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywgJ0xlZ2dpbmdzJywgdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdNJywnJyxpbmRleCwnX0xlZ2dpbmdzX2ZpdHRpbmdfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdMZWdnaW5ncycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU2XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrZml0bWFwKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdQJywnJyxpbmRleCwnX0xlZ2dpbmdzX2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdMZWdnaW5ncycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU3XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUScsJycsaW5kZXgsJ19MZWdnaW5nc19maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdMZWdnaW5ncycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU4XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLkxlZ2dpbmdzc2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIEluY3JlbWVudCBpbmRleCBmb3IgZWFjaCBzaXplIGVsZW1lbnRcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfSBcclxuXHJcbiAgICBhc3luYyBmbGFyZVRyb3VzZXJzc2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub25EaXNhYmxlZFNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IG5vbkRpc2FibGVkU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudCA9IGF3YWl0IHRoaXMuZ2V0c2l6ZUVsZW1lbnRCeVRleHQoc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBzaXplRWxlbWVudC5pc0VuYWJsZWQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0NsaWNrYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2l6ZUVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIFNpemU6ICR7c2l6ZVRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmluc2VydFRleHRHUygnSycsICcnLCBpbmRleCwgJ0ZsYXJlX1Ryb3VzZXJzJywgc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNFwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGJyb3dzZXIuJCgnLk11aU5hdGl2ZVNlbGVjdC1zZWxlY3QnKS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0wnLCAnJywgaW5kZXgsICdfRmxhcmVfVHJvdXNlcnNfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCAnRmxhcmVfVHJvdXNlcnMnLCB1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ00nLCcnLGluZGV4LCdfRmxhcmVfVHJvdXNlcnNfZml0dGluZ18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ0ZsYXJlX1Ryb3VzZXJzJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTZcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrZml0bWFwKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdQJywnJyxpbmRleCwnX0ZsYXJlX1Ryb3VzZXJzX2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdGbGFyZV9Ucm91c2VycycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU3XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnUScsJycsaW5kZXgsJ19GbGFyZV9Ucm91c2Vyc19maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdGbGFyZV9Ucm91c2VycycsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU4XCIpOyAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmZsYXJlVHJvdXNlcnNzZWxlY3RDdXAoaW5kZXgsIHVzZXIsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gSW5jcmVtZW50IGluZGV4IGZvciBlYWNoIHNpemUgZWxlbWVudFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfSBcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9IFxyXG5cclxuICAgIC8vUkxcclxuICAgIGFzeW5jIGNhbWRlbldvb2xDcmVwZUphY2tldHBvbG9fc2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0YnLCAnJywgaW5kZXgsICdSTCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdHJywgJycsIGluZGV4LCAnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdSTCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSCcsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSScsJycsaW5kZXgsJ19jYW1kZW5fV29vbF9DcmVwZV9KYWNrZXRfcG9sb19fZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZThcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdKJywnJyxpbmRleCwnX2NhbWRlbl9Xb29sX0NyZXBlX0phY2tldF9wb2xvX19maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU5XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNhbWRlbldvb2xDcmVwZUphY2tldHNlbGVjdEN1cChpbmRleCwgdXNlciwgc2l6ZVRleHQpOyAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgaW5kZXggZm9yIGVhY2ggc2l6ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjb3R0b25fQnJvYWRfY2xvdGhEcmVzc19fc2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0YnLCAnJywgaW5kZXgsICdSTCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdHJywgJycsIGluZGV4LCAnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdSTCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSCcsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc18nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSScsJycsaW5kZXgsJ19jb3R0b25fQnJvYWRfY2xvdGhEcmVzc19fZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZThcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdKJywnJyxpbmRleCwnX2NvdHRvbl9Ccm9hZF9jbG90aERyZXNzX19maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU5XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNvdHRvbkJyb2FkY2xvdGhEcmVzc3NlbGVjdEN1cChpbmRleCwgdXNlciwgc2l6ZVRleHQpOyAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIEluY3JlbWVudCBpbmRleCBmb3IgZWFjaCBzaXplIGVsZW1lbnRcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsYXNzaWNmaXRtZXNoX3NlbGVjdFNpemUoaW5kZXgsdXNlcikge1xyXG4gICAgICAgIGxldCBzaXplRWxlbWVudDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE51bWJlciBvZiBzaXplIGVsZW1lbnRzOiAke3NpemVFbGVtZW50cy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU3RvcmUgbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgaW4gYW4gYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgbm9uRGlzYWJsZWRTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBub25EaXNhYmxlZFNpemVzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IHNpemVUZXh0IG9mIG5vbkRpc2FibGVkU2l6ZXMpIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vbkRpc2FibGVkU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gbm9uRGlzYWJsZWRTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNpemVFbGVtZW50LmlzRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXplRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdGJywgJycsIGluZGV4LCAnUkwnLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgYnJvd3Nlci4kKCcuTXVpTmF0aXZlU2VsZWN0LXNlbGVjdCcpLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnRycsICcnLCBpbmRleCwgJ19wb2xvX1NoaXJ0Xycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdSTCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSCcsJycsaW5kZXgsJ19wb2xvX1NoaXJ0Xycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lN1wiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpOyAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrZml0bWFwKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdJJywnJyxpbmRleCwnX3BvbG9fU2hpcnRfX2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSicsJycsaW5kZXgsJ19wb2xvX1NoaXJ0X2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xhc3NpY2ZpdG1hcHNlbGVjdEN1cChpbmRleCwgdXNlciwgc2l6ZVRleHQpOyAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgaW5kZXggZm9yIGVhY2ggc2l6ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgZ2V0c2l6ZUVsZW1lbnRCeVRleHQoc2l6ZVRleHQpIHtcclxuICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgaWYgKHRleHQgPT09IHNpemVUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTaXplIGVsZW1lbnQgd2l0aCB0ZXh0IFwiJHtzaXplVGV4dH1cIiBub3QgZm91bmQuYCk7XHJcbiAgICB9IFxyXG5cclxuICAgIGFzeW5jIGNvdHRvbmNyZXduZWNrdGVlX3NlbGVjdFNpemUoaW5kZXgsdXNlcikge1xyXG4gICAgICAgIGxldCBzaXplRWxlbWVudDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudHMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE51bWJlciBvZiBzaXplIGVsZW1lbnRzOiAke3NpemVFbGVtZW50cy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU3RvcmUgbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgaW4gYW4gYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgbm9uRGlzYWJsZWRTaXplcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IHNpemVFbGVtZW50LmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBub25EaXNhYmxlZFNpemVzLnB1c2goc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgLy9mb3IgKGNvbnN0IHNpemVUZXh0IG9mIG5vbkRpc2FibGVkU2l6ZXMpIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vbkRpc2FibGVkU2l6ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gbm9uRGlzYWJsZWRTaXplc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRzaXplRWxlbWVudEJ5VGV4dChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsaWNrYWJsZSA9IGF3YWl0IHNpemVFbGVtZW50LmlzRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXplRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgU2l6ZTogJHtzaXplVGV4dH1gKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuaW5zZXJ0VGV4dEdTKCdGJywgJycsIGluZGV4LCAnUkwnLCBzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU1XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBUZXh0ID0gYXdhaXQgYnJvd3Nlci4kKCcuTXVpTmF0aXZlU2VsZWN0LXNlbGVjdCcpLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja0FwcGx5QnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnRycsICcnLCBpbmRleCwgJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0Xycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsICdSTCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNlwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSCcsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0Xycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lN1wiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tyZWNlbnRlcigpOyAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrZml0bWFwKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdJJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2Zyb250XycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZThcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdKJywnJyxpbmRleCwnX0Nyb3BwZWRfUXVpbHRlZF9KYWNrZXRfZml0bWFwXycsc2l6ZVRleHQsY3VwVGV4dCwnX2RlZmF1bHRfJywnJywnX2JhY2tfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOVwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jb3R0b25jcm93bmVja3NlbGVjdEN1cChpbmRleCwgdXNlciwgc2l6ZVRleHQpOyAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgaW5kZXggZm9yIGVhY2ggc2l6ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvY2N1cnJlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjcm9wcGVkUXVpbHRlZEphY2tldF9zZWxlY3RTaXplKGluZGV4LHVzZXIpIHtcclxuICAgICAgICBsZXQgc2l6ZUVsZW1lbnQ7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5saXN0b2ZzaXplc2VsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOdW1iZXIgb2Ygc2l6ZSBlbGVtZW50czogJHtzaXplRWxlbWVudHMubGVuZ3RofWApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIG5vbi1kaXNhYmxlZCBzaXplIGVsZW1lbnRzIGluIGFuIGFycmF5XHJcbiAgICAgICAgICAgIGNvbnN0IG5vbkRpc2FibGVkU2l6ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNpemVFbGVtZW50ID0gc2l6ZUVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGF3YWl0IHNpemVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9uRGlzYWJsZWRTaXplcy5wdXNoKHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBhbmQgcGVyZm9ybSBvcGVyYXRpb25zXHJcbiAgICAgICAgICAgIC8vZm9yIChjb25zdCBzaXplVGV4dCBvZiBub25EaXNhYmxlZFNpemVzKSBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub25EaXNhYmxlZFNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplVGV4dCA9IG5vbkRpc2FibGVkU2l6ZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplRWxlbWVudCA9IGF3YWl0IHRoaXMuZ2V0c2l6ZUVsZW1lbnRCeVRleHQoc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBhd2FpdCBzaXplRWxlbWVudC5pc0VuYWJsZWQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0NsaWNrYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2l6ZUVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGlja2VkIFNpemU6ICR7c2l6ZVRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmluc2VydFRleHRHUygnRicsICcnLCBpbmRleCwgJ1JMJywgc2l6ZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lNVwiKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VwVGV4dCA9IGF3YWl0IGJyb3dzZXIuJCgnLk11aU5hdGl2ZVNlbGVjdC1zZWxlY3QnKS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0cnLCAnJywgaW5kZXgsICdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCAnUkwnLCB1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTZcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0gnLCcnLGluZGV4LCdfQ3JvcHBlZF9RdWlsdGVkX0phY2tldF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTdcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrcmVjZW50ZXIoKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja2ZpdG1hcCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSScsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19mcm9udF8nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU4XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYmFja3ZpZXcoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaG9tZV9wYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnSicsJycsaW5kZXgsJ19Dcm9wcGVkX1F1aWx0ZWRfSmFja2V0X2ZpdG1hcF8nLHNpemVUZXh0LGN1cFRleHQsJ19kZWZhdWx0XycsJycsJ19iYWNrXycsJ1JMJyx1c2VyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTlcIik7IFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY3JvcHBlZHF1aWx0ZWRzZWxlY3RDdXAoaW5kZXgsIHVzZXIsIHNpemVUZXh0KTsgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gSW5jcmVtZW50IGluZGV4IGZvciBlYWNoIHNpemUgZWxlbWVudFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfSBcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGFja2FibGVKYWNrZXRfc2VsZWN0U2l6ZShpbmRleCx1c2VyKSB7XHJcbiAgICAgICAgbGV0IHNpemVFbGVtZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemVFbGVtZW50cyA9IGF3YWl0IHRoaXMubGlzdG9mc2l6ZXNlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTnVtYmVyIG9mIHNpemUgZWxlbWVudHM6ICR7c2l6ZUVsZW1lbnRzLmxlbmd0aH1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTdG9yZSBub24tZGlzYWJsZWQgc2l6ZSBlbGVtZW50cyBpbiBhbiBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBub25EaXNhYmxlZFNpemVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplRWxlbWVudCA9IHNpemVFbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gYXdhaXQgc2l6ZUVsZW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRpc2FibGVkU2l6ZXMucHVzaChzaXplVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbm9uLWRpc2FibGVkIHNpemUgZWxlbWVudHMgYW5kIHBlcmZvcm0gb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICAvL2ZvciAoY29uc3Qgc2l6ZVRleHQgb2Ygbm9uRGlzYWJsZWRTaXplcykgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uRGlzYWJsZWRTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVRleHQgPSBub25EaXNhYmxlZFNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gYXdhaXQgc2l6ZUVsZW1lbnQuaXNFbmFibGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNpemVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBTaXplOiAke3NpemVUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5pbnNlcnRUZXh0R1MoJ0YnLCAnJywgaW5kZXgsICdSTCcsIHNpemVUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTVcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja3Jlc2V0U2V0dGluZygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuYXZhdGFyZGlzcGxheWVkKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdHJywgJycsIGluZGV4LCAnX1RoZV9wYWNrYWJsZV9KYWNrZXRfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywgJ1JMJywgdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU2XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgxMDAwMCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBob21lX3BhZ2UuY2FwdHVyZUFuZFVwbG9hZEltYWdlKCdIJywnJyxpbmRleCwnX1RoZV9wYWNrYWJsZV9KYWNrZXRfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU3XCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXZhdGFycGFnZS5jbGlja3JlY2VudGVyKCk7ICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tmaXRtYXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0knLCcnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfZnJvbnRfJywnUkwnLHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEb25lOFwiKTsgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhdmF0YXJwYWdlLmJhY2t2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGhvbWVfcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0onLCcnLGluZGV4LCdfVGhlX3BhY2thYmxlX0phY2tldF9maXRtYXBfJyxzaXplVGV4dCxjdXBUZXh0LCdfZGVmYXVsdF8nLCcnLCdfYmFja18nLCdSTCcsdXNlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmU5XCIpOyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbXlQcm9maWxlLnBhY2thYmxlSmFja2V0c2VsZWN0Q3VwKGluZGV4LCB1c2VyLCBzaXplVGV4dCk7ICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIEluY3JlbWVudCBpbmRleCBmb3IgZWFjaCBzaXplIGVsZW1lbnRcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9jY3VycmVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldHNpemVFbGVtZW50QnlUZXh0KHNpemVUZXh0KSB7XHJcbiAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5saXN0b2ZzaXplc2VsZW1lbnQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZUVsZW1lbnQgPSBzaXplRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBzaXplRWxlbWVudC5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0ID09PSBzaXplVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemVFbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2l6ZSBlbGVtZW50IHdpdGggdGV4dCBcIiR7c2l6ZVRleHR9XCIgbm90IGZvdW5kLmApO1xyXG4gICAgfSBcclxuXHJcbn1cclxuIFxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBTaXplcGFnZSgpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzlCLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDeEMsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDeEMsTUFBTUksU0FBUyxHQUFHSixPQUFPLENBQUMsYUFBYSxDQUFDO0FBRXhDLE1BQU1LLFFBQVEsU0FBU04sSUFBSSxDQUFDO0VBQ3hCO0VBQ0EsSUFBSU8sV0FBV0EsQ0FBQSxFQUFFO0lBQ2IsT0FBT0MsQ0FBQyxDQUFDLG1EQUFtRCxDQUFDO0VBQ2pFO0VBRUEsSUFBSUMsa0JBQWtCQSxDQUFBLEVBQUU7SUFDcEIsT0FBT0MsRUFBRSxDQUFDLDJEQUEyRCxDQUFDO0VBQzFFO0VBRUEsSUFBSUMsT0FBT0EsQ0FBQSxFQUFHO0lBQ1YsT0FBT0gsQ0FBQyxDQUFDLG1GQUFtRixDQUFDO0VBQ2pHO0VBRUEsSUFBSUksY0FBY0EsQ0FBQSxFQUFFO0lBQ2hCLE9BQU9KLENBQUMsQ0FBQywrREFBK0QsQ0FBQztFQUM3RTtFQUNBOztFQUVBLE1BQU1LLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ3RCLE1BQU1DLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQ1AsV0FBVztJQUN2QyxNQUFNTyxRQUFRLENBQUNDLGdCQUFnQixDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFLLENBQUMsQ0FBQztJQUNsRCxNQUFNQyxPQUFPLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDekIsTUFBTUosUUFBUSxDQUFDSyxLQUFLLENBQUMsQ0FBQztFQUMxQjtFQUVBLE1BQU1DLHNCQUFzQkEsQ0FBQSxFQUFHO0lBQzNCLE1BQU1DLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ1osa0JBQWtCLENBQUMsQ0FBQzs7SUFFbkQsSUFBSWEsa0JBQWtCLEdBQUcsQ0FBQztJQUMxQixJQUFJQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO0lBRXRCLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHSCxXQUFXLENBQUNJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDekMsTUFBTUUsVUFBVSxHQUFHTCxXQUFXLENBQUNHLENBQUMsQ0FBQztNQUNqQyxNQUFNRyxLQUFLLEdBQUcsTUFBTUQsVUFBVSxDQUFDRSxPQUFPLENBQUMsQ0FBQztNQUN4QyxNQUFNQyxTQUFTLEdBQUcsRUFBRSxNQUFNSCxVQUFVLENBQUNJLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztNQUU5RCxJQUFJSCxLQUFLLENBQUNJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxJQUFJRixTQUFTLEVBQUU7UUFDbENQLGtCQUFrQixFQUFFO1FBRXBCLElBQUlDLGFBQWEsS0FBSyxDQUFDLENBQUMsRUFBRTtVQUN0QkEsYUFBYSxHQUFHQyxDQUFDO1FBQ3JCO01BQ0o7SUFDSjtJQUVBLElBQUlGLGtCQUFrQixHQUFHLENBQUMsRUFBRTtNQUN4QixNQUFNVSxVQUFVLEdBQUcsQ0FBQ1QsYUFBYSxHQUFHLENBQUMsSUFBSUYsV0FBVyxDQUFDSSxNQUFNO01BQzNELElBQUlRLFNBQVMsR0FBR0QsVUFBVTtNQUUxQixHQUFHO1FBQ0MsTUFBTUUsY0FBYyxHQUFHYixXQUFXLENBQUNZLFNBQVMsQ0FBQztRQUM3QyxNQUFNSixTQUFTLEdBQUcsRUFBRSxNQUFNSyxjQUFjLENBQUNKLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUVsRSxJQUFJRCxTQUFTLEVBQUU7VUFDWCxNQUFNTSxRQUFRLEdBQUcsTUFBTUQsY0FBYyxDQUFDTixPQUFPLENBQUMsQ0FBQztVQUMvQztVQUNBLE1BQU1NLGNBQWMsQ0FBQ2YsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1VBQzlCLE1BQU1GLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQztVQUN6QixNQUFNLEtBQUssQ0FBQ2tCLHlCQUF5QixDQUFDLENBQUM7VUFDdkNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGtCQUFpQkgsUUFBUyxFQUFDLENBQUM7VUFDekM7UUFDSjtRQUVBRixTQUFTLEdBQUcsQ0FBQ0EsU0FBUyxHQUFHLENBQUMsSUFBSVosV0FBVyxDQUFDSSxNQUFNO01BQ3BELENBQUMsUUFBUVEsU0FBUyxLQUFLRCxVQUFVO0lBQ3JDLENBQUMsTUFBTTtNQUNISyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QztFQUNKOztFQUdBO0VBQ0EsTUFBTUMseUJBQXlCQSxDQUFBLEVBQUU7SUFDN0IsTUFBTTVCLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU87SUFDNUIsTUFBTTZCLFdBQVcsR0FBRyxNQUFNN0IsT0FBTyxDQUFDaUIsT0FBTyxDQUFDLENBQUM7SUFDM0MsTUFBTWEsU0FBUyxHQUFHRCxXQUFXLENBQUNFLEtBQUssQ0FBQyxTQUFTLENBQUM7SUFFOUMsSUFBSUQsU0FBUyxFQUFFO01BQ1gsTUFBTUUsYUFBYSxHQUFHRixTQUFTLENBQUMsQ0FBQyxDQUFDO01BQ2xDLE1BQU1wQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNaLGtCQUFrQixDQUFDLENBQUM7TUFDbkQsSUFBSW1DLGNBQWMsR0FBRyxFQUFFO01BRXZCLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0gsV0FBVyxDQUFDSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3pDLE1BQU1FLFVBQVUsR0FBR0wsV0FBVyxDQUFDRyxDQUFDLENBQUM7UUFDakMsTUFBTXFCLFVBQVUsR0FBRyxNQUFNbkIsVUFBVSxDQUFDSSxZQUFZLENBQUMsVUFBVSxDQUFDO1FBRTVELElBQUksQ0FBQ2UsVUFBVSxFQUFFO1VBQ2IsTUFBTWxCLEtBQUssR0FBRyxNQUFNRCxVQUFVLENBQUNFLE9BQU8sQ0FBQyxDQUFDO1VBQ3hDZ0IsY0FBYyxDQUFDRSxJQUFJLENBQUNuQixLQUFLLENBQUM7UUFDOUI7TUFDSjtNQUVBLE1BQU1vQix1QkFBdUIsR0FBR0gsY0FBYyxDQUN6Q0ksR0FBRyxDQUFDQyxJQUFJLElBQUlBLElBQUksQ0FBQ2xCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDeEJtQixNQUFNLENBQUNELElBQUksSUFBSUEsSUFBSSxLQUFLTixhQUFhLENBQUMsQ0FDdENRLElBQUksQ0FBQyxHQUFHLENBQUM7TUFFZCxNQUFNQyxNQUFNLEdBQUksR0FBRVQsYUFBYyxJQUFHSSx1QkFBd0IsR0FBRTtNQUM3RCxPQUFPSyxNQUFNO0lBQ2pCLENBQUMsTUFBTTtNQUNILE9BQU8sSUFBSSxDQUFDLENBQUM7SUFDakI7RUFDSjs7RUFFQSxNQUFNQyxVQUFVQSxDQUFDQyxLQUFLLEVBQUNDLElBQUksRUFBRTtJQUN6QixJQUFJaEQsV0FBVztJQUNmLElBQUk7TUFDQSxNQUFNaUQsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO01BQ2xENEIsT0FBTyxDQUFDQyxHQUFHLENBQUUsNEJBQTJCa0IsWUFBWSxDQUFDL0IsTUFBTyxFQUFDLENBQUM7O01BRTlEO01BQ0EsTUFBTWdDLGdCQUFnQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxJQUFJakMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUMxQ2pCLFdBQVcsR0FBR2lELFlBQVksQ0FBQ2hDLENBQUMsQ0FBQztRQUM3QixNQUFNcUIsVUFBVSxHQUFHLE1BQU10QyxXQUFXLENBQUN1QixZQUFZLENBQUMsVUFBVSxDQUFDO1FBRTdELElBQUksQ0FBQ2UsVUFBVSxFQUFFO1VBQ2IsTUFBTWEsUUFBUSxHQUFHLE1BQU1uRCxXQUFXLENBQUNxQixPQUFPLENBQUMsQ0FBQztVQUM1QzZCLGdCQUFnQixDQUFDWCxJQUFJLENBQUNZLFFBQVEsQ0FBQztRQUNuQztNQUNKOztNQUVBO01BQ0E7TUFDQSxLQUFLLElBQUlsQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpQyxnQkFBZ0IsQ0FBQ2hDLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsTUFBTWtDLFFBQVEsR0FBR0QsZ0JBQWdCLENBQUNqQyxDQUFDLENBQUM7UUFDcEMsTUFBTWpCLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ29ELG9CQUFvQixDQUFDRCxRQUFRLENBQUM7UUFDN0QsTUFBTUUsV0FBVyxHQUFHLE1BQU1yRCxXQUFXLENBQUNzQixTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJK0IsV0FBVyxFQUFFO1VBQ2pCLE1BQU1yRCxXQUFXLENBQUNZLEtBQUssQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FrQixPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JvQixRQUFTLEVBQUMsQ0FBQztRQUN4QyxNQUFNeEQsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQzJELFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFUixLQUFLLEVBQUUsYUFBYSxFQUFFSSxRQUFRLENBQUM7UUFDckVyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1DLE9BQU8sR0FBRyxNQUFNL0MsT0FBTyxDQUFDVCxDQUFDLENBQUMseUJBQXlCLENBQUMsQ0FBQ3lELFFBQVEsQ0FBQyxDQUFDO1FBQ3RFO1FBQ0MsTUFBTTVELFNBQVMsQ0FBQzZELGdCQUFnQixDQUFDLENBQUM7UUFDbEMsTUFBTWhFLFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFYixLQUFLLEVBQUUsdUJBQXVCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRVQsSUFBSSxDQUFDO1FBQzdJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsYUFBYSxFQUFDVCxJQUFJLENBQUM7UUFDdklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ21FLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1uRSxVQUFVLENBQUNvRSxXQUFXLENBQUMsQ0FBQztRQUM5QixNQUFNbkUsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHNCQUFzQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUNULElBQUksQ0FBQztRQUN2SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsc0JBQXNCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQ1QsSUFBSSxDQUFDO1FBQ3RJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNaEUsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTTFELFNBQVMsQ0FBQ2tFLFNBQVMsQ0FBQ2pCLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDaEQ7TUFFQUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCO0VBRUEsTUFBTUssb0JBQW9CQSxDQUFDRCxRQUFRLEVBQUU7SUFDakMsTUFBTUYsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO0lBQ2xELEtBQUssSUFBSWUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUMxQyxNQUFNakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO01BQ25DLE1BQU1rRCxJQUFJLEdBQUcsTUFBTW5FLFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO01BQ3hDLElBQUk4QyxJQUFJLEtBQUtoQixRQUFRLEVBQUU7UUFDbkIsT0FBT25ELFdBQVc7TUFDdEI7SUFDSjtJQUNBLE1BQU0sSUFBSW9FLEtBQUssQ0FBRSwyQkFBMEJqQixRQUFTLGNBQWEsQ0FBQztFQUN0RTtFQUVBLE1BQU1rQixvQkFBb0JBLENBQUN0QixLQUFLLEVBQUNDLElBQUksRUFBRTtJQUNuQyxJQUFJaEQsV0FBVztJQUNmLElBQUk7TUFDQSxNQUFNaUQsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO01BQ2xENEIsT0FBTyxDQUFDQyxHQUFHLENBQUUsNEJBQTJCa0IsWUFBWSxDQUFDL0IsTUFBTyxFQUFDLENBQUM7O01BRTlEO01BQ0EsTUFBTWdDLGdCQUFnQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxJQUFJakMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUMxQ2pCLFdBQVcsR0FBR2lELFlBQVksQ0FBQ2hDLENBQUMsQ0FBQztRQUM3QixNQUFNcUIsVUFBVSxHQUFHLE1BQU10QyxXQUFXLENBQUN1QixZQUFZLENBQUMsVUFBVSxDQUFDO1FBRTdELElBQUksQ0FBQ2UsVUFBVSxFQUFFO1VBQ2IsTUFBTWEsUUFBUSxHQUFHLE1BQU1uRCxXQUFXLENBQUNxQixPQUFPLENBQUMsQ0FBQztVQUM1QzZCLGdCQUFnQixDQUFDWCxJQUFJLENBQUNZLFFBQVEsQ0FBQztRQUNuQztNQUNKOztNQUVBO01BQ0E7TUFDQSxLQUFLLElBQUlsQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpQyxnQkFBZ0IsQ0FBQ2hDLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsTUFBTWtDLFFBQVEsR0FBR0QsZ0JBQWdCLENBQUNqQyxDQUFDLENBQUM7UUFDcEMsTUFBTWpCLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ29ELG9CQUFvQixDQUFDRCxRQUFRLENBQUM7UUFDN0QsTUFBTUUsV0FBVyxHQUFHLE1BQU1yRCxXQUFXLENBQUNzQixTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJK0IsV0FBVyxFQUFFO1VBQ2pCLE1BQU1yRCxXQUFXLENBQUNZLEtBQUssQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FrQixPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JvQixRQUFTLEVBQUMsQ0FBQztRQUN4QyxJQUFJQSxRQUFRLEdBQUcsSUFBSSxFQUFDO1VBQ3BCLE1BQU14RCxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztVQUNsQyxNQUFNMUQsU0FBUyxDQUFDMkQsWUFBWSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUVSLEtBQUssRUFBRSxZQUFZLEVBQUVJLFFBQVEsQ0FBQztVQUNwRXJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztVQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7VUFDaEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0vQyxPQUFPLENBQUNULENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDeUQsUUFBUSxDQUFDLENBQUM7VUFDdEU7VUFDQyxNQUFNNUQsU0FBUyxDQUFDNkQsZ0JBQWdCLENBQUMsQ0FBQztVQUNsQyxNQUFNaEUsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7VUFDbEMsTUFBTTFELFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUViLEtBQUssRUFBRSxzQkFBc0IsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUUsWUFBWSxFQUFFVCxJQUFJLENBQUM7VUFDM0lsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7VUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1VBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7VUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHNCQUFzQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxZQUFZLEVBQUNULElBQUksQ0FBQztVQUNySWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztVQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7VUFDaEMsTUFBTW5FLFVBQVUsQ0FBQ29FLFdBQVcsQ0FBQyxDQUFDO1VBQzlCLE1BQU1uRSxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMscUJBQXFCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQ1QsSUFBSSxDQUFDO1VBQ3JJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1VBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztVQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1VBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxxQkFBcUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFDVCxJQUFJLENBQUM7VUFDcElsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUM7VUFDckIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1VBQ2hDLE1BQU0xRCxTQUFTLENBQUN3RSxtQkFBbUIsQ0FBQ3ZCLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7UUFDOUQ7TUFDSjtNQUNRSixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUNELE9BQU9rQixLQUFLLEVBQUU7TUFDZG5DLE9BQU8sQ0FBQ21DLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUM7TUFDakQsTUFBTUQsS0FBSztJQUNmO0lBQ0EsT0FBT2xCLEtBQUs7RUFDaEI7RUFFQSxNQUFNd0Isb0JBQW9CQSxDQUFDeEIsS0FBSyxFQUFDQyxJQUFJLEVBQUU7SUFDbkMsSUFBSWhELFdBQVc7SUFDZixJQUFJO01BQ0EsTUFBTWlELFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQy9DLGtCQUFrQjtNQUNsRDRCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDRCQUEyQmtCLFlBQVksQ0FBQy9CLE1BQU8sRUFBQyxDQUFDOztNQUU5RDtNQUNBLE1BQU1nQyxnQkFBZ0IsR0FBRyxFQUFFO01BQzNCLEtBQUssSUFBSWpDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2dDLFlBQVksQ0FBQy9CLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUNqQixXQUFXLEdBQUdpRCxZQUFZLENBQUNoQyxDQUFDLENBQUM7UUFDN0IsTUFBTXFCLFVBQVUsR0FBRyxNQUFNdEMsV0FBVyxDQUFDdUIsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUU3RCxJQUFJLENBQUNlLFVBQVUsRUFBRTtVQUNiLE1BQU1hLFFBQVEsR0FBRyxNQUFNbkQsV0FBVyxDQUFDcUIsT0FBTyxDQUFDLENBQUM7VUFDNUM2QixnQkFBZ0IsQ0FBQ1gsSUFBSSxDQUFDWSxRQUFRLENBQUM7UUFDbkM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUMsZ0JBQWdCLENBQUNoQyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzlDLE1BQU1rQyxRQUFRLEdBQUdELGdCQUFnQixDQUFDakMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU1qQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNvRCxvQkFBb0IsQ0FBQ0QsUUFBUSxDQUFDO1FBQzdELE1BQU1FLFdBQVcsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0IsU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSStCLFdBQVcsRUFBRTtVQUNqQixNQUFNckQsV0FBVyxDQUFDWSxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCb0IsUUFBUyxFQUFDLENBQUM7UUFDeEMsTUFBTXhELFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLFlBQVksRUFBRUksUUFBUSxDQUFDO1FBQ3BFckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztRQUNyRSxNQUFNNUQsU0FBUyxDQUFDMEUsaUJBQWlCLENBQUMsQ0FBQztRQUNuQyxNQUFNMUUsU0FBUyxDQUFDNkQsZ0JBQWdCLENBQUMsQ0FBQztRQUNsQyxNQUFNaEUsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUViLEtBQUssRUFBRSxzQkFBc0IsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUUsWUFBWSxFQUFFVCxJQUFJLENBQUM7UUFDM0lsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHNCQUFzQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxZQUFZLEVBQUNULElBQUksQ0FBQztRQUNySWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7UUFDaEMsTUFBTW5FLFVBQVUsQ0FBQ29FLFdBQVcsQ0FBQyxDQUFDO1FBQzlCLE1BQU1uRSxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMscUJBQXFCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQ1QsSUFBSSxDQUFDO1FBQ3JJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxxQkFBcUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFDVCxJQUFJLENBQUM7UUFDcElsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0xRCxTQUFTLENBQUMyRSxvQkFBb0IsQ0FBQzFCLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDM0Q7TUFFQUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCO0VBRUEsTUFBTTJCLHFCQUFxQkEsQ0FBQzNCLEtBQUssRUFBQ0MsSUFBSSxFQUFFO0lBQ3BDLElBQUloRCxXQUFXO0lBQ2YsSUFBSTtNQUNBLE1BQU1pRCxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7TUFDbEQ0QixPQUFPLENBQUNDLEdBQUcsQ0FBRSw0QkFBMkJrQixZQUFZLENBQUMvQixNQUFPLEVBQUMsQ0FBQzs7TUFFOUQ7TUFDQSxNQUFNZ0MsZ0JBQWdCLEdBQUcsRUFBRTtNQUMzQixLQUFLLElBQUlqQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO1FBQzdCLE1BQU1xQixVQUFVLEdBQUcsTUFBTXRDLFdBQVcsQ0FBQ3VCLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFFN0QsSUFBSSxDQUFDZSxVQUFVLEVBQUU7VUFDYixNQUFNYSxRQUFRLEdBQUcsTUFBTW5ELFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO1VBQzVDNkIsZ0JBQWdCLENBQUNYLElBQUksQ0FBQ1ksUUFBUSxDQUFDO1FBQ25DO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSWxDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2lDLGdCQUFnQixDQUFDaEMsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUM5QyxNQUFNa0MsUUFBUSxHQUFHRCxnQkFBZ0IsQ0FBQ2pDLENBQUMsQ0FBQztRQUNwQyxNQUFNakIsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDb0Qsb0JBQW9CLENBQUNELFFBQVEsQ0FBQztRQUM3RCxNQUFNRSxXQUFXLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NCLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUkrQixXQUFXLEVBQUU7VUFDakIsTUFBTXJELFdBQVcsQ0FBQ1ksS0FBSyxDQUFDLENBQUM7UUFDekI7UUFDQWtCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGlCQUFnQm9CLFFBQVMsRUFBQyxDQUFDO1FBQ3hDLE1BQU14RCxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxJQUFJSCxRQUFRLEtBQUssSUFBSSxFQUFFO1VBQ3ZCLE1BQU12RCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLGNBQWMsRUFBRUksUUFBUSxDQUFDO1VBQ3RFckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1VBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztVQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztVQUN0RTtVQUNDLE1BQU01RCxTQUFTLENBQUM2RCxnQkFBZ0IsQ0FBQyxDQUFDO1VBQ2xDLE1BQU1oRSxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztVQUNsQyxNQUFNMUQsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWIsS0FBSyxFQUFFLHdCQUF3QixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUVULElBQUksQ0FBQztVQUMvSWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztVQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7VUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztVQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsd0JBQXdCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLGNBQWMsRUFBQ1QsSUFBSSxDQUFDO1VBQ3pJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1VBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztVQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7VUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyx1QkFBdUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsY0FBYyxFQUFDVCxJQUFJLENBQUM7VUFDeklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7VUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1VBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7VUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHVCQUF1QixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxjQUFjLEVBQUNULElBQUksQ0FBQztVQUN4SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztVQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7VUFDaEMsTUFBTWhFLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1VBQ2hDLE1BQU0xRCxTQUFTLENBQUM2RSxvQkFBb0IsQ0FBQzVCLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7UUFDM0Q7TUFDSjtNQUVJSixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUNELE9BQU9rQixLQUFLLEVBQUU7TUFDZG5DLE9BQU8sQ0FBQ21DLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUM7TUFDakQsTUFBTUQsS0FBSztJQUNmO0lBQ0EsT0FBT2xCLEtBQUs7RUFDaEI7RUFFQSxNQUFNNkIsbUJBQW1CQSxDQUFDN0IsS0FBSyxFQUFDQyxJQUFJLEVBQUU7SUFDbEMsSUFBSWhELFdBQVc7SUFDZixJQUFJO01BQ0EsTUFBTWlELFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQy9DLGtCQUFrQjtNQUNsRDRCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDRCQUEyQmtCLFlBQVksQ0FBQy9CLE1BQU8sRUFBQyxDQUFDOztNQUU5RDtNQUNBLE1BQU1nQyxnQkFBZ0IsR0FBRyxFQUFFO01BQzNCLEtBQUssSUFBSWpDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2dDLFlBQVksQ0FBQy9CLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUNqQixXQUFXLEdBQUdpRCxZQUFZLENBQUNoQyxDQUFDLENBQUM7UUFDN0IsTUFBTXFCLFVBQVUsR0FBRyxNQUFNdEMsV0FBVyxDQUFDdUIsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUU3RCxJQUFJLENBQUNlLFVBQVUsRUFBRTtVQUNiLE1BQU1hLFFBQVEsR0FBRyxNQUFNbkQsV0FBVyxDQUFDcUIsT0FBTyxDQUFDLENBQUM7VUFDNUM2QixnQkFBZ0IsQ0FBQ1gsSUFBSSxDQUFDWSxRQUFRLENBQUM7UUFDbkM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUMsZ0JBQWdCLENBQUNoQyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzlDLE1BQU1rQyxRQUFRLEdBQUdELGdCQUFnQixDQUFDakMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU1qQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNvRCxvQkFBb0IsQ0FBQ0QsUUFBUSxDQUFDO1FBQzdELE1BQU1FLFdBQVcsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0IsU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSStCLFdBQVcsRUFBRTtVQUNqQixNQUFNckQsV0FBVyxDQUFDWSxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCb0IsUUFBUyxFQUFDLENBQUM7UUFDeEMsTUFBTXhELFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLFlBQVksRUFBRUksUUFBUSxDQUFDO1FBQ3BFckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztRQUN0RTtRQUNDLE1BQU01RCxTQUFTLENBQUM2RCxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1oRSxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWIsS0FBSyxFQUFFLHNCQUFzQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUVULElBQUksQ0FBQztRQUMzSWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsc0JBQXNCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLFlBQVksRUFBQ1QsSUFBSSxDQUFDO1FBQ3JJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7UUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxxQkFBcUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDVCxJQUFJLENBQUM7UUFDcklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHFCQUFxQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxZQUFZLEVBQUNULElBQUksQ0FBQztRQUNwSWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7UUFDaEMsTUFBTWhFLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0xRCxTQUFTLENBQUMrRSxrQkFBa0IsQ0FBQzlCLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDN0Q7TUFDSUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCO0VBRUEsTUFBTStCLGtCQUFrQkEsQ0FBQy9CLEtBQUssRUFBQ0MsSUFBSSxFQUFFO0lBQ2pDLElBQUloRCxXQUFXO0lBQ2YsSUFBSTtNQUNBLE1BQU1pRCxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7TUFDbEQ0QixPQUFPLENBQUNDLEdBQUcsQ0FBRSw0QkFBMkJrQixZQUFZLENBQUMvQixNQUFPLEVBQUMsQ0FBQzs7TUFFOUQ7TUFDQSxNQUFNZ0MsZ0JBQWdCLEdBQUcsRUFBRTtNQUMzQixLQUFLLElBQUlqQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO1FBQzdCLE1BQU1xQixVQUFVLEdBQUcsTUFBTXRDLFdBQVcsQ0FBQ3VCLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFFN0QsSUFBSSxDQUFDZSxVQUFVLEVBQUU7VUFDYixNQUFNYSxRQUFRLEdBQUcsTUFBTW5ELFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO1VBQzVDNkIsZ0JBQWdCLENBQUNYLElBQUksQ0FBQ1ksUUFBUSxDQUFDO1FBQ25DO01BQ0o7TUFDQTtNQUNBO01BQ0EsS0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUMsZ0JBQWdCLENBQUNoQyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzlDLE1BQU1rQyxRQUFRLEdBQUdELGdCQUFnQixDQUFDakMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU1qQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNvRCxvQkFBb0IsQ0FBQ0QsUUFBUSxDQUFDO1FBQzdELE1BQU1FLFdBQVcsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0IsU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSStCLFdBQVcsRUFBRTtVQUNqQixNQUFNckQsV0FBVyxDQUFDWSxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCb0IsUUFBUyxFQUFDLENBQUM7UUFDeEMsTUFBTXhELFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLFVBQVUsRUFBRUksUUFBUSxDQUFDO1FBQ2xFckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztRQUN0RTtRQUNDLE1BQU01RCxTQUFTLENBQUM2RCxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1oRSxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWIsS0FBSyxFQUFFLG9CQUFvQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUVULElBQUksQ0FBQztRQUN2SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsb0JBQW9CLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLFVBQVUsRUFBQ1QsSUFBSSxDQUFDO1FBQ2pJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7UUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxtQkFBbUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDVCxJQUFJLENBQUM7UUFDaklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLG1CQUFtQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxVQUFVLEVBQUNULElBQUksQ0FBQztRQUNoSWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7UUFDaEMsTUFBTWhFLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0xRCxTQUFTLENBQUNpRixpQkFBaUIsQ0FBQ2hDLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDNUQ7TUFDSUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCO0VBRUEsTUFBTWlDLHVCQUF1QkEsQ0FBQ2pDLEtBQUssRUFBQ0MsSUFBSSxFQUFFO0lBQ3RDLElBQUloRCxXQUFXO0lBQ2YsSUFBSTtNQUNBLE1BQU1pRCxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7TUFDbEQ0QixPQUFPLENBQUNDLEdBQUcsQ0FBRSw0QkFBMkJrQixZQUFZLENBQUMvQixNQUFPLEVBQUMsQ0FBQzs7TUFFOUQ7TUFDQSxNQUFNZ0MsZ0JBQWdCLEdBQUcsRUFBRTtNQUMzQixLQUFLLElBQUlqQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO1FBQzdCLE1BQU1xQixVQUFVLEdBQUcsTUFBTXRDLFdBQVcsQ0FBQ3VCLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFFN0QsSUFBSSxDQUFDZSxVQUFVLEVBQUU7VUFDYixNQUFNYSxRQUFRLEdBQUcsTUFBTW5ELFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO1VBQzVDNkIsZ0JBQWdCLENBQUNYLElBQUksQ0FBQ1ksUUFBUSxDQUFDO1FBQ25DO01BQ0o7TUFDQSxLQUFLLElBQUlsQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpQyxnQkFBZ0IsQ0FBQ2hDLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsTUFBTWtDLFFBQVEsR0FBR0QsZ0JBQWdCLENBQUNqQyxDQUFDLENBQUM7UUFDcEMsTUFBTWpCLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ29ELG9CQUFvQixDQUFDRCxRQUFRLENBQUM7UUFDN0QsTUFBTUUsV0FBVyxHQUFHLE1BQU1yRCxXQUFXLENBQUNzQixTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJK0IsV0FBVyxFQUFFO1VBQ2pCLE1BQU1yRCxXQUFXLENBQUNZLEtBQUssQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FrQixPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JvQixRQUFTLEVBQUMsQ0FBQztRQUN4QyxNQUFNeEQsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQzJELFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFUixLQUFLLEVBQUUsZ0JBQWdCLEVBQUVJLFFBQVEsQ0FBQztRQUN4RXJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0vQyxPQUFPLENBQUNULENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDeUQsUUFBUSxDQUFDLENBQUM7UUFDckUsTUFBTTVELFNBQVMsQ0FBQzBFLGlCQUFpQixDQUFDLENBQUM7UUFDbkMsTUFBTTFFLFNBQVMsQ0FBQzZELGdCQUFnQixDQUFDLENBQUM7UUFDbEMsTUFBTWhFLFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFYixLQUFLLEVBQUUsMEJBQTBCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFVCxJQUFJLENBQUM7UUFDbkpsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLDBCQUEwQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxnQkFBZ0IsRUFBQ1QsSUFBSSxDQUFDO1FBQzdJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNcEQsT0FBTyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3pCLE1BQU1oQixVQUFVLENBQUNvRSxXQUFXLENBQUMsQ0FBQztRQUM5QixNQUFNbkUsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHlCQUF5QixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxnQkFBZ0IsRUFBQ1QsSUFBSSxDQUFDO1FBQzdJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyx5QkFBeUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsZ0JBQWdCLEVBQUNULElBQUksQ0FBQztRQUM1SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7UUFDaEMsTUFBTWhFLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0xRCxTQUFTLENBQUNtRixzQkFBc0IsQ0FBQ2xDLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDakU7TUFDSUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCOztFQUVBO0VBQ0EsTUFBTW1DLG9DQUFvQ0EsQ0FBQ25DLEtBQUssRUFBQ0MsSUFBSSxFQUFFO0lBQ25ELElBQUloRCxXQUFXO0lBQ2YsSUFBSTtNQUNBLE1BQU1pRCxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7TUFDbEQ0QixPQUFPLENBQUNDLEdBQUcsQ0FBRSw0QkFBMkJrQixZQUFZLENBQUMvQixNQUFPLEVBQUMsQ0FBQzs7TUFFOUQ7TUFDQSxNQUFNZ0MsZ0JBQWdCLEdBQUcsRUFBRTtNQUMzQixLQUFLLElBQUlqQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO1FBQzdCLE1BQU1xQixVQUFVLEdBQUcsTUFBTXRDLFdBQVcsQ0FBQ3VCLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFFN0QsSUFBSSxDQUFDZSxVQUFVLEVBQUU7VUFDYixNQUFNYSxRQUFRLEdBQUcsTUFBTW5ELFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO1VBQzVDNkIsZ0JBQWdCLENBQUNYLElBQUksQ0FBQ1ksUUFBUSxDQUFDO1FBQ25DO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSWxDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2lDLGdCQUFnQixDQUFDaEMsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUM5QyxNQUFNa0MsUUFBUSxHQUFHRCxnQkFBZ0IsQ0FBQ2pDLENBQUMsQ0FBQztRQUNwQyxNQUFNakIsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDb0Qsb0JBQW9CLENBQUNELFFBQVEsQ0FBQztRQUM3RCxNQUFNRSxXQUFXLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NCLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUkrQixXQUFXLEVBQUU7VUFDakIsTUFBTXJELFdBQVcsQ0FBQ1ksS0FBSyxDQUFDLENBQUM7UUFDekI7UUFDQWtCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGlCQUFnQm9CLFFBQVMsRUFBQyxDQUFDO1FBQ3hDLE1BQU14RCxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDMkQsWUFBWSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUVSLEtBQUssRUFBRSxJQUFJLEVBQUVJLFFBQVEsQ0FBQztRQUM1RHJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0vQyxPQUFPLENBQUNULENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDeUQsUUFBUSxDQUFDLENBQUM7UUFDckUsTUFBTTVELFNBQVMsQ0FBQzBFLGlCQUFpQixDQUFDLENBQUM7UUFDbkMsTUFBTTFFLFNBQVMsQ0FBQzZELGdCQUFnQixDQUFDLENBQUM7UUFDbEMsTUFBTWhFLFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFYixLQUFLLEVBQUUsaUNBQWlDLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBRVQsSUFBSSxDQUFDO1FBQzlJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxpQ0FBaUMsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDeElsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ21FLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1uRSxVQUFVLENBQUNvRSxXQUFXLENBQUMsQ0FBQztRQUM5QixNQUFNbkUsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHlDQUF5QyxFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUNqSmxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMseUNBQXlDLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ2hKbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNMUQsU0FBUyxDQUFDcUYsOEJBQThCLENBQUNwQyxLQUFLLEVBQUVDLElBQUksRUFBRUcsUUFBUSxDQUFDO01BQ3JFO01BQ0FKLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDYixDQUFDLENBQ0QsT0FBT2tCLEtBQUssRUFBRTtNQUNkbkMsT0FBTyxDQUFDbUMsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDQyxPQUFRLEVBQUMsQ0FBQztNQUNqRCxNQUFNRCxLQUFLO0lBQ2Y7SUFDQSxPQUFPbEIsS0FBSztFQUNoQjtFQUVBLE1BQU1xQyxtQ0FBbUNBLENBQUNyQyxLQUFLLEVBQUNDLElBQUksRUFBRTtJQUNsRCxJQUFJaEQsV0FBVztJQUNmLElBQUk7TUFDQSxNQUFNaUQsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO01BQ2xENEIsT0FBTyxDQUFDQyxHQUFHLENBQUUsNEJBQTJCa0IsWUFBWSxDQUFDL0IsTUFBTyxFQUFDLENBQUM7O01BRTlEO01BQ0EsTUFBTWdDLGdCQUFnQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxJQUFJakMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUMxQ2pCLFdBQVcsR0FBR2lELFlBQVksQ0FBQ2hDLENBQUMsQ0FBQztRQUM3QixNQUFNcUIsVUFBVSxHQUFHLE1BQU10QyxXQUFXLENBQUN1QixZQUFZLENBQUMsVUFBVSxDQUFDO1FBRTdELElBQUksQ0FBQ2UsVUFBVSxFQUFFO1VBQ2IsTUFBTWEsUUFBUSxHQUFHLE1BQU1uRCxXQUFXLENBQUNxQixPQUFPLENBQUMsQ0FBQztVQUM1QzZCLGdCQUFnQixDQUFDWCxJQUFJLENBQUNZLFFBQVEsQ0FBQztRQUNuQztNQUNKOztNQUVBO01BQ0E7TUFDQSxLQUFLLElBQUlsQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpQyxnQkFBZ0IsQ0FBQ2hDLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsTUFBTWtDLFFBQVEsR0FBR0QsZ0JBQWdCLENBQUNqQyxDQUFDLENBQUM7UUFDcEMsTUFBTWpCLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ29ELG9CQUFvQixDQUFDRCxRQUFRLENBQUM7UUFDN0QsTUFBTUUsV0FBVyxHQUFHLE1BQU1yRCxXQUFXLENBQUNzQixTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJK0IsV0FBVyxFQUFFO1VBQ2pCLE1BQU1yRCxXQUFXLENBQUNZLEtBQUssQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FrQixPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JvQixRQUFTLEVBQUMsQ0FBQztRQUN4QyxNQUFNeEQsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQzJELFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFUixLQUFLLEVBQUUsSUFBSSxFQUFFSSxRQUFRLENBQUM7UUFDNURyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1DLE9BQU8sR0FBRyxNQUFNL0MsT0FBTyxDQUFDVCxDQUFDLENBQUMseUJBQXlCLENBQUMsQ0FBQ3lELFFBQVEsQ0FBQyxDQUFDO1FBQ3JFLE1BQU01RCxTQUFTLENBQUMwRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ25DLE1BQU0xRSxTQUFTLENBQUM2RCxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1oRSxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWIsS0FBSyxFQUFFLDJCQUEyQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUVULElBQUksQ0FBQztRQUN4SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsMkJBQTJCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ2xJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7UUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxtQ0FBbUMsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDM0lsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLG1DQUFtQyxFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUMxSWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTTFELFNBQVMsQ0FBQ3VGLDhCQUE4QixDQUFDdEMsS0FBSyxFQUFFQyxJQUFJLEVBQUVHLFFBQVEsQ0FBQztNQUNyRTtNQUVBSixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUNELE9BQU9rQixLQUFLLEVBQUU7TUFDZG5DLE9BQU8sQ0FBQ21DLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUM7TUFDakQsTUFBTUQsS0FBSztJQUNmO0lBQ0EsT0FBT2xCLEtBQUs7RUFDaEI7RUFFQSxNQUFNdUMseUJBQXlCQSxDQUFDdkMsS0FBSyxFQUFDQyxJQUFJLEVBQUU7SUFDeEMsSUFBSWhELFdBQVc7SUFDZixJQUFJO01BQ0EsTUFBTWlELFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQy9DLGtCQUFrQjtNQUNsRDRCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDRCQUEyQmtCLFlBQVksQ0FBQy9CLE1BQU8sRUFBQyxDQUFDOztNQUU5RDtNQUNBLE1BQU1nQyxnQkFBZ0IsR0FBRyxFQUFFO01BQzNCLEtBQUssSUFBSWpDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2dDLFlBQVksQ0FBQy9CLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUNqQixXQUFXLEdBQUdpRCxZQUFZLENBQUNoQyxDQUFDLENBQUM7UUFDN0IsTUFBTXFCLFVBQVUsR0FBRyxNQUFNdEMsV0FBVyxDQUFDdUIsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUU3RCxJQUFJLENBQUNlLFVBQVUsRUFBRTtVQUNiLE1BQU1hLFFBQVEsR0FBRyxNQUFNbkQsV0FBVyxDQUFDcUIsT0FBTyxDQUFDLENBQUM7VUFDNUM2QixnQkFBZ0IsQ0FBQ1gsSUFBSSxDQUFDWSxRQUFRLENBQUM7UUFDbkM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUMsZ0JBQWdCLENBQUNoQyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzlDLE1BQU1rQyxRQUFRLEdBQUdELGdCQUFnQixDQUFDakMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU1qQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNvRCxvQkFBb0IsQ0FBQ0QsUUFBUSxDQUFDO1FBQzdELE1BQU1FLFdBQVcsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0IsU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSStCLFdBQVcsRUFBRTtVQUNqQixNQUFNckQsV0FBVyxDQUFDWSxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCb0IsUUFBUyxFQUFDLENBQUM7UUFDeEMsTUFBTXhELFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLElBQUksRUFBRUksUUFBUSxDQUFDO1FBQzVEckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztRQUNyRSxNQUFNNUQsU0FBUyxDQUFDMEUsaUJBQWlCLENBQUMsQ0FBQztRQUNuQyxNQUFNMUUsU0FBUyxDQUFDNkQsZ0JBQWdCLENBQUMsQ0FBQztRQUNsQyxNQUFNaEUsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUViLEtBQUssRUFBRSxjQUFjLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBRVQsSUFBSSxDQUFDO1FBQzNIbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxjQUFjLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ3JIbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7UUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxzQkFBc0IsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDOUhsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHFCQUFxQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUM1SGxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTTFELFNBQVMsQ0FBQ3lGLHNCQUFzQixDQUFDeEMsS0FBSyxFQUFFQyxJQUFJLEVBQUVHLFFBQVEsQ0FBQztNQUM3RDtNQUNBSixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUNELE9BQU9rQixLQUFLLEVBQUU7TUFDZG5DLE9BQU8sQ0FBQ21DLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUM7TUFDakQsTUFBTUQsS0FBSztJQUNmO0lBQ0EsT0FBT2xCLEtBQUs7RUFDaEI7RUFHQSxNQUFNSyxvQkFBb0JBLENBQUNELFFBQVEsRUFBRTtJQUNqQyxNQUFNRixZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7SUFDbEQsS0FBSyxJQUFJZSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQzFDLE1BQU1qQixXQUFXLEdBQUdpRCxZQUFZLENBQUNoQyxDQUFDLENBQUM7TUFDbkMsTUFBTWtELElBQUksR0FBRyxNQUFNbkUsV0FBVyxDQUFDcUIsT0FBTyxDQUFDLENBQUM7TUFDeEMsSUFBSThDLElBQUksS0FBS2hCLFFBQVEsRUFBRTtRQUNuQixPQUFPbkQsV0FBVztNQUN0QjtJQUNKO0lBQ0EsTUFBTSxJQUFJb0UsS0FBSyxDQUFFLDJCQUEwQmpCLFFBQVMsY0FBYSxDQUFDO0VBQ3RFO0VBRUEsTUFBTXFDLDRCQUE0QkEsQ0FBQ3pDLEtBQUssRUFBQ0MsSUFBSSxFQUFFO0lBQzNDLElBQUloRCxXQUFXO0lBQ2YsSUFBSTtNQUNBLE1BQU1pRCxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMvQyxrQkFBa0I7TUFDbEQ0QixPQUFPLENBQUNDLEdBQUcsQ0FBRSw0QkFBMkJrQixZQUFZLENBQUMvQixNQUFPLEVBQUMsQ0FBQzs7TUFFOUQ7TUFDQSxNQUFNZ0MsZ0JBQWdCLEdBQUcsRUFBRTtNQUMzQixLQUFLLElBQUlqQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxZQUFZLENBQUMvQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO1FBQzdCLE1BQU1xQixVQUFVLEdBQUcsTUFBTXRDLFdBQVcsQ0FBQ3VCLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFFN0QsSUFBSSxDQUFDZSxVQUFVLEVBQUU7VUFDYixNQUFNYSxRQUFRLEdBQUcsTUFBTW5ELFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO1VBQzVDNkIsZ0JBQWdCLENBQUNYLElBQUksQ0FBQ1ksUUFBUSxDQUFDO1FBQ25DO01BQ0o7O01BRUE7TUFDQTtNQUNBLEtBQUssSUFBSWxDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2lDLGdCQUFnQixDQUFDaEMsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUM5QyxNQUFNa0MsUUFBUSxHQUFHRCxnQkFBZ0IsQ0FBQ2pDLENBQUMsQ0FBQztRQUNwQyxNQUFNakIsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDb0Qsb0JBQW9CLENBQUNELFFBQVEsQ0FBQztRQUM3RCxNQUFNRSxXQUFXLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NCLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUkrQixXQUFXLEVBQUU7VUFDakIsTUFBTXJELFdBQVcsQ0FBQ1ksS0FBSyxDQUFDLENBQUM7UUFDekI7UUFDQWtCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGlCQUFnQm9CLFFBQVMsRUFBQyxDQUFDO1FBQ3hDLE1BQU14RCxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDMkQsWUFBWSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUVSLEtBQUssRUFBRSxJQUFJLEVBQUVJLFFBQVEsQ0FBQztRQUM1RHJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0vQyxPQUFPLENBQUNULENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDeUQsUUFBUSxDQUFDLENBQUM7UUFDckUsTUFBTTVELFNBQVMsQ0FBQzBFLGlCQUFpQixDQUFDLENBQUM7UUFDbkMsTUFBTTFFLFNBQVMsQ0FBQzZELGdCQUFnQixDQUFDLENBQUM7UUFDbEMsTUFBTWhFLFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFYixLQUFLLEVBQUUsMEJBQTBCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBRVQsSUFBSSxDQUFDO1FBQ3ZJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQywwQkFBMEIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDaklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ21FLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1uRSxVQUFVLENBQUNvRSxXQUFXLENBQUMsQ0FBQztRQUM5QixNQUFNbkUsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLGlDQUFpQyxFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUN6SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsaUNBQWlDLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ3hJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNMUQsU0FBUyxDQUFDMkYsdUJBQXVCLENBQUMxQyxLQUFLLEVBQUVDLElBQUksRUFBRUcsUUFBUSxDQUFDO01BQzlEO01BQ0FKLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDYixDQUFDLENBQ0QsT0FBT2tCLEtBQUssRUFBRTtNQUNkbkMsT0FBTyxDQUFDbUMsS0FBSyxDQUFFLG1CQUFrQkEsS0FBSyxDQUFDQyxPQUFRLEVBQUMsQ0FBQztNQUNqRCxNQUFNRCxLQUFLO0lBQ2Y7SUFDQSxPQUFPbEIsS0FBSztFQUNoQjtFQUVBLE1BQU0yQywrQkFBK0JBLENBQUMzQyxLQUFLLEVBQUNDLElBQUksRUFBRTtJQUM5QyxJQUFJaEQsV0FBVztJQUNmLElBQUk7TUFDQSxNQUFNaUQsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO01BQ2xENEIsT0FBTyxDQUFDQyxHQUFHLENBQUUsNEJBQTJCa0IsWUFBWSxDQUFDL0IsTUFBTyxFQUFDLENBQUM7O01BRTlEO01BQ0EsTUFBTWdDLGdCQUFnQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxJQUFJakMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUMxQ2pCLFdBQVcsR0FBR2lELFlBQVksQ0FBQ2hDLENBQUMsQ0FBQztRQUM3QixNQUFNcUIsVUFBVSxHQUFHLE1BQU10QyxXQUFXLENBQUN1QixZQUFZLENBQUMsVUFBVSxDQUFDO1FBRTdELElBQUksQ0FBQ2UsVUFBVSxFQUFFO1VBQ2IsTUFBTWEsUUFBUSxHQUFHLE1BQU1uRCxXQUFXLENBQUNxQixPQUFPLENBQUMsQ0FBQztVQUM1QzZCLGdCQUFnQixDQUFDWCxJQUFJLENBQUNZLFFBQVEsQ0FBQztRQUNuQztNQUNKOztNQUVBO01BQ0E7TUFDQSxLQUFLLElBQUlsQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpQyxnQkFBZ0IsQ0FBQ2hDLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsTUFBTWtDLFFBQVEsR0FBR0QsZ0JBQWdCLENBQUNqQyxDQUFDLENBQUM7UUFDcEMsTUFBTWpCLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQ29ELG9CQUFvQixDQUFDRCxRQUFRLENBQUM7UUFDN0QsTUFBTUUsV0FBVyxHQUFHLE1BQU1yRCxXQUFXLENBQUNzQixTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJK0IsV0FBVyxFQUFFO1VBQ2pCLE1BQU1yRCxXQUFXLENBQUNZLEtBQUssQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FrQixPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JvQixRQUFTLEVBQUMsQ0FBQztRQUN4QyxNQUFNeEQsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQzJELFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFUixLQUFLLEVBQUUsSUFBSSxFQUFFSSxRQUFRLENBQUM7UUFDNURyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU1DLE9BQU8sR0FBRyxNQUFNL0MsT0FBTyxDQUFDVCxDQUFDLENBQUMseUJBQXlCLENBQUMsQ0FBQ3lELFFBQVEsQ0FBQyxDQUFDO1FBQ3JFLE1BQU01RCxTQUFTLENBQUMwRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ25DLE1BQU0xRSxTQUFTLENBQUM2RCxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xDLE1BQU1oRSxVQUFVLENBQUMyRCxlQUFlLENBQUMsQ0FBQztRQUNsQyxNQUFNMUQsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRWIsS0FBSyxFQUFFLDBCQUEwQixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUVULElBQUksQ0FBQztRQUN2SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDa0UsUUFBUSxDQUFDLENBQUM7UUFDM0IsTUFBTW5ELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNZixTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsMEJBQTBCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ2pJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNtRSxhQUFhLENBQUMsQ0FBQztRQUNoQyxNQUFNbkUsVUFBVSxDQUFDb0UsV0FBVyxDQUFDLENBQUM7UUFDOUIsTUFBTW5FLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyxpQ0FBaUMsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDeklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLGlDQUFpQyxFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUN4SWxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNakMsU0FBUyxDQUFDMEQsY0FBYyxDQUFDLENBQUM7UUFDaEMsTUFBTTFELFNBQVMsQ0FBQzZGLHVCQUF1QixDQUFDNUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVHLFFBQVEsQ0FBQztNQUM5RDtNQUNBSixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUNELE9BQU9rQixLQUFLLEVBQUU7TUFDZG5DLE9BQU8sQ0FBQ21DLEtBQUssQ0FBRSxtQkFBa0JBLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUM7TUFDakQsTUFBTUQsS0FBSztJQUNmO0lBQ0EsT0FBT2xCLEtBQUs7RUFDaEI7RUFFQSxNQUFNNkMseUJBQXlCQSxDQUFDN0MsS0FBSyxFQUFDQyxJQUFJLEVBQUU7SUFDeEMsSUFBSWhELFdBQVc7SUFDZixJQUFJO01BQ0EsTUFBTWlELFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQy9DLGtCQUFrQjtNQUNsRDRCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDRCQUEyQmtCLFlBQVksQ0FBQy9CLE1BQU8sRUFBQyxDQUFDOztNQUU5RDtNQUNBLE1BQU1nQyxnQkFBZ0IsR0FBRyxFQUFFO01BQzNCLEtBQUssSUFBSWpDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2dDLFlBQVksQ0FBQy9CLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUNqQixXQUFXLEdBQUdpRCxZQUFZLENBQUNoQyxDQUFDLENBQUM7UUFDN0IsTUFBTXFCLFVBQVUsR0FBRyxNQUFNdEMsV0FBVyxDQUFDdUIsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUU3RCxJQUFJLENBQUNlLFVBQVUsRUFBRTtVQUNiLE1BQU1hLFFBQVEsR0FBRyxNQUFNbkQsV0FBVyxDQUFDcUIsT0FBTyxDQUFDLENBQUM7VUFDNUM2QixnQkFBZ0IsQ0FBQ1gsSUFBSSxDQUFDWSxRQUFRLENBQUM7UUFDbkM7TUFDSjs7TUFFQTtNQUNBO01BQ0EsS0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUMsZ0JBQWdCLENBQUNoQyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzlDLE1BQU1rQyxRQUFRLEdBQUdELGdCQUFnQixDQUFDakMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU1qQixXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNvRCxvQkFBb0IsQ0FBQ0QsUUFBUSxDQUFDO1FBQzdELE1BQU1FLFdBQVcsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0IsU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSStCLFdBQVcsRUFBRTtVQUNqQixNQUFNckQsV0FBVyxDQUFDWSxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUUsaUJBQWdCb0IsUUFBUyxFQUFDLENBQUM7UUFDeEMsTUFBTXhELFVBQVUsQ0FBQzJELGVBQWUsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0xRCxTQUFTLENBQUMyRCxZQUFZLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRVIsS0FBSyxFQUFFLElBQUksRUFBRUksUUFBUSxDQUFDO1FBQzVEckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1qQyxTQUFTLENBQUMwRCxjQUFjLENBQUMsQ0FBQztRQUNoQyxNQUFNQyxPQUFPLEdBQUcsTUFBTS9DLE9BQU8sQ0FBQ1QsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQztRQUNyRSxNQUFNNUQsU0FBUyxDQUFDMEUsaUJBQWlCLENBQUMsQ0FBQztRQUNuQyxNQUFNMUUsU0FBUyxDQUFDNkQsZ0JBQWdCLENBQUMsQ0FBQztRQUNsQyxNQUFNaEUsVUFBVSxDQUFDMkQsZUFBZSxDQUFDLENBQUM7UUFDbEMsTUFBTTFELFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUViLEtBQUssRUFBRSx1QkFBdUIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFFVCxJQUFJLENBQUM7UUFDcElsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTXBDLFVBQVUsQ0FBQ2tFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU1uRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDMUIsTUFBTWYsU0FBUyxDQUFDZ0UscUJBQXFCLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQ2IsS0FBSyxFQUFDLHVCQUF1QixFQUFDSSxRQUFRLEVBQUNNLE9BQU8sRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUNULElBQUksQ0FBQztRQUM5SGxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUNwQixNQUFNcEMsVUFBVSxDQUFDbUUsYUFBYSxDQUFDLENBQUM7UUFDaEMsTUFBTW5FLFVBQVUsQ0FBQ29FLFdBQVcsQ0FBQyxDQUFDO1FBQzlCLE1BQU1uRSxTQUFTLENBQUNnRSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUMsRUFBRSxFQUFDYixLQUFLLEVBQUMsOEJBQThCLEVBQUNJLFFBQVEsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQ1QsSUFBSSxDQUFDO1FBQ3RJbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3BCLE1BQU1wQyxVQUFVLENBQUNrRSxRQUFRLENBQUMsQ0FBQztRQUMzQixNQUFNbkQsT0FBTyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU1mLFNBQVMsQ0FBQ2dFLHFCQUFxQixDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUNiLEtBQUssRUFBQyw4QkFBOEIsRUFBQ0ksUUFBUSxFQUFDTSxPQUFPLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDVCxJQUFJLENBQUM7UUFDcklsQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDcEIsTUFBTWpDLFNBQVMsQ0FBQzBELGNBQWMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0xRCxTQUFTLENBQUMrRix1QkFBdUIsQ0FBQzlDLEtBQUssRUFBRUMsSUFBSSxFQUFFRyxRQUFRLENBQUM7TUFDOUQ7TUFDQUosS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNiLENBQUMsQ0FDRCxPQUFPa0IsS0FBSyxFQUFFO01BQ2RuQyxPQUFPLENBQUNtQyxLQUFLLENBQUUsbUJBQWtCQSxLQUFLLENBQUNDLE9BQVEsRUFBQyxDQUFDO01BQ2pELE1BQU1ELEtBQUs7SUFDZjtJQUNBLE9BQU9sQixLQUFLO0VBQ2hCO0VBRUEsTUFBTUssb0JBQW9CQSxDQUFDRCxRQUFRLEVBQUU7SUFDakMsTUFBTUYsWUFBWSxHQUFHLE1BQU0sSUFBSSxDQUFDL0Msa0JBQWtCO0lBQ2xELEtBQUssSUFBSWUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHZ0MsWUFBWSxDQUFDL0IsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUMxQyxNQUFNakIsV0FBVyxHQUFHaUQsWUFBWSxDQUFDaEMsQ0FBQyxDQUFDO01BQ25DLE1BQU1rRCxJQUFJLEdBQUcsTUFBTW5FLFdBQVcsQ0FBQ3FCLE9BQU8sQ0FBQyxDQUFDO01BQ3hDLElBQUk4QyxJQUFJLEtBQUtoQixRQUFRLEVBQUU7UUFDbkIsT0FBT25ELFdBQVc7TUFDdEI7SUFDSjtJQUNBLE1BQU0sSUFBSW9FLEtBQUssQ0FBRSwyQkFBMEJqQixRQUFTLGNBQWEsQ0FBQztFQUN0RTtBQUVKO0FBRUEyQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxJQUFJaEcsUUFBUSxDQUFDLENBQUMifQ==","map":{"version":3,"names":["Page","require","avatarpage","home_page","config","myProfile","Sizepage","sizeElement","$","listofsizeselement","$$","element","nextsizelement","clicksizedropdown","sizelist","waitForDisplayed","timeout","browser","pause","click","clickNextAvailableSize","listofsizes","availableSizeCount","selectedIndex","i","length","listofsize","value","getText","isEnabled","getAttribute","trim","startIndex","nextIndex","nextSizeOption","nextSize","waitForLoadingToDisappear","console","log","processElementAndDropdown","elementText","sizeMatch","match","extractedSize","availableSizes","isDisabled","push","formattedAvailableSizes","map","size","filter","join","result","selectSize","index","user","sizeElements","nonDisabledSizes","sizeText","getsizeElementByText","isClickable","avatardisplayed","insertTextGS","clickMyprofile","cupText","getValue","clickApplyButton","captureAndUploadImage","backview","clickrecenter","clickfitmap","selectCup","error","message","text","Error","sportsBra_selectSize","sportsBra_selectCup","knitDress_selectSize","clickresetSetting","Knit_Dress_selectCup","bikerJacketselectSize","bikerJacketselectCup","knitskirtselectSize","knitskirtselectCup","LeggingsselectSize","LeggingsselectCup","flareTrousersselectSize","flareTrousersselectCup","camdenWoolCrepeJacketpolo_selectSize","camdenWoolCrepeJacketselectCup","cotton_Broad_clothDress__selectSize","cottonBroadclothDressselectCup","classicfitmesh_selectSize","classicfitmapselectCup","cottoncrewnecktee_selectSize","cottoncrowneckselectCup","croppedQuiltedJacket_selectSize","croppedquiltedselectCup","packableJacket_selectSize","packableJacketselectCup","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["sizepage.js"],"sourcesContent":["const Page = require(\"./page\");\r\nconst avatarpage = require(\"./avatar_page\");\r\nconst home_page = require(\"./home_page\");\r\nconst config = require(\"../data/config\");\r\nconst myProfile = require(\"./myProfile\");\r\n\r\nclass Sizepage extends Page {\r\n    // ========= Selectors =========\r\n    get sizeElement(){\r\n        return $(\"//select[contains(@class,'input MuiInput-input')]\");\r\n    }    \r\n\r\n    get listofsizeselement(){\r\n        return $$('//select[contains(@class,\"input MuiInput-input\")]//option');\r\n    }\r\n\r\n    get element() {\r\n        return $('//p[@class=\"MuiTypography-root MuiTypography-body1 sc-fnykZs bYTJRc css-1d07ei4\"]');\r\n    }\r\n    \r\n    get nextsizelement(){\r\n        return $('//select[contains(@class,\"input MuiInput-input\")]//option)[5]');\r\n    }\r\n    // ========== Methods ==========\r\n\r\n    async clicksizedropdown() {\r\n        const sizelist = await this.sizeElement;\r\n        await sizelist.waitForDisplayed({ timeout: 5000 });   \r\n        await browser.pause(1000); \r\n        await sizelist.click();\r\n    }\r\n\r\n    async clickNextAvailableSize() {\r\n        const listofsizes = await this.listofsizeselement; // Make sure this is correctly defined\r\n    \r\n        let availableSizeCount = 0;\r\n        let selectedIndex = -1;\r\n    \r\n        for (let i = 0; i < listofsizes.length; i++) {\r\n            const listofsize = listofsizes[i];\r\n            const value = await listofsize.getText();\r\n            const isEnabled = !(await listofsize.getAttribute('disabled'));\r\n    \r\n            if (value.trim() !== '' && isEnabled) {\r\n                availableSizeCount++;\r\n    \r\n                if (selectedIndex === -1) {\r\n                    selectedIndex = i;\r\n                }\r\n            }\r\n        }\r\n    \r\n        if (availableSizeCount > 0) {\r\n            const startIndex = (selectedIndex + 1) % listofsizes.length;\r\n            let nextIndex = startIndex;\r\n    \r\n            do {\r\n                const nextSizeOption = listofsizes[nextIndex];\r\n                const isEnabled = !(await nextSizeOption.getAttribute('disabled'));\r\n    \r\n                if (isEnabled) {\r\n                    const nextSize = await nextSizeOption.getText();\r\n                    // Here, perform the action to actually select the next size, e.g., click the option\r\n                    await nextSizeOption.click(); // <-- Corrected line\r\n                    await browser.pause(2000);\r\n                    await super.waitForLoadingToDisappear();\r\n                    console.log(`Selected size: ${nextSize}`);\r\n                    break;\r\n                }\r\n    \r\n                nextIndex = (nextIndex + 1) % listofsizes.length;\r\n            } while (nextIndex !== startIndex);\r\n        } else {\r\n            console.log('No available sizes.');\r\n        }\r\n    }\r\n    \r\n\r\n    //fit predict Function\r\n    async processElementAndDropdown(){\r\n        const element = this.element;\r\n        const elementText = await element.getText();\r\n        const sizeMatch = elementText.match(/\\b\\d+\\b/);\r\n    \r\n        if (sizeMatch) {\r\n            const extractedSize = sizeMatch[0];\r\n            const listofsizes = await this.listofsizeselement; // Assuming this returns an array of elements\r\n            let availableSizes = [];\r\n    \r\n            for (let i = 0; i < listofsizes.length; i++) {\r\n                const listofsize = listofsizes[i];\r\n                const isDisabled = await listofsize.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const value = await listofsize.getText();\r\n                    availableSizes.push(value);\r\n                }\r\n            }\r\n    \r\n            const formattedAvailableSizes = availableSizes\r\n                .map(size => size.trim())\r\n                .filter(size => size !== extractedSize)\r\n                .join('/');\r\n    \r\n            const result = `${extractedSize}(${formattedAvailableSizes})`;\r\n            return result;\r\n        } else {\r\n            return 'NA'; // Return 'NA' as a string when there is no size match\r\n        }\r\n    }\r\n    \r\n    async selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Wool_Jacket', sizeText);\r\n                console.log(\"Done2\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n               // await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Wool-Jacket_fitting_',sizeText,cupText,'_default_','','_front_', 'Wool_Jacket', user);\r\n                console.log(\"Done3\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Wool-Jacket_fitting_',sizeText,cupText,'_default_','','_back_','Wool_Jacket',user);\r\n                console.log(\"Done4\");\r\n                await avatarpage.clickrecenter();\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('S','',index,'_Wool-Jacket_fitmap_',sizeText,cupText,'_default_','','_front_','Wool_Jacket',user);\r\n                console.log(\"Done9\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('T','',index,'_Wool-Jacket_fitmap_',sizeText,cupText,'_default_','','_back_','Wool_Jacket',user);\r\n                console.log(\"Done10\");                                                                                                                                        \r\n                await avatarpage.clickrecenter();\r\n                await myProfile.clickMyprofile();\r\n                await myProfile.selectCup(index, user, sizeText);\r\n                }\r\n    \r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async getsizeElementByText(sizeText) {\r\n        const sizeElements = await this.listofsizeselement;\r\n        for (let i = 0; i < sizeElements.length; i++) {\r\n            const sizeElement = sizeElements[i];\r\n            const text = await sizeElement.getText();\r\n            if (text === sizeText) {\r\n                return sizeElement;\r\n            }\r\n        }\r\n        throw new Error(`Size element with text \"${sizeText}\" not found.`);\r\n    } \r\n\r\n    async sportsBra_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                if (sizeText < '36'){\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Sports_Bra', sizeText);\r\n                console.log(\"Done2\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n               /// await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Sports_Bra_fitting_',sizeText,cupText,'_default_','','_front_', 'Sports_Bra', user);\r\n                console.log(\"Done3\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Sports_Bra_fitting_',sizeText,cupText,'_default_','','_back_','Sports_Bra',user);\r\n                console.log(\"Done4\");\r\n                await avatarpage.clickrecenter();\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('T','',index,'_Sports_Bra_fitmap_',sizeText,cupText,'_default_','','_front_','Sports_Bra',user);\r\n                console.log(\"Done9\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('U','',index,'_Sports_Bra_fitmap_',sizeText,cupText,'_default_','','_back_','Sports_Bra',user);\r\n                console.log(\"Done10\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.sportsBra_selectCup(index, user, sizeText);\r\n            }\r\n        }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async knitDress_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Knit_Dress', sizeText);\r\n                console.log(\"Done4\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('N', '', index, '_Knit_Dress_fitting_',sizeText,cupText,'_default_','','_front_', 'Knit_Dress', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('O','',index,'_Knit_Dress_fitting_',sizeText,cupText,'_default_','','_back_','Knit_Dress',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('T','',index,'_Knit_Dress_fitmap_',sizeText,cupText,'_default_','','_front_','Knit_Dress',user);\r\n                console.log(\"Done4\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('U','',index,'_Knit_Dress_fitmap_',sizeText,cupText,'_default_','','_back_','Knit_Dress',user);\r\n                console.log(\"Done5\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.Knit_Dress_selectCup(index, user, sizeText);  \r\n                }\r\n    \r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async bikerJacketselectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                if (sizeText === '38') {\r\n                await home_page.insertTextGS('K', '', index, 'Biker_Jacket', sizeText);\r\n                console.log(\"Done2\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n               /// await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Biker_Jacket_fitting_',sizeText,cupText,'_default_','','_front_', 'Biker_Jacket', user);\r\n                console.log(\"Done4\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Biker_Jacket_fitting_',sizeText,cupText,'_default_','','_back_','Biker_Jacket',user);\r\n                console.log(\"Done5\");\r\n                await avatarpage.clickrecenter();\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('N','',index,'_Biker_Jacket_fitmap_',sizeText,cupText,'_default_','','_front_','Biker_Jacket',user);\r\n                console.log(\"Done6\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Biker_Jacket_fitmap_',sizeText,cupText,'_default_','','_back_','Biker_Jacket',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.clickrecenter();  \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.bikerJacketselectCup(index, user, sizeText);\r\n                }\r\n            }\r\n    \r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async knitskirtselectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Knit_Skirt', sizeText);\r\n                console.log(\"Done4\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n               /// await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Knit_Skirt_fitting_',sizeText,cupText,'_default_','','_front_', 'Knit_Skirt', user);\r\n                console.log(\"Done5\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Knit_Skirt_fitting_',sizeText,cupText,'_default_','','_back_','Knit_Skirt',user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.clickrecenter();\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('P','',index,'_Knit_Skirt_fitmap_',sizeText,cupText,'_default_','','_front_','Knit_Skirt',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Q','',index,'_Knit_Skirt_fitmap_',sizeText,cupText,'_default_','','_back_','Knit_Skirt',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.clickrecenter();\r\n                await myProfile.clickMyprofile();\r\n                await myProfile.knitskirtselectCup(index, user, sizeText);\r\n            }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async LeggingsselectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Leggings', sizeText);\r\n                console.log(\"Done4\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n               /// await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Leggings_fitting_',sizeText,cupText,'_default_','','_front_', 'Leggings', user);\r\n                console.log(\"Done5\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Leggings_fitting_',sizeText,cupText,'_default_','','_back_','Leggings',user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.clickrecenter();\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('P','',index,'_Leggings_fitmap_',sizeText,cupText,'_default_','','_front_','Leggings',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Q','',index,'_Leggings_fitmap_',sizeText,cupText,'_default_','','_back_','Leggings',user);\r\n                console.log(\"Done8\");  \r\n                await avatarpage.clickrecenter();\r\n                await myProfile.clickMyprofile();\r\n                await myProfile.LeggingsselectCup(index, user, sizeText);\r\n            }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    async flareTrousersselectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('K', '', index, 'Flare_Trousers', sizeText);\r\n                console.log(\"Done4\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('L', '', index, '_Flare_Trousers_fitting_',sizeText,cupText,'_default_','','_front_', 'Flare_Trousers', user);\r\n                console.log(\"Done5\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('M','',index,'_Flare_Trousers_fitting_',sizeText,cupText,'_default_','','_back_','Flare_Trousers',user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.clickrecenter();\r\n                await browser.pause(1000);\r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('P','',index,'_Flare_Trousers_fitmap_',sizeText,cupText,'_default_','','_front_','Flare_Trousers',user);\r\n                console.log(\"Done7\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('Q','',index,'_Flare_Trousers_fitmap_',sizeText,cupText,'_default_','','_back_','Flare_Trousers',user);\r\n                console.log(\"Done8\");  \r\n                await avatarpage.clickrecenter();\r\n                await myProfile.clickMyprofile();\r\n                await myProfile.flareTrousersselectCup(index, user, sizeText);\r\n            }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    } \r\n\r\n    //RL\r\n    async camdenWoolCrepeJacketpolo_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_camden_Wool_Crepe_Jacket_polo_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_camden_Wool_Crepe_Jacket_polo_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_camden_Wool_Crepe_Jacket_polo__fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_camden_Wool_Crepe_Jacket_polo__fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.camdenWoolCrepeJacketselectCup(index, user, sizeText);  \r\n                }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n    async cotton_Broad_clothDress__selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_cotton_Broad_clothDress_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_cotton_Broad_clothDress_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_cotton_Broad_clothDress__fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_cotton_Broad_clothDress__fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.cottonBroadclothDressselectCup(index, user, sizeText);  \r\n                }\r\n    \r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n    async classicfitmesh_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_polo_Shirt_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_polo_Shirt_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_polo_Shirt__fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_polo_Shirt_fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.classicfitmapselectCup(index, user, sizeText);  \r\n                }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n\r\n    async getsizeElementByText(sizeText) {\r\n        const sizeElements = await this.listofsizeselement;\r\n        for (let i = 0; i < sizeElements.length; i++) {\r\n            const sizeElement = sizeElements[i];\r\n            const text = await sizeElement.getText();\r\n            if (text === sizeText) {\r\n                return sizeElement;\r\n            }\r\n        }\r\n        throw new Error(`Size element with text \"${sizeText}\" not found.`);\r\n    } \r\n\r\n    async cottoncrewnecktee_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_Cropped_Quilted_Jacket_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_Cropped_Quilted_Jacket_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_Cropped_Quilted_Jacket_fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_Cropped_Quilted_Jacket_fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.cottoncrowneckselectCup(index, user, sizeText);  \r\n                }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n    async croppedQuiltedJacket_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_Cropped_Quilted_Jacket_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_Cropped_Quilted_Jacket_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_Cropped_Quilted_Jacket_fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_Cropped_Quilted_Jacket_fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.croppedquiltedselectCup(index, user, sizeText);  \r\n                }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n    async packableJacket_selectSize(index,user) {\r\n        let sizeElement;\r\n        try {\r\n            const sizeElements = await this.listofsizeselement;\r\n            console.log(`Number of size elements: ${sizeElements.length}`);\r\n    \r\n            // Store non-disabled size elements in an array\r\n            const nonDisabledSizes = [];\r\n            for (let i = 0; i < sizeElements.length; i++) {\r\n                sizeElement = sizeElements[i];\r\n                const isDisabled = await sizeElement.getAttribute('disabled');\r\n    \r\n                if (!isDisabled) {\r\n                    const sizeText = await sizeElement.getText();\r\n                    nonDisabledSizes.push(sizeText);\r\n                }\r\n            }\r\n    \r\n            // Iterate through non-disabled size elements and perform operations\r\n            //for (const sizeText of nonDisabledSizes) \r\n            for (let i = 0; i < nonDisabledSizes.length; i++) {\r\n                const sizeText = nonDisabledSizes[i];\r\n                const sizeElement = await this.getsizeElementByText(sizeText);\r\n                const isClickable = await sizeElement.isEnabled();\r\n                if (isClickable) {\r\n                await sizeElement.click();\r\n                }\r\n                console.log(`Clicked Size: ${sizeText}`);\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.insertTextGS('F', '', index, 'RL', sizeText);\r\n                console.log(\"Done5\");\r\n                await myProfile.clickMyprofile();\r\n                const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n                await myProfile.clickresetSetting();\r\n                await myProfile.clickApplyButton();\r\n                await avatarpage.avatardisplayed();\r\n                await home_page.captureAndUploadImage('G', '', index, '_The_packable_Jacket_',sizeText,cupText,'_default_','','_front_', 'RL', user);\r\n                console.log(\"Done6\");\r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('H','',index,'_The_packable_Jacket_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done7\");\r\n                await avatarpage.clickrecenter();                       \r\n                await avatarpage.clickfitmap();\r\n                await home_page.captureAndUploadImage('I','',index,'_The_packable_Jacket_fitmap_',sizeText,cupText,'_default_','','_front_','RL',user);\r\n                console.log(\"Done8\"); \r\n                await avatarpage.backview();\r\n                await browser.pause(10000);\r\n                await home_page.captureAndUploadImage('J','',index,'_The_packable_Jacket_fitmap_',sizeText,cupText,'_default_','','_back_','RL',user);\r\n                console.log(\"Done9\"); \r\n                await myProfile.clickMyprofile();\r\n                await myProfile.packableJacketselectCup(index, user, sizeText);  \r\n                }\r\n                index++; // Increment index for each size element\r\n            } \r\n            catch (error) {\r\n            console.error(`Error occurred: ${error.message}`);\r\n            throw error;\r\n        } \r\n        return index;\r\n    }\r\n\r\n    async getsizeElementByText(sizeText) {\r\n        const sizeElements = await this.listofsizeselement;\r\n        for (let i = 0; i < sizeElements.length; i++) {\r\n            const sizeElement = sizeElements[i];\r\n            const text = await sizeElement.getText();\r\n            if (text === sizeText) {\r\n                return sizeElement;\r\n            }\r\n        }\r\n        throw new Error(`Size element with text \"${sizeText}\" not found.`);\r\n    } \r\n\r\n}\r\n \r\nmodule.exports = new Sizepage();"],"mappings":"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"}},"mtime":1701170457873},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\utils\\\\lib\\\\gapi.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"let gApiVersion = \"\";\nlet gSheetVersion = \"\";\nlet gDriveFolders = [];\nlet gSheetId = \"\";\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst process = require(\"process\");\nconst {\n  authenticate\n} = require(\"@google-cloud/local-auth\");\nconst {\n  google\n} = require(\"googleapis\");\n\n// If modifying these scopes, delete token.json.\nconst SCOPES = [\"https://www.googleapis.com/auth/drive\"];\n// The file token.json stores the user's access and refresh tokens, and is\n// created automatically when the authorization flow completes for the first\n// time.\nconst GS_TOKEN_PATH = path.join(process.cwd(), \"utils/lib/gs_token.json\");\nconst GD_TOKEN_PATH = path.join(process.cwd(), \"utils/lib/gd_token.json\");\nconst CREDENTIALS_PATH = path.join(process.cwd(), \"utils/lib/credentials.json\");\nclass googleAPI {\n  constructor() {\n    gApiVersion = browser.config.gApiVersion;\n    gDriveFolders = browser.config.gDriveFolders;\n    gSheetId = browser.config.gSheetId;\n    gSheetVersion = browser.config.gSheetVersion;\n  }\n\n  /**\r\n   * Reads previously authorized credentials from the save file.\r\n   *\r\n   * @return {Promise<OAuth2Client|null>}\r\n   */\n  async loadSavedCredentialsIfExist(type) {\n    const TOKEN_PATH = type === \"gs\" ? GS_TOKEN_PATH : GD_TOKEN_PATH;\n    try {\n      const content = await fs.promises.readFile(TOKEN_PATH);\n      const credentials = JSON.parse(content);\n      return google.auth.fromJSON(credentials);\n    } catch (err) {\n      return null;\n    }\n  }\n\n  /**\r\n   * Serializes credentials to a file comptible with GoogleAUth.fromJSON.\r\n   *\r\n   * @param {OAuth2Client} client\r\n   * @return {Promise<void>}\r\n   */\n  async saveCredentials(client, type) {\n    const content = await fs.promises.readFile(CREDENTIALS_PATH);\n    const keys = JSON.parse(content);\n    const key = keys.installed || keys.web;\n    const payload = JSON.stringify({\n      type: \"authorized_user\",\n      client_id: key.client_id,\n      client_secret: key.client_secret,\n      refresh_token: client.credentials.refresh_token\n    });\n    if (type === \"gs\") {\n      await fs.promises.writeFile(GS_TOKEN_PATH, payload);\n    } else {\n      await fs.promises.writeFile(GD_TOKEN_PATH, payload);\n    }\n  }\n\n  /**\r\n   * Load or request or authorization to call APIs.\r\n   *\r\n   */\n  async authorize(type) {\n    let client = await this.loadSavedCredentialsIfExist(type);\n    if (client) {\n      return client;\n    }\n    client = await authenticate({\n      scopes: SCOPES,\n      keyfilePath: CREDENTIALS_PATH\n    });\n    if (client.credentials) {\n      await this.saveCredentials(client, type);\n    }\n    return client;\n  }\n\n  /**\r\n   * Lists the names and IDs of up to 10 files.\r\n   */\n  async listFiles() {\n    // Authorize\n    const authClient = await this.authorize(\"gd\");\n    const drive = google.drive({\n      version: gApiVersion,\n      auth: authClient\n    });\n    const res = await drive.files.list({\n      pageSize: 10,\n      fields: \"nextPageToken, files(id, name)\",\n      q: `mimeType='image/png' and '${gDriveFolders[0]}' in parents`\n    });\n    const files = res.data.files;\n    if (files.length === 0) {\n      console.log(\"No files found.\");\n      return;\n    }\n    console.log(\"Files:\");\n    files.map(file => {\n      console.log(`${file.name} (${file.id})`);\n    });\n  }\n\n  /**\r\n   * Upload a single file to Google Drive\r\n   * @param {String} filePath Full file path\r\n   * @returns {String} Uploaded file id from Drive\r\n   */\n  async uploadFile(filePath) {\n    const imgContent = fs.createReadStream(filePath);\n    const fileName = path.basename(filePath);\n\n    // Authorize\n    const authClient = await this.authorize(\"gd\");\n    const drive = google.drive({\n      version: gApiVersion,\n      auth: authClient\n    });\n    const res = await drive.files.create({\n      requestBody: {\n        name: fileName,\n        mimeType: `image/png`,\n        parents: gDriveFolders\n      },\n      media: {\n        mimeType: `image/png`,\n        body: imgContent\n      }\n    });\n    return res.data.id;\n  }\n\n  /**\r\n   * \r\n   * @param {String} imgId Google Drive file id\r\n   * @param {String} range Range in Google Sheet to be updated\r\n   */\n  async insertImg2GS(imgId, range) {\n    const imgUrl = `https://drive.google.com/uc?export=view&id=${imgId}`;\n    const formula = `=IMAGE(\"${imgUrl}\",1)`;\n\n    // Authorize\n    const authClient = await this.authorize(\"gs\");\n    const sheets = google.sheets({\n      version: gSheetVersion,\n      auth: authClient\n    });\n    await sheets.spreadsheets.values.update({\n      spreadsheetId: gSheetId,\n      range: range,\n      valueInputOption: \"USER_ENTERED\",\n      requestBody: {\n        range: range,\n        majorDimension: \"ROWS\",\n        values: [[formula]]\n      }\n    });\n  }\n  async insertText2GS(text, range) {\n    // Authorize\n    const authClient = await this.authorize('gs');\n    const sheets = google.sheets({\n      version: gSheetVersion,\n      auth: authClient\n    });\n    await sheets.spreadsheets.values.update({\n      spreadsheetId: gSheetId,\n      range: range,\n      valueInputOption: 'USER_ENTERED',\n      requestBody: {\n        range: range,\n        majorDimension: 'ROWS',\n        values: [[text]]\n      }\n    });\n  }\n}\nmodule.exports = new googleAPI();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnQXBpVmVyc2lvbiIsImdTaGVldFZlcnNpb24iLCJnRHJpdmVGb2xkZXJzIiwiZ1NoZWV0SWQiLCJmcyIsInJlcXVpcmUiLCJwYXRoIiwicHJvY2VzcyIsImF1dGhlbnRpY2F0ZSIsImdvb2dsZSIsIlNDT1BFUyIsIkdTX1RPS0VOX1BBVEgiLCJqb2luIiwiY3dkIiwiR0RfVE9LRU5fUEFUSCIsIkNSRURFTlRJQUxTX1BBVEgiLCJnb29nbGVBUEkiLCJjb25zdHJ1Y3RvciIsImJyb3dzZXIiLCJjb25maWciLCJsb2FkU2F2ZWRDcmVkZW50aWFsc0lmRXhpc3QiLCJ0eXBlIiwiVE9LRU5fUEFUSCIsImNvbnRlbnQiLCJwcm9taXNlcyIsInJlYWRGaWxlIiwiY3JlZGVudGlhbHMiLCJKU09OIiwicGFyc2UiLCJhdXRoIiwiZnJvbUpTT04iLCJlcnIiLCJzYXZlQ3JlZGVudGlhbHMiLCJjbGllbnQiLCJrZXlzIiwia2V5IiwiaW5zdGFsbGVkIiwid2ViIiwicGF5bG9hZCIsInN0cmluZ2lmeSIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJyZWZyZXNoX3Rva2VuIiwid3JpdGVGaWxlIiwiYXV0aG9yaXplIiwic2NvcGVzIiwia2V5ZmlsZVBhdGgiLCJsaXN0RmlsZXMiLCJhdXRoQ2xpZW50IiwiZHJpdmUiLCJ2ZXJzaW9uIiwicmVzIiwiZmlsZXMiLCJsaXN0IiwicGFnZVNpemUiLCJmaWVsZHMiLCJxIiwiZGF0YSIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJtYXAiLCJmaWxlIiwibmFtZSIsImlkIiwidXBsb2FkRmlsZSIsImZpbGVQYXRoIiwiaW1nQ29udGVudCIsImNyZWF0ZVJlYWRTdHJlYW0iLCJmaWxlTmFtZSIsImJhc2VuYW1lIiwiY3JlYXRlIiwicmVxdWVzdEJvZHkiLCJtaW1lVHlwZSIsInBhcmVudHMiLCJtZWRpYSIsImJvZHkiLCJpbnNlcnRJbWcyR1MiLCJpbWdJZCIsInJhbmdlIiwiaW1nVXJsIiwiZm9ybXVsYSIsInNoZWV0cyIsInNwcmVhZHNoZWV0cyIsInZhbHVlcyIsInVwZGF0ZSIsInNwcmVhZHNoZWV0SWQiLCJ2YWx1ZUlucHV0T3B0aW9uIiwibWFqb3JEaW1lbnNpb24iLCJpbnNlcnRUZXh0MkdTIiwidGV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXGJvZHMtZnVuY3Rpb25hbC10ZXN0c1xcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiZ2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZ0FwaVZlcnNpb24gPSBcIlwiO1xyXG5sZXQgZ1NoZWV0VmVyc2lvbiA9IFwiXCI7XHJcbmxldCBnRHJpdmVGb2xkZXJzID0gW107XHJcbmxldCBnU2hlZXRJZCA9IFwiXCI7XHJcblxyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBwcm9jZXNzID0gcmVxdWlyZShcInByb2Nlc3NcIik7XHJcbmNvbnN0IHsgYXV0aGVudGljYXRlIH0gPSByZXF1aXJlKFwiQGdvb2dsZS1jbG91ZC9sb2NhbC1hdXRoXCIpO1xyXG5jb25zdCB7IGdvb2dsZSB9ID0gcmVxdWlyZShcImdvb2dsZWFwaXNcIik7XHJcblxyXG4vLyBJZiBtb2RpZnlpbmcgdGhlc2Ugc2NvcGVzLCBkZWxldGUgdG9rZW4uanNvbi5cclxuY29uc3QgU0NPUEVTID0gW1wiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZVwiXTtcclxuLy8gVGhlIGZpbGUgdG9rZW4uanNvbiBzdG9yZXMgdGhlIHVzZXIncyBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLCBhbmQgaXNcclxuLy8gY3JlYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGF1dGhvcml6YXRpb24gZmxvdyBjb21wbGV0ZXMgZm9yIHRoZSBmaXJzdFxyXG4vLyB0aW1lLlxyXG5jb25zdCBHU19UT0tFTl9QQVRIID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwidXRpbHMvbGliL2dzX3Rva2VuLmpzb25cIik7XHJcbmNvbnN0IEdEX1RPS0VOX1BBVEggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJ1dGlscy9saWIvZ2RfdG9rZW4uanNvblwiKTtcclxuY29uc3QgQ1JFREVOVElBTFNfUEFUSCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcInV0aWxzL2xpYi9jcmVkZW50aWFscy5qc29uXCIpO1xyXG5cclxuY2xhc3MgZ29vZ2xlQVBJIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGdBcGlWZXJzaW9uID0gYnJvd3Nlci5jb25maWcuZ0FwaVZlcnNpb247XHJcbiAgICBnRHJpdmVGb2xkZXJzID0gYnJvd3Nlci5jb25maWcuZ0RyaXZlRm9sZGVycztcclxuICAgIGdTaGVldElkID0gYnJvd3Nlci5jb25maWcuZ1NoZWV0SWQ7XHJcbiAgICBnU2hlZXRWZXJzaW9uID0gYnJvd3Nlci5jb25maWcuZ1NoZWV0VmVyc2lvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWRzIHByZXZpb3VzbHkgYXV0aG9yaXplZCBjcmVkZW50aWFscyBmcm9tIHRoZSBzYXZlIGZpbGUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9BdXRoMkNsaWVudHxudWxsPn1cclxuICAgKi9cclxuICBhc3luYyBsb2FkU2F2ZWRDcmVkZW50aWFsc0lmRXhpc3QodHlwZSkge1xyXG4gICAgY29uc3QgVE9LRU5fUEFUSCA9IHR5cGUgPT09IFwiZ3NcIiA/IEdTX1RPS0VOX1BBVEggOiBHRF9UT0tFTl9QQVRIO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnByb21pc2VzLnJlYWRGaWxlKFRPS0VOX1BBVEgpO1xyXG4gICAgICBjb25zdCBjcmVkZW50aWFscyA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICAgIHJldHVybiBnb29nbGUuYXV0aC5mcm9tSlNPTihjcmVkZW50aWFscyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemVzIGNyZWRlbnRpYWxzIHRvIGEgZmlsZSBjb21wdGlibGUgd2l0aCBHb29nbGVBVXRoLmZyb21KU09OLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPQXV0aDJDbGllbnR9IGNsaWVudFxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgc2F2ZUNyZWRlbnRpYWxzKGNsaWVudCwgdHlwZSkge1xyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnByb21pc2VzLnJlYWRGaWxlKENSRURFTlRJQUxTX1BBVEgpO1xyXG4gICAgY29uc3Qga2V5cyA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICBjb25zdCBrZXkgPSBrZXlzLmluc3RhbGxlZCB8fCBrZXlzLndlYjtcclxuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIHR5cGU6IFwiYXV0aG9yaXplZF91c2VyXCIsXHJcbiAgICAgIGNsaWVudF9pZDoga2V5LmNsaWVudF9pZCxcclxuICAgICAgY2xpZW50X3NlY3JldDoga2V5LmNsaWVudF9zZWNyZXQsXHJcbiAgICAgIHJlZnJlc2hfdG9rZW46IGNsaWVudC5jcmVkZW50aWFscy5yZWZyZXNoX3Rva2VuLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwiZ3NcIikge1xyXG4gICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUoR1NfVE9LRU5fUEFUSCwgcGF5bG9hZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUoR0RfVE9LRU5fUEFUSCwgcGF5bG9hZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIG9yIHJlcXVlc3Qgb3IgYXV0aG9yaXphdGlvbiB0byBjYWxsIEFQSXMuXHJcbiAgICpcclxuICAgKi9cclxuICBhc3luYyBhdXRob3JpemUodHlwZSkge1xyXG4gICAgbGV0IGNsaWVudCA9IGF3YWl0IHRoaXMubG9hZFNhdmVkQ3JlZGVudGlhbHNJZkV4aXN0KHR5cGUpO1xyXG4gICAgaWYgKGNsaWVudCkge1xyXG4gICAgICByZXR1cm4gY2xpZW50O1xyXG4gICAgfVxyXG4gICAgY2xpZW50ID0gYXdhaXQgYXV0aGVudGljYXRlKHtcclxuICAgICAgc2NvcGVzOiBTQ09QRVMsXHJcbiAgICAgIGtleWZpbGVQYXRoOiBDUkVERU5USUFMU19QQVRILFxyXG4gICAgfSk7XHJcbiAgICBpZiAoY2xpZW50LmNyZWRlbnRpYWxzKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUNyZWRlbnRpYWxzKGNsaWVudCwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTGlzdHMgdGhlIG5hbWVzIGFuZCBJRHMgb2YgdXAgdG8gMTAgZmlsZXMuXHJcbiAgICovXHJcbiAgYXN5bmMgbGlzdEZpbGVzKCkge1xyXG4gICAgLy8gQXV0aG9yaXplXHJcbiAgICBjb25zdCBhdXRoQ2xpZW50ID0gYXdhaXQgdGhpcy5hdXRob3JpemUoXCJnZFwiKTtcclxuXHJcbiAgICBjb25zdCBkcml2ZSA9IGdvb2dsZS5kcml2ZSh7XHJcbiAgICAgIHZlcnNpb246IGdBcGlWZXJzaW9uLFxyXG4gICAgICBhdXRoOiBhdXRoQ2xpZW50LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZHJpdmUuZmlsZXMubGlzdCh7XHJcbiAgICAgIHBhZ2VTaXplOiAxMCxcclxuICAgICAgZmllbGRzOiBcIm5leHRQYWdlVG9rZW4sIGZpbGVzKGlkLCBuYW1lKVwiLFxyXG4gICAgICBxOiBgbWltZVR5cGU9J2ltYWdlL3BuZycgYW5kICcke2dEcml2ZUZvbGRlcnNbMF19JyBpbiBwYXJlbnRzYCxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGZpbGVzID0gcmVzLmRhdGEuZmlsZXM7XHJcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gZmlsZXMgZm91bmQuXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJGaWxlczpcIik7XHJcbiAgICBmaWxlcy5tYXAoKGZpbGUpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYCR7ZmlsZS5uYW1lfSAoJHtmaWxlLmlkfSlgKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBsb2FkIGEgc2luZ2xlIGZpbGUgdG8gR29vZ2xlIERyaXZlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIEZ1bGwgZmlsZSBwYXRoXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gVXBsb2FkZWQgZmlsZSBpZCBmcm9tIERyaXZlXHJcbiAgICovXHJcbiAgYXN5bmMgdXBsb2FkRmlsZShmaWxlUGF0aCkge1xyXG4gICAgY29uc3QgaW1nQ29udGVudCA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZVBhdGgpO1xyXG4gICAgY29uc3QgZmlsZU5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGVQYXRoKTtcclxuXHJcbiAgICAvLyBBdXRob3JpemVcclxuICAgIGNvbnN0IGF1dGhDbGllbnQgPSBhd2FpdCB0aGlzLmF1dGhvcml6ZShcImdkXCIpO1xyXG5cclxuICAgIGNvbnN0IGRyaXZlID0gZ29vZ2xlLmRyaXZlKHtcclxuICAgICAgdmVyc2lvbjogZ0FwaVZlcnNpb24sXHJcbiAgICAgIGF1dGg6IGF1dGhDbGllbnQsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBkcml2ZS5maWxlcy5jcmVhdGUoe1xyXG4gICAgICByZXF1ZXN0Qm9keToge1xyXG4gICAgICAgIG5hbWU6IGZpbGVOYW1lLFxyXG4gICAgICAgIG1pbWVUeXBlOiBgaW1hZ2UvcG5nYCxcclxuICAgICAgICBwYXJlbnRzOiBnRHJpdmVGb2xkZXJzLFxyXG4gICAgICB9LFxyXG4gICAgICBtZWRpYToge1xyXG4gICAgICAgIG1pbWVUeXBlOiBgaW1hZ2UvcG5nYCxcclxuICAgICAgICBib2R5OiBpbWdDb250ZW50LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5kYXRhLmlkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGltZ0lkIEdvb2dsZSBEcml2ZSBmaWxlIGlkXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJhbmdlIFJhbmdlIGluIEdvb2dsZSBTaGVldCB0byBiZSB1cGRhdGVkXHJcbiAgICovXHJcbiAgYXN5bmMgaW5zZXJ0SW1nMkdTKGltZ0lkLCByYW5nZSkge1xyXG4gICAgY29uc3QgaW1nVXJsID0gYGh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9leHBvcnQ9dmlldyZpZD0ke2ltZ0lkfWA7XHJcbiAgICBjb25zdCBmb3JtdWxhID0gYD1JTUFHRShcIiR7aW1nVXJsfVwiLDEpYDtcclxuXHJcbiAgICAvLyBBdXRob3JpemVcclxuICAgIGNvbnN0IGF1dGhDbGllbnQgPSBhd2FpdCB0aGlzLmF1dGhvcml6ZShcImdzXCIpO1xyXG5cclxuICAgIGNvbnN0IHNoZWV0cyA9IGdvb2dsZS5zaGVldHMoeyB2ZXJzaW9uOiBnU2hlZXRWZXJzaW9uLCBhdXRoOiBhdXRoQ2xpZW50IH0pO1xyXG5cclxuICAgIGF3YWl0IHNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLnVwZGF0ZSh7XHJcbiAgICAgIHNwcmVhZHNoZWV0SWQ6IGdTaGVldElkLFxyXG4gICAgICByYW5nZTogcmFuZ2UsXHJcbiAgICAgIHZhbHVlSW5wdXRPcHRpb246IFwiVVNFUl9FTlRFUkVEXCIsXHJcbiAgICAgIHJlcXVlc3RCb2R5OiB7XHJcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxyXG4gICAgICAgIG1ham9yRGltZW5zaW9uOiBcIlJPV1NcIixcclxuICAgICAgICB2YWx1ZXM6IFtbZm9ybXVsYV1dLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIGluc2VydFRleHQyR1ModGV4dCwgcmFuZ2UpIHtcclxuICAgIC8vIEF1dGhvcml6ZVxyXG4gICAgY29uc3QgYXV0aENsaWVudCA9IGF3YWl0IHRoaXMuYXV0aG9yaXplKCdncycpO1xyXG5cclxuICAgIGNvbnN0IHNoZWV0cyA9IGdvb2dsZS5zaGVldHMoeyB2ZXJzaW9uOiBnU2hlZXRWZXJzaW9uLCBhdXRoOiBhdXRoQ2xpZW50IH0pO1xyXG5cclxuICAgIGF3YWl0IHNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLnVwZGF0ZSh7XHJcbiAgICAgICAgc3ByZWFkc2hlZXRJZDogZ1NoZWV0SWQsXHJcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxyXG4gICAgICAgIHZhbHVlSW5wdXRPcHRpb246ICdVU0VSX0VOVEVSRUQnLFxyXG4gICAgICAgIHJlcXVlc3RCb2R5OiB7XHJcbiAgICAgICAgICAgIHJhbmdlOiByYW5nZSxcclxuICAgICAgICAgICAgbWFqb3JEaW1lbnNpb246ICdST1dTJyxcclxuICAgICAgICAgICAgdmFsdWVzOiBbW3RleHRdXSxcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBnb29nbGVBUEkoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFXLEdBQUcsRUFBRTtBQUNwQixJQUFJQyxhQUFhLEdBQUcsRUFBRTtBQUN0QixJQUFJQyxhQUFhLEdBQUcsRUFBRTtBQUN0QixJQUFJQyxRQUFRLEdBQUcsRUFBRTtBQUVqQixNQUFNQyxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1FLE9BQU8sR0FBR0Ys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","map":{"version":3,"names":["gApiVersion","gSheetVersion","gDriveFolders","gSheetId","fs","require","path","process","authenticate","google","SCOPES","GS_TOKEN_PATH","join","cwd","GD_TOKEN_PATH","CREDENTIALS_PATH","googleAPI","constructor","browser","config","loadSavedCredentialsIfExist","type","TOKEN_PATH","content","promises","readFile","credentials","JSON","parse","auth","fromJSON","err","saveCredentials","client","keys","key","installed","web","payload","stringify","client_id","client_secret","refresh_token","writeFile","authorize","scopes","keyfilePath","listFiles","authClient","drive","version","res","files","list","pageSize","fields","q","data","length","console","log","map","file","name","id","uploadFile","filePath","imgContent","createReadStream","fileName","basename","create","requestBody","mimeType","parents","media","body","insertImg2GS","imgId","range","imgUrl","formula","sheets","spreadsheets","values","update","spreadsheetId","valueInputOption","majorDimension","insertText2GS","text","module","exports"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\utils\\lib\\","sources":["gapi.js"],"sourcesContent":["let gApiVersion = \"\";\r\nlet gSheetVersion = \"\";\r\nlet gDriveFolders = [];\r\nlet gSheetId = \"\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst process = require(\"process\");\r\nconst { authenticate } = require(\"@google-cloud/local-auth\");\r\nconst { google } = require(\"googleapis\");\r\n\r\n// If modifying these scopes, delete token.json.\r\nconst SCOPES = [\"https://www.googleapis.com/auth/drive\"];\r\n// The file token.json stores the user's access and refresh tokens, and is\r\n// created automatically when the authorization flow completes for the first\r\n// time.\r\nconst GS_TOKEN_PATH = path.join(process.cwd(), \"utils/lib/gs_token.json\");\r\nconst GD_TOKEN_PATH = path.join(process.cwd(), \"utils/lib/gd_token.json\");\r\nconst CREDENTIALS_PATH = path.join(process.cwd(), \"utils/lib/credentials.json\");\r\n\r\nclass googleAPI {\r\n  constructor() {\r\n    gApiVersion = browser.config.gApiVersion;\r\n    gDriveFolders = browser.config.gDriveFolders;\r\n    gSheetId = browser.config.gSheetId;\r\n    gSheetVersion = browser.config.gSheetVersion;\r\n  }\r\n\r\n  /**\r\n   * Reads previously authorized credentials from the save file.\r\n   *\r\n   * @return {Promise<OAuth2Client|null>}\r\n   */\r\n  async loadSavedCredentialsIfExist(type) {\r\n    const TOKEN_PATH = type === \"gs\" ? GS_TOKEN_PATH : GD_TOKEN_PATH;\r\n    try {\r\n      const content = await fs.promises.readFile(TOKEN_PATH);\r\n      const credentials = JSON.parse(content);\r\n      return google.auth.fromJSON(credentials);\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Serializes credentials to a file comptible with GoogleAUth.fromJSON.\r\n   *\r\n   * @param {OAuth2Client} client\r\n   * @return {Promise<void>}\r\n   */\r\n  async saveCredentials(client, type) {\r\n    const content = await fs.promises.readFile(CREDENTIALS_PATH);\r\n    const keys = JSON.parse(content);\r\n    const key = keys.installed || keys.web;\r\n    const payload = JSON.stringify({\r\n      type: \"authorized_user\",\r\n      client_id: key.client_id,\r\n      client_secret: key.client_secret,\r\n      refresh_token: client.credentials.refresh_token,\r\n    });\r\n\r\n    if (type === \"gs\") {\r\n      await fs.promises.writeFile(GS_TOKEN_PATH, payload);\r\n    } else {\r\n      await fs.promises.writeFile(GD_TOKEN_PATH, payload);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load or request or authorization to call APIs.\r\n   *\r\n   */\r\n  async authorize(type) {\r\n    let client = await this.loadSavedCredentialsIfExist(type);\r\n    if (client) {\r\n      return client;\r\n    }\r\n    client = await authenticate({\r\n      scopes: SCOPES,\r\n      keyfilePath: CREDENTIALS_PATH,\r\n    });\r\n    if (client.credentials) {\r\n      await this.saveCredentials(client, type);\r\n    }\r\n    return client;\r\n  }\r\n\r\n  /**\r\n   * Lists the names and IDs of up to 10 files.\r\n   */\r\n  async listFiles() {\r\n    // Authorize\r\n    const authClient = await this.authorize(\"gd\");\r\n\r\n    const drive = google.drive({\r\n      version: gApiVersion,\r\n      auth: authClient,\r\n    });\r\n\r\n    const res = await drive.files.list({\r\n      pageSize: 10,\r\n      fields: \"nextPageToken, files(id, name)\",\r\n      q: `mimeType='image/png' and '${gDriveFolders[0]}' in parents`,\r\n    });\r\n\r\n    const files = res.data.files;\r\n    if (files.length === 0) {\r\n      console.log(\"No files found.\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"Files:\");\r\n    files.map((file) => {\r\n      console.log(`${file.name} (${file.id})`);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Upload a single file to Google Drive\r\n   * @param {String} filePath Full file path\r\n   * @returns {String} Uploaded file id from Drive\r\n   */\r\n  async uploadFile(filePath) {\r\n    const imgContent = fs.createReadStream(filePath);\r\n    const fileName = path.basename(filePath);\r\n\r\n    // Authorize\r\n    const authClient = await this.authorize(\"gd\");\r\n\r\n    const drive = google.drive({\r\n      version: gApiVersion,\r\n      auth: authClient,\r\n    });\r\n\r\n    const res = await drive.files.create({\r\n      requestBody: {\r\n        name: fileName,\r\n        mimeType: `image/png`,\r\n        parents: gDriveFolders,\r\n      },\r\n      media: {\r\n        mimeType: `image/png`,\r\n        body: imgContent,\r\n      },\r\n    });\r\n\r\n    return res.data.id;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {String} imgId Google Drive file id\r\n   * @param {String} range Range in Google Sheet to be updated\r\n   */\r\n  async insertImg2GS(imgId, range) {\r\n    const imgUrl = `https://drive.google.com/uc?export=view&id=${imgId}`;\r\n    const formula = `=IMAGE(\"${imgUrl}\",1)`;\r\n\r\n    // Authorize\r\n    const authClient = await this.authorize(\"gs\");\r\n\r\n    const sheets = google.sheets({ version: gSheetVersion, auth: authClient });\r\n\r\n    await sheets.spreadsheets.values.update({\r\n      spreadsheetId: gSheetId,\r\n      range: range,\r\n      valueInputOption: \"USER_ENTERED\",\r\n      requestBody: {\r\n        range: range,\r\n        majorDimension: \"ROWS\",\r\n        values: [[formula]],\r\n      },\r\n    });\r\n  }\r\n  async insertText2GS(text, range) {\r\n    // Authorize\r\n    const authClient = await this.authorize('gs');\r\n\r\n    const sheets = google.sheets({ version: gSheetVersion, auth: authClient });\r\n\r\n    await sheets.spreadsheets.values.update({\r\n        spreadsheetId: gSheetId,\r\n        range: range,\r\n        valueInputOption: 'USER_ENTERED',\r\n        requestBody: {\r\n            range: range,\r\n            majorDimension: 'ROWS',\r\n            values: [[text]],\r\n        },\r\n    });\r\n}\r\n}\r\nmodule.exports = new googleAPI();\r\n"],"mappings":"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"}},"mtime":1704395804974},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\037_bods.1629-cottonTeeRL_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst config = require(\"../../data/config\");\nconst myProfile = require('../../pageobjects/myProfile');\nconst sizepage = require('../../pageobjects/sizepage');\ndescribe(\"BODS :: Screen\", async () => {\n  let currentIndex = 0;\n  const {\n    ralphLauren,\n    balmain\n  } = config.urls;\n  const users = config.users;\n  before(async () => {\n    await browser.deleteCookies();\n    // Perform initial setup steps only once before the tests start running\n    await Homepage.open('ralphLauren');\n    // handle the warning overlay\n    await Homepage.warningOverlay();\n    // click the cotton crewneck Tee\n    await Productpage.clickcottonCrewneckTee();\n    // handle the warning overlay\n    await Homepage.warningOverlay();\n    // Click the BODS button\n    await avatarpage.clickbods3D();\n    // Capture baseline after clickbods3D\n    //await captureBaseline(\"baseline_after_clickbods3D\");\n  });\n\n  beforeEach(async () => {\n    // Clear browser cookies before each iteration of the loop\n    await browser.deleteCookies();\n  });\n  users.forEach((user, index) => {\n    it(\"recorder :: 1629-cottonTeeRL_en\", async () => {\n      const gapi = require(process.cwd() + \"/utils/lib/gapi\");\n      const path = require(\"path\");\n\n      // land on login page\n      await avatarpage.clickLoginlink();\n      // login with existing account\n      await avatarpage.multiplelogin(user.username, user.password);\n      console.log(user.username, user.password);\n      const username = user.username;\n      //await Homepage.insertTextGS('A', '', index, 'TEE', username);\n      console.log(\"Done1\");\n      await avatarpage.avatardisplayed();\n      const sizeText = await browser.$('.MuiNativeSelect-select').getValue();\n      await myProfile.clickMyprofile();\n      await myProfile.clickresetSetting();\n      const cupText = await browser.$('.MuiNativeSelect-select').getValue();\n      await myProfile.sliderdrag();\n      await browser.pause(5000);\n      await myProfile.clickApplyButton();\n      await avatarpage.avatardisplayed();\n      //await Homepage.captureAndUploadImage('B', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_maxsettings_', '', '_front_', 'RL', user);\n      console.log(\"Done2\");\n      await avatarpage.backview();\n      //await browser.pause(10000);\n      //await Homepage.captureAndUploadImage('C', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_maxsettings_', '', '_back_', 'RL', user);\n      console.log(\"Done3\");\n      await myProfile.clickMyprofile();\n      await myProfile.clickresetSetting();\n\n      //  Profile view front and back\n      await avatarpage.avatardisplayed();\n      //await Homepage.insertTextGS('D', '', index, 'RL', cupText);\n      //await Homepage.captureAndUploadImage('E', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\n      console.log(\"Done4\");\n      await myProfile.clickApplyButton();\n      //await myProfile.clickMyprofile(); \n      currentIndex = await sizepage.cottoncrewnecktee_selectSize(currentIndex, user);\n      console.log(\"Cycle Completed\");\n      // click on myprofile to capture settings\n      await myProfile.clickMyprofile();\n      // click MyInformation link\n      await myProfile.clickMyInformation();\n      await captureBaseline(\"baseline_after_login\");\n      //Click logout button\n      await myProfile.clickLogout();\n    });\n  });\n  async function captureBaseline(baselineName) {\n    const utils = require(process.cwd() + \"/utils/utils\");\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n    await utils.checkFireWall(\"003_bods.1627-Existingaccountpolo_en\");\n\n    // Capture the baseline image with a specific name\n    await utils.imgCompare(\"bods\", baselineName);\n  }\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1629-cottonTeeRL_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"037_bods.1629-cottonTeeRL_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"037_bods.1629-cottonTeeRL_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJjb25maWciLCJteVByb2ZpbGUiLCJzaXplcGFnZSIsImRlc2NyaWJlIiwiY3VycmVudEluZGV4IiwicmFscGhMYXVyZW4iLCJiYWxtYWluIiwidXJscyIsInVzZXJzIiwiYmVmb3JlIiwiYnJvd3NlciIsImRlbGV0ZUNvb2tpZXMiLCJvcGVuIiwid2FybmluZ092ZXJsYXkiLCJjbGlja2NvdHRvbkNyZXduZWNrVGVlIiwiY2xpY2tib2RzM0QiLCJiZWZvcmVFYWNoIiwiZm9yRWFjaCIsInVzZXIiLCJpbmRleCIsIml0IiwiZ2FwaSIsInByb2Nlc3MiLCJjd2QiLCJwYXRoIiwiY2xpY2tMb2dpbmxpbmsiLCJtdWx0aXBsZWxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImNvbnNvbGUiLCJsb2ciLCJhdmF0YXJkaXNwbGF5ZWQiLCJzaXplVGV4dCIsIiQiLCJnZXRWYWx1ZSIsImNsaWNrTXlwcm9maWxlIiwiY2xpY2tyZXNldFNldHRpbmciLCJjdXBUZXh0Iiwic2xpZGVyZHJhZyIsInBhdXNlIiwiY2xpY2tBcHBseUJ1dHRvbiIsImJhY2t2aWV3IiwiY290dG9uY3Jld25lY2t0ZWVfc2VsZWN0U2l6ZSIsImNsaWNrTXlJbmZvcm1hdGlvbiIsImNhcHR1cmVCYXNlbGluZSIsImNsaWNrTG9nb3V0IiwiYmFzZWxpbmVOYW1lIiwidXRpbHMiLCJ2YWxpZCIsImNoZWNrVmFsaWRDYXBzIiwic2tpcCIsImNoZWNrRmlyZVdhbGwiLCJpbWdDb21wYXJlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxzY3JlZW5cXCIsInNvdXJjZXMiOlsiMDM3X2JvZHMuMTYyOS1jb3R0b25UZWVSTF9lbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIb21lcGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2hvbWVfcGFnZScpO1xyXG5jb25zdCBQcm9kdWN0cGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL3Byb2R1Y3RfcGFnZScpO1xyXG5jb25zdCBhdmF0YXJwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvYXZhdGFyX3BhZ2UnKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uLy4uL2RhdGEvY29uZmlnXCIpO1xyXG5jb25zdCBteVByb2ZpbGUgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9teVByb2ZpbGUnKTtcclxuY29uc3Qgc2l6ZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9zaXplcGFnZScpO1xyXG5cclxuZGVzY3JpYmUoXCJCT0RTIDo6IFNjcmVlblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XHJcbiAgY29uc3Qge1xyXG4gICAgcmFscGhMYXVyZW4sXHJcbiAgICBiYWxtYWluXHJcbiAgfSA9IGNvbmZpZy51cmxzO1xyXG4gIGNvbnN0IHVzZXJzID0gY29uZmlnLnVzZXJzO1xyXG4gIGJlZm9yZShhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBicm93c2VyLmRlbGV0ZUNvb2tpZXMoKTtcclxuICAgIC8vIFBlcmZvcm0gaW5pdGlhbCBzZXR1cCBzdGVwcyBvbmx5IG9uY2UgYmVmb3JlIHRoZSB0ZXN0cyBzdGFydCBydW5uaW5nXHJcbiAgICBhd2FpdCBIb21lcGFnZS5vcGVuKCdyYWxwaExhdXJlbicpO1xyXG4gICAgLy8gaGFuZGxlIHRoZSB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IEhvbWVwYWdlLndhcm5pbmdPdmVybGF5KCk7XHJcbiAgICAvLyBjbGljayB0aGUgY290dG9uIGNyZXduZWNrIFRlZVxyXG4gICAgYXdhaXQgUHJvZHVjdHBhZ2UuY2xpY2tjb3R0b25DcmV3bmVja1RlZSgpO1xyXG4gICAgLy8gaGFuZGxlIHRoZSB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IEhvbWVwYWdlLndhcm5pbmdPdmVybGF5KCk7XHJcbiAgICAvLyBDbGljayB0aGUgQk9EUyBidXR0b25cclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tib2RzM0QoKTtcclxuICAgIC8vIENhcHR1cmUgYmFzZWxpbmUgYWZ0ZXIgY2xpY2tib2RzM0RcclxuICAgIC8vYXdhaXQgY2FwdHVyZUJhc2VsaW5lKFwiYmFzZWxpbmVfYWZ0ZXJfY2xpY2tib2RzM0RcIik7XHJcbiAgfSk7XHJcblxyXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgYnJvd3NlciBjb29raWVzIGJlZm9yZSBlYWNoIGl0ZXJhdGlvbiBvZiB0aGUgbG9vcFxyXG4gICAgYXdhaXQgYnJvd3Nlci5kZWxldGVDb29raWVzKCk7XHJcbiAgfSk7XHJcblxyXG4gIHVzZXJzLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7XHJcbiAgICBpdChcInJlY29yZGVyIDo6IDE2MjktY290dG9uVGVlUkxfZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBnYXBpID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2dhcGlcIik7XHJcbiAgICAgIGNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuXHJcbiAgICAgIC8vIGxhbmQgb24gbG9naW4gcGFnZVxyXG4gICAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrTG9naW5saW5rKCk7XHJcbiAgICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgICBhd2FpdCBhdmF0YXJwYWdlLm11bHRpcGxlbG9naW4odXNlci51c2VybmFtZSwgdXNlci5wYXNzd29yZCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHVzZXIudXNlcm5hbWUsIHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICBjb25zdCB1c2VybmFtZSA9IHVzZXIudXNlcm5hbWU7XHJcbiAgICAgIC8vYXdhaXQgSG9tZXBhZ2UuaW5zZXJ0VGV4dEdTKCdBJywgJycsIGluZGV4LCAnVEVFJywgdXNlcm5hbWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkRvbmUxXCIpO1xyXG4gICAgICBhd2FpdCBhdmF0YXJwYWdlLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgICBjb25zdCBzaXplVGV4dCA9IGF3YWl0IGJyb3dzZXIuJCgnLk11aU5hdGl2ZVNlbGVjdC1zZWxlY3QnKS5nZXRWYWx1ZSgpO1xyXG4gICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeXByb2ZpbGUoKTtcclxuICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrcmVzZXRTZXR0aW5nKCk7XHJcbiAgICAgIGNvbnN0IGN1cFRleHQgPSBhd2FpdCBicm93c2VyLiQoJy5NdWlOYXRpdmVTZWxlY3Qtc2VsZWN0JykuZ2V0VmFsdWUoKTtcclxuICAgICAgYXdhaXQgbXlQcm9maWxlLnNsaWRlcmRyYWcoKTtcclxuICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSg1MDAwKTtcclxuICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrQXBwbHlCdXR0b24oKTtcclxuICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgLy9hd2FpdCBIb21lcGFnZS5jYXB0dXJlQW5kVXBsb2FkSW1hZ2UoJ0InLCAnJywgaW5kZXgsICdfY290dG9uX0NyZXduZWNrX1RlZV8nLCBzaXplVGV4dCwgY3VwVGV4dCwgJ19tYXhzZXR0aW5nc18nLCAnJywgJ19mcm9udF8nLCAnUkwnLCB1c2VyKTtcclxuICAgICAgY29uc29sZS5sb2coXCJEb25lMlwiKTtcclxuICAgICAgYXdhaXQgYXZhdGFycGFnZS5iYWNrdmlldygpO1xyXG4gICAgICAvL2F3YWl0IGJyb3dzZXIucGF1c2UoMTAwMDApO1xyXG4gICAgICAvL2F3YWl0IEhvbWVwYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnQycsICcnLCBpbmRleCwgJ19jb3R0b25fQ3Jld25lY2tfVGVlXycsIHNpemVUZXh0LCBjdXBUZXh0LCAnX21heHNldHRpbmdzXycsICcnLCAnX2JhY2tfJywgJ1JMJywgdXNlcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTNcIik7XHJcbiAgICAgIGF3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpO1xyXG4gICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tyZXNldFNldHRpbmcoKTtcclxuXHJcbiAgICAgIC8vICBQcm9maWxlIHZpZXcgZnJvbnQgYW5kIGJhY2tcclxuICAgICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgICAgLy9hd2FpdCBIb21lcGFnZS5pbnNlcnRUZXh0R1MoJ0QnLCAnJywgaW5kZXgsICdSTCcsIGN1cFRleHQpO1xyXG4gICAgICAvL2F3YWl0IEhvbWVwYWdlLmNhcHR1cmVBbmRVcGxvYWRJbWFnZSgnRScsICcnLCBpbmRleCwgJ19jb3R0b25fQ3Jld25lY2tfVGVlXycsIHNpemVUZXh0LCBjdXBUZXh0LCAnX2RlZmF1bHRfJywgJycsICdfZnJvbnRfJywgJ1JMJywgdXNlcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRG9uZTRcIik7XHJcblxyXG4gICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tBcHBseUJ1dHRvbigpO1xyXG4gICAgICAvL2F3YWl0IG15UHJvZmlsZS5jbGlja015cHJvZmlsZSgpOyBcclxuICAgICAgY3VycmVudEluZGV4ID0gYXdhaXQgc2l6ZXBhZ2UuY290dG9uY3Jld25lY2t0ZWVfc2VsZWN0U2l6ZShjdXJyZW50SW5kZXgsIHVzZXIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkN5Y2xlIENvbXBsZXRlZFwiKTtcclxuICAgICAgLy8gY2xpY2sgb24gbXlwcm9maWxlIHRvIGNhcHR1cmUgc2V0dGluZ3NcclxuICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAgIC8vIGNsaWNrIE15SW5mb3JtYXRpb24gbGlua1xyXG4gICAgICBhd2FpdCBteVByb2ZpbGUuY2xpY2tNeUluZm9ybWF0aW9uKCk7XHJcbiAgICAgIGF3YWl0IGNhcHR1cmVCYXNlbGluZShcImJhc2VsaW5lX2FmdGVyX2xvZ2luXCIpO1xyXG4gICAgICAvL0NsaWNrIGxvZ291dCBidXR0b25cclxuICAgICAgYXdhaXQgbXlQcm9maWxlLmNsaWNrTG9nb3V0KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gY2FwdHVyZUJhc2VsaW5lKGJhc2VsaW5lTmFtZSkge1xyXG4gICAgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy91dGlsc1wiKTtcclxuXHJcbiAgICBsZXQgdmFsaWQgPSBhd2FpdCB1dGlscy5jaGVja1ZhbGlkQ2FwcygpO1xyXG4gICAgaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcblxyXG4gICAgYXdhaXQgdXRpbHMuY2hlY2tGaXJlV2FsbChcIjAwM19ib2RzLjE2MjctRXhpc3RpbmdhY2NvdW50cG9sb19lblwiKTtcclxuXHJcbiAgICAvLyBDYXB0dXJlIHRoZSBiYXNlbGluZSBpbWFnZSB3aXRoIGEgc3BlY2lmaWMgbmFtZVxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgYmFzZWxpbmVOYW1lKTtcclxuICB9XHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyOS1jb3R0b25UZWVSTF9lblwiLCBhc3luYyBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvdXRpbHNcIik7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBTS0lQIFNQRUMgSUYgV1JPTkcgQ0FQQUJJTElUWVxyXG4gICAgbGV0IHZhbGlkID0gYXdhaXQgdXRpbHMuY2hlY2tWYWxpZENhcHMoKTtcclxuICAgIGlmICghdmFsaWQpIGF3YWl0IHRoaXMuc2tpcCgpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogQ0hFQ0sgRklSRVdBTExcclxuICAgIGF3YWl0IHV0aWxzLmNoZWNrRmlyZVdhbGwoXCIwMzdfYm9kcy4xNjI5LWNvdHRvblRlZVJMX2VuXCIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tIGNhcHR1cmUgb3B0cy4gVW5jb21tZW50IGFuZCBjaGFuZ2UgdGhlIHZhbHVlIHRvIHVzZSBpdC5cclxuICAgICAqIFRoZSBnbG9iYWwgY29uZmlnIGlzIHNldCBpbiBkYXRhLnhsc3ggYW5kIGlzIGFwcGxpZWQgYnkgZGVmYXVsdCBmb3IgYWxsIHNwZWNzLlxyXG4gICAgICogTm90ZTogdGhlc2UgY29uZmlnIG1heSBiZSByZXBsYWNlZCBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvbiBvZiBVdGlscyBsaWIgcmVsZWFzZWQuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAzN19ib2RzLjE2MjktY290dG9uVGVlUkxfZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAzN19ib2RzLjE2MjktY290dG9uVGVlUkxfZW5cIiwgXCJpZ25vcmVUcmFuc3BhcmVudFBpeGVsXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMzdfYm9kcy4xNjI5LWNvdHRvblRlZVJMX2VuXCIsIFwiaWdub3JlQW50aWFsaWFzaW5nXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMzdfYm9kcy4xNjI5LWNvdHRvblRlZVJMX2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDM3X2JvZHMuMTYyOS1jb3R0b25UZWVSTF9lblwiLCBcImxhcmdlSW1hZ2VUaHJlc2hvbGRcIiwgMTAwLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDM3X2JvZHMuMTYyOS1jb3R0b25UZWVSTF9lblwiLCBcImRpc2FibGVDU1NBbmltYXRpb25cIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAzN19ib2RzLjE2MjktY290dG9uVGVlUkxfZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAzN19ib2RzLjE2MjktY290dG9uVGVlUkxfZW5cIiwgXCJpZ25vcmVBbHBoYVwiLCBmYWxzZSwgXCJ3ZWJcIik7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBJTUcgQ09NUEFSSVNPTiBTVEVQXHJcbiAgICBhd2FpdCB1dGlscy5pbWdDb21wYXJlKFwiYm9kc1wiLCBcIjAzN19ib2RzLjE2MjktY290dG9uVGVlUkxfZW5cIik7XHJcblxyXG4gIH0pO1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBFTkQgPT09PT09PVxyXG5cclxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUN2RCxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUM3RCxNQUFNRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUMzRCxNQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUMzQyxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUN4RCxNQUFNSyxRQUFRLEdBQUdMLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQztBQUV0RE0sUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQVk7RUFDckMsSUFBSUMsWUFBWSxHQUFHLENBQUM7RUFDcEIsTUFBTTtJQUNKQyxXQUFXO0lBQ1hDO0VBQ0YsQ0FBQyxHQUFHTixNQUFNLENBQUNPLElBQUk7RUFDZixNQUFNQyxLQUFLLEdBQUdSLE1BQU0sQ0FBQ1EsS0FBSztFQUMxQkMsTUFBTSxDQUFDLFlBQVk7SUFDakIsTUFBTUMsT0FBTyxDQUFDQyxhQUFhLENBQUMsQ0FBQztJQUM3QjtJQUNBLE1BQU1mLFFBQVEsQ0FBQ2dCLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDbEM7SUFDQSxNQUFNaEIsUUFBUSxDQUFDaUIsY0FBYyxDQUFDLENBQUM7SUFDL0I7SUFDQSxNQUFNZixXQUFXLENBQUNnQixzQkFBc0IsQ0FBQyxDQUFDO0lBQzFDO0lBQ0EsTUFBTWxCLFFBQVEsQ0FBQ2lCLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTWQsVUFBVSxDQUFDZ0IsV0FBVyxDQUFDLENBQUM7SUFDOUI7SUFDQTtFQUNGLENBQUMsQ0FBQzs7RUFFRkMsVUFBVSxDQUFDLFlBQVk7SUFDckI7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","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","config","myProfile","sizepage","describe","currentIndex","ralphLauren","balmain","urls","users","before","browser","deleteCookies","open","warningOverlay","clickcottonCrewneckTee","clickbods3D","beforeEach","forEach","user","index","it","gapi","process","cwd","path","clickLoginlink","multiplelogin","username","password","console","log","avatardisplayed","sizeText","$","getValue","clickMyprofile","clickresetSetting","cupText","sliderdrag","pause","clickApplyButton","backview","cottoncrewnecktee_selectSize","clickMyInformation","captureBaseline","clickLogout","baselineName","utils","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["037_bods.1629-cottonTeeRL_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst config = require(\"../../data/config\");\r\nconst myProfile = require('../../pageobjects/myProfile');\r\nconst sizepage = require('../../pageobjects/sizepage');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  let currentIndex = 0;\r\n  const {\r\n    ralphLauren,\r\n    balmain\r\n  } = config.urls;\r\n  const users = config.users;\r\n  before(async () => {\r\n    await browser.deleteCookies();\r\n    // Perform initial setup steps only once before the tests start running\r\n    await Homepage.open('ralphLauren');\r\n    // handle the warning overlay\r\n    await Homepage.warningOverlay();\r\n    // click the cotton crewneck Tee\r\n    await Productpage.clickcottonCrewneckTee();\r\n    // handle the warning overlay\r\n    await Homepage.warningOverlay();\r\n    // Click the BODS button\r\n    await avatarpage.clickbods3D();\r\n    // Capture baseline after clickbods3D\r\n    //await captureBaseline(\"baseline_after_clickbods3D\");\r\n  });\r\n\r\n  beforeEach(async () => {\r\n    // Clear browser cookies before each iteration of the loop\r\n    await browser.deleteCookies();\r\n  });\r\n\r\n  users.forEach((user, index) => {\r\n    it(\"recorder :: 1629-cottonTeeRL_en\", async () => {\r\n      const gapi = require(process.cwd() + \"/utils/lib/gapi\");\r\n      const path = require(\"path\");\r\n\r\n      // land on login page\r\n      await avatarpage.clickLoginlink();\r\n      // login with existing account\r\n      await avatarpage.multiplelogin(user.username, user.password);\r\n      console.log(user.username, user.password);\r\n      const username = user.username;\r\n      //await Homepage.insertTextGS('A', '', index, 'TEE', username);\r\n      console.log(\"Done1\");\r\n      await avatarpage.avatardisplayed();\r\n      const sizeText = await browser.$('.MuiNativeSelect-select').getValue();\r\n      await myProfile.clickMyprofile();\r\n      await myProfile.clickresetSetting();\r\n      const cupText = await browser.$('.MuiNativeSelect-select').getValue();\r\n      await myProfile.sliderdrag();\r\n      await browser.pause(5000);\r\n      await myProfile.clickApplyButton();\r\n      await avatarpage.avatardisplayed();\r\n      //await Homepage.captureAndUploadImage('B', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_maxsettings_', '', '_front_', 'RL', user);\r\n      console.log(\"Done2\");\r\n      await avatarpage.backview();\r\n      //await browser.pause(10000);\r\n      //await Homepage.captureAndUploadImage('C', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_maxsettings_', '', '_back_', 'RL', user);\r\n      console.log(\"Done3\");\r\n      await myProfile.clickMyprofile();\r\n      await myProfile.clickresetSetting();\r\n\r\n      //  Profile view front and back\r\n      await avatarpage.avatardisplayed();\r\n      //await Homepage.insertTextGS('D', '', index, 'RL', cupText);\r\n      //await Homepage.captureAndUploadImage('E', '', index, '_cotton_Crewneck_Tee_', sizeText, cupText, '_default_', '', '_front_', 'RL', user);\r\n      console.log(\"Done4\");\r\n\r\n      await myProfile.clickApplyButton();\r\n      //await myProfile.clickMyprofile(); \r\n      currentIndex = await sizepage.cottoncrewnecktee_selectSize(currentIndex, user);\r\n      console.log(\"Cycle Completed\");\r\n      // click on myprofile to capture settings\r\n      await myProfile.clickMyprofile();\r\n      // click MyInformation link\r\n      await myProfile.clickMyInformation();\r\n      await captureBaseline(\"baseline_after_login\");\r\n      //Click logout button\r\n      await myProfile.clickLogout();\r\n    });\r\n  });\r\n\r\n  async function captureBaseline(baselineName) {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    await utils.checkFireWall(\"003_bods.1627-Existingaccountpolo_en\");\r\n\r\n    // Capture the baseline image with a specific name\r\n    await utils.imgCompare(\"bods\", baselineName);\r\n  }\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1629-cottonTeeRL_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"037_bods.1629-cottonTeeRL_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"037_bods.1629-cottonTeeRL_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"037_bods.1629-cottonTeeRL_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"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"}},"mtime":1704392397242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\fullpage\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\fullpage\\\\001_bods.1627-ProductpagePolo_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\ndescribe(\"BODS :: Fullpage\", async () => {\n  it(\"recorder :: 1627-ProductpagePolo_en\", async () => {\n    await Homepage.open();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-ProductpagePolo_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"001_bods.1627-ProductpagePolo_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"001_bods.1627-ProductpagePolo_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImRlc2NyaWJlIiwiaXQiLCJvcGVuIiwid2FybmluZ092ZXJsYXkiLCJjbGlja3BvbG9maXRtZXNoIiwidXRpbHMiLCJwcm9jZXNzIiwiY3dkIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcYm9kcy1mdW5jdGlvbmFsLXRlc3RzXFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHJlY29yZFxcZnVsbHBhZ2VcXCIsInNvdXJjZXMiOlsiMDAxX2JvZHMuMTYyNy1Qcm9kdWN0cGFnZVBvbG9fZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSG9tZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9ob21lX3BhZ2UnKTtcclxuY29uc3QgUHJvZHVjdHBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9wcm9kdWN0X3BhZ2UnKTtcclxuXHJcbmRlc2NyaWJlKFwiQk9EUyA6OiBGdWxscGFnZVwiLCBhc3luYyAoKSA9PiB7XHJcbiAgIGl0KFwicmVjb3JkZXIgOjogMTYyNy1Qcm9kdWN0cGFnZVBvbG9fZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgSG9tZXBhZ2Uub3BlbigpO1xyXG4gICAgLy8gT24gUmFwbGF1cmVuIEhvbWUgcGFnZSBhZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXkgXHJcbiAgICBhd2FpdCBIb21lcGFnZS53YXJuaW5nT3ZlcmxheSgpO1xyXG4gICAgLy8gT24gQ2xhc3NpYyBGaXQgTWVzaCBQb2xvIFNoaXJ0IFByb2R1Y3QgaG9tZSBwYWdlIEFmdGVyIGhhbmRsaW5nIHdhcm5pbmcgb3ZlcmxheVxyXG4gICAgYXdhaXQgUHJvZHVjdHBhZ2UuY2xpY2twb2xvZml0bWVzaCgpO1xyXG4gICAgLy8gT24gUmFwbGF1cmVuIEhvbWUgcGFnZSBhZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXkgXHJcbiAgICBhd2FpdCBIb21lcGFnZS53YXJuaW5nT3ZlcmxheSgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09IElNR19DT01QIDogU1RBUlQgPT09PT09PVxyXG4gIC8qXHJcbiAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGRvIHRoZSBpbWFnZSBjb21wYXJpc29uLlxyXG4gICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAqIFlvdSBjYW4gb3BlbiB0aGUgY3VzdG9tIHNjcmlwdHMgZm9yIGNhcHR1cmUgb3B0aW9ucyB0byBhcHBseSBvbmx5IGZvciBjdXJyZW50IHNwZWMuXHJcbiAgICogTm90ZTogZG9uJ3QgbW9kaWZ5IG9yIHJlbW92ZSBhbnkgc2NyaXB0IGhlcmUuXHJcbiAgICovXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBpdChcImltYWdlIGNvbXBhcmlzb24gdjEuMS40IDo6IDE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy91dGlsc1wiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IFNLSVAgU1BFQyBJRiBXUk9ORyBDQVBBQklMSVRZXHJcbiAgICBsZXQgdmFsaWQgPSBhd2FpdCB1dGlscy5jaGVja1ZhbGlkQ2FwcygpO1xyXG4gICAgaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBDSEVDSyBGSVJFV0FMTFxyXG4gICAgYXdhaXQgdXRpbHMuY2hlY2tGaXJlV2FsbChcIjAwMV9ib2RzLjE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tIGNhcHR1cmUgb3B0cy4gVW5jb21tZW50IGFuZCBjaGFuZ2UgdGhlIHZhbHVlIHRvIHVzZSBpdC5cclxuICAgICAqIFRoZSBnbG9iYWwgY29uZmlnIGlzIHNldCBpbiBkYXRhLnhsc3ggYW5kIGlzIGFwcGxpZWQgYnkgZGVmYXVsdCBmb3IgYWxsIHNwZWNzLlxyXG4gICAgICogTm90ZTogdGhlc2UgY29uZmlnIG1heSBiZSByZXBsYWNlZCBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvbiBvZiBVdGlscyBsaWIgcmVsZWFzZWQuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMV9ib2RzLjE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIsIFwiZnVsbFBhZ2VTY3JvbGxUaW1lb3V0XCIsIDMwMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDFfYm9kcy4xNjI3LVByb2R1Y3RwYWdlUG9sb19lblwiLCBcImlnbm9yZVRyYW5zcGFyZW50UGl4ZWxcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMV9ib2RzLjE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIsIFwiaWdub3JlQW50aWFsaWFzaW5nXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDFfYm9kcy4xNjI3LVByb2R1Y3RwYWdlUG9sb19lblwiLCBcInNjYWxlSW1hZ2VzVG9TYW1lU2l6ZVwiLCBmYWxzZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMV9ib2RzLjE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIsIFwibGFyZ2VJbWFnZVRocmVzaG9sZFwiLCAxMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDFfYm9kcy4xNjI3LVByb2R1Y3RwYWdlUG9sb19lblwiLCBcImRpc2FibGVDU1NBbmltYXRpb25cIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMV9ib2RzLjE2MjctUHJvZHVjdHBhZ2VQb2xvX2VuXCIsIFwiaWdub3JlQ29sb3JzXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDFfYm9kcy4xNjI3LVByb2R1Y3RwYWdlUG9sb19lblwiLCBcImlnbm9yZUFscGhhXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IElNRyBDT01QQVJJU09OIFNURVBcclxuICAgIGF3YWl0IHV0aWxzLmltZ0NvbXBhcmUoXCJib2RzXCIsIFwiMDAxX2JvZHMuMTYyNy1Qcm9kdWN0cGFnZVBvbG9fZW5cIik7XHJcblxyXG4gIH0pO1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBFTkQgPT09PT09PVxyXG5cclxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUN2RCxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUU3REUsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFlBQVk7RUFDdENDLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxZQUFZO0lBQ3JELE1BQU1KLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDLENBQUM7SUFDckI7SUFDQSxNQUFNTCxRQUFRLENBQUNNLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTUosV0FBVyxDQUFDSyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BDO0lBQ0EsTUFBTVAsUUFBUSxDQUFDTSxjQUFjLENBQUMsQ0FBQztFQUNqQyxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBRixFQUFFLENBQUMsb0RBQW9ELEVBQUUsa0JBQWlCO0lBQ3hFLE1BQU1JLEtBQUssR0FBR1AsT0FBTyxDQUFDUSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDOztJQUVyRDtJQUNBLElBQUlDLEtBQUssR0FBRyxNQUFNSCxLQUFLLENBQUNJLGNBQWMsQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQ0QsS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDRSxJQUFJLENBQUMsQ0FBQzs7SUFFN0I7SUFDQSxNQUFNTCxLQUFLLENBQUNNLGFBQWEsQ0FBQyxrQ0FBa0MsQ0FBQzs7SUFFN0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7SUFFSTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBO0lBQ0EsTUFBTU4sS0FBSyxDQUFDTyxVQUFVLENBQUMsTUFBTSxFQUFFLGtDQUFrQyxDQUFDO0VBRXBFLENBQUMsQ0FBQztFQUNGO0VBQ0E7QUFFRixDQUFDLENBQUMifQ==","map":{"version":3,"names":["Homepage","require","Productpage","describe","it","open","warningOverlay","clickpolofitmesh","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\fullpage\\","sources":["001_bods.1627-ProductpagePolo_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\n\r\ndescribe(\"BODS :: Fullpage\", async () => {\r\n   it(\"recorder :: 1627-ProductpagePolo_en\", async () => {\r\n    await Homepage.open();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-ProductpagePolo_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"001_bods.1627-ProductpagePolo_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"001_bods.1627-ProductpagePolo_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"001_bods.1627-ProductpagePolo_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAE7DE,QAAQ,CAAC,kBAAkB,EAAE,YAAY;EACtCC,EAAE,CAAC,qCAAqC,EAAE,YAAY;IACrD,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IACrB;IACA,MAAML,QAAQ,CAACM,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMJ,WAAW,CAACK,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMP,QAAQ,CAACM,cAAc,CAAC,CAAC;EACjC,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAF,EAAE,CAAC,oDAAoD,EAAE,kBAAiB;IACxE,MAAMI,KAAK,GAAGP,OAAO,CAACQ,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,kCAAkC,CAAC;;IAE7D;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,kCAAkC,CAAC;EAEpE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1700647544705},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\\\\test\\\\specs\\\\init.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\bods-functional-tests\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"describe(\"init\", function () {\n  it(\"init project\", function () {});\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxib2RzLWZ1bmN0aW9uYWwtdGVzdHNcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcIiwic291cmNlcyI6WyJpbml0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRlc2NyaWJlKFwiaW5pdFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgaXQoXCJpbml0IHByb2plY3RcIiwgZnVuY3Rpb24gKCkge30pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUSxDQUFDLE1BQU0sRUFBRSxZQUFZO0VBQzNCQyxFQUFFLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["describe","it"],"sourceRoot":"C:\\Users\\myilv\\bods-functional-tests\\bods-test-flow\\test\\specs\\","sources":["init.js"],"sourcesContent":["describe(\"init\", function () {\r\n  it(\"init project\", function () {});\r\n});\r\n"],"mappings":"AAAAA,QAAQ,CAAC,MAAM,EAAE,YAAY;EAC3BC,EAAE,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC,CAAC;AACpC,CAAC,CAAC"}},"mtime":1704388234939},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\wdio.conf.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const hookCustom = require(\"./utils/lib/hook\");\nconst allureCustom = require(\"./utils/lib/allure\");\nconst jiraIntegration = require(\"./utils/lib/jira\");\nconst capHandler = require(\"./utils/lib/cap_handler\");\nlet img_comparison_config = hookCustom.getWebCompareConfig();\nlet allure_config = hookCustom.getAllureConfig();\nlet suites = hookCustom.getSuites();\nexports.config = {\n  //\n  // ====================\n  // Runner Configuration\n  // ====================\n  // remote selenium grid config\n  hostname: \"localhost\",\n  port: 4444,\n  path: \"/wd/hub/\",\n  protocol: \"http\",\n  // WebdriverIO supports running e2e tests as well as unit and component tests.\n  runner: \"local\",\n  jira: \" \",\n  jiraAuth: \" \",\n  jenkins: \" \",\n  jobName: \"bods-test-flow\",\n  //\n  // ======================\n  // Google API Integration\n  // ======================\n  gApiVersion: \"v3\",\n  gSheetVersion: \"v4\",\n  gDriveFolders: [\"1N10h_ZxwBZ6WOYZmxN2ua_sfSFg2TDrf\"],\n  //1O32rsUAznBGv1mpYdNWXDCyH11giSFvd\n  gSheetId: \"1bMp-0WKZ8JAboKQWDTxRhsba1mszIyYHzqxBBZpsfqw\",\n  //\n  // ==================\n  // Specify Test Files\n  // ==================\n  // Define which test specs should run. The pattern is relative to the directory\n  // from which `wdio` was called.\n  //\n  // The specs are defined as an array of spec files (optionally using wildcards\n  // that will be expanded). The test for each spec file will be run in a separate\n  // worker process. In order to have a group of spec files run in the same worker\n  // process simply enclose them in an array within the specs array.\n  //\n  // If you are calling `wdio` from an NPM script (see https://docs.npmjs.com/cli/run-script),\n  // then the current working directory is where your `package.json` resides, so `wdio`\n  // will be called from there.\n  //\n  specs: [\"./test/**/screen/*.js\", \"./test/**/fullpage/*.js\", \"./test/specs/init.js\"],\n  // Patterns to exclude.\n  exclude: [\"./test/**/*-allpages.js\", \"./test/**/*.spec-generation.js\", \"./test/**/mobile/*.js\", \"./test/**/automation-samples/**/*.js\"\n  // \"./test/**/chugai/**/*.js\",\n  ],\n\n  suites: suites,\n  //\n  // ============\n  // Capabilities\n  // ============\n  // Define your capabilities here. WebdriverIO can run multiple capabilities at the same\n  // time. Depending on the number of capabilities, WebdriverIO launches several test\n  // sessions. Within your capabilities you can overwrite the spec and exclude options in\n  // order to group specific specs to a specific capability.\n  //\n  // First, you can define how many instances should be started at the same time. Let's\n  // say you have 3 different capabilities (Chrome, Firefox, and Safari) and you have\n  // set maxInstances to 1; wdio will spawn 3 processes. Therefore, if you have 10 spec\n  // files and you set maxInstances to 10, all spec files will get tested at the same time\n  // and 30 processes will get spawned. The property handles how many capabilities\n  // from the same test should run tests.\n  //\n  maxInstances: 10,\n  //\n  // If you have trouble getting all important capabilities together, check out the\n  // Sauce Labs platform configurator - a great tool to configure your capabilities:\n  // https://saucelabs.com/platform/platform-configurator\n  //\n  capabilities: [{\n    \"custom:cid\": \"cid.001\",\n    maxInstances: 3,\n    browserName: \"chrome\",\n    acceptInsecureCerts: true,\n    'goog:chromeOptions': {\n      args: ['--no-sandbox', '--incognito']\n    }\n  }],\n  //\n  // ===================\n  // Test Configurations\n  // ===================\n  // Define all options that are relevant for the WebdriverIO instance here\n  //\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\n  // logLevel: \"info\",\n  //\n  // Set specific log levels per logger\n  // loggers:\n  // - webdriver, webdriverio\n  // - @wdio/browserstack-service, @wdio/devtools-service, @wdio/sauce-service\n  // - @wdio/mocha-framework, @wdio/jasmine-framework\n  // - @wdio/local-runner\n  // - @wdio/sumologic-reporter\n  // - @wdio/cli, @wdio/config, @wdio/utils\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\n  logLevels: {\n    webdriver: \"error\",\n    webdriverio: \"error\",\n    \"@wdio/mocha-framework\": \"error\",\n    \"@wdio/local-runner\": \"error\",\n    \"@wdio/cli\": \"error\",\n    \"@wdio/config\": \"error\",\n    \"@wdio/utils\": \"error\",\n    \"@wdio/spec-reporter\": \"error\"\n  },\n  //\n  // If you only want to run your tests until a specific amount of tests have failed use\n  // bail (default is 0 - don't bail, run all tests).\n  bail: 0,\n  //\n  // Set a base URL in order to shorten url command calls. If your `url` parameter starts\n  // with `/`, the base url gets prepended, not including the path portion of your baseUrl.\n  // If your `url` parameter starts without a scheme or `/` (like `some/path`), the base url\n  // gets prepended directly.\n  baseUrl: \"\",\n  //\n  // Default timeout for all waitFor* commands.\n  waitforTimeout: 10000,\n  //\n  // Default timeout in milliseconds for request\n  // if browser driver or grid doesn't send response\n  connectionRetryTimeout: 15000000,\n  //\n  // Default request retries count\n  connectionRetryCount: 3,\n  //\n  // Test runner services\n  // Services take over a specific job you don't want to take care of. They enhance\n  // your test setup with almost no effort. Unlike plugins, they don't add new\n  // commands. Instead, they hook themselves up into the test process.\n  services: ['chromedriver', [\"image-comparison\", img_comparison_config]],\n  // Framework you want to run your specs with.\n  // The following are supported: Mocha, Jasmine, and Cucumber\n  // see also: https://webdriver.io/docs/frameworks\n  //\n  // Make sure you have the wdio adapter package for the specific framework installed\n  // before running any tests.\n  framework: \"mocha\",\n  //\n  // The number of times to retry the entire specfile when it fails as a whole\n  // specFileRetries: 1,\n  //\n  // Delay in seconds between the spec file retry attempts\n  // specFileRetriesDelay: 0,\n  //\n  // Whether or not retried specfiles should be retried immediately or deferred to the end of the queue\n  // specFileRetriesDeferred: false,\n  //\n  // Test reporter for stdout.\n  // The only one supported by default is 'dot'\n  // see also: https://webdriver.io/docs/dot-reporter\n  reporters: [\"spec\", [\"allure\", allure_config]],\n  //\n  // Options to be passed to Mocha.\n  // See the full list at http://mochajs.org/\n  mochaOpts: {\n    ui: \"bdd\",\n    timeout: 15000000\n  },\n  //\n  // =====\n  // Hooks\n  // =====\n  // WebdriverIO provides several hooks you can use to interfere with the test process in order to enhance\n  // it and to build services around it. You can either apply a single function or an array of\n  // methods to it. If one of them returns with a promise, WebdriverIO will wait until that promise got\n  // resolved to continue.\n  /**\r\n   * Gets executed once before all workers get launched.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   */\n  onPrepare: async function (config, capabilities) {},\n  /**\r\n   * Gets executed before a worker process is spawned and can be used to initialise specific service\r\n   * for that worker as well as modify runtime environments in an async fashion.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {[type]} caps     object containing capabilities for session that will be spawn in the worker\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {[type]} args     object that will be merged with the main configuration once worker is initialized\r\n   * @param  {[type]} execArgv list of string arguments passed to the worker process\r\n   */\n  onWorkerStart: async function (cid, caps, specs, args, execArgv) {\n    // GENERATE CAPABILITIES\n    await capHandler.generateCapabilities(specs, caps);\n    if (typeof caps[\"appium:deviceName\"] == \"undefined\") caps[\"appium:deviceName\"] = \"undefined\";\n\n    // AUTO FIX CODE\n    hookCustom.autoFixCode(specs);\n\n    // INIT NEW PROJECT --- BASE ON DATA JSON\n    hookCustom.initProject(specs);\n\n    // CONVERT TEST CASES TO JSON\n    hookCustom.tc2json(specs);\n\n    // UPDATE CODES VERSION\n    // await hookCustom.updateCodeVersion(specs);\n  },\n\n  /**\r\n   * Gets executed just after a worker process has exited.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {Number} exitCode 0 - success, 1 - fail\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {Number} retries  number of retries used\r\n   */\n  // onWorkerEnd: function (cid, exitCode, specs, retries) {\n  // },\n  /**\r\n   * Gets executed just before initialising the webdriver session and test framework. It allows you\r\n   * to manipulate configurations depending on the capability or spec.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that are to be run\r\n   * @param {String} cid worker id (e.g. 0-0)\r\n   */\n  // beforeSession: function (config, capabilities, specs, cid) {\n  // },\n  /**\r\n   * Gets executed before test execution begins. At this point you can access to all global\r\n   * variables like `browser`. It is the perfect place to define custom commands.\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs        List of spec file paths that are to be run\r\n   * @param {Object}         browser      instance of created browser/device session\r\n   */\n  before: async function (capabilities, specs) {\n    await browser.maximizeWindow();\n  },\n  /**\r\n   * Runs before a WebdriverIO command gets executed.\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   */\n  // beforeCommand: function (commandName, args) {\n  // },\n  /**\r\n   * Hook that gets executed before the suite starts\r\n   * @param {Object} suite suite details\r\n   */\n  // beforeSuite: function (suite) {\n  // },\n  /**\r\n   * Function to be executed before a test (in Mocha/Jasmine) starts.\r\n   */\n  beforeTest: function (test, context) {},\n  /**\r\n   * Hook that gets executed _before_ a hook within the suite starts (e.g. runs before calling\r\n   * beforeEach in Mocha)\r\n   */\n  // beforeHook: function (test, context) {\n  // },\n  /**\r\n   * Hook that gets executed _after_ a hook within the suite starts (e.g. runs after calling\r\n   * afterEach in Mocha)\r\n   */\n  // afterHook: function (test, context, { error, result, duration, passed, retries }) {\n  // },\n  /**\r\n   * Function to be executed after a test (in Mocha/Jasmine only)\r\n   * @param {Object}  test             test object\r\n   * @param {Object}  context          scope object the test was executed with\r\n   * @param {Error}   result.error     error object in case the test fails, otherwise `undefined`\r\n   * @param {Any}     result.result    return object of test function\r\n   * @param {Number}  result.duration  duration of test\r\n   * @param {Boolean} result.passed    true if test has passed, otherwise false\r\n   * @param {Object}  result.retries   informations to spec related retries, e.g. `{ attempts: 0, limit: 0 }`\r\n   */\n  afterTest: async function (test, context, {\n    error,\n    result,\n    duration,\n    passed,\n    retries\n  }) {\n    await allureCustom.groupTest(test.file, test.title);\n    await jiraIntegration.jobs(test.file, test.title, passed, error);\n  },\n  /**\r\n   * Hook that gets executed after the suite has ended\r\n   * @param {Object} suite suite details\r\n   */\n  // afterSuite: function (suite) {\n  // },\n  /**\r\n   * Runs after a WebdriverIO command gets executed\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   * @param {Number} result 0 - command success, 1 - command error\r\n   * @param {Object} error error object if any\r\n   */\n  // afterCommand: function (commandName, args, result, error) {\n  // },\n  /**\r\n   * Gets executed after all tests are done. You still have access to all global variables from\r\n   * the test.\r\n   * @param {Number} result 0 - test pass, 1 - test fail\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\n  after: function (result, capabilities, specs) {}\n  /**\r\n   * Gets executed right after terminating the webdriver session.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\n  // afterSession: function (config, capabilities, specs) {\n  // },\n  /**\r\n   * Gets executed after all workers got shut down and the process is about to exit. An error\r\n   * thrown in the onComplete hook will result in the test run failing.\r\n   * @param {Object} exitCode 0 - success, 1 - fail\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {<Object>} results object containing test results\r\n   */\n  // onComplete: async function (exitCode, config, capabilities, results) {},\n  /**\r\n   * Gets executed when a refresh happens.\r\n   * @param {String} oldSessionId session ID of the old session\r\n   * @param {String} newSessionId session ID of the new session\r\n   */\n  // onReload: function(oldSessionId, newSessionId) {\n  // }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJob29rQ3VzdG9tIiwicmVxdWlyZSIsImFsbHVyZUN1c3RvbSIsImppcmFJbnRlZ3JhdGlvbiIsImNhcEhhbmRsZXIiLCJpbWdfY29tcGFyaXNvbl9jb25maWciLCJnZXRXZWJDb21wYXJlQ29uZmlnIiwiYWxsdXJlX2NvbmZpZyIsImdldEFsbHVyZUNvbmZpZyIsInN1aXRlcyIsImdldFN1aXRlcyIsImV4cG9ydHMiLCJjb25maWciLCJob3N0bmFtZSIsInBvcnQiLCJwYXRoIiwicHJvdG9jb2wiLCJydW5uZXIiLCJqaXJhIiwiamlyYUF1dGgiLCJqZW5raW5zIiwiam9iTmFtZSIsImdBcGlWZXJzaW9uIiwiZ1NoZWV0VmVyc2lvbiIsImdEcml2ZUZvbGRlcnMiLCJnU2hlZXRJZCIsInNwZWNzIiwiZXhjbHVkZSIsIm1heEluc3RhbmNlcyIsImNhcGFiaWxpdGllcyIsImJyb3dzZXJOYW1lIiwiYWNjZXB0SW5zZWN1cmVDZXJ0cyIsImFyZ3MiLCJsb2dMZXZlbHMiLCJ3ZWJkcml2ZXIiLCJ3ZWJkcml2ZXJpbyIsImJhaWwiLCJiYXNlVXJsIiwid2FpdGZvclRpbWVvdXQiLCJjb25uZWN0aW9uUmV0cnlUaW1lb3V0IiwiY29ubmVjdGlvblJldHJ5Q291bnQiLCJzZXJ2aWNlcyIsImZyYW1ld29yayIsInJlcG9ydGVycyIsIm1vY2hhT3B0cyIsInVpIiwidGltZW91dCIsIm9uUHJlcGFyZSIsIm9uV29ya2VyU3RhcnQiLCJjaWQiLCJjYXBzIiwiZXhlY0FyZ3YiLCJnZW5lcmF0ZUNhcGFiaWxpdGllcyIsImF1dG9GaXhDb2RlIiwiaW5pdFByb2plY3QiLCJ0YzJqc29uIiwiYmVmb3JlIiwiYnJvd3NlciIsIm1heGltaXplV2luZG93IiwiYmVmb3JlVGVzdCIsInRlc3QiLCJjb250ZXh0IiwiYWZ0ZXJUZXN0IiwiZXJyb3IiLCJyZXN1bHQiLCJkdXJhdGlvbiIsInBhc3NlZCIsInJldHJpZXMiLCJncm91cFRlc3QiLCJmaWxlIiwidGl0bGUiLCJqb2JzIiwiYWZ0ZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcIiwic291cmNlcyI6WyJ3ZGlvLmNvbmYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaG9va0N1c3RvbSA9IHJlcXVpcmUoXCIuL3V0aWxzL2xpYi9ob29rXCIpO1xyXG5jb25zdCBhbGx1cmVDdXN0b20gPSByZXF1aXJlKFwiLi91dGlscy9saWIvYWxsdXJlXCIpO1xyXG5jb25zdCBqaXJhSW50ZWdyYXRpb24gPSByZXF1aXJlKFwiLi91dGlscy9saWIvamlyYVwiKTtcclxuY29uc3QgY2FwSGFuZGxlciA9IHJlcXVpcmUoXCIuL3V0aWxzL2xpYi9jYXBfaGFuZGxlclwiKTtcclxuXHJcbmxldCBpbWdfY29tcGFyaXNvbl9jb25maWcgPSBob29rQ3VzdG9tLmdldFdlYkNvbXBhcmVDb25maWcoKTtcclxubGV0IGFsbHVyZV9jb25maWcgPSBob29rQ3VzdG9tLmdldEFsbHVyZUNvbmZpZygpO1xyXG5sZXQgc3VpdGVzID0gaG9va0N1c3RvbS5nZXRTdWl0ZXMoKTtcclxuXHJcbmV4cG9ydHMuY29uZmlnID0ge1xyXG4gIC8vXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBSdW5uZXIgQ29uZmlndXJhdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gcmVtb3RlIHNlbGVuaXVtIGdyaWQgY29uZmlnXHJcbiAgaG9zdG5hbWU6IFwibG9jYWxob3N0XCIsXHJcbiAgcG9ydDogNDQ0NCxcclxuICBwYXRoOiBcIi93ZC9odWIvXCIsXHJcbiAgcHJvdG9jb2w6IFwiaHR0cFwiLFxyXG4gIC8vIFdlYmRyaXZlcklPIHN1cHBvcnRzIHJ1bm5pbmcgZTJlIHRlc3RzIGFzIHdlbGwgYXMgdW5pdCBhbmQgY29tcG9uZW50IHRlc3RzLlxyXG4gIHJ1bm5lcjogXCJsb2NhbFwiLFxyXG4gIGppcmE6IFwiIFwiLFxyXG4gIGppcmFBdXRoOiBcIiBcIixcclxuICBqZW5raW5zOiBcIiBcIixcclxuICBqb2JOYW1lOiBcImJvZHMtdGVzdC1mbG93XCIsXHJcbiAgLy9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gR29vZ2xlIEFQSSBJbnRlZ3JhdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuICBnQXBpVmVyc2lvbjogXCJ2M1wiLFxyXG4gIGdTaGVldFZlcnNpb246IFwidjRcIixcclxuICBnRHJpdmVGb2xkZXJzOiBbXCIxTjEwaF9aeHdCWjZXT1labXhOMnVhX3NmU0ZnMlREcmZcIl0sIC8vMU8zMnJzVUF6bkJHdjFtcFlkTldYREN5SDExZ2lTRnZkXHJcbiAgZ1NoZWV0SWQ6IFwiMWJNcC0wV0taOEpBYm9LUVdEVHhSaHNiYTFtc3pJeVlIenF4QkJacHNmcXdcIiwgXHJcbiAgLy9cclxuICAvLyA9PT09PT09PT09PT09PT09PT1cclxuICAvLyBTcGVjaWZ5IFRlc3QgRmlsZXNcclxuICAvLyA9PT09PT09PT09PT09PT09PT1cclxuICAvLyBEZWZpbmUgd2hpY2ggdGVzdCBzcGVjcyBzaG91bGQgcnVuLiBUaGUgcGF0dGVybiBpcyByZWxhdGl2ZSB0byB0aGUgZGlyZWN0b3J5XHJcbiAgLy8gZnJvbSB3aGljaCBgd2Rpb2Agd2FzIGNhbGxlZC5cclxuICAvL1xyXG4gIC8vIFRoZSBzcGVjcyBhcmUgZGVmaW5lZCBhcyBhbiBhcnJheSBvZiBzcGVjIGZpbGVzIChvcHRpb25hbGx5IHVzaW5nIHdpbGRjYXJkc1xyXG4gIC8vIHRoYXQgd2lsbCBiZSBleHBhbmRlZCkuIFRoZSB0ZXN0IGZvciBlYWNoIHNwZWMgZmlsZSB3aWxsIGJlIHJ1biBpbiBhIHNlcGFyYXRlXHJcbiAgLy8gd29ya2VyIHByb2Nlc3MuIEluIG9yZGVyIHRvIGhhdmUgYSBncm91cCBvZiBzcGVjIGZpbGVzIHJ1biBpbiB0aGUgc2FtZSB3b3JrZXJcclxuICAvLyBwcm9jZXNzIHNpbXBseSBlbmNsb3NlIHRoZW0gaW4gYW4gYXJyYXkgd2l0aGluIHRoZSBzcGVjcyBhcnJheS5cclxuICAvL1xyXG4gIC8vIElmIHlvdSBhcmUgY2FsbGluZyBgd2Rpb2AgZnJvbSBhbiBOUE0gc2NyaXB0IChzZWUgaHR0cHM6Ly9kb2NzLm5wbWpzLmNvbS9jbGkvcnVuLXNjcmlwdCksXHJcbiAgLy8gdGhlbiB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBpcyB3aGVyZSB5b3VyIGBwYWNrYWdlLmpzb25gIHJlc2lkZXMsIHNvIGB3ZGlvYFxyXG4gIC8vIHdpbGwgYmUgY2FsbGVkIGZyb20gdGhlcmUuXHJcbiAgLy9cclxuICBzcGVjczogW1xyXG4gICAgXCIuL3Rlc3QvKiovc2NyZWVuLyouanNcIixcclxuICAgIFwiLi90ZXN0LyoqL2Z1bGxwYWdlLyouanNcIixcclxuICAgIFwiLi90ZXN0L3NwZWNzL2luaXQuanNcIixcclxuICBdLFxyXG4gIC8vIFBhdHRlcm5zIHRvIGV4Y2x1ZGUuXHJcbiAgZXhjbHVkZTogW1xyXG4gICAgXCIuL3Rlc3QvKiovKi1hbGxwYWdlcy5qc1wiLFxyXG4gICAgXCIuL3Rlc3QvKiovKi5zcGVjLWdlbmVyYXRpb24uanNcIixcclxuICAgIFwiLi90ZXN0LyoqL21vYmlsZS8qLmpzXCIsXHJcbiAgICBcIi4vdGVzdC8qKi9hdXRvbWF0aW9uLXNhbXBsZXMvKiovKi5qc1wiLFxyXG4gICAgLy8gXCIuL3Rlc3QvKiovY2h1Z2FpLyoqLyouanNcIixcclxuICBdLFxyXG4gIHN1aXRlczogc3VpdGVzLFxyXG4gIC8vXHJcbiAgLy8gPT09PT09PT09PT09XHJcbiAgLy8gQ2FwYWJpbGl0aWVzXHJcbiAgLy8gPT09PT09PT09PT09XHJcbiAgLy8gRGVmaW5lIHlvdXIgY2FwYWJpbGl0aWVzIGhlcmUuIFdlYmRyaXZlcklPIGNhbiBydW4gbXVsdGlwbGUgY2FwYWJpbGl0aWVzIGF0IHRoZSBzYW1lXHJcbiAgLy8gdGltZS4gRGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YgY2FwYWJpbGl0aWVzLCBXZWJkcml2ZXJJTyBsYXVuY2hlcyBzZXZlcmFsIHRlc3RcclxuICAvLyBzZXNzaW9ucy4gV2l0aGluIHlvdXIgY2FwYWJpbGl0aWVzIHlvdSBjYW4gb3ZlcndyaXRlIHRoZSBzcGVjIGFuZCBleGNsdWRlIG9wdGlvbnMgaW5cclxuICAvLyBvcmRlciB0byBncm91cCBzcGVjaWZpYyBzcGVjcyB0byBhIHNwZWNpZmljIGNhcGFiaWxpdHkuXHJcbiAgLy9cclxuICAvLyBGaXJzdCwgeW91IGNhbiBkZWZpbmUgaG93IG1hbnkgaW5zdGFuY2VzIHNob3VsZCBiZSBzdGFydGVkIGF0IHRoZSBzYW1lIHRpbWUuIExldCdzXHJcbiAgLy8gc2F5IHlvdSBoYXZlIDMgZGlmZmVyZW50IGNhcGFiaWxpdGllcyAoQ2hyb21lLCBGaXJlZm94LCBhbmQgU2FmYXJpKSBhbmQgeW91IGhhdmVcclxuICAvLyBzZXQgbWF4SW5zdGFuY2VzIHRvIDE7IHdkaW8gd2lsbCBzcGF3biAzIHByb2Nlc3Nlcy4gVGhlcmVmb3JlLCBpZiB5b3UgaGF2ZSAxMCBzcGVjXHJcbiAgLy8gZmlsZXMgYW5kIHlvdSBzZXQgbWF4SW5zdGFuY2VzIHRvIDEwLCBhbGwgc3BlYyBmaWxlcyB3aWxsIGdldCB0ZXN0ZWQgYXQgdGhlIHNhbWUgdGltZVxyXG4gIC8vIGFuZCAzMCBwcm9jZXNzZXMgd2lsbCBnZXQgc3Bhd25lZC4gVGhlIHByb3BlcnR5IGhhbmRsZXMgaG93IG1hbnkgY2FwYWJpbGl0aWVzXHJcbiAgLy8gZnJvbSB0aGUgc2FtZSB0ZXN0IHNob3VsZCBydW4gdGVzdHMuXHJcbiAgLy9cclxuICBtYXhJbnN0YW5jZXM6IDEwLFxyXG4gIC8vXHJcbiAgLy8gSWYgeW91IGhhdmUgdHJvdWJsZSBnZXR0aW5nIGFsbCBpbXBvcnRhbnQgY2FwYWJpbGl0aWVzIHRvZ2V0aGVyLCBjaGVjayBvdXQgdGhlXHJcbiAgLy8gU2F1Y2UgTGFicyBwbGF0Zm9ybSBjb25maWd1cmF0b3IgLSBhIGdyZWF0IHRvb2wgdG8gY29uZmlndXJlIHlvdXIgY2FwYWJpbGl0aWVzOlxyXG4gIC8vIGh0dHBzOi8vc2F1Y2VsYWJzLmNvbS9wbGF0Zm9ybS9wbGF0Zm9ybS1jb25maWd1cmF0b3JcclxuICAvL1xyXG4gIGNhcGFiaWxpdGllczogW1xyXG4gICAge1xyXG4gICAgICBcImN1c3RvbTpjaWRcIjogXCJjaWQuMDAxXCIsXHJcbiAgICAgIG1heEluc3RhbmNlczogMyxcclxuICAgICAgYnJvd3Nlck5hbWU6IFwiY2hyb21lXCIsXHJcbiAgICAgIGFjY2VwdEluc2VjdXJlQ2VydHM6IHRydWUsXHJcbiAgICAgICdnb29nOmNocm9tZU9wdGlvbnMnOiB7XHJcbiAgICAgICAgYXJnczogWyctLW5vLXNhbmRib3gnLCctLWluY29nbml0byddXHJcbiAgICB9XHJcbiAgICB9LFxyXG4gIF0sXHJcbiAgLy9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gVGVzdCBDb25maWd1cmF0aW9uc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT1cclxuICAvLyBEZWZpbmUgYWxsIG9wdGlvbnMgdGhhdCBhcmUgcmVsZXZhbnQgZm9yIHRoZSBXZWJkcml2ZXJJTyBpbnN0YW5jZSBoZXJlXHJcbiAgLy9cclxuICAvLyBMZXZlbCBvZiBsb2dnaW5nIHZlcmJvc2l0eTogdHJhY2UgfCBkZWJ1ZyB8IGluZm8gfCB3YXJuIHwgZXJyb3IgfCBzaWxlbnRcclxuICAvLyBsb2dMZXZlbDogXCJpbmZvXCIsXHJcbiAgLy9cclxuICAvLyBTZXQgc3BlY2lmaWMgbG9nIGxldmVscyBwZXIgbG9nZ2VyXHJcbiAgLy8gbG9nZ2VyczpcclxuICAvLyAtIHdlYmRyaXZlciwgd2ViZHJpdmVyaW9cclxuICAvLyAtIEB3ZGlvL2Jyb3dzZXJzdGFjay1zZXJ2aWNlLCBAd2Rpby9kZXZ0b29scy1zZXJ2aWNlLCBAd2Rpby9zYXVjZS1zZXJ2aWNlXHJcbiAgLy8gLSBAd2Rpby9tb2NoYS1mcmFtZXdvcmssIEB3ZGlvL2phc21pbmUtZnJhbWV3b3JrXHJcbiAgLy8gLSBAd2Rpby9sb2NhbC1ydW5uZXJcclxuICAvLyAtIEB3ZGlvL3N1bW9sb2dpYy1yZXBvcnRlclxyXG4gIC8vIC0gQHdkaW8vY2xpLCBAd2Rpby9jb25maWcsIEB3ZGlvL3V0aWxzXHJcbiAgLy8gTGV2ZWwgb2YgbG9nZ2luZyB2ZXJib3NpdHk6IHRyYWNlIHwgZGVidWcgfCBpbmZvIHwgd2FybiB8IGVycm9yIHwgc2lsZW50XHJcbiAgbG9nTGV2ZWxzOiB7XHJcbiAgICB3ZWJkcml2ZXI6IFwiZXJyb3JcIixcclxuICAgIHdlYmRyaXZlcmlvOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL21vY2hhLWZyYW1ld29ya1wiOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL2xvY2FsLXJ1bm5lclwiOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL2NsaVwiOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL2NvbmZpZ1wiOiBcImVycm9yXCIsXHJcbiAgICBcIkB3ZGlvL3V0aWxzXCI6IFwiZXJyb3JcIixcclxuICAgIFwiQHdkaW8vc3BlYy1yZXBvcnRlclwiOiBcImVycm9yXCIsXHJcbiAgfSxcclxuICAvL1xyXG4gIC8vIElmIHlvdSBvbmx5IHdhbnQgdG8gcnVuIHlvdXIgdGVzdHMgdW50aWwgYSBzcGVjaWZpYyBhbW91bnQgb2YgdGVzdHMgaGF2ZSBmYWlsZWQgdXNlXHJcbiAgLy8gYmFpbCAoZGVmYXVsdCBpcyAwIC0gZG9uJ3QgYmFpbCwgcnVuIGFsbCB0ZXN0cykuXHJcbiAgYmFpbDogMCxcclxuICAvL1xyXG4gIC8vIFNldCBhIGJhc2UgVVJMIGluIG9yZGVyIHRvIHNob3J0ZW4gdXJsIGNvbW1hbmQgY2FsbHMuIElmIHlvdXIgYHVybGAgcGFyYW1ldGVyIHN0YXJ0c1xyXG4gIC8vIHdpdGggYC9gLCB0aGUgYmFzZSB1cmwgZ2V0cyBwcmVwZW5kZWQsIG5vdCBpbmNsdWRpbmcgdGhlIHBhdGggcG9ydGlvbiBvZiB5b3VyIGJhc2VVcmwuXHJcbiAgLy8gSWYgeW91ciBgdXJsYCBwYXJhbWV0ZXIgc3RhcnRzIHdpdGhvdXQgYSBzY2hlbWUgb3IgYC9gIChsaWtlIGBzb21lL3BhdGhgKSwgdGhlIGJhc2UgdXJsXHJcbiAgLy8gZ2V0cyBwcmVwZW5kZWQgZGlyZWN0bHkuXHJcbiAgYmFzZVVybDogXCJcIixcclxuICAvL1xyXG4gIC8vIERlZmF1bHQgdGltZW91dCBmb3IgYWxsIHdhaXRGb3IqIGNvbW1hbmRzLlxyXG4gIHdhaXRmb3JUaW1lb3V0OiAxMDAwMCxcclxuICAvL1xyXG4gIC8vIERlZmF1bHQgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHJlcXVlc3RcclxuICAvLyBpZiBicm93c2VyIGRyaXZlciBvciBncmlkIGRvZXNuJ3Qgc2VuZCByZXNwb25zZVxyXG4gIGNvbm5lY3Rpb25SZXRyeVRpbWVvdXQ6IDE1MDAwMDAwLFxyXG4gIC8vXHJcbiAgLy8gRGVmYXVsdCByZXF1ZXN0IHJldHJpZXMgY291bnRcclxuICBjb25uZWN0aW9uUmV0cnlDb3VudDogMyxcclxuICAvL1xyXG4gIC8vIFRlc3QgcnVubmVyIHNlcnZpY2VzXHJcbiAgLy8gU2VydmljZXMgdGFrZSBvdmVyIGEgc3BlY2lmaWMgam9iIHlvdSBkb24ndCB3YW50IHRvIHRha2UgY2FyZSBvZi4gVGhleSBlbmhhbmNlXHJcbiAgLy8geW91ciB0ZXN0IHNldHVwIHdpdGggYWxtb3N0IG5vIGVmZm9ydC4gVW5saWtlIHBsdWdpbnMsIHRoZXkgZG9uJ3QgYWRkIG5ld1xyXG4gIC8vIGNvbW1hbmRzLiBJbnN0ZWFkLCB0aGV5IGhvb2sgdGhlbXNlbHZlcyB1cCBpbnRvIHRoZSB0ZXN0IHByb2Nlc3MuXHJcbiAgc2VydmljZXM6IFsnY2hyb21lZHJpdmVyJyxbXCJpbWFnZS1jb21wYXJpc29uXCIsIGltZ19jb21wYXJpc29uX2NvbmZpZ10sXSxcclxuXHJcbiAgLy8gRnJhbWV3b3JrIHlvdSB3YW50IHRvIHJ1biB5b3VyIHNwZWNzIHdpdGguXHJcbiAgLy8gVGhlIGZvbGxvd2luZyBhcmUgc3VwcG9ydGVkOiBNb2NoYSwgSmFzbWluZSwgYW5kIEN1Y3VtYmVyXHJcbiAgLy8gc2VlIGFsc286IGh0dHBzOi8vd2ViZHJpdmVyLmlvL2RvY3MvZnJhbWV3b3Jrc1xyXG4gIC8vXHJcbiAgLy8gTWFrZSBzdXJlIHlvdSBoYXZlIHRoZSB3ZGlvIGFkYXB0ZXIgcGFja2FnZSBmb3IgdGhlIHNwZWNpZmljIGZyYW1ld29yayBpbnN0YWxsZWRcclxuICAvLyBiZWZvcmUgcnVubmluZyBhbnkgdGVzdHMuXHJcbiAgZnJhbWV3b3JrOiBcIm1vY2hhXCIsXHJcbiAgLy9cclxuICAvLyBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5IHRoZSBlbnRpcmUgc3BlY2ZpbGUgd2hlbiBpdCBmYWlscyBhcyBhIHdob2xlXHJcbiAgLy8gc3BlY0ZpbGVSZXRyaWVzOiAxLFxyXG4gIC8vXHJcbiAgLy8gRGVsYXkgaW4gc2Vjb25kcyBiZXR3ZWVuIHRoZSBzcGVjIGZpbGUgcmV0cnkgYXR0ZW1wdHNcclxuICAvLyBzcGVjRmlsZVJldHJpZXNEZWxheTogMCxcclxuICAvL1xyXG4gIC8vIFdoZXRoZXIgb3Igbm90IHJldHJpZWQgc3BlY2ZpbGVzIHNob3VsZCBiZSByZXRyaWVkIGltbWVkaWF0ZWx5IG9yIGRlZmVycmVkIHRvIHRoZSBlbmQgb2YgdGhlIHF1ZXVlXHJcbiAgLy8gc3BlY0ZpbGVSZXRyaWVzRGVmZXJyZWQ6IGZhbHNlLFxyXG4gIC8vXHJcbiAgLy8gVGVzdCByZXBvcnRlciBmb3Igc3Rkb3V0LlxyXG4gIC8vIFRoZSBvbmx5IG9uZSBzdXBwb3J0ZWQgYnkgZGVmYXVsdCBpcyAnZG90J1xyXG4gIC8vIHNlZSBhbHNvOiBodHRwczovL3dlYmRyaXZlci5pby9kb2NzL2RvdC1yZXBvcnRlclxyXG4gIHJlcG9ydGVyczogW1wic3BlY1wiLCBbXCJhbGx1cmVcIiwgYWxsdXJlX2NvbmZpZ11dLFxyXG5cclxuICAvL1xyXG4gIC8vIE9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIE1vY2hhLlxyXG4gIC8vIFNlZSB0aGUgZnVsbCBsaXN0IGF0IGh0dHA6Ly9tb2NoYWpzLm9yZy9cclxuICBtb2NoYU9wdHM6IHtcclxuICAgIHVpOiBcImJkZFwiLFxyXG4gICAgdGltZW91dDogMTUwMDAwMDAsXHJcbiAgfSxcclxuICAvL1xyXG4gIC8vID09PT09XHJcbiAgLy8gSG9va3NcclxuICAvLyA9PT09PVxyXG4gIC8vIFdlYmRyaXZlcklPIHByb3ZpZGVzIHNldmVyYWwgaG9va3MgeW91IGNhbiB1c2UgdG8gaW50ZXJmZXJlIHdpdGggdGhlIHRlc3QgcHJvY2VzcyBpbiBvcmRlciB0byBlbmhhbmNlXHJcbiAgLy8gaXQgYW5kIHRvIGJ1aWxkIHNlcnZpY2VzIGFyb3VuZCBpdC4gWW91IGNhbiBlaXRoZXIgYXBwbHkgYSBzaW5nbGUgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2ZcclxuICAvLyBtZXRob2RzIHRvIGl0LiBJZiBvbmUgb2YgdGhlbSByZXR1cm5zIHdpdGggYSBwcm9taXNlLCBXZWJkcml2ZXJJTyB3aWxsIHdhaXQgdW50aWwgdGhhdCBwcm9taXNlIGdvdFxyXG4gIC8vIHJlc29sdmVkIHRvIGNvbnRpbnVlLlxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXhlY3V0ZWQgb25jZSBiZWZvcmUgYWxsIHdvcmtlcnMgZ2V0IGxhdW5jaGVkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgd2RpbyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPE9iamVjdD59IGNhcGFiaWxpdGllcyBsaXN0IG9mIGNhcGFiaWxpdGllcyBkZXRhaWxzXHJcbiAgICovXHJcbiAgb25QcmVwYXJlOiBhc3luYyBmdW5jdGlvbiAoY29uZmlnLCBjYXBhYmlsaXRpZXMpIHt9LFxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXhlY3V0ZWQgYmVmb3JlIGEgd29ya2VyIHByb2Nlc3MgaXMgc3Bhd25lZCBhbmQgY2FuIGJlIHVzZWQgdG8gaW5pdGlhbGlzZSBzcGVjaWZpYyBzZXJ2aWNlXHJcbiAgICogZm9yIHRoYXQgd29ya2VyIGFzIHdlbGwgYXMgbW9kaWZ5IHJ1bnRpbWUgZW52aXJvbm1lbnRzIGluIGFuIGFzeW5jIGZhc2hpb24uXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBjaWQgICAgICBjYXBhYmlsaXR5IGlkIChlLmcgMC0wKVxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gY2FwcyAgICAgb2JqZWN0IGNvbnRhaW5pbmcgY2FwYWJpbGl0aWVzIGZvciBzZXNzaW9uIHRoYXQgd2lsbCBiZSBzcGF3biBpbiB0aGUgd29ya2VyXHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSBzcGVjcyAgICBzcGVjcyB0byBiZSBydW4gaW4gdGhlIHdvcmtlciBwcm9jZXNzXHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSBhcmdzICAgICBvYmplY3QgdGhhdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSBtYWluIGNvbmZpZ3VyYXRpb24gb25jZSB3b3JrZXIgaXMgaW5pdGlhbGl6ZWRcclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGV4ZWNBcmd2IGxpc3Qgb2Ygc3RyaW5nIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIHdvcmtlciBwcm9jZXNzXHJcbiAgICovXHJcbiAgb25Xb3JrZXJTdGFydDogYXN5bmMgZnVuY3Rpb24gKGNpZCwgY2Fwcywgc3BlY3MsIGFyZ3MsIGV4ZWNBcmd2KSB7XHJcbiAgICAvLyBHRU5FUkFURSBDQVBBQklMSVRJRVNcclxuICAgIGF3YWl0IGNhcEhhbmRsZXIuZ2VuZXJhdGVDYXBhYmlsaXRpZXMoc3BlY3MsIGNhcHMpO1xyXG4gICAgaWYgKHR5cGVvZiBjYXBzW1wiYXBwaXVtOmRldmljZU5hbWVcIl0gPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgY2Fwc1tcImFwcGl1bTpkZXZpY2VOYW1lXCJdID0gXCJ1bmRlZmluZWRcIjtcclxuXHJcbiAgICAvLyBBVVRPIEZJWCBDT0RFXHJcbiAgICBob29rQ3VzdG9tLmF1dG9GaXhDb2RlKHNwZWNzKTtcclxuXHJcbiAgICAvLyBJTklUIE5FVyBQUk9KRUNUIC0tLSBCQVNFIE9OIERBVEEgSlNPTlxyXG4gICAgaG9va0N1c3RvbS5pbml0UHJvamVjdChzcGVjcyk7XHJcblxyXG4gICAgLy8gQ09OVkVSVCBURVNUIENBU0VTIFRPIEpTT05cclxuICAgIGhvb2tDdXN0b20udGMyanNvbihzcGVjcyk7XHJcblxyXG4gICAgLy8gVVBEQVRFIENPREVTIFZFUlNJT05cclxuICAgIC8vIGF3YWl0IGhvb2tDdXN0b20udXBkYXRlQ29kZVZlcnNpb24oc3BlY3MpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCBqdXN0IGFmdGVyIGEgd29ya2VyIHByb2Nlc3MgaGFzIGV4aXRlZC5cclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNpZCAgICAgIGNhcGFiaWxpdHkgaWQgKGUuZyAwLTApXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBleGl0Q29kZSAwIC0gc3VjY2VzcywgMSAtIGZhaWxcclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IHNwZWNzICAgIHNwZWNzIHRvIGJlIHJ1biBpbiB0aGUgd29ya2VyIHByb2Nlc3NcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHJldHJpZXMgIG51bWJlciBvZiByZXRyaWVzIHVzZWRcclxuICAgKi9cclxuICAvLyBvbldvcmtlckVuZDogZnVuY3Rpb24gKGNpZCwgZXhpdENvZGUsIHNwZWNzLCByZXRyaWVzKSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIGp1c3QgYmVmb3JlIGluaXRpYWxpc2luZyB0aGUgd2ViZHJpdmVyIHNlc3Npb24gYW5kIHRlc3QgZnJhbWV3b3JrLiBJdCBhbGxvd3MgeW91XHJcbiAgICogdG8gbWFuaXB1bGF0ZSBjb25maWd1cmF0aW9ucyBkZXBlbmRpbmcgb24gdGhlIGNhcGFiaWxpdHkgb3Igc3BlYy5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIHdkaW8gY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBjYXBhYmlsaXRpZXMgbGlzdCBvZiBjYXBhYmlsaXRpZXMgZGV0YWlsc1xyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHNwZWNzIExpc3Qgb2Ygc3BlYyBmaWxlIHBhdGhzIHRoYXQgYXJlIHRvIGJlIHJ1blxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaWQgd29ya2VyIGlkIChlLmcuIDAtMClcclxuICAgKi9cclxuICAvLyBiZWZvcmVTZXNzaW9uOiBmdW5jdGlvbiAoY29uZmlnLCBjYXBhYmlsaXRpZXMsIHNwZWNzLCBjaWQpIHtcclxuICAvLyB9LFxyXG4gIC8qKlxyXG4gICAqIEdldHMgZXhlY3V0ZWQgYmVmb3JlIHRlc3QgZXhlY3V0aW9uIGJlZ2lucy4gQXQgdGhpcyBwb2ludCB5b3UgY2FuIGFjY2VzcyB0byBhbGwgZ2xvYmFsXHJcbiAgICogdmFyaWFibGVzIGxpa2UgYGJyb3dzZXJgLiBJdCBpcyB0aGUgcGVyZmVjdCBwbGFjZSB0byBkZWZpbmUgY3VzdG9tIGNvbW1hbmRzLlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPE9iamVjdD59IGNhcGFiaWxpdGllcyBsaXN0IG9mIGNhcGFiaWxpdGllcyBkZXRhaWxzXHJcbiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gc3BlY3MgICAgICAgIExpc3Qgb2Ygc3BlYyBmaWxlIHBhdGhzIHRoYXQgYXJlIHRvIGJlIHJ1blxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgIGJyb3dzZXIgICAgICBpbnN0YW5jZSBvZiBjcmVhdGVkIGJyb3dzZXIvZGV2aWNlIHNlc3Npb25cclxuICAgKi9cclxuICBiZWZvcmU6IGFzeW5jIGZ1bmN0aW9uIChjYXBhYmlsaXRpZXMsIHNwZWNzKSB7XHJcbiAgICBhd2FpdCBicm93c2VyLm1heGltaXplV2luZG93KCk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBSdW5zIGJlZm9yZSBhIFdlYmRyaXZlcklPIGNvbW1hbmQgZ2V0cyBleGVjdXRlZC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZE5hbWUgaG9vayBjb21tYW5kIG5hbWVcclxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIGFyZ3VtZW50cyB0aGF0IGNvbW1hbmQgd291bGQgcmVjZWl2ZVxyXG4gICAqL1xyXG4gIC8vIGJlZm9yZUNvbW1hbmQ6IGZ1bmN0aW9uIChjb21tYW5kTmFtZSwgYXJncykge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogSG9vayB0aGF0IGdldHMgZXhlY3V0ZWQgYmVmb3JlIHRoZSBzdWl0ZSBzdGFydHNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3VpdGUgc3VpdGUgZGV0YWlsc1xyXG4gICAqL1xyXG4gIC8vIGJlZm9yZVN1aXRlOiBmdW5jdGlvbiAoc3VpdGUpIHtcclxuICAvLyB9LFxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGJlZm9yZSBhIHRlc3QgKGluIE1vY2hhL0phc21pbmUpIHN0YXJ0cy5cclxuICAgKi9cclxuICBiZWZvcmVUZXN0OiBmdW5jdGlvbiAodGVzdCwgY29udGV4dCkge30sXHJcbiAgLyoqXHJcbiAgICogSG9vayB0aGF0IGdldHMgZXhlY3V0ZWQgX2JlZm9yZV8gYSBob29rIHdpdGhpbiB0aGUgc3VpdGUgc3RhcnRzIChlLmcuIHJ1bnMgYmVmb3JlIGNhbGxpbmdcclxuICAgKiBiZWZvcmVFYWNoIGluIE1vY2hhKVxyXG4gICAqL1xyXG4gIC8vIGJlZm9yZUhvb2s6IGZ1bmN0aW9uICh0ZXN0LCBjb250ZXh0KSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBIb29rIHRoYXQgZ2V0cyBleGVjdXRlZCBfYWZ0ZXJfIGEgaG9vayB3aXRoaW4gdGhlIHN1aXRlIHN0YXJ0cyAoZS5nLiBydW5zIGFmdGVyIGNhbGxpbmdcclxuICAgKiBhZnRlckVhY2ggaW4gTW9jaGEpXHJcbiAgICovXHJcbiAgLy8gYWZ0ZXJIb29rOiBmdW5jdGlvbiAodGVzdCwgY29udGV4dCwgeyBlcnJvciwgcmVzdWx0LCBkdXJhdGlvbiwgcGFzc2VkLCByZXRyaWVzIH0pIHtcclxuICAvLyB9LFxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGEgdGVzdCAoaW4gTW9jaGEvSmFzbWluZSBvbmx5KVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgdGVzdCAgICAgICAgICAgICB0ZXN0IG9iamVjdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgY29udGV4dCAgICAgICAgICBzY29wZSBvYmplY3QgdGhlIHRlc3Qgd2FzIGV4ZWN1dGVkIHdpdGhcclxuICAgKiBAcGFyYW0ge0Vycm9yfSAgIHJlc3VsdC5lcnJvciAgICAgZXJyb3Igb2JqZWN0IGluIGNhc2UgdGhlIHRlc3QgZmFpbHMsIG90aGVyd2lzZSBgdW5kZWZpbmVkYFxyXG4gICAqIEBwYXJhbSB7QW55fSAgICAgcmVzdWx0LnJlc3VsdCAgICByZXR1cm4gb2JqZWN0IG9mIHRlc3QgZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge051bWJlcn0gIHJlc3VsdC5kdXJhdGlvbiAgZHVyYXRpb24gb2YgdGVzdFxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdWx0LnBhc3NlZCAgICB0cnVlIGlmIHRlc3QgaGFzIHBhc3NlZCwgb3RoZXJ3aXNlIGZhbHNlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9ICByZXN1bHQucmV0cmllcyAgIGluZm9ybWF0aW9ucyB0byBzcGVjIHJlbGF0ZWQgcmV0cmllcywgZS5nLiBgeyBhdHRlbXB0czogMCwgbGltaXQ6IDAgfWBcclxuICAgKi9cclxuICBhZnRlclRlc3Q6IGFzeW5jIGZ1bmN0aW9uIChcclxuICAgIHRlc3QsXHJcbiAgICBjb250ZXh0LFxyXG4gICAgeyBlcnJvciwgcmVzdWx0LCBkdXJhdGlvbiwgcGFzc2VkLCByZXRyaWVzIH1cclxuICApIHtcclxuICAgIGF3YWl0IGFsbHVyZUN1c3RvbS5ncm91cFRlc3QodGVzdC5maWxlLCB0ZXN0LnRpdGxlKTtcclxuICAgIGF3YWl0IGppcmFJbnRlZ3JhdGlvbi5qb2JzKHRlc3QuZmlsZSwgdGVzdC50aXRsZSwgcGFzc2VkLCBlcnJvcik7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogSG9vayB0aGF0IGdldHMgZXhlY3V0ZWQgYWZ0ZXIgdGhlIHN1aXRlIGhhcyBlbmRlZFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdWl0ZSBzdWl0ZSBkZXRhaWxzXHJcbiAgICovXHJcbiAgLy8gYWZ0ZXJTdWl0ZTogZnVuY3Rpb24gKHN1aXRlKSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBSdW5zIGFmdGVyIGEgV2ViZHJpdmVySU8gY29tbWFuZCBnZXRzIGV4ZWN1dGVkXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbW1hbmROYW1lIGhvb2sgY29tbWFuZCBuYW1lXHJcbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBhcmd1bWVudHMgdGhhdCBjb21tYW5kIHdvdWxkIHJlY2VpdmVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVzdWx0IDAgLSBjb21tYW5kIHN1Y2Nlc3MsIDEgLSBjb21tYW5kIGVycm9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yIGVycm9yIG9iamVjdCBpZiBhbnlcclxuICAgKi9cclxuICAvLyBhZnRlckNvbW1hbmQ6IGZ1bmN0aW9uIChjb21tYW5kTmFtZSwgYXJncywgcmVzdWx0LCBlcnJvcikge1xyXG4gIC8vIH0sXHJcbiAgLyoqXHJcbiAgICogR2V0cyBleGVjdXRlZCBhZnRlciBhbGwgdGVzdHMgYXJlIGRvbmUuIFlvdSBzdGlsbCBoYXZlIGFjY2VzcyB0byBhbGwgZ2xvYmFsIHZhcmlhYmxlcyBmcm9tXHJcbiAgICogdGhlIHRlc3QuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc3VsdCAwIC0gdGVzdCBwYXNzLCAxIC0gdGVzdCBmYWlsXHJcbiAgICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gY2FwYWJpbGl0aWVzIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIGRldGFpbHNcclxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBzcGVjcyBMaXN0IG9mIHNwZWMgZmlsZSBwYXRocyB0aGF0IHJhblxyXG4gICAqL1xyXG4gIGFmdGVyOiBmdW5jdGlvbiAocmVzdWx0LCBjYXBhYmlsaXRpZXMsIHNwZWNzKSB7fSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIHJpZ2h0IGFmdGVyIHRlcm1pbmF0aW5nIHRoZSB3ZWJkcml2ZXIgc2Vzc2lvbi5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIHdkaW8gY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBjYXBhYmlsaXRpZXMgbGlzdCBvZiBjYXBhYmlsaXRpZXMgZGV0YWlsc1xyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHNwZWNzIExpc3Qgb2Ygc3BlYyBmaWxlIHBhdGhzIHRoYXQgcmFuXHJcbiAgICovXHJcbiAgLy8gYWZ0ZXJTZXNzaW9uOiBmdW5jdGlvbiAoY29uZmlnLCBjYXBhYmlsaXRpZXMsIHNwZWNzKSB7XHJcbiAgLy8gfSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIGFmdGVyIGFsbCB3b3JrZXJzIGdvdCBzaHV0IGRvd24gYW5kIHRoZSBwcm9jZXNzIGlzIGFib3V0IHRvIGV4aXQuIEFuIGVycm9yXHJcbiAgICogdGhyb3duIGluIHRoZSBvbkNvbXBsZXRlIGhvb2sgd2lsbCByZXN1bHQgaW4gdGhlIHRlc3QgcnVuIGZhaWxpbmcuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV4aXRDb2RlIDAgLSBzdWNjZXNzLCAxIC0gZmFpbFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgd2RpbyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPE9iamVjdD59IGNhcGFiaWxpdGllcyBsaXN0IG9mIGNhcGFiaWxpdGllcyBkZXRhaWxzXHJcbiAgICogQHBhcmFtIHs8T2JqZWN0Pn0gcmVzdWx0cyBvYmplY3QgY29udGFpbmluZyB0ZXN0IHJlc3VsdHNcclxuICAgKi9cclxuICAvLyBvbkNvbXBsZXRlOiBhc3luYyBmdW5jdGlvbiAoZXhpdENvZGUsIGNvbmZpZywgY2FwYWJpbGl0aWVzLCByZXN1bHRzKSB7fSxcclxuICAvKipcclxuICAgKiBHZXRzIGV4ZWN1dGVkIHdoZW4gYSByZWZyZXNoIGhhcHBlbnMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9sZFNlc3Npb25JZCBzZXNzaW9uIElEIG9mIHRoZSBvbGQgc2Vzc2lvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTZXNzaW9uSWQgc2Vzc2lvbiBJRCBvZiB0aGUgbmV3IHNlc3Npb25cclxuICAgKi9cclxuICAvLyBvblJlbG9hZDogZnVuY3Rpb24ob2xkU2Vzc2lvbklkLCBuZXdTZXNzaW9uSWQpIHtcclxuICAvLyB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDOUMsTUFBTUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFDbEQsTUFBTUUsZUFBZSxHQUFHRixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDbkQsTUFBTUcsVUFBVSxHQUFHSCxPQUFPLENBQUMseUJBQXlCLENBQUM7QUFFckQsSUFBSUkscUJBQXFCLEdBQUdMLFVBQVUsQ0FBQ00sbUJBQW1CLENBQUMsQ0FBQztBQUM1RCxJQUFJQyxhQUFhLEdBQUdQLFVBQVUsQ0FBQ1EsZUFBZSxDQUFDLENBQUM7QUFDaEQsSUFBSUMsTUFBTSxHQUFHVCxVQUFVLENBQUNVLFNBQVMsQ0FBQyxDQUFDO0FBRW5DQyxPQUFPLENBQUNDLE1BQU0sR0FBRztFQUNmO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsUUFBUSxFQUFFLFdBQVc7RUFDckJDLElBQUksRUFBRSxJQUFJO0VBQ1ZDLElBQUksRUFBRSxVQUFVO0VBQ2hCQyxRQUFRLEVBQUUsTUFBTTtFQUNoQjtFQUNBQyxNQUFNLEVBQUUsT0FBTztFQUNmQyxJQUFJLEVBQUUsR0FBRztFQUNUQyxRQUFRLEVBQUUsR0FBRztFQUNiQyxPQUFPLEVBQUUsR0FBRztFQUNaQyxPQUFPLEVBQUUs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","map":{"version":3,"names":["hookCustom","require","allureCustom","jiraIntegration","capHandler","img_comparison_config","getWebCompareConfig","allure_config","getAllureConfig","suites","getSuites","exports","config","hostname","port","path","protocol","runner","jira","jiraAuth","jenkins","jobName","gApiVersion","gSheetVersion","gDriveFolders","gSheetId","specs","exclude","maxInstances","capabilities","browserName","acceptInsecureCerts","args","logLevels","webdriver","webdriverio","bail","baseUrl","waitforTimeout","connectionRetryTimeout","connectionRetryCount","services","framework","reporters","mochaOpts","ui","timeout","onPrepare","onWorkerStart","cid","caps","execArgv","generateCapabilities","autoFixCode","initProject","tc2json","before","browser","maximizeWindow","beforeTest","test","context","afterTest","error","result","duration","passed","retries","groupTest","file","title","jobs","after"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\","sources":["wdio.conf.js"],"sourcesContent":["const hookCustom = require(\"./utils/lib/hook\");\r\nconst allureCustom = require(\"./utils/lib/allure\");\r\nconst jiraIntegration = require(\"./utils/lib/jira\");\r\nconst capHandler = require(\"./utils/lib/cap_handler\");\r\n\r\nlet img_comparison_config = hookCustom.getWebCompareConfig();\r\nlet allure_config = hookCustom.getAllureConfig();\r\nlet suites = hookCustom.getSuites();\r\n\r\nexports.config = {\r\n  //\r\n  // ====================\r\n  // Runner Configuration\r\n  // ====================\r\n  // remote selenium grid config\r\n  hostname: \"localhost\",\r\n  port: 4444,\r\n  path: \"/wd/hub/\",\r\n  protocol: \"http\",\r\n  // WebdriverIO supports running e2e tests as well as unit and component tests.\r\n  runner: \"local\",\r\n  jira: \" \",\r\n  jiraAuth: \" \",\r\n  jenkins: \" \",\r\n  jobName: \"bods-test-flow\",\r\n  //\r\n  // ======================\r\n  // Google API Integration\r\n  // ======================\r\n  gApiVersion: \"v3\",\r\n  gSheetVersion: \"v4\",\r\n  gDriveFolders: [\"1N10h_ZxwBZ6WOYZmxN2ua_sfSFg2TDrf\"], //1O32rsUAznBGv1mpYdNWXDCyH11giSFvd\r\n  gSheetId: \"1bMp-0WKZ8JAboKQWDTxRhsba1mszIyYHzqxBBZpsfqw\", \r\n  //\r\n  // ==================\r\n  // Specify Test Files\r\n  // ==================\r\n  // Define which test specs should run. The pattern is relative to the directory\r\n  // from which `wdio` was called.\r\n  //\r\n  // The specs are defined as an array of spec files (optionally using wildcards\r\n  // that will be expanded). The test for each spec file will be run in a separate\r\n  // worker process. In order to have a group of spec files run in the same worker\r\n  // process simply enclose them in an array within the specs array.\r\n  //\r\n  // If you are calling `wdio` from an NPM script (see https://docs.npmjs.com/cli/run-script),\r\n  // then the current working directory is where your `package.json` resides, so `wdio`\r\n  // will be called from there.\r\n  //\r\n  specs: [\r\n    \"./test/**/screen/*.js\",\r\n    \"./test/**/fullpage/*.js\",\r\n    \"./test/specs/init.js\",\r\n  ],\r\n  // Patterns to exclude.\r\n  exclude: [\r\n    \"./test/**/*-allpages.js\",\r\n    \"./test/**/*.spec-generation.js\",\r\n    \"./test/**/mobile/*.js\",\r\n    \"./test/**/automation-samples/**/*.js\",\r\n    // \"./test/**/chugai/**/*.js\",\r\n  ],\r\n  suites: suites,\r\n  //\r\n  // ============\r\n  // Capabilities\r\n  // ============\r\n  // Define your capabilities here. WebdriverIO can run multiple capabilities at the same\r\n  // time. Depending on the number of capabilities, WebdriverIO launches several test\r\n  // sessions. Within your capabilities you can overwrite the spec and exclude options in\r\n  // order to group specific specs to a specific capability.\r\n  //\r\n  // First, you can define how many instances should be started at the same time. Let's\r\n  // say you have 3 different capabilities (Chrome, Firefox, and Safari) and you have\r\n  // set maxInstances to 1; wdio will spawn 3 processes. Therefore, if you have 10 spec\r\n  // files and you set maxInstances to 10, all spec files will get tested at the same time\r\n  // and 30 processes will get spawned. The property handles how many capabilities\r\n  // from the same test should run tests.\r\n  //\r\n  maxInstances: 10,\r\n  //\r\n  // If you have trouble getting all important capabilities together, check out the\r\n  // Sauce Labs platform configurator - a great tool to configure your capabilities:\r\n  // https://saucelabs.com/platform/platform-configurator\r\n  //\r\n  capabilities: [\r\n    {\r\n      \"custom:cid\": \"cid.001\",\r\n      maxInstances: 3,\r\n      browserName: \"chrome\",\r\n      acceptInsecureCerts: true,\r\n      'goog:chromeOptions': {\r\n        args: ['--no-sandbox','--incognito']\r\n    }\r\n    },\r\n  ],\r\n  //\r\n  // ===================\r\n  // Test Configurations\r\n  // ===================\r\n  // Define all options that are relevant for the WebdriverIO instance here\r\n  //\r\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\r\n  // logLevel: \"info\",\r\n  //\r\n  // Set specific log levels per logger\r\n  // loggers:\r\n  // - webdriver, webdriverio\r\n  // - @wdio/browserstack-service, @wdio/devtools-service, @wdio/sauce-service\r\n  // - @wdio/mocha-framework, @wdio/jasmine-framework\r\n  // - @wdio/local-runner\r\n  // - @wdio/sumologic-reporter\r\n  // - @wdio/cli, @wdio/config, @wdio/utils\r\n  // Level of logging verbosity: trace | debug | info | warn | error | silent\r\n  logLevels: {\r\n    webdriver: \"error\",\r\n    webdriverio: \"error\",\r\n    \"@wdio/mocha-framework\": \"error\",\r\n    \"@wdio/local-runner\": \"error\",\r\n    \"@wdio/cli\": \"error\",\r\n    \"@wdio/config\": \"error\",\r\n    \"@wdio/utils\": \"error\",\r\n    \"@wdio/spec-reporter\": \"error\",\r\n  },\r\n  //\r\n  // If you only want to run your tests until a specific amount of tests have failed use\r\n  // bail (default is 0 - don't bail, run all tests).\r\n  bail: 0,\r\n  //\r\n  // Set a base URL in order to shorten url command calls. If your `url` parameter starts\r\n  // with `/`, the base url gets prepended, not including the path portion of your baseUrl.\r\n  // If your `url` parameter starts without a scheme or `/` (like `some/path`), the base url\r\n  // gets prepended directly.\r\n  baseUrl: \"\",\r\n  //\r\n  // Default timeout for all waitFor* commands.\r\n  waitforTimeout: 10000,\r\n  //\r\n  // Default timeout in milliseconds for request\r\n  // if browser driver or grid doesn't send response\r\n  connectionRetryTimeout: 15000000,\r\n  //\r\n  // Default request retries count\r\n  connectionRetryCount: 3,\r\n  //\r\n  // Test runner services\r\n  // Services take over a specific job you don't want to take care of. They enhance\r\n  // your test setup with almost no effort. Unlike plugins, they don't add new\r\n  // commands. Instead, they hook themselves up into the test process.\r\n  services: ['chromedriver',[\"image-comparison\", img_comparison_config],],\r\n\r\n  // Framework you want to run your specs with.\r\n  // The following are supported: Mocha, Jasmine, and Cucumber\r\n  // see also: https://webdriver.io/docs/frameworks\r\n  //\r\n  // Make sure you have the wdio adapter package for the specific framework installed\r\n  // before running any tests.\r\n  framework: \"mocha\",\r\n  //\r\n  // The number of times to retry the entire specfile when it fails as a whole\r\n  // specFileRetries: 1,\r\n  //\r\n  // Delay in seconds between the spec file retry attempts\r\n  // specFileRetriesDelay: 0,\r\n  //\r\n  // Whether or not retried specfiles should be retried immediately or deferred to the end of the queue\r\n  // specFileRetriesDeferred: false,\r\n  //\r\n  // Test reporter for stdout.\r\n  // The only one supported by default is 'dot'\r\n  // see also: https://webdriver.io/docs/dot-reporter\r\n  reporters: [\"spec\", [\"allure\", allure_config]],\r\n\r\n  //\r\n  // Options to be passed to Mocha.\r\n  // See the full list at http://mochajs.org/\r\n  mochaOpts: {\r\n    ui: \"bdd\",\r\n    timeout: 15000000,\r\n  },\r\n  //\r\n  // =====\r\n  // Hooks\r\n  // =====\r\n  // WebdriverIO provides several hooks you can use to interfere with the test process in order to enhance\r\n  // it and to build services around it. You can either apply a single function or an array of\r\n  // methods to it. If one of them returns with a promise, WebdriverIO will wait until that promise got\r\n  // resolved to continue.\r\n  /**\r\n   * Gets executed once before all workers get launched.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   */\r\n  onPrepare: async function (config, capabilities) {},\r\n  /**\r\n   * Gets executed before a worker process is spawned and can be used to initialise specific service\r\n   * for that worker as well as modify runtime environments in an async fashion.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {[type]} caps     object containing capabilities for session that will be spawn in the worker\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {[type]} args     object that will be merged with the main configuration once worker is initialized\r\n   * @param  {[type]} execArgv list of string arguments passed to the worker process\r\n   */\r\n  onWorkerStart: async function (cid, caps, specs, args, execArgv) {\r\n    // GENERATE CAPABILITIES\r\n    await capHandler.generateCapabilities(specs, caps);\r\n    if (typeof caps[\"appium:deviceName\"] == \"undefined\")\r\n      caps[\"appium:deviceName\"] = \"undefined\";\r\n\r\n    // AUTO FIX CODE\r\n    hookCustom.autoFixCode(specs);\r\n\r\n    // INIT NEW PROJECT --- BASE ON DATA JSON\r\n    hookCustom.initProject(specs);\r\n\r\n    // CONVERT TEST CASES TO JSON\r\n    hookCustom.tc2json(specs);\r\n\r\n    // UPDATE CODES VERSION\r\n    // await hookCustom.updateCodeVersion(specs);\r\n  },\r\n  /**\r\n   * Gets executed just after a worker process has exited.\r\n   * @param  {String} cid      capability id (e.g 0-0)\r\n   * @param  {Number} exitCode 0 - success, 1 - fail\r\n   * @param  {[type]} specs    specs to be run in the worker process\r\n   * @param  {Number} retries  number of retries used\r\n   */\r\n  // onWorkerEnd: function (cid, exitCode, specs, retries) {\r\n  // },\r\n  /**\r\n   * Gets executed just before initialising the webdriver session and test framework. It allows you\r\n   * to manipulate configurations depending on the capability or spec.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that are to be run\r\n   * @param {String} cid worker id (e.g. 0-0)\r\n   */\r\n  // beforeSession: function (config, capabilities, specs, cid) {\r\n  // },\r\n  /**\r\n   * Gets executed before test execution begins. At this point you can access to all global\r\n   * variables like `browser`. It is the perfect place to define custom commands.\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs        List of spec file paths that are to be run\r\n   * @param {Object}         browser      instance of created browser/device session\r\n   */\r\n  before: async function (capabilities, specs) {\r\n    await browser.maximizeWindow();\r\n  },\r\n  /**\r\n   * Runs before a WebdriverIO command gets executed.\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   */\r\n  // beforeCommand: function (commandName, args) {\r\n  // },\r\n  /**\r\n   * Hook that gets executed before the suite starts\r\n   * @param {Object} suite suite details\r\n   */\r\n  // beforeSuite: function (suite) {\r\n  // },\r\n  /**\r\n   * Function to be executed before a test (in Mocha/Jasmine) starts.\r\n   */\r\n  beforeTest: function (test, context) {},\r\n  /**\r\n   * Hook that gets executed _before_ a hook within the suite starts (e.g. runs before calling\r\n   * beforeEach in Mocha)\r\n   */\r\n  // beforeHook: function (test, context) {\r\n  // },\r\n  /**\r\n   * Hook that gets executed _after_ a hook within the suite starts (e.g. runs after calling\r\n   * afterEach in Mocha)\r\n   */\r\n  // afterHook: function (test, context, { error, result, duration, passed, retries }) {\r\n  // },\r\n  /**\r\n   * Function to be executed after a test (in Mocha/Jasmine only)\r\n   * @param {Object}  test             test object\r\n   * @param {Object}  context          scope object the test was executed with\r\n   * @param {Error}   result.error     error object in case the test fails, otherwise `undefined`\r\n   * @param {Any}     result.result    return object of test function\r\n   * @param {Number}  result.duration  duration of test\r\n   * @param {Boolean} result.passed    true if test has passed, otherwise false\r\n   * @param {Object}  result.retries   informations to spec related retries, e.g. `{ attempts: 0, limit: 0 }`\r\n   */\r\n  afterTest: async function (\r\n    test,\r\n    context,\r\n    { error, result, duration, passed, retries }\r\n  ) {\r\n    await allureCustom.groupTest(test.file, test.title);\r\n    await jiraIntegration.jobs(test.file, test.title, passed, error);\r\n  },\r\n\r\n  /**\r\n   * Hook that gets executed after the suite has ended\r\n   * @param {Object} suite suite details\r\n   */\r\n  // afterSuite: function (suite) {\r\n  // },\r\n  /**\r\n   * Runs after a WebdriverIO command gets executed\r\n   * @param {String} commandName hook command name\r\n   * @param {Array} args arguments that command would receive\r\n   * @param {Number} result 0 - command success, 1 - command error\r\n   * @param {Object} error error object if any\r\n   */\r\n  // afterCommand: function (commandName, args, result, error) {\r\n  // },\r\n  /**\r\n   * Gets executed after all tests are done. You still have access to all global variables from\r\n   * the test.\r\n   * @param {Number} result 0 - test pass, 1 - test fail\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\r\n  after: function (result, capabilities, specs) {},\r\n  /**\r\n   * Gets executed right after terminating the webdriver session.\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {Array.<String>} specs List of spec file paths that ran\r\n   */\r\n  // afterSession: function (config, capabilities, specs) {\r\n  // },\r\n  /**\r\n   * Gets executed after all workers got shut down and the process is about to exit. An error\r\n   * thrown in the onComplete hook will result in the test run failing.\r\n   * @param {Object} exitCode 0 - success, 1 - fail\r\n   * @param {Object} config wdio configuration object\r\n   * @param {Array.<Object>} capabilities list of capabilities details\r\n   * @param {<Object>} results object containing test results\r\n   */\r\n  // onComplete: async function (exitCode, config, capabilities, results) {},\r\n  /**\r\n   * Gets executed when a refresh happens.\r\n   * @param {String} oldSessionId session ID of the old session\r\n   * @param {String} newSessionId session ID of the new session\r\n   */\r\n  // onReload: function(oldSessionId, newSessionId) {\r\n  // }\r\n};\r\n"],"mappings":"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K,EAAEwB,IAAI,CAAC;IAClD,IAAI,OAAOA,IAAI,CAAC,mBAAmB,CAAC,IAAI,WAAW,EACjDA,IAAI,CAAC,mBAAmB,CAAC,GAAG,WAAW;;IAEzC;IACAlD,UAAU,CAACqD,WAAW,CAAC3B,KAAK,CAAC;;IAE7B;IACA1B,UAAU,CAACsD,WAAW,CAAC5B,KAAK,CAAC;;IAE7B;IACA1B,UAAU,CAACuD,OAAO,CAAC7B,KAAK,CAAC;;IAEzB;IACA;EACF,CAAC;;EACD;AACF;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACE8B,MAAM,EAAE,eAAAA,CAAgB3B,YAAY,EAAEH,KAAK,EAAE;IAC3C,MAAM+B,OAAO,CAACC,cAAc,CAAC,CAAC;EAChC,CAAC;EACD;AACF;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;EACEC,UAAU,EAAE,SAAAA,CAAUC,IAAI,EAAEC,OAAO,EAAE,CAAC,CAAC;EACvC;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,SAAS,EAAE,eAAAA,CACTF,IAAI,EACJC,OAAO,EACP;IAAEE,KAAK;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,MAAM;IAAEC;EAAQ,CAAC,EAC5C;IACA,MAAMjE,YAAY,CAACkE,SAAS,CAACR,IAAI,CAACS,IAAI,EAAET,IAAI,CAACU,KAAK,CAAC;IACnD,MAAMnE,eAAe,CAACoE,IAAI,CAACX,IAAI,CAACS,IAAI,EAAET,IAAI,CAACU,KAAK,EAAEJ,MAAM,EAAEH,KAAK,CAAC;EAClE,CAAC;EAED;AACF;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACES,KAAK,EAAE,SAAAA,CAAUR,MAAM,EAAEnC,YAAY,EAAEH,KAAK,EAAE,CAAC;EAC/C;AACF;AACA;AACA;AACA;AACA;EACE;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EACA;AACF;AACA;AACA;AACA;EACE;EACA;AACF,CAAC"}},"mtime":1704461795813},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\hook.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const dataHandler = require(\"./data_handler\");\nconst utils = require(\"./../utils\");\nconst common = require(\"./../common\");\nclass hookCustom {\n  constructor() {\n    this.mobile_compare_config = {\n      imageNameFormat: \"{tag}\",\n      screenshotPath: `.tmp/`,\n      savePerDevice: true,\n      autoSaveBaseline: true,\n      blockOutStatusBar: true,\n      blockOutIphoneHomeBar: true,\n      blockOutNavigationBar: true\n      // baselineFolder: this.getMobileBaselineFolder(),\n    };\n\n    this.web_compare_config = {\n      formatImageName: \"{tag}\",\n      screenshotPath: `.tmp/`,\n      savePerInstance: true,\n      autoSaveBaseline: true,\n      blockOutStatusBar: true,\n      blockOutToolBar: true,\n      disableCSSAnimation: true,\n      // NOTE: When you are testing a hybrid app please use this setting\n      isHybridApp: false\n    };\n    this.allure_config = {\n      outputDir: \"allure-results\",\n      disableWebdriverStepsReporting: true,\n      disableWebdriverScreenshotsReporting: true,\n      addConsoleLogs: true,\n      issueLinkTemplate: \"https://jira.sutrix.com/browse/{}\",\n      disableMochaHooks: true\n    };\n  }\n\n  /**\r\n   * Get mobile comparison config\r\n   * @returns {String}\r\n   */\n  getMobileCompareConfig() {\n    return this.mobile_compare_config;\n  }\n\n  /**\r\n   * Generate config for mobile image comparison\r\n   * @param {Array} specs list of all spec files\r\n   * @param {Object} args config will be merged into main config\r\n   */\n  async generateMobileCompareConfig(specs, args) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const baselineFolder = `./test/specs/${info.clientId}/${info.projectId}/baseline`;\n        let compareConfig = this.getMobileCompareConfig();\n        compareConfig.baselineFolder = baselineFolder;\n        args.services = [[\"native-app-compare\", compareConfig]];\n      }\n    }\n  }\n\n  /**\r\n   * Get web comparison config\r\n   * @returns {String}\r\n   */\n  getWebCompareConfig() {\n    return this.web_compare_config;\n  }\n\n  /**\r\n   * Get allure config\r\n   * @returns {String}\r\n   */\n  getAllureConfig() {\n    return this.allure_config;\n  }\n\n  /**\r\n   * Get all suites from all projects and merged to config\r\n   * @returns {JSON}\r\n   */\n  getSuites() {\n    // 1. SEARCH ALL suites.json\n    const allSuites = dataHandler.searchAllSuites();\n\n    // 2. READ EACH JSON AND MERGE INTO ONE\n    let suites = {};\n    for (let i = 0; i < allSuites.length; i++) {\n      const suiteJson = dataHandler.readFileJSONSync(allSuites[i], \"utf8\");\n      suites = Object.assign({}, suites, suiteJson);\n    }\n\n    // 3. RETURN MERGED SUITES\n    return suites;\n  }\n\n  /**\r\n   * Auto fix spec code if it's not correct or latest version\r\n   * @param {Array} specs List of running spec file paths\r\n   */\n  async autoFixCode(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (common.isNormalSpec(specFilePath)) {\n        // GET PROJECT DATA\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n        const jsonData = await dataHandler.getGlobalDataJson();\n        const newVersion = jsonData.version;\n\n        // READ FILE\n        let contents = await dataHandler.readFile(specFilePath, \"utf8\");\n        contents = String(contents);\n\n        // CHECK CAPTURE OPTS\n        await this.checkCaptureOpts(info, contents);\n\n        // SKIP IF LATEST VERSION\n        if (contents.includes(`image comparison ${newVersion}`)) {\n          // CHECK & UPDATE STATUS\n          await this.checkStatus(info, specFilePath, contents);\n          continue;\n        }\n\n        // GET COMMON INFO\n        let clientName = excelData[\"config\"][0][\"client\"];\n        let prjName = excelData[\"config\"][0][\"project\"];\n        if (clientName == \"\") clientName = info.clientId;\n        if (prjName == \"\") prjName = info.projectId;\n\n        // ADD ASYNC BEFORE FUNCTION\n        contents = this.addAsync2Func(contents);\n\n        // UPDATE SPEC TITLE\n        contents = this.updateSpecTitle(contents, prjName, info.captureType);\n\n        // UPDATE CASE TITLE\n        contents = this.updateCaseTitle(contents, info.caseId);\n\n        // CONVERT COMMANDS\n        contents = this.updateCommand(contents);\n\n        // GENERATE CORE FRAMEWORK\n        contents = await this.addCoreFramework(contents, clientName, prjName, info, jsonData);\n\n        // WRITE CONTENTS BACK TO FILE\n        if (contents != \"\") {\n          // MAKE UP CODE\n          contents = utils.codeMakeUp(contents);\n\n          // CHECK & UPDATE STATUS\n          contents = await this.checkStatus(info, specFilePath, contents, false);\n          await dataHandler.writeSpec(specFilePath, contents);\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Auto update spec script based on new change\r\n   * @param {Array} specs list of all running spec files\r\n   * @param {String} pattern filter pattern\r\n   * @param {Int} from start index\r\n   * @param {Int} to end index\r\n   */\n  async autoBatchFixCode(specs, pattern = \"\", from = 0, to = 0) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        // SEARCH JS FILES\n        const allSpecs = await dataHandler.searchAllSpecs(pattern);\n\n        // GET GLOBAL DATA JSON\n        const jsonData = await dataHandler.getGlobalDataJson();\n        const newVersion = jsonData.version;\n        if (to == 0) to = allSpecs.length;\n        for (let i = from; i < to; i++) {\n          const file = allSpecs[i];\n          if (common.isNormalSpec(file)) {\n            // GET PROJECT DATA\n            const info = await dataHandler.getInfoFromFilePath(file);\n            const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n            // GET COMMON INFO\n            let clientName = excelData[\"config\"][0][\"client\"];\n            let prjName = excelData[\"config\"][0][\"project\"];\n            if (clientName == \"\") clientName = info.clientId;\n            if (prjName == \"\") prjName = info.projectId;\n\n            // READ FILE\n            let contents = await dataHandler.readFile(file, \"utf8\");\n            contents = String(contents);\n\n            // SKIP IF LATEST VERSION\n            if (contents.includes(`image comparison ${newVersion}`)) continue;\n\n            // LOG FILE PATH OUT\n            console.log(file);\n\n            // ADD CORE FRAMEWORK\n            contents = await this.addCoreFramework(contents, clientName, prjName, info, jsonData);\n\n            // WRITE CONTENTS BACK TO FILE\n            if (contents != \"\") {\n              // MAKE UP CODE\n              contents = utils.codeMakeUp(contents);\n              await dataHandler.writeSpec(file, contents);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Convert unsupported commands exported from recorder tool to usable script in wdio\r\n   * @param {String} lineOfCode line of code\r\n   * @returns {String}\r\n   */\n  convertCommand(lineOfCode) {\n    // WARNING: unsupported command runScript. Object= {\"command\":\"runScript\",\"target\":\"document.querySelector(\\\"#main > section.certified-partner > div > div > div.col-md-8.col-lg-7 > div.content\\\").scrollIntoView()\",\"value\":\"\"}\n    // WARNING: unsupported command deleteCookie. Object= {\"command\":\"deleteCookie\",\"target\":\"\",\"value\":\"\"}\n    // WARNING: unsupported command deleteAllVisibleCookies. Object= {\"command\":\"deleteAllVisibleCookies\",\"target\":\"\",\"value\":\"\"}\n    var objCommand = JSON.parse(lineOfCode.substring(lineOfCode.indexOf(\"=\"), lineOfCode.length).replace(\"= \", \"\").replace(`\\r`, \"\"));\n    if (typeof objCommand.command != \"undefined\") {\n      switch (objCommand.command) {\n        case \"runScript\":\n          return `\\t\\tawait browser.execute(\\`${objCommand.target}\\`);\\r`;\n        case \"deleteCookie\":\n          return `\\t\\tawait browser.deleteCookies([\"${objCommand.target}\"]);\\r`;\n        case \"deleteAllVisibleCookies\":\n          return `\\t\\tawait browser.deleteCookies();\\r`;\n        case \"\":\n          return \"\";\n        default:\n          return lineOfCode;\n      }\n    } else {\n      return lineOfCode;\n    }\n  }\n\n  /**\r\n   * Generate code block for image comparison\r\n   * @param {Object} info spec information\r\n   * @param {String} version latest version of code\r\n   * @returns {String}\r\n   */\n  async insertImageComparisonCode(info, version) {\n    const codeBlocks = await this.hookGeneration(info, \"img_comparison\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n    }\n    let contents = `\\r\n    // ======= IMG_COMP : START =======\n    /*\n      * This is CORE function to do the image comparison.\n      * This script is added automatically every time there is a new version released.\n      * You can open the custom scripts for capture options to apply only for current spec.\n      * Note: don't modify or remove any script here.\n    */\n    // ================================\n    it(\"image comparison ${version} :: ${info.caseId}\", async function () {\n      ${clsCodeBlock}\n      \n      ${functCodeBlock}\n    });\n    // ==============================\n    // ======= IMG_COMP : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Generate before hook code block\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async insertBeforeHookSpec(info) {\n    const codeBlocks = await this.hookGeneration(info, \"before\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n    let count = 0;\n    let beforeBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n      count++;\n    }\n    if (count > 0) {\n      beforeBlock = `before(async function () {\n        ${clsCodeBlock}\n        \n        ${functCodeBlock}\n      });`;\n    } else {\n      beforeBlock = `// before(async function () {});`;\n    }\n    let contents = `\\r\n    // ======= BEFORE_HOOK : START =======\n    /*\n      * This is CORE function to be performed ONCE before the 1st test in current spec.\n      * This script is added automatically every time there is a new version released.\n      * Note: don't modify or remove any script here.\n    */\n    // ===================================\n    ${beforeBlock}\n    // =================================\n    // ======= BEFORE_HOOK : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Generate after each hook code block\r\n   * {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async insertAfterEachHookSpec(info) {\n    const codeBlocks = await this.hookGeneration(info, \"after_each\");\n    let clsCodeBlock = ``;\n    let functCodeBlock = ``;\n    let count = 0;\n    let afterEachBlock = ``;\n\n    // GENERATE CLASS CODE LINE\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\n      clsCodeBlock += codeBlocks.cls[i];\n    }\n    // GENERATE FUNCTION CODE LINE\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\n      functCodeBlock += codeBlocks.funct[i];\n      count++;\n    }\n    if (count > 0) {\n      afterEachBlock = `afterEach(async function () {\n        ${clsCodeBlock}\n        \n        ${functCodeBlock}\n      });`;\n    } else {\n      afterEachBlock = `// afterEach(async function () {});`;\n    }\n    let contents = `\\r\n    // ======= AFTER_EACH_HOOK : START =======\n    /*\n      * This is CORE function to be performed after EACH test in current spec.\n      * This script is added automatically every time there is a new version released.\n      * Note: don't modify or remove any script here.\n    */\n    // =======================================\n    // runs after each test in this block\n    ${afterEachBlock}\n    // =====================================\n    // ======= AFTER_EACH_HOOK : END =======\\r`;\n    return contents;\n  }\n\n  /**\r\n   * Initialize a new project\r\n   * @param {Array} specs list of running spec file paths\r\n   */\n  async initProject(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (specFilePath.includes(`init.js`)) {\n        let jsonData = await dataHandler.getGlobalDataJson();\n        const projects = jsonData.projects;\n        for (var clientId in projects) {\n          for (var projectId in projects[clientId]) {\n            if (typeof projects[clientId][projectId][\"init\"] == \"undefined\" || projects[clientId][projectId][\"init\"] != \"done\") {\n              let basePath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\n              let dataPath = basePath + `/data`;\n              let fullpagePath = basePath + `/record/fullpage`;\n              let screenPath = basePath + `/record/screen`;\n              let mobilePath = basePath + `/record/mobile`;\n\n              // CREATE FOLDERS\n              dataHandler.createFolder(dataPath);\n              dataHandler.createFolder(fullpagePath);\n              dataHandler.createFolder(screenPath);\n              dataHandler.createFolder(mobilePath);\n\n              // COPY data.xlsx\n              const excelPath = `${dataPath}/data.xlsx`;\n              const dataExisting = await dataHandler.fileExists(excelPath);\n              if (!dataExisting) {\n                dataHandler.copyFile(\"./utils/data_template.xlsx\", excelPath);\n              }\n\n              // COPY capabilities_template.json\n              const capsPath = `${dataPath}/capabilities.json`;\n              const capsExisting = await dataHandler.fileExists(capsPath);\n              if (!capsExisting) {\n                dataHandler.copyFile(\"./utils/capabilities_template.json\", capsPath);\n              }\n\n              // COPY test-cases.xlsx\n              const tcPath = `${dataPath}/test-cases.xlsx`;\n              const tcExisting = await dataHandler.fileExists(tcPath);\n              if (!tcExisting) {\n                dataHandler.copyFile(\"./utils/test-cases_template.xlsx\", tcPath);\n              }\n\n              // COPY test-cases.json\n              const tcJsonPath = `${dataPath}/test-cases.json`;\n              const tcJsonExisting = await dataHandler.fileExists(tcJsonPath);\n              if (!tcJsonExisting) {\n                dataHandler.copyFile(\"./utils/test-cases.json\", tcJsonPath);\n              }\n\n              // COPY tc2json.js\n              const tc2jsonPath = `${dataPath}/tc2json.js`;\n              const tc2jsonExisting = await dataHandler.fileExists(tc2jsonPath);\n              if (!tc2jsonExisting) {\n                dataHandler.copyFile(\"./utils/tc2json.js\", tc2jsonPath);\n              }\n\n              // DELETE ALL readme.txt - USED FOR REGENERATION\n              const fullpageReadmePath = `${fullpagePath}/readme.txt`;\n              const screenReadmePath = `${screenPath}/readme.txt`;\n              const mobileReadmePath = `${mobilePath}/readme.txt`;\n              await dataHandler.deleteFile(fullpageReadmePath);\n              await dataHandler.deleteFile(screenReadmePath);\n              await dataHandler.deleteFile(mobileReadmePath);\n\n              // CREATE readme.txt\n              dataHandler.createFile(fullpageReadmePath, `Put the records into the corresponding folder:\n  - fullpage: the baseline and actual are captured with full web page from top to bottom.\n  - screen: the baseline and actual are captures with the screen of current position.\n  - mobile: used for mobile image comparison.\n  - Record file name must be unique and following this format: [project_id].[user_story_id]-[case_id]_[localization].js\n      Example: ${projectId}.001-C001_en.js\n                \nHow to use ${projectId}.spec-generation.js?\n  - Change the config \"spec_generation\" in data/data.xlsx to \"yes\" if you want to enable it.\n  - Update the list of pages in data/data.xlsx before generating with:\n    - page_id: is unique id\n    - domain: website domain\n    - handler: path to page\n    - status: active, deactive, support or manual\n    - flow: the id to match to your flow in ${projectId}.spec-generation.js\n  - Each spec is generated based on the flows with structure below. Depending on your purpose, you can define flexible custom preStep and addStep for each spec.\n    preStep\n    await browser.url(link);\n    addStep\n  - Keep the flow id to be \"0\" if you want to apply for all pages.\n  - Remove spec-generation out of excluded spec in wdio.config`);\n              dataHandler.copyFile(fullpageReadmePath, screenReadmePath);\n              dataHandler.copyFile(fullpageReadmePath, mobileReadmePath);\n\n              // CREATE SPEC GENERATION\n              const specGenerationPath = `${fullpagePath}/${projectId}.spec-generation.js`;\n              const specGenerationExisting = await dataHandler.fileExists(specGenerationPath);\n              if (!specGenerationExisting) {\n                let generationContent = `describe(\"spec-generation\", async function () {\n                  it(\"generate spec files\", async function () {\n                    const flows = [\n                      {\n                        id: \"0\",\n                        preStep: \"\",\n                        addStep: \"\",\n                      },\n                    ];\n\n                    const utils = require(process.cwd() + \"/utils/utils\");\n                    await utils.specGeneration(this.test.file, flows, -1, false);\n                  });\n                });`;\n                generationContent = utils.codeMakeUp(generationContent);\n                dataHandler.createFile(specGenerationPath, generationContent);\n              }\n\n              // CREATE .gitignore\n              const gitIgnorePath = `${basePath}/.gitignore`;\n              const gitIgnoreExisting = await dataHandler.fileExists(gitIgnorePath);\n              if (!gitIgnoreExisting) {\n                dataHandler.createFile(gitIgnorePath, `data/~$*`);\n              }\n\n              // UPDATE data.json\n              jsonData.projects[clientId][projectId][\"init\"] = \"done\";\n              await dataHandler.updateDataJsonFile(jsonData);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Convert test cases excel to json\r\n   * @param {String} specs list of all spec file paths\r\n   */\n  async tc2json(specs) {\n    for (let i = 0; i < specs.length; i++) {\n      const specFilePath = specs[i];\n      if (specFilePath.includes(`tc2json.js`)) {\n        // READ EXCEL DATA\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const tcPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.xlsx`;\n        const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId, tcPath);\n\n        // CREATE JSON\n        let json = {\n          data: []\n        };\n        let testCase = {\n          test_data: {},\n          steps: []\n        };\n        for (let i = 0; i < excelData[\"test_cases\"].length; i++) {\n          const row = excelData[\"test_cases\"][i];\n          const caseId = row[\"case_id\"];\n          const userType = row[\"user_type\"];\n          const feature = row[\"feature\"];\n          const caseName = row[\"case\"];\n          const localization = row[\"localization\"];\n          const desc = row[\"description\"];\n          const testData = row[\"test_data\"];\n          const steps = row[\"steps\"];\n\n          // GET CASE INFO\n          if (!common.emptyOrUndefined(caseId)) {\n            testCase[\"case_id\"] = caseId;\n          }\n          if (!common.emptyOrUndefined(userType)) {\n            testCase[\"user_type\"] = userType;\n          }\n          if (!common.emptyOrUndefined(feature)) {\n            testCase[\"feature\"] = feature;\n          }\n          if (!common.emptyOrUndefined(caseName)) {\n            testCase[\"case\"] = caseName;\n          }\n          if (!common.emptyOrUndefined(localization)) {\n            testCase[\"localization\"] = localization;\n          }\n          if (!common.emptyOrUndefined(desc)) {\n            testCase[\"description\"] = desc;\n          }\n\n          // GET TEST DATA\n          if (!common.emptyOrUndefined(testData)) {\n            const key = testData.split(\":\")[0].trim();\n            const value = testData.split(\":\")[1].trim();\n            testCase[\"test_data\"][key] = value;\n          }\n\n          // GET STEPS\n          if (!common.emptyOrUndefined(steps)) {\n            if (steps.toLowerCase() != \"[end]\") {\n              testCase[\"steps\"].push(steps);\n            } else {\n              // PUSH TO JSON\n              json.data.push(testCase);\n\n              // RESET\n              testCase = {\n                test_data: {},\n                steps: []\n              };\n            }\n          }\n        }\n\n        // SAVE JSON TO test-cases.json\n        const jsonPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.json`;\n        await dataHandler.updateDataJsonFile(json, jsonPath);\n      }\n    }\n  }\n\n  /**\r\n   * Add core funtions into every spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @param {Object} info spec information\r\n   * @param {Object} jsonData global json data\r\n   * @returns {String}\r\n   */\n  async addCoreFramework(contents, clientName, prjName, info, jsonData) {\n    // REMOVE OLD COMMENTS\n    const oldComment = `// BYPASS PAGE AUTH --- DON'T REMOVE THIS COMMENT`;\n    if (contents.includes(oldComment)) {\n      contents = contents.replaceAll(oldComment, \"\");\n    }\n\n    // REMOVE BEFORE HOOK CODE BLOCK\n    const beforeHookStart = `// ======= BEFORE_HOOK : START =======`;\n    const beforeHookEnd = `// ======= BEFORE_HOOK : END =======`;\n    if (contents.includes(beforeHookStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(beforeHookStart);\n      const endIndex = contents.indexOf(beforeHookEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + beforeHookEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    } else {\n      // BEFORE v1.0.7\n      const startIndex = contents.indexOf(`before(async function`);\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // REMOVE AFTER EACH HOOK CODE BLOCK\n    const afterEachHookStart = `// ======= AFTER_EACH_HOOK : START =======`;\n    const afterEachHookEnd = `// ======= AFTER_EACH_HOOK : END =======`;\n    if (contents.includes(afterEachHookStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(afterEachHookStart);\n      const endIndex = contents.indexOf(afterEachHookEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + afterEachHookEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // REMOVE IMG COMP CODE BLOCK\n    const imgStart = `// ======= IMG_COMP : START =======`;\n    const imgEnd = `// ======= IMG_COMP : END =======`;\n    if (contents.includes(imgStart)) {\n      // FROM v.1.0.7\n      const startIndex = contents.indexOf(imgStart);\n      const endIndex = contents.indexOf(imgEnd);\n      const codeBlock = contents.substring(startIndex, endIndex + imgEnd.length);\n      contents = contents.replace(codeBlock, \"\");\n    } else {\n      // BEFORE v1.0.7\n      const startIndex = contents.indexOf(`it(\"image comparison`);\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\n      contents = contents.replace(codeBlock, \"\");\n    }\n\n    // GENERATE CORE FRAMEWORK\n    // 1. MAKE UP CODE\n    contents = utils.codeMakeUp(contents);\n\n    // 2. IDENTIFY THE POSITION TO ADD CODE BLOCKS\n    const capType = common.capitalize(info.captureType);\n    let specTitleCode = `describe(\"${prjName} :: ${capType}\", async function() {`;\n    let specTitleIndex = contents.indexOf(specTitleCode);\n\n    // 3. REVISE IF FACING WRONG FORMAT CODE\n    if (specTitleIndex < 0) {\n      specTitleCode = `describe(\"${prjName} :: ${capType}\", async function () {`;\n      specTitleIndex = contents.indexOf(specTitleCode);\n    }\n\n    // 4. ADD AFTER EACH HOOK CODE BLOCK\n    if (specTitleIndex >= 0) {\n      const afterEachHookCodeBlock = await this.insertAfterEachHookSpec(info);\n      contents = contents.replace(specTitleCode, specTitleCode + afterEachHookCodeBlock);\n    }\n\n    // 5. ADD BEFORE HOOK CODE BLOCK\n    if (specTitleIndex >= 0) {\n      const beforeHookCodeBlock = await this.insertBeforeHookSpec(info);\n      contents = contents.replace(specTitleCode, specTitleCode + beforeHookCodeBlock);\n    }\n\n    // 6. ADD IMAGE COMPARISON CODE BLOCK\n    var count = utils.getIndicesOf(\"});\", contents.slice(-12)).length;\n    if (count == 2) {\n      var lastLineIndex = contents.lastIndexOf(\"});\");\n      contents = contents.substring(0, lastLineIndex);\n    }\n    contents += await this.insertImageComparisonCode(info, jsonData.version);\n    contents += `\\r});`;\n\n    // 7. MAKE UP CODE\n    contents = utils.codeMakeUp(contents);\n\n    // 8. RETURN\n    return contents;\n  }\n\n  /**\r\n   * Search the code block by go until found end of block\r\n   * @param {Int} index start index\r\n   * @param {String} text string is used for searching\r\n   * @returns {String}\r\n   */\n  getCodeBlock(index, text, end = \"});\") {\n    let condition = true;\n    let next = index + 1;\n    let tmpString = \"\";\n    while (condition) {\n      tmpString = text.substring(index, next);\n      if (tmpString.includes(end) || tmpString == \"\" || tmpString.length >= text.length) {\n        condition = false;\n      }\n      next++;\n    }\n    return tmpString;\n  }\n\n  /**\r\n   * Same as getCodeBlock but ensure the full function is returned\r\n   * @param {Int} index start index\r\n   * @param {String} text contents to be searched for\r\n   * @param {String} end end signal\r\n   * @returns {String}\r\n   */\n  getFullCodeBlock(index, text, end = \"});\") {\n    let condition = true;\n    let next = index + 1;\n    let tmpString = \"\";\n    let openBracket = 0;\n    let closeBracket = 0;\n    while (condition) {\n      // GO TO EACH CHARACTER\n      tmpString = text.substring(index, next);\n\n      // IF LAST CHARACTER IS \"{\"\n      if (tmpString.slice(-1) == \"{\") openBracket++;\n      // IF LAST CHARACTER IS \"}\"\n      if (tmpString.slice(-1) == \"}\") closeBracket++;\n\n      // STOP FINDING\n      if (tmpString.length >= text.length || (tmpString.slice(-3).includes(end) || tmpString == \"\") && openBracket == closeBracket) {\n        condition = false;\n      }\n      next++;\n    }\n    return tmpString;\n  }\n\n  /**\r\n   * Add async before function if not existing\r\n   * @param {String} contents file contents\r\n   * @returns {String}\r\n   */\n  addAsync2Func(contents) {\n    let indexes = utils.getIndicesOf(`function`, contents, false);\n    const funcText = `function`;\n    const asyncText = `async`;\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      const text = contents.substring(indexes[i], indexes[i] - asyncText.length - 1);\n      if (!text.trim().includes(asyncText)) {\n        contents = contents.slice(0, indexes[i]) + asyncText + \" \" + contents.slice(indexes[i]);\n      }\n    }\n    return contents;\n  }\n\n  /**\r\n   * Fix and update the title of spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @returns {String}\r\n   */\n  updateSpecTitle(contents, prjName, captureType) {\n    let indexes = utils.getIndicesOf(`describe(`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\n      contents = contents.replace(text, `describe(\"${prjName} :: ${common.capitalize(captureType)}\", `);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Fix and update test case title\r\n   * @param {String} contents spec file script\r\n   * @param {String} caseId test case id\r\n   * @returns {String}\r\n   */\n  updateCaseTitle(contents, caseId) {\n    let indexes = utils.getIndicesOf(`it(`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\n      if (!text.includes(`image comparison`)) contents = contents.replace(text, `it(\"recorder :: ${caseId}\", `);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Check and convert unsupport commands into WDIO commands\r\n   * @param {String} contents spec file script\r\n   * @returns {String}\r\n   */\n  updateCommand(contents) {\n    let indexes = utils.getIndicesOf(`// WARNING: unsupported command`, contents, false);\n    for (let i = indexes.length - 1; i >= 0; i--) {\n      let text = this.getCodeBlock(indexes[i], contents, \"}\");\n      let newText = this.convertCommand(text);\n      contents = contents.replace(text, newText);\n    }\n    return contents;\n  }\n\n  /**\r\n   * Generate hook functions for each spec\r\n   * @param {Object} info spec information\r\n   * @param {String} hookType type of Hook defined in excel data\r\n   * @returns {String}\r\n   */\n  async hookGeneration(info, hookType) {\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    const specId = info.specId;\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const cptOptData = jsonData.projects[clientId][projectId][\"cpt_opt\"];\n    let codeBlocks = {\n      cls: [],\n      funct: []\n    };\n    for (let i = 0; i < excelData[\"hook\"].length; i++) {\n      const row = excelData[\"hook\"][i];\n      const type = row[\"type\"];\n      const cls = row[\"class\"];\n      const funct = row[\"function\"];\n      const status = row[\"status\"];\n      let script = ``;\n      if (hookType == type) {\n        // IMPORT CLASS\n        switch (cls) {\n          case \"utils\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/utils\");\\r`);\n            break;\n          case \"hook\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/hook\");\\r`);\n            break;\n          case \"allure\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/allure\");\\r`);\n            break;\n          case \"data_handler\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/data_handler\");\\r`);\n            break;\n          case \"jira\":\n            codeBlocks.cls.push(`const utils = require(process.cwd() + \"/utils/lib/jira\");\\r`);\n            break;\n        }\n\n        // IMPORT FUNCTION\n        switch (funct) {\n          case \"pageAuth\":\n            script = `await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\n            if (status == \"inactive\") {\n              script = `// await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\n            }\n            codeBlocks.funct.push(`// CORE (${status}) :: BYPASS PAGE AUTH\n            ${script}\n            `);\n            break;\n          case \"checkValidCaps\":\n            script = `let valid = await utils.checkValidCaps();\n            if (!valid) await this.skip();\n            `;\n            if (status == \"inactive\") {\n              script = `// let valid = await utils.checkValidCaps();\n              // if (!valid) await this.skip();\n              `;\n            }\n            codeBlocks.funct.push(`// CORE (${status}) :: SKIP SPEC IF WRONG CAPABILITY\n            ${script}\n            `);\n            break;\n          case \"imgCompare\":\n            script = `await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\n            }\n            codeBlocks.funct.push(`\\r\n            // CORE (${status}) :: IMG COMPARISON STEP\n            ${script}\n            `);\n            break;\n          case \"addCaptureOpts\":\n            const captureOpts = await dataHandler.getCaptureOpts(clientId, projectId);\n            let platform = \"web\";\n            if (info.captureType == \"mobile\") platform = info.captureType;\n            script = `\n            /**\n             * Custom capture opts. Uncomment and change the value to use it.\n             * The global config is set in data.xlsx and is applied by default for all specs.\n             * Note: these config may be replaced if there is new version of Utils lib released.\n             */\\r\\r`;\n            for (var key in captureOpts[platform]) {\n              let value = captureOpts[platform][key];\n              if (key != \"baselineFolder\") {\n                // CHECK JSON DATA\n                if (typeof cptOptData != \"undefined\" && cptOptData.length > 0) {\n                  for (let i = 0; i < cptOptData.length; i++) {\n                    if (cptOptData[i][\"id\"] == specId) {\n                      for (let j = 0; j < cptOptData[i].values.length; j++) {\n                        const o = cptOptData[i].values[j];\n                        if (o.key == key) {\n                          const enabled = !o.enabled ? \"// \" : \"\";\n                          script += `\\t${enabled}await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${o.arg.value}, \"${o.arg.type}\");\\r`;\n                          break;\n                        }\n                      }\n                      break;\n                    }\n                  }\n                }\n\n                // CHECK GLOBAL STATUS\n                const searchText = `await utils.addCaptureOpts(\"${specId}\", \"${key}\",`;\n                if (!script.includes(searchText)) {\n                  if (status == \"inactive\") {\n                    script += `\\t// await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\n                  } else {\n                    script += `\\tawait utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\n                  }\n                }\n              }\n            }\n            codeBlocks.funct.push(script);\n            break;\n          case \"checkFireWall\":\n            script = `await utils.checkFireWall(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// await utils.checkFireWall(\"${specId}\");`;\n            }\n            codeBlocks.funct.push(`\\r\n              // CORE (${status}) :: CHECK FIREWALL\n              ${script}\n            `);\n            break;\n          case \"localize\":\n            script = `global.localization = await utils.getLocalization(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// ` + script;\n            }\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET LOCALIZATION FROM SPEC ID\n              ${script}\n              `);\n            break;\n          case \"dynamicBaseUrl\":\n            script = `global.dynamicBaseUrl = await utils.getDynamicUrl(\"${specId}\");`;\n            if (status == \"inactive\") {\n              script = `// ` + script;\n            }\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET DYNAMIC BASE URL\n              ${script}\n              `);\n            break;\n        }\n      }\n    }\n    return {\n      cls: Array.from(new Set(codeBlocks.cls)),\n      funct: Array.from(new Set(codeBlocks.funct))\n    };\n  }\n\n  /**\r\n   * Check spec status and update spec file\r\n   * @param {Object} info spec information\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents spec file contents\r\n   * @param {Boolean} write write file or return contents\r\n   * @returns {String}\r\n   */\n  async checkStatus(info, specFilePath, contents, write = true) {\n    // status: \"active | manual | deactivate | support\"\n\n    const caseId = info.caseId;\n    let changed = false;\n    const skipComment = `/* ======= SKIPPED =======`;\n    const startIndex = contents.indexOf(`it(\"recorder :: ${caseId}\",`);\n    const codeBlock = this.getFullCodeBlock(startIndex, contents);\n    let newCodeBlock = codeBlock;\n    const blockStartIndex = newCodeBlock.indexOf(`it(\"recorder :: ${caseId}\",`);\n    const firstCodeLine = this.getCodeBlock(blockStartIndex, newCodeBlock, \"{\");\n    if (info.status != \"active\" && !codeBlock.includes(skipComment)) {\n      // 1. ADD SKIPPED OPEN\n      newCodeBlock = newCodeBlock.replace(firstCodeLine, firstCodeLine + `\\r${skipComment}`);\n\n      // 2. ADD SKIPPED CLOSE\n      const count = utils.getIndicesOf(\"});\", codeBlock.slice(-5)).length;\n      if (count == 1) {\n        const lastLineIndex = newCodeBlock.lastIndexOf(\"});\");\n        newCodeBlock = newCodeBlock.substring(0, lastLineIndex);\n        newCodeBlock += `*/\\r});`;\n      }\n      changed = true;\n    } else if (info.status == \"active\" && codeBlock.includes(skipComment)) {\n      // REMOVE SKIPPED OPEN\n      const lineWithComment = this.getCodeBlock(blockStartIndex, newCodeBlock, skipComment);\n      newCodeBlock = newCodeBlock.replace(lineWithComment, firstCodeLine);\n\n      // REMOVE SKIPPED CLOSE\n      const lastLine = newCodeBlock.slice(-10);\n      let newLastLine = lastLine;\n      if (newLastLine.includes(`*/`)) {\n        newLastLine = newLastLine.replace(`*/`, \"\").replace(`\\r`, \"\").replace(`\\n`, \"\");\n        newCodeBlock = newCodeBlock.replace(lastLine, newLastLine);\n      }\n      changed = true;\n    }\n    if (changed) {\n      contents = contents.replace(codeBlock, newCodeBlock);\n      contents = utils.codeMakeUp(contents);\n      if (write) {\n        await dataHandler.writeSpec(specFilePath, contents);\n      }\n    }\n    return contents;\n  }\n\n  /**\r\n   * Check custom capture options code block and update Json data\r\n   * @param {Object} info spec information\r\n   * @param {String} contents spec contents\r\n   */\n  async checkCaptureOpts(info, contents) {\n    const arrOpts = [\"fullPageScrollTimeout\", \"ignoreTransparentPixel\", \"ignoreAntialiasing\", \"scaleImagesToSameSize\", \"largeImageThreshold\", \"disableCSSAnimation\", \"ignoreColors\", \"ignoreAlpha\"];\n    let jsonData = await dataHandler.getGlobalDataJson();\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\n    let changed = false;\n    let opts = {\n      id: info.specId,\n      values: []\n    };\n    if (typeof data == \"undefined\" || data.length <= 0) {\n      data = [];\n      data.push(opts);\n    }\n    for (let j = 0; j < arrOpts.length; j++) {\n      let searchText = `//await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\n\n      // TRY TO SEARCH WITH DEFAULT SEARCH TEXT\n      if (!contents.includes(searchText)) {\n        searchText = `// await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\n      }\n\n      // REMOVE OPT FROM JSON\n      if (contents.includes(searchText)) {\n        // LOOP DATA\n        for (let i = 0; i < data.length; i++) {\n          if (data[i][\"id\"] == info.specId) {\n            const tmpArr = data[i].values.filter(obj => !(obj.key === arrOpts[j]));\n            if (tmpArr.length != data[i].values.length) {\n              data[i].values = tmpArr;\n              changed = true;\n            }\n            break;\n          }\n        }\n      }\n    }\n\n    // WRITE JSON\n    if (changed) {\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\n      await dataHandler.updateDataJsonFile(jsonData);\n    }\n  }\n}\nmodule.exports = new hookCustom();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYXRhSGFuZGxlciIsInJlcXVpcmUiLCJ1dGlscyIsImNvbW1vbiIsImhvb2tDdXN0b20iLCJjb25zdHJ1Y3RvciIsIm1vYmlsZV9jb21wYXJlX2NvbmZpZyIsImltYWdlTmFtZUZvcm1hdCIsInNjcmVlbnNob3RQYXRoIiwic2F2ZVBlckRldmljZSIsImF1dG9TYXZlQmFzZWxpbmUiLCJibG9ja091dFN0YXR1c0JhciIsImJsb2NrT3V0SXBob25lSG9tZUJhciIsImJsb2NrT3V0TmF2aWdhdGlvbkJhciIsIndlYl9jb21wYXJlX2NvbmZpZyIsImZvcm1hdEltYWdlTmFtZSIsInNhdmVQZXJJbnN0YW5jZSIsImJsb2NrT3V0VG9vbEJhciIsImRpc2FibGVDU1NBbmltYXRpb24iLCJpc0h5YnJpZEFwcCIsImFsbHVyZV9jb25maWciLCJvdXRwdXREaXIiLCJkaXNhYmxlV2ViZHJpdmVyU3RlcHNSZXBvcnRpbmciLCJkaXNhYmxlV2ViZHJpdmVyU2NyZWVuc2hvdHNSZXBvcnRpbmciLCJhZGRDb25zb2xlTG9ncyIsImlzc3VlTGlua1RlbXBsYXRlIiwiZGlzYWJsZU1vY2hhSG9va3MiLCJnZXRNb2JpbGVDb21wYXJlQ29uZmlnIiwiZ2VuZXJhdGVNb2JpbGVDb21wYXJlQ29uZmlnIiwic3BlY3MiLCJhcmdzIiwibGVuZ3RoIiwic3BlY0ZpbGVQYXRoIiwiaXNOb3JtYWxTcGVjIiwiaW5mbyIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJiYXNlbGluZUZvbGRlciIsImNsaWVudElkIiwicHJvamVjdElkIiwiY29tcGFyZUNvbmZpZyIsInNlcnZpY2VzIiwiZ2V0V2ViQ29tcGFyZUNvbmZpZyIsImdldEFsbHVyZUNvbmZpZyIsImdldFN1aXRlcyIsImFsbFN1aXRlcyIsInNlYXJjaEFsbFN1aXRlcyIsInN1aXRlcyIsImkiLCJzdWl0ZUpzb24iLCJyZWFkRmlsZUpTT05TeW5jIiwiT2JqZWN0IiwiYXNzaWduIiwiYXV0b0ZpeENvZGUiLCJleGNlbERhdGEiLCJnZXRQcm9qZWN0RGF0YUV4Y2VsIiwianNvbkRhdGEiLCJnZXRHbG9iYWxEYXRhSnNvbiIsIm5ld1ZlcnNpb24iLCJ2ZXJzaW9uIiwiY29udGVudHMiLCJyZWFkRmlsZSIsIlN0cmluZyIsImNoZWNrQ2FwdHVyZU9wdHMiLCJpbmNsdWRlcyIsImNoZWNrU3RhdHVzIiwiY2xpZW50TmFtZSIsInByak5hbWUiLCJhZGRBc3luYzJGdW5jIiwidXBkYXRlU3BlY1RpdGxlIiwiY2FwdHVyZVR5cGUiLCJ1cGRhdGVDYXNlVGl0bGUiLCJjYXNlSWQiLCJ1cGRhdGVDb21tYW5kIiwiYWRkQ29yZUZyYW1ld29yayIsImNvZGVNYWtlVXAiLCJ3cml0ZVNwZWMiLCJhdXRvQmF0Y2hGaXhDb2RlIiwicGF0dGVybiIsImZyb20iLCJ0byIsImFsbFNwZWNzIiwic2VhcmNoQWxsU3BlY3MiLCJmaWxlIiwiY29uc29sZSIsImxvZyIsImNvbnZlcnRDb21tYW5kIiwibGluZU9mQ29kZSIsIm9iakNvbW1hbmQiLCJKU09OIiwicGFyc2UiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwicmVwbGFjZSIsImNvbW1hbmQiLCJ0YXJnZXQiLCJpbnNlcnRJbWFnZUNvbXBhcmlzb25Db2RlIiwiY29kZUJsb2NrcyIsImhvb2tHZW5lcmF0aW9uIiwiY2xzQ29kZUJsb2NrIiwiZnVuY3RDb2RlQmxvY2siLCJjbHMiLCJmdW5jdCIsImluc2VydEJlZm9yZUhvb2tTcGVjIiwiY291bnQiLCJiZWZvcmVCbG9jayIsImluc2VydEFmdGVyRWFjaEhvb2tTcGVjIiwiYWZ0ZXJFYWNoQmxvY2siLCJpbml0UHJvamVjdCIsInByb2plY3RzIiwiYmFzZVBhdGgiLCJwcm9jZXNzIiwiY3dkIiwiZGF0YVBhdGgiLCJmdWxscGFnZVBhdGgiLCJzY3JlZW5QYXRoIiwibW9iaWxlUGF0aCIsImNyZWF0ZUZvbGRlciIsImV4Y2VsUGF0aCIsImRhdGFFeGlzdGluZyIsImZpbGVFeGlzdHMiLCJjb3B5RmlsZSIsImNhcHNQYXRoIiwiY2Fwc0V4aXN0aW5nIiwidGNQYXRoIiwidGNFeGlzdGluZyIsInRjSnNvblBhdGgiLCJ0Y0pzb25FeGlzdGluZyIsInRjMmpzb25QYXRoIiwidGMyanNvbkV4aXN0aW5nIiwiZnVsbHBhZ2VSZWFkbWVQYXRoIiwic2NyZWVuUmVhZG1lUGF0aCIsIm1vYmlsZVJlYWRtZVBhdGgiLCJkZWxldGVGaWxlIiwiY3JlYXRlRmlsZSIsInNwZWNHZW5lcmF0aW9uUGF0aCIsInNwZWNHZW5lcmF0aW9uRXhpc3RpbmciLCJnZW5lcmF0aW9uQ29udGVudCIsImdpdElnbm9yZVBhdGgiLCJnaXRJZ25vcmVFeGlzdGluZyIsInVwZGF0ZURhdGFKc29uRmlsZSIsInRjMmpzb24iLCJqc29uIiwiZGF0YSIsInRlc3RDYXNlIiwidGVzdF9kYXRhIiwic3RlcHMiLCJyb3ciLCJ1c2VyVHlwZSIsImZlYXR1cmUiLCJjYXNlTmFtZSIsImxvY2FsaXphdGlvbiIsImRlc2MiLCJ0ZXN0RGF0YSIsImVtcHR5T3JVbmRlZmluZWQiLCJrZXkiLCJzcGxpdCIsInRyaW0iLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwicHVzaCIsImpzb25QYXRoIiwib2xkQ29tbWVudCIsInJlcGxhY2VBbGwiLCJiZWZvcmVIb29rU3RhcnQiLCJiZWZvcmVIb29rRW5kIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiY29kZUJsb2NrIiwiZ2V0RnVsbENvZGVCbG9jayIsImFmdGVyRWFjaEhvb2tTdGFydCIsImFmdGVyRWFjaEhvb2tFbmQiLCJpbWdTdGFydCIsImltZ0VuZCIsImNhcFR5cGUiLCJjYXBpdGFsaXplIiwic3BlY1RpdGxlQ29kZSIsInNwZWNUaXRsZUluZGV4IiwiYWZ0ZXJFYWNoSG9va0NvZGVCbG9jayIsImJlZm9yZUhvb2tDb2RlQmxvY2siLCJnZXRJbmRpY2VzT2YiLCJzbGljZSIsImxhc3RMaW5lSW5kZXgiLCJsYXN0SW5kZXhPZiIsImdldENvZGVCbG9jayIsImluZGV4IiwidGV4dCIsImVuZCIsImNvbmRpdGlvbiIsIm5leHQiLCJ0bXBTdHJpbmciLCJvcGVuQnJhY2tldCIsImNsb3NlQnJhY2tldCIsImluZGV4ZXMiLCJmdW5jVGV4dCIsImFzeW5jVGV4dCIsIm5ld1RleHQiLCJob29rVHlwZSIsInNwZWNJZCIsImNwdE9wdERhdGEiLCJ0eXBlIiwic3RhdHVzIiwic2NyaXB0IiwiY2FwdHVyZU9wdHMiLCJnZXRDYXB0dXJlT3B0cyIsInBsYXRmb3JtIiwiaiIsInZhbHVlcyIsIm8iLCJlbmFibGVkIiwiYXJnIiwic2VhcmNoVGV4dCIsIkFycmF5IiwiU2V0Iiwid3JpdGUiLCJjaGFuZ2VkIiwic2tpcENvbW1lbnQiLCJuZXdDb2RlQmxvY2siLCJibG9ja1N0YXJ0SW5kZXgiLCJmaXJzdENvZGVMaW5lIiwibGluZVdpdGhDb21tZW50IiwibGFzdExpbmUiLCJuZXdMYXN0TGluZSIsImFyck9wdHMiLCJvcHRzIiwiaWQiLCJ0bXBBcnIiLCJmaWx0ZXIiLCJvYmoiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiaG9vay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYXRhSGFuZGxlciA9IHJlcXVpcmUoXCIuL2RhdGFfaGFuZGxlclwiKTtcclxuY29uc3QgdXRpbHMgPSByZXF1aXJlKFwiLi8uLi91dGlsc1wiKTtcclxuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4vLi4vY29tbW9uXCIpO1xyXG5cclxuY2xhc3MgaG9va0N1c3RvbSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm1vYmlsZV9jb21wYXJlX2NvbmZpZyA9IHtcclxuICAgICAgaW1hZ2VOYW1lRm9ybWF0OiBcInt0YWd9XCIsXHJcbiAgICAgIHNjcmVlbnNob3RQYXRoOiBgLnRtcC9gLFxyXG4gICAgICBzYXZlUGVyRGV2aWNlOiB0cnVlLFxyXG4gICAgICBhdXRvU2F2ZUJhc2VsaW5lOiB0cnVlLFxyXG4gICAgICBibG9ja091dFN0YXR1c0JhcjogdHJ1ZSxcclxuICAgICAgYmxvY2tPdXRJcGhvbmVIb21lQmFyOiB0cnVlLFxyXG4gICAgICBibG9ja091dE5hdmlnYXRpb25CYXI6IHRydWUsXHJcbiAgICAgIC8vIGJhc2VsaW5lRm9sZGVyOiB0aGlzLmdldE1vYmlsZUJhc2VsaW5lRm9sZGVyKCksXHJcbiAgICB9O1xyXG4gICAgdGhpcy53ZWJfY29tcGFyZV9jb25maWcgPSB7XHJcbiAgICAgIGZvcm1hdEltYWdlTmFtZTogXCJ7dGFnfVwiLFxyXG4gICAgICBzY3JlZW5zaG90UGF0aDogYC50bXAvYCxcclxuICAgICAgc2F2ZVBlckluc3RhbmNlOiB0cnVlLFxyXG4gICAgICBhdXRvU2F2ZUJhc2VsaW5lOiB0cnVlLFxyXG4gICAgICBibG9ja091dFN0YXR1c0JhcjogdHJ1ZSxcclxuICAgICAgYmxvY2tPdXRUb29sQmFyOiB0cnVlLFxyXG4gICAgICBkaXNhYmxlQ1NTQW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgICAvLyBOT1RFOiBXaGVuIHlvdSBhcmUgdGVzdGluZyBhIGh5YnJpZCBhcHAgcGxlYXNlIHVzZSB0aGlzIHNldHRpbmdcclxuICAgICAgaXNIeWJyaWRBcHA6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIHRoaXMuYWxsdXJlX2NvbmZpZyA9IHtcclxuICAgICAgb3V0cHV0RGlyOiBcImFsbHVyZS1yZXN1bHRzXCIsXHJcbiAgICAgIGRpc2FibGVXZWJkcml2ZXJTdGVwc1JlcG9ydGluZzogdHJ1ZSxcclxuICAgICAgZGlzYWJsZVdlYmRyaXZlclNjcmVlbnNob3RzUmVwb3J0aW5nOiB0cnVlLFxyXG4gICAgICBhZGRDb25zb2xlTG9nczogdHJ1ZSxcclxuICAgICAgaXNzdWVMaW5rVGVtcGxhdGU6IFwiaHR0cHM6Ly9qaXJhLnN1dHJpeC5jb20vYnJvd3NlL3t9XCIsXHJcbiAgICAgIGRpc2FibGVNb2NoYUhvb2tzOiB0cnVlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBtb2JpbGUgY29tcGFyaXNvbiBjb25maWdcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldE1vYmlsZUNvbXBhcmVDb25maWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2JpbGVfY29tcGFyZV9jb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBjb25maWcgZm9yIG1vYmlsZSBpbWFnZSBjb21wYXJpc29uXHJcbiAgICogQHBhcmFtIHtBcnJheX0gc3BlY3MgbGlzdCBvZiBhbGwgc3BlYyBmaWxlc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIGNvbmZpZyB3aWxsIGJlIG1lcmdlZCBpbnRvIG1haW4gY29uZmlnXHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVNb2JpbGVDb21wYXJlQ29uZmlnKHNwZWNzLCBhcmdzKSB7XHJcbiAgICBpZiAoc3BlY3MubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1swXTtcclxuICAgICAgaWYgKGNvbW1vbi5pc05vcm1hbFNwZWMoc3BlY0ZpbGVQYXRoKSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKHNwZWNGaWxlUGF0aCk7XHJcbiAgICAgICAgY29uc3QgYmFzZWxpbmVGb2xkZXIgPSBgLi90ZXN0L3NwZWNzLyR7aW5mby5jbGllbnRJZH0vJHtpbmZvLnByb2plY3RJZH0vYmFzZWxpbmVgO1xyXG4gICAgICAgIGxldCBjb21wYXJlQ29uZmlnID0gdGhpcy5nZXRNb2JpbGVDb21wYXJlQ29uZmlnKCk7XHJcblxyXG4gICAgICAgIGNvbXBhcmVDb25maWcuYmFzZWxpbmVGb2xkZXIgPSBiYXNlbGluZUZvbGRlcjtcclxuICAgICAgICBhcmdzLnNlcnZpY2VzID0gW1tcIm5hdGl2ZS1hcHAtY29tcGFyZVwiLCBjb21wYXJlQ29uZmlnXV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3ZWIgY29tcGFyaXNvbiBjb25maWdcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldFdlYkNvbXBhcmVDb25maWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy53ZWJfY29tcGFyZV9jb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsdXJlIGNvbmZpZ1xyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0QWxsdXJlQ29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYWxsdXJlX2NvbmZpZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgc3VpdGVzIGZyb20gYWxsIHByb2plY3RzIGFuZCBtZXJnZWQgdG8gY29uZmlnXHJcbiAgICogQHJldHVybnMge0pTT059XHJcbiAgICovXHJcbiAgZ2V0U3VpdGVzKCkge1xyXG4gICAgLy8gMS4gU0VBUkNIIEFMTCBzdWl0ZXMuanNvblxyXG4gICAgY29uc3QgYWxsU3VpdGVzID0gZGF0YUhhbmRsZXIuc2VhcmNoQWxsU3VpdGVzKCk7XHJcblxyXG4gICAgLy8gMi4gUkVBRCBFQUNIIEpTT04gQU5EIE1FUkdFIElOVE8gT05FXHJcbiAgICBsZXQgc3VpdGVzID0ge307XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFN1aXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBzdWl0ZUpzb24gPSBkYXRhSGFuZGxlci5yZWFkRmlsZUpTT05TeW5jKGFsbFN1aXRlc1tpXSwgXCJ1dGY4XCIpO1xyXG4gICAgICBzdWl0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBzdWl0ZXMsIHN1aXRlSnNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMy4gUkVUVVJOIE1FUkdFRCBTVUlURVNcclxuICAgIHJldHVybiBzdWl0ZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdXRvIGZpeCBzcGVjIGNvZGUgaWYgaXQncyBub3QgY29ycmVjdCBvciBsYXRlc3QgdmVyc2lvblxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNwZWNzIExpc3Qgb2YgcnVubmluZyBzcGVjIGZpbGUgcGF0aHNcclxuICAgKi9cclxuICBhc3luYyBhdXRvRml4Q29kZShzcGVjcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1tpXTtcclxuXHJcbiAgICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKHNwZWNGaWxlUGF0aCkpIHtcclxuICAgICAgICAvLyBHRVQgUFJPSkVDVCBEQVRBXHJcbiAgICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoc3BlY0ZpbGVQYXRoKTtcclxuICAgICAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IGpzb25EYXRhLnZlcnNpb247XHJcblxyXG4gICAgICAgIC8vIFJFQUQgRklMRVxyXG4gICAgICAgIGxldCBjb250ZW50cyA9IGF3YWl0IGRhdGFIYW5kbGVyLnJlYWRGaWxlKHNwZWNGaWxlUGF0aCwgXCJ1dGY4XCIpO1xyXG4gICAgICAgIGNvbnRlbnRzID0gU3RyaW5nKGNvbnRlbnRzKTtcclxuXHJcbiAgICAgICAgLy8gQ0hFQ0sgQ0FQVFVSRSBPUFRTXHJcbiAgICAgICAgYXdhaXQgdGhpcy5jaGVja0NhcHR1cmVPcHRzKGluZm8sIGNvbnRlbnRzKTtcclxuXHJcbiAgICAgICAgLy8gU0tJUCBJRiBMQVRFU1QgVkVSU0lPTlxyXG4gICAgICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhgaW1hZ2UgY29tcGFyaXNvbiAke25ld1ZlcnNpb259YCkpIHtcclxuICAgICAgICAgIC8vIENIRUNLICYgVVBEQVRFIFNUQVRVU1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5jaGVja1N0YXR1cyhpbmZvLCBzcGVjRmlsZVBhdGgsIGNvbnRlbnRzKTtcclxuXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdFVCBDT01NT04gSU5GT1xyXG4gICAgICAgIGxldCBjbGllbnROYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiY2xpZW50XCJdO1xyXG4gICAgICAgIGxldCBwcmpOYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wicHJvamVjdFwiXTtcclxuICAgICAgICBpZiAoY2xpZW50TmFtZSA9PSBcIlwiKSBjbGllbnROYW1lID0gaW5mby5jbGllbnRJZDtcclxuICAgICAgICBpZiAocHJqTmFtZSA9PSBcIlwiKSBwcmpOYW1lID0gaW5mby5wcm9qZWN0SWQ7XHJcblxyXG4gICAgICAgIC8vIEFERCBBU1lOQyBCRUZPUkUgRlVOQ1RJT05cclxuICAgICAgICBjb250ZW50cyA9IHRoaXMuYWRkQXN5bmMyRnVuYyhjb250ZW50cyk7XHJcblxyXG4gICAgICAgIC8vIFVQREFURSBTUEVDIFRJVExFXHJcbiAgICAgICAgY29udGVudHMgPSB0aGlzLnVwZGF0ZVNwZWNUaXRsZShjb250ZW50cywgcHJqTmFtZSwgaW5mby5jYXB0dXJlVHlwZSk7XHJcblxyXG4gICAgICAgIC8vIFVQREFURSBDQVNFIFRJVExFXHJcbiAgICAgICAgY29udGVudHMgPSB0aGlzLnVwZGF0ZUNhc2VUaXRsZShjb250ZW50cywgaW5mby5jYXNlSWQpO1xyXG5cclxuICAgICAgICAvLyBDT05WRVJUIENPTU1BTkRTXHJcbiAgICAgICAgY29udGVudHMgPSB0aGlzLnVwZGF0ZUNvbW1hbmQoY29udGVudHMpO1xyXG5cclxuICAgICAgICAvLyBHRU5FUkFURSBDT1JFIEZSQU1FV09SS1xyXG4gICAgICAgIGNvbnRlbnRzID0gYXdhaXQgdGhpcy5hZGRDb3JlRnJhbWV3b3JrKFxyXG4gICAgICAgICAgY29udGVudHMsXHJcbiAgICAgICAgICBjbGllbnROYW1lLFxyXG4gICAgICAgICAgcHJqTmFtZSxcclxuICAgICAgICAgIGluZm8sXHJcbiAgICAgICAgICBqc29uRGF0YVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFdSSVRFIENPTlRFTlRTIEJBQ0sgVE8gRklMRVxyXG4gICAgICAgIGlmIChjb250ZW50cyAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAvLyBNQUtFIFVQIENPREVcclxuICAgICAgICAgIGNvbnRlbnRzID0gdXRpbHMuY29kZU1ha2VVcChjb250ZW50cyk7XHJcblxyXG4gICAgICAgICAgLy8gQ0hFQ0sgJiBVUERBVEUgU1RBVFVTXHJcbiAgICAgICAgICBjb250ZW50cyA9IGF3YWl0IHRoaXMuY2hlY2tTdGF0dXMoXHJcbiAgICAgICAgICAgIGluZm8sXHJcbiAgICAgICAgICAgIHNwZWNGaWxlUGF0aCxcclxuICAgICAgICAgICAgY29udGVudHMsXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLndyaXRlU3BlYyhzcGVjRmlsZVBhdGgsIGNvbnRlbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEF1dG8gdXBkYXRlIHNwZWMgc2NyaXB0IGJhc2VkIG9uIG5ldyBjaGFuZ2VcclxuICAgKiBAcGFyYW0ge0FycmF5fSBzcGVjcyBsaXN0IG9mIGFsbCBydW5uaW5nIHNwZWMgZmlsZXNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVybiBmaWx0ZXIgcGF0dGVyblxyXG4gICAqIEBwYXJhbSB7SW50fSBmcm9tIHN0YXJ0IGluZGV4XHJcbiAgICogQHBhcmFtIHtJbnR9IHRvIGVuZCBpbmRleFxyXG4gICAqL1xyXG4gIGFzeW5jIGF1dG9CYXRjaEZpeENvZGUoc3BlY3MsIHBhdHRlcm4gPSBcIlwiLCBmcm9tID0gMCwgdG8gPSAwKSB7XHJcbiAgICBpZiAoc3BlY3MubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1swXTtcclxuXHJcbiAgICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKHNwZWNGaWxlUGF0aCkpIHtcclxuICAgICAgICAvLyBTRUFSQ0ggSlMgRklMRVNcclxuICAgICAgICBjb25zdCBhbGxTcGVjcyA9IGF3YWl0IGRhdGFIYW5kbGVyLnNlYXJjaEFsbFNwZWNzKHBhdHRlcm4pO1xyXG5cclxuICAgICAgICAvLyBHRVQgR0xPQkFMIERBVEEgSlNPTlxyXG4gICAgICAgIGNvbnN0IGpzb25EYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0R2xvYmFsRGF0YUpzb24oKTtcclxuICAgICAgICBjb25zdCBuZXdWZXJzaW9uID0ganNvbkRhdGEudmVyc2lvbjtcclxuXHJcbiAgICAgICAgaWYgKHRvID09IDApIHRvID0gYWxsU3BlY3MubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgZmlsZSA9IGFsbFNwZWNzW2ldO1xyXG5cclxuICAgICAgICAgIGlmIChjb21tb24uaXNOb3JtYWxTcGVjKGZpbGUpKSB7XHJcbiAgICAgICAgICAgIC8vIEdFVCBQUk9KRUNUIERBVEFcclxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgICAgICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgICAgICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gR0VUIENPTU1PTiBJTkZPXHJcbiAgICAgICAgICAgIGxldCBjbGllbnROYW1lID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiY2xpZW50XCJdO1xyXG4gICAgICAgICAgICBsZXQgcHJqTmFtZSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcInByb2plY3RcIl07XHJcbiAgICAgICAgICAgIGlmIChjbGllbnROYW1lID09IFwiXCIpIGNsaWVudE5hbWUgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgICAgICAgICBpZiAocHJqTmFtZSA9PSBcIlwiKSBwcmpOYW1lID0gaW5mby5wcm9qZWN0SWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBSRUFEIEZJTEVcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnRzID0gYXdhaXQgZGF0YUhhbmRsZXIucmVhZEZpbGUoZmlsZSwgXCJ1dGY4XCIpO1xyXG4gICAgICAgICAgICBjb250ZW50cyA9IFN0cmluZyhjb250ZW50cyk7XHJcblxyXG4gICAgICAgICAgICAvLyBTS0lQIElGIExBVEVTVCBWRVJTSU9OXHJcbiAgICAgICAgICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhgaW1hZ2UgY29tcGFyaXNvbiAke25ld1ZlcnNpb259YCkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gTE9HIEZJTEUgUEFUSCBPVVRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBREQgQ09SRSBGUkFNRVdPUktcclxuICAgICAgICAgICAgY29udGVudHMgPSBhd2FpdCB0aGlzLmFkZENvcmVGcmFtZXdvcmsoXHJcbiAgICAgICAgICAgICAgY29udGVudHMsXHJcbiAgICAgICAgICAgICAgY2xpZW50TmFtZSxcclxuICAgICAgICAgICAgICBwcmpOYW1lLFxyXG4gICAgICAgICAgICAgIGluZm8sXHJcbiAgICAgICAgICAgICAganNvbkRhdGFcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFdSSVRFIENPTlRFTlRTIEJBQ0sgVE8gRklMRVxyXG4gICAgICAgICAgICBpZiAoY29udGVudHMgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgIC8vIE1BS0UgVVAgQ09ERVxyXG4gICAgICAgICAgICAgIGNvbnRlbnRzID0gdXRpbHMuY29kZU1ha2VVcChjb250ZW50cyk7XHJcblxyXG4gICAgICAgICAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLndyaXRlU3BlYyhmaWxlLCBjb250ZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdW5zdXBwb3J0ZWQgY29tbWFuZHMgZXhwb3J0ZWQgZnJvbSByZWNvcmRlciB0b29sIHRvIHVzYWJsZSBzY3JpcHQgaW4gd2Rpb1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lT2ZDb2RlIGxpbmUgb2YgY29kZVxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgY29udmVydENvbW1hbmQobGluZU9mQ29kZSkge1xyXG4gICAgLy8gV0FSTklORzogdW5zdXBwb3J0ZWQgY29tbWFuZCBydW5TY3JpcHQuIE9iamVjdD0ge1wiY29tbWFuZFwiOlwicnVuU2NyaXB0XCIsXCJ0YXJnZXRcIjpcImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcIiNtYWluID4gc2VjdGlvbi5jZXJ0aWZpZWQtcGFydG5lciA+IGRpdiA+IGRpdiA+IGRpdi5jb2wtbWQtOC5jb2wtbGctNyA+IGRpdi5jb250ZW50XFxcIikuc2Nyb2xsSW50b1ZpZXcoKVwiLFwidmFsdWVcIjpcIlwifVxyXG4gICAgLy8gV0FSTklORzogdW5zdXBwb3J0ZWQgY29tbWFuZCBkZWxldGVDb29raWUuIE9iamVjdD0ge1wiY29tbWFuZFwiOlwiZGVsZXRlQ29va2llXCIsXCJ0YXJnZXRcIjpcIlwiLFwidmFsdWVcIjpcIlwifVxyXG4gICAgLy8gV0FSTklORzogdW5zdXBwb3J0ZWQgY29tbWFuZCBkZWxldGVBbGxWaXNpYmxlQ29va2llcy4gT2JqZWN0PSB7XCJjb21tYW5kXCI6XCJkZWxldGVBbGxWaXNpYmxlQ29va2llc1wiLFwidGFyZ2V0XCI6XCJcIixcInZhbHVlXCI6XCJcIn1cclxuICAgIHZhciBvYmpDb21tYW5kID0gSlNPTi5wYXJzZShcclxuICAgICAgbGluZU9mQ29kZVxyXG4gICAgICAgIC5zdWJzdHJpbmcobGluZU9mQ29kZS5pbmRleE9mKFwiPVwiKSwgbGluZU9mQ29kZS5sZW5ndGgpXHJcbiAgICAgICAgLnJlcGxhY2UoXCI9IFwiLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKGBcXHJgLCBcIlwiKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIG9iakNvbW1hbmQuY29tbWFuZCAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHN3aXRjaCAob2JqQ29tbWFuZC5jb21tYW5kKSB7XHJcbiAgICAgICAgY2FzZSBcInJ1blNjcmlwdFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGBcXHRcXHRhd2FpdCBicm93c2VyLmV4ZWN1dGUoXFxgJHtvYmpDb21tYW5kLnRhcmdldH1cXGApO1xccmA7XHJcbiAgICAgICAgY2FzZSBcImRlbGV0ZUNvb2tpZVwiOlxyXG4gICAgICAgICAgcmV0dXJuIGBcXHRcXHRhd2FpdCBicm93c2VyLmRlbGV0ZUNvb2tpZXMoW1wiJHtvYmpDb21tYW5kLnRhcmdldH1cIl0pO1xccmA7XHJcbiAgICAgICAgY2FzZSBcImRlbGV0ZUFsbFZpc2libGVDb29raWVzXCI6XHJcbiAgICAgICAgICByZXR1cm4gYFxcdFxcdGF3YWl0IGJyb3dzZXIuZGVsZXRlQ29va2llcygpO1xccmA7XHJcbiAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiBsaW5lT2ZDb2RlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbGluZU9mQ29kZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGNvZGUgYmxvY2sgZm9yIGltYWdlIGNvbXBhcmlzb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZlcnNpb24gbGF0ZXN0IHZlcnNpb24gb2YgY29kZVxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgaW5zZXJ0SW1hZ2VDb21wYXJpc29uQ29kZShpbmZvLCB2ZXJzaW9uKSB7XHJcbiAgICBjb25zdCBjb2RlQmxvY2tzID0gYXdhaXQgdGhpcy5ob29rR2VuZXJhdGlvbihpbmZvLCBcImltZ19jb21wYXJpc29uXCIpO1xyXG4gICAgbGV0IGNsc0NvZGVCbG9jayA9IGBgO1xyXG4gICAgbGV0IGZ1bmN0Q29kZUJsb2NrID0gYGA7XHJcblxyXG4gICAgLy8gR0VORVJBVEUgQ0xBU1MgQ09ERSBMSU5FXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVCbG9ja3MuY2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNsc0NvZGVCbG9jayArPSBjb2RlQmxvY2tzLmNsc1tpXTtcclxuICAgIH1cclxuICAgIC8vIEdFTkVSQVRFIEZVTkNUSU9OIENPREUgTElORVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlQmxvY2tzLmZ1bmN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZ1bmN0Q29kZUJsb2NrICs9IGNvZGVCbG9ja3MuZnVuY3RbaV07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbnRlbnRzID0gYFxcclxyXG4gICAgLy8gPT09PT09PSBJTUdfQ09NUCA6IFNUQVJUID09PT09PT1cclxuICAgIC8qXHJcbiAgICAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGRvIHRoZSBpbWFnZSBjb21wYXJpc29uLlxyXG4gICAgICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAgICAqIFlvdSBjYW4gb3BlbiB0aGUgY3VzdG9tIHNjcmlwdHMgZm9yIGNhcHR1cmUgb3B0aW9ucyB0byBhcHBseSBvbmx5IGZvciBjdXJyZW50IHNwZWMuXHJcbiAgICAgICogTm90ZTogZG9uJ3QgbW9kaWZ5IG9yIHJlbW92ZSBhbnkgc2NyaXB0IGhlcmUuXHJcbiAgICAqL1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiAke3ZlcnNpb259IDo6ICR7aW5mby5jYXNlSWR9XCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHtjbHNDb2RlQmxvY2t9XHJcbiAgICAgIFxyXG4gICAgICAke2Z1bmN0Q29kZUJsb2NrfVxyXG4gICAgfSk7XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vID09PT09PT0gSU1HX0NPTVAgOiBFTkQgPT09PT09PVxccmA7XHJcblxyXG4gICAgcmV0dXJuIGNvbnRlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgYmVmb3JlIGhvb2sgY29kZSBibG9ja1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGFzeW5jIGluc2VydEJlZm9yZUhvb2tTcGVjKGluZm8pIHtcclxuICAgIGNvbnN0IGNvZGVCbG9ja3MgPSBhd2FpdCB0aGlzLmhvb2tHZW5lcmF0aW9uKGluZm8sIFwiYmVmb3JlXCIpO1xyXG4gICAgbGV0IGNsc0NvZGVCbG9jayA9IGBgO1xyXG4gICAgbGV0IGZ1bmN0Q29kZUJsb2NrID0gYGA7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgbGV0IGJlZm9yZUJsb2NrID0gYGA7XHJcblxyXG4gICAgLy8gR0VORVJBVEUgQ0xBU1MgQ09ERSBMSU5FXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVCbG9ja3MuY2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNsc0NvZGVCbG9jayArPSBjb2RlQmxvY2tzLmNsc1tpXTtcclxuICAgIH1cclxuICAgIC8vIEdFTkVSQVRFIEZVTkNUSU9OIENPREUgTElORVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlQmxvY2tzLmZ1bmN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZ1bmN0Q29kZUJsb2NrICs9IGNvZGVCbG9ja3MuZnVuY3RbaV07XHJcbiAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICBiZWZvcmVCbG9jayA9IGBiZWZvcmUoYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICR7Y2xzQ29kZUJsb2NrfVxyXG4gICAgICAgIFxyXG4gICAgICAgICR7ZnVuY3RDb2RlQmxvY2t9XHJcbiAgICAgIH0pO2A7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiZWZvcmVCbG9jayA9IGAvLyBiZWZvcmUoYXN5bmMgZnVuY3Rpb24gKCkge30pO2A7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbnRlbnRzID0gYFxcclxyXG4gICAgLy8gPT09PT09PSBCRUZPUkVfSE9PSyA6IFNUQVJUID09PT09PT1cclxuICAgIC8qXHJcbiAgICAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGJlIHBlcmZvcm1lZCBPTkNFIGJlZm9yZSB0aGUgMXN0IHRlc3QgaW4gY3VycmVudCBzcGVjLlxyXG4gICAgICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAgICAqIE5vdGU6IGRvbid0IG1vZGlmeSBvciByZW1vdmUgYW55IHNjcmlwdCBoZXJlLlxyXG4gICAgKi9cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAke2JlZm9yZUJsb2NrfVxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyA9PT09PT09IEJFRk9SRV9IT09LIDogRU5EID09PT09PT1cXHJgO1xyXG5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGFmdGVyIGVhY2ggaG9vayBjb2RlIGJsb2NrXHJcbiAgICoge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBpbnNlcnRBZnRlckVhY2hIb29rU3BlYyhpbmZvKSB7XHJcbiAgICBjb25zdCBjb2RlQmxvY2tzID0gYXdhaXQgdGhpcy5ob29rR2VuZXJhdGlvbihpbmZvLCBcImFmdGVyX2VhY2hcIik7XHJcbiAgICBsZXQgY2xzQ29kZUJsb2NrID0gYGA7XHJcbiAgICBsZXQgZnVuY3RDb2RlQmxvY2sgPSBgYDtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBsZXQgYWZ0ZXJFYWNoQmxvY2sgPSBgYDtcclxuXHJcbiAgICAvLyBHRU5FUkFURSBDTEFTUyBDT0RFIExJTkVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29kZUJsb2Nrcy5jbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY2xzQ29kZUJsb2NrICs9IGNvZGVCbG9ja3MuY2xzW2ldO1xyXG4gICAgfVxyXG4gICAgLy8gR0VORVJBVEUgRlVOQ1RJT04gQ09ERSBMSU5FXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVCbG9ja3MuZnVuY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZnVuY3RDb2RlQmxvY2sgKz0gY29kZUJsb2Nrcy5mdW5jdFtpXTtcclxuICAgICAgY291bnQrKztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgIGFmdGVyRWFjaEJsb2NrID0gYGFmdGVyRWFjaChhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHtjbHNDb2RlQmxvY2t9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHtmdW5jdENvZGVCbG9ja31cclxuICAgICAgfSk7YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFmdGVyRWFjaEJsb2NrID0gYC8vIGFmdGVyRWFjaChhc3luYyBmdW5jdGlvbiAoKSB7fSk7YDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29udGVudHMgPSBgXFxyXHJcbiAgICAvLyA9PT09PT09IEFGVEVSX0VBQ0hfSE9PSyA6IFNUQVJUID09PT09PT1cclxuICAgIC8qXHJcbiAgICAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGJlIHBlcmZvcm1lZCBhZnRlciBFQUNIIHRlc3QgaW4gY3VycmVudCBzcGVjLlxyXG4gICAgICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAgICAqIE5vdGU6IGRvbid0IG1vZGlmeSBvciByZW1vdmUgYW55IHNjcmlwdCBoZXJlLlxyXG4gICAgKi9cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gcnVucyBhZnRlciBlYWNoIHRlc3QgaW4gdGhpcyBibG9ja1xyXG4gICAgJHthZnRlckVhY2hCbG9ja31cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vID09PT09PT0gQUZURVJfRUFDSF9IT09LIDogRU5EID09PT09PT1cXHJgO1xyXG5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgYSBuZXcgcHJvamVjdFxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNwZWNzIGxpc3Qgb2YgcnVubmluZyBzcGVjIGZpbGUgcGF0aHNcclxuICAgKi9cclxuICBhc3luYyBpbml0UHJvamVjdChzcGVjcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1tpXTtcclxuXHJcbiAgICAgIGlmIChzcGVjRmlsZVBhdGguaW5jbHVkZXMoYGluaXQuanNgKSkge1xyXG4gICAgICAgIGxldCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBqc29uRGF0YS5wcm9qZWN0cztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgY2xpZW50SWQgaW4gcHJvamVjdHMpIHtcclxuICAgICAgICAgIGZvciAodmFyIHByb2plY3RJZCBpbiBwcm9qZWN0c1tjbGllbnRJZF0pIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtcImluaXRcIl0gPT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICAgICAgICAgIHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW1wiaW5pdFwiXSAhPSBcImRvbmVcIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBsZXQgYmFzZVBhdGggPVxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5jd2QoKSArIGAvdGVzdC9zcGVjcy8ke2NsaWVudElkfS8ke3Byb2plY3RJZH1gO1xyXG4gICAgICAgICAgICAgIGxldCBkYXRhUGF0aCA9IGJhc2VQYXRoICsgYC9kYXRhYDtcclxuICAgICAgICAgICAgICBsZXQgZnVsbHBhZ2VQYXRoID0gYmFzZVBhdGggKyBgL3JlY29yZC9mdWxscGFnZWA7XHJcbiAgICAgICAgICAgICAgbGV0IHNjcmVlblBhdGggPSBiYXNlUGF0aCArIGAvcmVjb3JkL3NjcmVlbmA7XHJcbiAgICAgICAgICAgICAgbGV0IG1vYmlsZVBhdGggPSBiYXNlUGF0aCArIGAvcmVjb3JkL21vYmlsZWA7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENSRUFURSBGT0xERVJTXHJcbiAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY3JlYXRlRm9sZGVyKGRhdGFQYXRoKTtcclxuICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jcmVhdGVGb2xkZXIoZnVsbHBhZ2VQYXRoKTtcclxuICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jcmVhdGVGb2xkZXIoc2NyZWVuUGF0aCk7XHJcbiAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY3JlYXRlRm9sZGVyKG1vYmlsZVBhdGgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDT1BZIGRhdGEueGxzeFxyXG4gICAgICAgICAgICAgIGNvbnN0IGV4Y2VsUGF0aCA9IGAke2RhdGFQYXRofS9kYXRhLnhsc3hgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGRhdGFFeGlzdGluZyA9IGF3YWl0IGRhdGFIYW5kbGVyLmZpbGVFeGlzdHMoZXhjZWxQYXRoKTtcclxuICAgICAgICAgICAgICBpZiAoIWRhdGFFeGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY29weUZpbGUoXCIuL3V0aWxzL2RhdGFfdGVtcGxhdGUueGxzeFwiLCBleGNlbFBhdGgpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ09QWSBjYXBhYmlsaXRpZXNfdGVtcGxhdGUuanNvblxyXG4gICAgICAgICAgICAgIGNvbnN0IGNhcHNQYXRoID0gYCR7ZGF0YVBhdGh9L2NhcGFiaWxpdGllcy5qc29uYDtcclxuICAgICAgICAgICAgICBjb25zdCBjYXBzRXhpc3RpbmcgPSBhd2FpdCBkYXRhSGFuZGxlci5maWxlRXhpc3RzKGNhcHNQYXRoKTtcclxuICAgICAgICAgICAgICBpZiAoIWNhcHNFeGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgZGF0YUhhbmRsZXIuY29weUZpbGUoXHJcbiAgICAgICAgICAgICAgICAgIFwiLi91dGlscy9jYXBhYmlsaXRpZXNfdGVtcGxhdGUuanNvblwiLFxyXG4gICAgICAgICAgICAgICAgICBjYXBzUGF0aFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENPUFkgdGVzdC1jYXNlcy54bHN4XHJcbiAgICAgICAgICAgICAgY29uc3QgdGNQYXRoID0gYCR7ZGF0YVBhdGh9L3Rlc3QtY2FzZXMueGxzeGA7XHJcbiAgICAgICAgICAgICAgY29uc3QgdGNFeGlzdGluZyA9IGF3YWl0IGRhdGFIYW5kbGVyLmZpbGVFeGlzdHModGNQYXRoKTtcclxuICAgICAgICAgICAgICBpZiAoIXRjRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNvcHlGaWxlKFxyXG4gICAgICAgICAgICAgICAgICBcIi4vdXRpbHMvdGVzdC1jYXNlc190ZW1wbGF0ZS54bHN4XCIsXHJcbiAgICAgICAgICAgICAgICAgIHRjUGF0aFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENPUFkgdGVzdC1jYXNlcy5qc29uXHJcbiAgICAgICAgICAgICAgY29uc3QgdGNKc29uUGF0aCA9IGAke2RhdGFQYXRofS90ZXN0LWNhc2VzLmpzb25gO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRjSnNvbkV4aXN0aW5nID0gYXdhaXQgZGF0YUhhbmRsZXIuZmlsZUV4aXN0cyh0Y0pzb25QYXRoKTtcclxuICAgICAgICAgICAgICBpZiAoIXRjSnNvbkV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jb3B5RmlsZShcIi4vdXRpbHMvdGVzdC1jYXNlcy5qc29uXCIsIHRjSnNvblBhdGgpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ09QWSB0YzJqc29uLmpzXHJcbiAgICAgICAgICAgICAgY29uc3QgdGMyanNvblBhdGggPSBgJHtkYXRhUGF0aH0vdGMyanNvbi5qc2A7XHJcbiAgICAgICAgICAgICAgY29uc3QgdGMyanNvbkV4aXN0aW5nID0gYXdhaXQgZGF0YUhhbmRsZXIuZmlsZUV4aXN0cyh0YzJqc29uUGF0aCk7XHJcbiAgICAgICAgICAgICAgaWYgKCF0YzJqc29uRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNvcHlGaWxlKFwiLi91dGlscy90YzJqc29uLmpzXCIsIHRjMmpzb25QYXRoKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIERFTEVURSBBTEwgcmVhZG1lLnR4dCAtIFVTRUQgRk9SIFJFR0VORVJBVElPTlxyXG4gICAgICAgICAgICAgIGNvbnN0IGZ1bGxwYWdlUmVhZG1lUGF0aCA9IGAke2Z1bGxwYWdlUGF0aH0vcmVhZG1lLnR4dGA7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuUmVhZG1lUGF0aCA9IGAke3NjcmVlblBhdGh9L3JlYWRtZS50eHRgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZVJlYWRtZVBhdGggPSBgJHttb2JpbGVQYXRofS9yZWFkbWUudHh0YDtcclxuICAgICAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci5kZWxldGVGaWxlKGZ1bGxwYWdlUmVhZG1lUGF0aCk7XHJcbiAgICAgICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIuZGVsZXRlRmlsZShzY3JlZW5SZWFkbWVQYXRoKTtcclxuICAgICAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci5kZWxldGVGaWxlKG1vYmlsZVJlYWRtZVBhdGgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDUkVBVEUgcmVhZG1lLnR4dFxyXG4gICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNyZWF0ZUZpbGUoXHJcbiAgICAgICAgICAgICAgICBmdWxscGFnZVJlYWRtZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBgUHV0IHRoZSByZWNvcmRzIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgZm9sZGVyOlxyXG4gIC0gZnVsbHBhZ2U6IHRoZSBiYXNlbGluZSBhbmQgYWN0dWFsIGFyZSBjYXB0dXJlZCB3aXRoIGZ1bGwgd2ViIHBhZ2UgZnJvbSB0b3AgdG8gYm90dG9tLlxyXG4gIC0gc2NyZWVuOiB0aGUgYmFzZWxpbmUgYW5kIGFjdHVhbCBhcmUgY2FwdHVyZXMgd2l0aCB0aGUgc2NyZWVuIG9mIGN1cnJlbnQgcG9zaXRpb24uXHJcbiAgLSBtb2JpbGU6IHVzZWQgZm9yIG1vYmlsZSBpbWFnZSBjb21wYXJpc29uLlxyXG4gIC0gUmVjb3JkIGZpbGUgbmFtZSBtdXN0IGJlIHVuaXF1ZSBhbmQgZm9sbG93aW5nIHRoaXMgZm9ybWF0OiBbcHJvamVjdF9pZF0uW3VzZXJfc3RvcnlfaWRdLVtjYXNlX2lkXV9bbG9jYWxpemF0aW9uXS5qc1xyXG4gICAgICBFeGFtcGxlOiAke3Byb2plY3RJZH0uMDAxLUMwMDFfZW4uanNcclxuICAgICAgICAgICAgICAgIFxyXG5Ib3cgdG8gdXNlICR7cHJvamVjdElkfS5zcGVjLWdlbmVyYXRpb24uanM/XHJcbiAgLSBDaGFuZ2UgdGhlIGNvbmZpZyBcInNwZWNfZ2VuZXJhdGlvblwiIGluIGRhdGEvZGF0YS54bHN4IHRvIFwieWVzXCIgaWYgeW91IHdhbnQgdG8gZW5hYmxlIGl0LlxyXG4gIC0gVXBkYXRlIHRoZSBsaXN0IG9mIHBhZ2VzIGluIGRhdGEvZGF0YS54bHN4IGJlZm9yZSBnZW5lcmF0aW5nIHdpdGg6XHJcbiAgICAtIHBhZ2VfaWQ6IGlzIHVuaXF1ZSBpZFxyXG4gICAgLSBkb21haW46IHdlYnNpdGUgZG9tYWluXHJcbiAgICAtIGhhbmRsZXI6IHBhdGggdG8gcGFnZVxyXG4gICAgLSBzdGF0dXM6IGFjdGl2ZSwgZGVhY3RpdmUsIHN1cHBvcnQgb3IgbWFudWFsXHJcbiAgICAtIGZsb3c6IHRoZSBpZCB0byBtYXRjaCB0byB5b3VyIGZsb3cgaW4gJHtwcm9qZWN0SWR9LnNwZWMtZ2VuZXJhdGlvbi5qc1xyXG4gIC0gRWFjaCBzcGVjIGlzIGdlbmVyYXRlZCBiYXNlZCBvbiB0aGUgZmxvd3Mgd2l0aCBzdHJ1Y3R1cmUgYmVsb3cuIERlcGVuZGluZyBvbiB5b3VyIHB1cnBvc2UsIHlvdSBjYW4gZGVmaW5lIGZsZXhpYmxlIGN1c3RvbSBwcmVTdGVwIGFuZCBhZGRTdGVwIGZvciBlYWNoIHNwZWMuXHJcbiAgICBwcmVTdGVwXHJcbiAgICBhd2FpdCBicm93c2VyLnVybChsaW5rKTtcclxuICAgIGFkZFN0ZXBcclxuICAtIEtlZXAgdGhlIGZsb3cgaWQgdG8gYmUgXCIwXCIgaWYgeW91IHdhbnQgdG8gYXBwbHkgZm9yIGFsbCBwYWdlcy5cclxuICAtIFJlbW92ZSBzcGVjLWdlbmVyYXRpb24gb3V0IG9mIGV4Y2x1ZGVkIHNwZWMgaW4gd2Rpby5jb25maWdgXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jb3B5RmlsZShmdWxscGFnZVJlYWRtZVBhdGgsIHNjcmVlblJlYWRtZVBhdGgpO1xyXG4gICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNvcHlGaWxlKGZ1bGxwYWdlUmVhZG1lUGF0aCwgbW9iaWxlUmVhZG1lUGF0aCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENSRUFURSBTUEVDIEdFTkVSQVRJT05cclxuICAgICAgICAgICAgICBjb25zdCBzcGVjR2VuZXJhdGlvblBhdGggPSBgJHtmdWxscGFnZVBhdGh9LyR7cHJvamVjdElkfS5zcGVjLWdlbmVyYXRpb24uanNgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNwZWNHZW5lcmF0aW9uRXhpc3RpbmcgPSBhd2FpdCBkYXRhSGFuZGxlci5maWxlRXhpc3RzKFxyXG4gICAgICAgICAgICAgICAgc3BlY0dlbmVyYXRpb25QYXRoXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBpZiAoIXNwZWNHZW5lcmF0aW9uRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uQ29udGVudCA9IGBkZXNjcmliZShcInNwZWMtZ2VuZXJhdGlvblwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGl0KFwiZ2VuZXJhdGUgc3BlYyBmaWxlc1wiLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxvd3MgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlU3RlcDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RlcDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy91dGlsc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB1dGlscy5zcGVjR2VuZXJhdGlvbih0aGlzLnRlc3QuZmlsZSwgZmxvd3MsIC0xLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7YDtcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25Db250ZW50ID0gdXRpbHMuY29kZU1ha2VVcChnZW5lcmF0aW9uQ29udGVudCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSGFuZGxlci5jcmVhdGVGaWxlKHNwZWNHZW5lcmF0aW9uUGF0aCwgZ2VuZXJhdGlvbkNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ1JFQVRFIC5naXRpZ25vcmVcclxuICAgICAgICAgICAgICBjb25zdCBnaXRJZ25vcmVQYXRoID0gYCR7YmFzZVBhdGh9Ly5naXRpZ25vcmVgO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGdpdElnbm9yZUV4aXN0aW5nID0gYXdhaXQgZGF0YUhhbmRsZXIuZmlsZUV4aXN0cyhcclxuICAgICAgICAgICAgICAgIGdpdElnbm9yZVBhdGhcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIGlmICghZ2l0SWdub3JlRXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFIYW5kbGVyLmNyZWF0ZUZpbGUoZ2l0SWdub3JlUGF0aCwgYGRhdGEvfiQqYCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBVUERBVEUgZGF0YS5qc29uXHJcbiAgICAgICAgICAgICAganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bXCJpbml0XCJdID0gXCJkb25lXCI7XHJcbiAgICAgICAgICAgICAgYXdhaXQgZGF0YUhhbmRsZXIudXBkYXRlRGF0YUpzb25GaWxlKGpzb25EYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCB0ZXN0IGNhc2VzIGV4Y2VsIHRvIGpzb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY3MgbGlzdCBvZiBhbGwgc3BlYyBmaWxlIHBhdGhzXHJcbiAgICovXHJcbiAgYXN5bmMgdGMyanNvbihzcGVjcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBzcGVjRmlsZVBhdGggPSBzcGVjc1tpXTtcclxuICAgICAgaWYgKHNwZWNGaWxlUGF0aC5pbmNsdWRlcyhgdGMyanNvbi5qc2ApKSB7XHJcbiAgICAgICAgLy8gUkVBRCBFWENFTCBEQVRBXHJcbiAgICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoc3BlY0ZpbGVQYXRoKTtcclxuICAgICAgICBjb25zdCB0Y1BhdGggPSBgdGVzdC9zcGVjcy8ke2luZm8uY2xpZW50SWR9LyR7aW5mby5wcm9qZWN0SWR9L2RhdGEvdGVzdC1jYXNlcy54bHN4YDtcclxuICAgICAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgICAgIGluZm8ucHJvamVjdElkLFxyXG4gICAgICAgICAgdGNQYXRoXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQ1JFQVRFIEpTT05cclxuICAgICAgICBsZXQganNvbiA9IHsgZGF0YTogW10gfTtcclxuICAgICAgICBsZXQgdGVzdENhc2UgPSB7IHRlc3RfZGF0YToge30sIHN0ZXBzOiBbXSB9O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjZWxEYXRhW1widGVzdF9jYXNlc1wiXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3Qgcm93ID0gZXhjZWxEYXRhW1widGVzdF9jYXNlc1wiXVtpXTtcclxuICAgICAgICAgIGNvbnN0IGNhc2VJZCA9IHJvd1tcImNhc2VfaWRcIl07XHJcbiAgICAgICAgICBjb25zdCB1c2VyVHlwZSA9IHJvd1tcInVzZXJfdHlwZVwiXTtcclxuICAgICAgICAgIGNvbnN0IGZlYXR1cmUgPSByb3dbXCJmZWF0dXJlXCJdO1xyXG4gICAgICAgICAgY29uc3QgY2FzZU5hbWUgPSByb3dbXCJjYXNlXCJdO1xyXG4gICAgICAgICAgY29uc3QgbG9jYWxpemF0aW9uID0gcm93W1wibG9jYWxpemF0aW9uXCJdO1xyXG4gICAgICAgICAgY29uc3QgZGVzYyA9IHJvd1tcImRlc2NyaXB0aW9uXCJdO1xyXG4gICAgICAgICAgY29uc3QgdGVzdERhdGEgPSByb3dbXCJ0ZXN0X2RhdGFcIl07XHJcbiAgICAgICAgICBjb25zdCBzdGVwcyA9IHJvd1tcInN0ZXBzXCJdO1xyXG5cclxuICAgICAgICAgIC8vIEdFVCBDQVNFIElORk9cclxuICAgICAgICAgIGlmICghY29tbW9uLmVtcHR5T3JVbmRlZmluZWQoY2FzZUlkKSkge1xyXG4gICAgICAgICAgICB0ZXN0Q2FzZVtcImNhc2VfaWRcIl0gPSBjYXNlSWQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIWNvbW1vbi5lbXB0eU9yVW5kZWZpbmVkKHVzZXJUeXBlKSkge1xyXG4gICAgICAgICAgICB0ZXN0Q2FzZVtcInVzZXJfdHlwZVwiXSA9IHVzZXJUeXBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZChmZWF0dXJlKSkge1xyXG4gICAgICAgICAgICB0ZXN0Q2FzZVtcImZlYXR1cmVcIl0gPSBmZWF0dXJlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZChjYXNlTmFtZSkpIHtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJjYXNlXCJdID0gY2FzZU5hbWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIWNvbW1vbi5lbXB0eU9yVW5kZWZpbmVkKGxvY2FsaXphdGlvbikpIHtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJsb2NhbGl6YXRpb25cIl0gPSBsb2NhbGl6YXRpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIWNvbW1vbi5lbXB0eU9yVW5kZWZpbmVkKGRlc2MpKSB7XHJcbiAgICAgICAgICAgIHRlc3RDYXNlW1wiZGVzY3JpcHRpb25cIl0gPSBkZXNjO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEdFVCBURVNUIERBVEFcclxuICAgICAgICAgIGlmICghY29tbW9uLmVtcHR5T3JVbmRlZmluZWQodGVzdERhdGEpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRlc3REYXRhLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGVzdERhdGEuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcclxuICAgICAgICAgICAgdGVzdENhc2VbXCJ0ZXN0X2RhdGFcIl1ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEdFVCBTVEVQU1xyXG4gICAgICAgICAgaWYgKCFjb21tb24uZW1wdHlPclVuZGVmaW5lZChzdGVwcykpIHtcclxuICAgICAgICAgICAgaWYgKHN0ZXBzLnRvTG93ZXJDYXNlKCkgIT0gXCJbZW5kXVwiKSB7XHJcbiAgICAgICAgICAgICAgdGVzdENhc2VbXCJzdGVwc1wiXS5wdXNoKHN0ZXBzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBQVVNIIFRPIEpTT05cclxuICAgICAgICAgICAgICBqc29uLmRhdGEucHVzaCh0ZXN0Q2FzZSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJFU0VUXHJcbiAgICAgICAgICAgICAgdGVzdENhc2UgPSB7IHRlc3RfZGF0YToge30sIHN0ZXBzOiBbXSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTQVZFIEpTT04gVE8gdGVzdC1jYXNlcy5qc29uXHJcbiAgICAgICAgY29uc3QganNvblBhdGggPSBgdGVzdC9zcGVjcy8ke2luZm8uY2xpZW50SWR9LyR7aW5mby5wcm9qZWN0SWR9L2RhdGEvdGVzdC1jYXNlcy5qc29uYDtcclxuICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci51cGRhdGVEYXRhSnNvbkZpbGUoanNvbiwganNvblBhdGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgY29yZSBmdW50aW9ucyBpbnRvIGV2ZXJ5IHNwZWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgc3BlYyBmaWxlIHNjcmlwdFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnROYW1lIGNsaWVudCBuYW1lXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByak5hbWUgcHJvamVjdCBuYW1lXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uRGF0YSBnbG9iYWwganNvbiBkYXRhXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBhZGRDb3JlRnJhbWV3b3JrKGNvbnRlbnRzLCBjbGllbnROYW1lLCBwcmpOYW1lLCBpbmZvLCBqc29uRGF0YSkge1xyXG4gICAgLy8gUkVNT1ZFIE9MRCBDT01NRU5UU1xyXG4gICAgY29uc3Qgb2xkQ29tbWVudCA9IGAvLyBCWVBBU1MgUEFHRSBBVVRIIC0tLSBET04nVCBSRU1PVkUgVEhJUyBDT01NRU5UYDtcclxuICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhvbGRDb21tZW50KSkge1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2VBbGwob2xkQ29tbWVudCwgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUkVNT1ZFIEJFRk9SRSBIT09LIENPREUgQkxPQ0tcclxuICAgIGNvbnN0IGJlZm9yZUhvb2tTdGFydCA9IGAvLyA9PT09PT09IEJFRk9SRV9IT09LIDogU1RBUlQgPT09PT09PWA7XHJcbiAgICBjb25zdCBiZWZvcmVIb29rRW5kID0gYC8vID09PT09PT0gQkVGT1JFX0hPT0sgOiBFTkQgPT09PT09PWA7XHJcbiAgICBpZiAoY29udGVudHMuaW5jbHVkZXMoYmVmb3JlSG9va1N0YXJ0KSkge1xyXG4gICAgICAvLyBGUk9NIHYuMS4wLjdcclxuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYmVmb3JlSG9va1N0YXJ0KTtcclxuICAgICAgY29uc3QgZW5kSW5kZXggPSBjb250ZW50cy5pbmRleE9mKGJlZm9yZUhvb2tFbmQpO1xyXG4gICAgICBjb25zdCBjb2RlQmxvY2sgPSBjb250ZW50cy5zdWJzdHJpbmcoXHJcbiAgICAgICAgc3RhcnRJbmRleCxcclxuICAgICAgICBlbmRJbmRleCArIGJlZm9yZUhvb2tFbmQubGVuZ3RoXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnRlbnRzID0gY29udGVudHMucmVwbGFjZShjb2RlQmxvY2ssIFwiXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQkVGT1JFIHYxLjAuN1xyXG4gICAgICBjb25zdCBzdGFydEluZGV4ID0gY29udGVudHMuaW5kZXhPZihgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uYCk7XHJcbiAgICAgIGNvbnN0IGNvZGVCbG9jayA9IHRoaXMuZ2V0RnVsbENvZGVCbG9jayhzdGFydEluZGV4LCBjb250ZW50cyk7XHJcblxyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoY29kZUJsb2NrLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSRU1PVkUgQUZURVIgRUFDSCBIT09LIENPREUgQkxPQ0tcclxuICAgIGNvbnN0IGFmdGVyRWFjaEhvb2tTdGFydCA9IGAvLyA9PT09PT09IEFGVEVSX0VBQ0hfSE9PSyA6IFNUQVJUID09PT09PT1gO1xyXG4gICAgY29uc3QgYWZ0ZXJFYWNoSG9va0VuZCA9IGAvLyA9PT09PT09IEFGVEVSX0VBQ0hfSE9PSyA6IEVORCA9PT09PT09YDtcclxuICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhhZnRlckVhY2hIb29rU3RhcnQpKSB7XHJcbiAgICAgIC8vIEZST00gdi4xLjAuN1xyXG4gICAgICBjb25zdCBzdGFydEluZGV4ID0gY29udGVudHMuaW5kZXhPZihhZnRlckVhY2hIb29rU3RhcnQpO1xyXG4gICAgICBjb25zdCBlbmRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYWZ0ZXJFYWNoSG9va0VuZCk7XHJcbiAgICAgIGNvbnN0IGNvZGVCbG9jayA9IGNvbnRlbnRzLnN1YnN0cmluZyhcclxuICAgICAgICBzdGFydEluZGV4LFxyXG4gICAgICAgIGVuZEluZGV4ICsgYWZ0ZXJFYWNoSG9va0VuZC5sZW5ndGhcclxuICAgICAgKTtcclxuICAgICAgY29udGVudHMgPSBjb250ZW50cy5yZXBsYWNlKGNvZGVCbG9jaywgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUkVNT1ZFIElNRyBDT01QIENPREUgQkxPQ0tcclxuICAgIGNvbnN0IGltZ1N0YXJ0ID0gYC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09YDtcclxuICAgIGNvbnN0IGltZ0VuZCA9IGAvLyA9PT09PT09IElNR19DT01QIDogRU5EID09PT09PT1gO1xyXG4gICAgaWYgKGNvbnRlbnRzLmluY2x1ZGVzKGltZ1N0YXJ0KSkge1xyXG4gICAgICAvLyBGUk9NIHYuMS4wLjdcclxuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoaW1nU3RhcnQpO1xyXG4gICAgICBjb25zdCBlbmRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoaW1nRW5kKTtcclxuICAgICAgY29uc3QgY29kZUJsb2NrID0gY29udGVudHMuc3Vic3RyaW5nKFxyXG4gICAgICAgIHN0YXJ0SW5kZXgsXHJcbiAgICAgICAgZW5kSW5kZXggKyBpbWdFbmQubGVuZ3RoXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnRlbnRzID0gY29udGVudHMucmVwbGFjZShjb2RlQmxvY2ssIFwiXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQkVGT1JFIHYxLjAuN1xyXG4gICAgICBjb25zdCBzdGFydEluZGV4ID0gY29udGVudHMuaW5kZXhPZihgaXQoXCJpbWFnZSBjb21wYXJpc29uYCk7XHJcbiAgICAgIGNvbnN0IGNvZGVCbG9jayA9IHRoaXMuZ2V0RnVsbENvZGVCbG9jayhzdGFydEluZGV4LCBjb250ZW50cyk7XHJcblxyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoY29kZUJsb2NrLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHRU5FUkFURSBDT1JFIEZSQU1FV09SS1xyXG4gICAgLy8gMS4gTUFLRSBVUCBDT0RFXHJcbiAgICBjb250ZW50cyA9IHV0aWxzLmNvZGVNYWtlVXAoY29udGVudHMpO1xyXG5cclxuICAgIC8vIDIuIElERU5USUZZIFRIRSBQT1NJVElPTiBUTyBBREQgQ09ERSBCTE9DS1NcclxuICAgIGNvbnN0IGNhcFR5cGUgPSBjb21tb24uY2FwaXRhbGl6ZShpbmZvLmNhcHR1cmVUeXBlKTtcclxuICAgIGxldCBzcGVjVGl0bGVDb2RlID0gYGRlc2NyaWJlKFwiJHtwcmpOYW1lfSA6OiAke2NhcFR5cGV9XCIsIGFzeW5jIGZ1bmN0aW9uKCkge2A7XHJcbiAgICBsZXQgc3BlY1RpdGxlSW5kZXggPSBjb250ZW50cy5pbmRleE9mKHNwZWNUaXRsZUNvZGUpO1xyXG5cclxuICAgIC8vIDMuIFJFVklTRSBJRiBGQUNJTkcgV1JPTkcgRk9STUFUIENPREVcclxuICAgIGlmIChzcGVjVGl0bGVJbmRleCA8IDApIHtcclxuICAgICAgc3BlY1RpdGxlQ29kZSA9IGBkZXNjcmliZShcIiR7cHJqTmFtZX0gOjogJHtjYXBUeXBlfVwiLCBhc3luYyBmdW5jdGlvbiAoKSB7YDtcclxuICAgICAgc3BlY1RpdGxlSW5kZXggPSBjb250ZW50cy5pbmRleE9mKHNwZWNUaXRsZUNvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDQuIEFERCBBRlRFUiBFQUNIIEhPT0sgQ09ERSBCTE9DS1xyXG4gICAgaWYgKHNwZWNUaXRsZUluZGV4ID49IDApIHtcclxuICAgICAgY29uc3QgYWZ0ZXJFYWNoSG9va0NvZGVCbG9jayA9IGF3YWl0IHRoaXMuaW5zZXJ0QWZ0ZXJFYWNoSG9va1NwZWMoaW5mbyk7XHJcbiAgICAgIGNvbnRlbnRzID0gY29udGVudHMucmVwbGFjZShcclxuICAgICAgICBzcGVjVGl0bGVDb2RlLFxyXG4gICAgICAgIHNwZWNUaXRsZUNvZGUgKyBhZnRlckVhY2hIb29rQ29kZUJsb2NrXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gNS4gQUREIEJFRk9SRSBIT09LIENPREUgQkxPQ0tcclxuICAgIGlmIChzcGVjVGl0bGVJbmRleCA+PSAwKSB7XHJcbiAgICAgIGNvbnN0IGJlZm9yZUhvb2tDb2RlQmxvY2sgPSBhd2FpdCB0aGlzLmluc2VydEJlZm9yZUhvb2tTcGVjKGluZm8pO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoXHJcbiAgICAgICAgc3BlY1RpdGxlQ29kZSxcclxuICAgICAgICBzcGVjVGl0bGVDb2RlICsgYmVmb3JlSG9va0NvZGVCbG9ja1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDYuIEFERCBJTUFHRSBDT01QQVJJU09OIENPREUgQkxPQ0tcclxuICAgIHZhciBjb3VudCA9IHV0aWxzLmdldEluZGljZXNPZihcIn0pO1wiLCBjb250ZW50cy5zbGljZSgtMTIpKS5sZW5ndGg7XHJcbiAgICBpZiAoY291bnQgPT0gMikge1xyXG4gICAgICB2YXIgbGFzdExpbmVJbmRleCA9IGNvbnRlbnRzLmxhc3RJbmRleE9mKFwifSk7XCIpO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnN1YnN0cmluZygwLCBsYXN0TGluZUluZGV4KTtcclxuICAgIH1cclxuICAgIGNvbnRlbnRzICs9IGF3YWl0IHRoaXMuaW5zZXJ0SW1hZ2VDb21wYXJpc29uQ29kZShpbmZvLCBqc29uRGF0YS52ZXJzaW9uKTtcclxuICAgIGNvbnRlbnRzICs9IGBcXHJ9KTtgO1xyXG5cclxuICAgIC8vIDcuIE1BS0UgVVAgQ09ERVxyXG4gICAgY29udGVudHMgPSB1dGlscy5jb2RlTWFrZVVwKGNvbnRlbnRzKTtcclxuXHJcbiAgICAvLyA4LiBSRVRVUk5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlYXJjaCB0aGUgY29kZSBibG9jayBieSBnbyB1bnRpbCBmb3VuZCBlbmQgb2YgYmxvY2tcclxuICAgKiBAcGFyYW0ge0ludH0gaW5kZXggc3RhcnQgaW5kZXhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBzdHJpbmcgaXMgdXNlZCBmb3Igc2VhcmNoaW5nXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBnZXRDb2RlQmxvY2soaW5kZXgsIHRleHQsIGVuZCA9IFwifSk7XCIpIHtcclxuICAgIGxldCBjb25kaXRpb24gPSB0cnVlO1xyXG4gICAgbGV0IG5leHQgPSBpbmRleCArIDE7XHJcbiAgICBsZXQgdG1wU3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICB3aGlsZSAoY29uZGl0aW9uKSB7XHJcbiAgICAgIHRtcFN0cmluZyA9IHRleHQuc3Vic3RyaW5nKGluZGV4LCBuZXh0KTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRtcFN0cmluZy5pbmNsdWRlcyhlbmQpIHx8XHJcbiAgICAgICAgdG1wU3RyaW5nID09IFwiXCIgfHxcclxuICAgICAgICB0bXBTdHJpbmcubGVuZ3RoID49IHRleHQubGVuZ3RoXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbmRpdGlvbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIG5leHQrKztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG1wU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2FtZSBhcyBnZXRDb2RlQmxvY2sgYnV0IGVuc3VyZSB0aGUgZnVsbCBmdW5jdGlvbiBpcyByZXR1cm5lZFxyXG4gICAqIEBwYXJhbSB7SW50fSBpbmRleCBzdGFydCBpbmRleFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IGNvbnRlbnRzIHRvIGJlIHNlYXJjaGVkIGZvclxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbmQgZW5kIHNpZ25hbFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0RnVsbENvZGVCbG9jayhpbmRleCwgdGV4dCwgZW5kID0gXCJ9KTtcIikge1xyXG4gICAgbGV0IGNvbmRpdGlvbiA9IHRydWU7XHJcbiAgICBsZXQgbmV4dCA9IGluZGV4ICsgMTtcclxuICAgIGxldCB0bXBTdHJpbmcgPSBcIlwiO1xyXG4gICAgbGV0IG9wZW5CcmFja2V0ID0gMDtcclxuICAgIGxldCBjbG9zZUJyYWNrZXQgPSAwO1xyXG5cclxuICAgIHdoaWxlIChjb25kaXRpb24pIHtcclxuICAgICAgLy8gR08gVE8gRUFDSCBDSEFSQUNURVJcclxuICAgICAgdG1wU3RyaW5nID0gdGV4dC5zdWJzdHJpbmcoaW5kZXgsIG5leHQpO1xyXG5cclxuICAgICAgLy8gSUYgTEFTVCBDSEFSQUNURVIgSVMgXCJ7XCJcclxuICAgICAgaWYgKHRtcFN0cmluZy5zbGljZSgtMSkgPT0gXCJ7XCIpIG9wZW5CcmFja2V0Kys7XHJcbiAgICAgIC8vIElGIExBU1QgQ0hBUkFDVEVSIElTIFwifVwiXHJcbiAgICAgIGlmICh0bXBTdHJpbmcuc2xpY2UoLTEpID09IFwifVwiKSBjbG9zZUJyYWNrZXQrKztcclxuXHJcbiAgICAgIC8vIFNUT1AgRklORElOR1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdG1wU3RyaW5nLmxlbmd0aCA+PSB0ZXh0Lmxlbmd0aCB8fFxyXG4gICAgICAgICgodG1wU3RyaW5nLnNsaWNlKC0zKS5pbmNsdWRlcyhlbmQpIHx8IHRtcFN0cmluZyA9PSBcIlwiKSAmJlxyXG4gICAgICAgICAgb3BlbkJyYWNrZXQgPT0gY2xvc2VCcmFja2V0KVxyXG4gICAgICApIHtcclxuICAgICAgICBjb25kaXRpb24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBuZXh0Kys7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRtcFN0cmluZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhc3luYyBiZWZvcmUgZnVuY3Rpb24gaWYgbm90IGV4aXN0aW5nXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIGZpbGUgY29udGVudHNcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGFkZEFzeW5jMkZ1bmMoY29udGVudHMpIHtcclxuICAgIGxldCBpbmRleGVzID0gdXRpbHMuZ2V0SW5kaWNlc09mKGBmdW5jdGlvbmAsIGNvbnRlbnRzLCBmYWxzZSk7XHJcbiAgICBjb25zdCBmdW5jVGV4dCA9IGBmdW5jdGlvbmA7XHJcbiAgICBjb25zdCBhc3luY1RleHQgPSBgYXN5bmNgO1xyXG4gICAgZm9yIChsZXQgaSA9IGluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgY29uc3QgdGV4dCA9IGNvbnRlbnRzLnN1YnN0cmluZyhcclxuICAgICAgICBpbmRleGVzW2ldLFxyXG4gICAgICAgIGluZGV4ZXNbaV0gLSBhc3luY1RleHQubGVuZ3RoIC0gMVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoIXRleHQudHJpbSgpLmluY2x1ZGVzKGFzeW5jVGV4dCkpIHtcclxuICAgICAgICBjb250ZW50cyA9XHJcbiAgICAgICAgICBjb250ZW50cy5zbGljZSgwLCBpbmRleGVzW2ldKSArXHJcbiAgICAgICAgICBhc3luY1RleHQgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgY29udGVudHMuc2xpY2UoaW5kZXhlc1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaXggYW5kIHVwZGF0ZSB0aGUgdGl0bGUgb2Ygc3BlY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBzcGVjIGZpbGUgc2NyaXB0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudE5hbWUgY2xpZW50IG5hbWVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJqTmFtZSBwcm9qZWN0IG5hbWVcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIHVwZGF0ZVNwZWNUaXRsZShjb250ZW50cywgcHJqTmFtZSwgY2FwdHVyZVR5cGUpIHtcclxuICAgIGxldCBpbmRleGVzID0gdXRpbHMuZ2V0SW5kaWNlc09mKGBkZXNjcmliZShgLCBjb250ZW50cywgZmFsc2UpO1xyXG4gICAgZm9yIChsZXQgaSA9IGluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgbGV0IHRleHQgPSB0aGlzLmdldENvZGVCbG9jayhpbmRleGVzW2ldLCBjb250ZW50cywgXCIsXCIpO1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoXHJcbiAgICAgICAgdGV4dCxcclxuICAgICAgICBgZGVzY3JpYmUoXCIke3Byak5hbWV9IDo6ICR7Y29tbW9uLmNhcGl0YWxpemUoY2FwdHVyZVR5cGUpfVwiLCBgXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbnRlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRml4IGFuZCB1cGRhdGUgdGVzdCBjYXNlIHRpdGxlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNwZWMgZmlsZSBzY3JpcHRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2FzZUlkIHRlc3QgY2FzZSBpZFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgdXBkYXRlQ2FzZVRpdGxlKGNvbnRlbnRzLCBjYXNlSWQpIHtcclxuICAgIGxldCBpbmRleGVzID0gdXRpbHMuZ2V0SW5kaWNlc09mKGBpdChgLCBjb250ZW50cywgZmFsc2UpO1xyXG4gICAgZm9yIChsZXQgaSA9IGluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgbGV0IHRleHQgPSB0aGlzLmdldENvZGVCbG9jayhpbmRleGVzW2ldLCBjb250ZW50cywgXCIsXCIpO1xyXG4gICAgICBpZiAoIXRleHQuaW5jbHVkZXMoYGltYWdlIGNvbXBhcmlzb25gKSlcclxuICAgICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UodGV4dCwgYGl0KFwicmVjb3JkZXIgOjogJHtjYXNlSWR9XCIsIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb250ZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGFuZCBjb252ZXJ0IHVuc3VwcG9ydCBjb21tYW5kcyBpbnRvIFdESU8gY29tbWFuZHNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgc3BlYyBmaWxlIHNjcmlwdFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgdXBkYXRlQ29tbWFuZChjb250ZW50cykge1xyXG4gICAgbGV0IGluZGV4ZXMgPSB1dGlscy5nZXRJbmRpY2VzT2YoXHJcbiAgICAgIGAvLyBXQVJOSU5HOiB1bnN1cHBvcnRlZCBjb21tYW5kYCxcclxuICAgICAgY29udGVudHMsXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgZm9yIChsZXQgaSA9IGluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgbGV0IHRleHQgPSB0aGlzLmdldENvZGVCbG9jayhpbmRleGVzW2ldLCBjb250ZW50cywgXCJ9XCIpO1xyXG4gICAgICBsZXQgbmV3VGV4dCA9IHRoaXMuY29udmVydENvbW1hbmQodGV4dCk7XHJcbiAgICAgIGNvbnRlbnRzID0gY29udGVudHMucmVwbGFjZSh0ZXh0LCBuZXdUZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBob29rIGZ1bmN0aW9ucyBmb3IgZWFjaCBzcGVjXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBob29rVHlwZSB0eXBlIG9mIEhvb2sgZGVmaW5lZCBpbiBleGNlbCBkYXRhXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBob29rR2VuZXJhdGlvbihpbmZvLCBob29rVHlwZSkge1xyXG4gICAgY29uc3QgY2xpZW50SWQgPSBpbmZvLmNsaWVudElkO1xyXG4gICAgY29uc3QgcHJvamVjdElkID0gaW5mby5wcm9qZWN0SWQ7XHJcbiAgICBjb25zdCBzcGVjSWQgPSBpbmZvLnNwZWNJZDtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGNsaWVudElkLFxyXG4gICAgICBwcm9qZWN0SWRcclxuICAgICk7XHJcbiAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICBjb25zdCBjcHRPcHREYXRhID0ganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bXCJjcHRfb3B0XCJdO1xyXG4gICAgbGV0IGNvZGVCbG9ja3MgPSB7IGNsczogW10sIGZ1bmN0OiBbXSB9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjZWxEYXRhW1wiaG9va1wiXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb3cgPSBleGNlbERhdGFbXCJob29rXCJdW2ldO1xyXG4gICAgICBjb25zdCB0eXBlID0gcm93W1widHlwZVwiXTtcclxuICAgICAgY29uc3QgY2xzID0gcm93W1wiY2xhc3NcIl07XHJcbiAgICAgIGNvbnN0IGZ1bmN0ID0gcm93W1wiZnVuY3Rpb25cIl07XHJcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHJvd1tcInN0YXR1c1wiXTtcclxuICAgICAgbGV0IHNjcmlwdCA9IGBgO1xyXG5cclxuICAgICAgaWYgKGhvb2tUeXBlID09IHR5cGUpIHtcclxuICAgICAgICAvLyBJTVBPUlQgQ0xBU1NcclxuICAgICAgICBzd2l0Y2ggKGNscykge1xyXG4gICAgICAgICAgY2FzZSBcInV0aWxzXCI6XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuY2xzLnB1c2goXHJcbiAgICAgICAgICAgICAgYGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvdXRpbHNcIik7XFxyYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJob29rXCI6XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuY2xzLnB1c2goXHJcbiAgICAgICAgICAgICAgYGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2hvb2tcIik7XFxyYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJhbGx1cmVcIjpcclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5jbHMucHVzaChcclxuICAgICAgICAgICAgICBgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy9saWIvYWxsdXJlXCIpO1xccmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiZGF0YV9oYW5kbGVyXCI6XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuY2xzLnB1c2goXHJcbiAgICAgICAgICAgICAgYGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvbGliL2RhdGFfaGFuZGxlclwiKTtcXHJgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImppcmFcIjpcclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5jbHMucHVzaChcclxuICAgICAgICAgICAgICBgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy9saWIvamlyYVwiKTtcXHJgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSU1QT1JUIEZVTkNUSU9OXHJcbiAgICAgICAgc3dpdGNoIChmdW5jdCkge1xyXG4gICAgICAgICAgY2FzZSBcInBhZ2VBdXRoXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBhd2FpdCB1dGlscy5wYWdlQXV0aChcIiR7Y2xpZW50SWR9XCIsIFwiJHtwcm9qZWN0SWR9XCIpO1xccmA7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJpbmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2NyaXB0ID0gYC8vIGF3YWl0IHV0aWxzLnBhZ2VBdXRoKFwiJHtjbGllbnRJZH1cIiwgXCIke3Byb2plY3RJZH1cIik7XFxyYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0LnB1c2goYC8vIENPUkUgKCR7c3RhdHVzfSkgOjogQllQQVNTIFBBR0UgQVVUSFxyXG4gICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImNoZWNrVmFsaWRDYXBzXCI6XHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBsZXQgdmFsaWQgPSBhd2FpdCB1dGlscy5jaGVja1ZhbGlkQ2FwcygpO1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICBzY3JpcHQgPSBgLy8gbGV0IHZhbGlkID0gYXdhaXQgdXRpbHMuY2hlY2tWYWxpZENhcHMoKTtcclxuICAgICAgICAgICAgICAvLyBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuZnVuY3RcclxuICAgICAgICAgICAgICAucHVzaChgLy8gQ09SRSAoJHtzdGF0dXN9KSA6OiBTS0lQIFNQRUMgSUYgV1JPTkcgQ0FQQUJJTElUWVxyXG4gICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImltZ0NvbXBhcmVcIjpcclxuICAgICAgICAgICAgc2NyaXB0ID0gYGF3YWl0IHV0aWxzLmltZ0NvbXBhcmUoXCIke3Byb2plY3RJZH1cIiwgXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICBzY3JpcHQgPSBgLy8gYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcIiR7cHJvamVjdElkfVwiLCBcIiR7c3BlY0lkfVwiKTtgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuZnVuY3QucHVzaChgXFxyXHJcbiAgICAgICAgICAgIC8vIENPUkUgKCR7c3RhdHVzfSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImFkZENhcHR1cmVPcHRzXCI6XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVPcHRzID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0Q2FwdHVyZU9wdHMoXHJcbiAgICAgICAgICAgICAgY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgcHJvamVjdElkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxldCBwbGF0Zm9ybSA9IFwid2ViXCI7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLmNhcHR1cmVUeXBlID09IFwibW9iaWxlXCIpIHBsYXRmb3JtID0gaW5mby5jYXB0dXJlVHlwZTtcclxuXHJcbiAgICAgICAgICAgIHNjcmlwdCA9IGBcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEN1c3RvbSBjYXB0dXJlIG9wdHMuIFVuY29tbWVudCBhbmQgY2hhbmdlIHRoZSB2YWx1ZSB0byB1c2UgaXQuXHJcbiAgICAgICAgICAgICAqIFRoZSBnbG9iYWwgY29uZmlnIGlzIHNldCBpbiBkYXRhLnhsc3ggYW5kIGlzIGFwcGxpZWQgYnkgZGVmYXVsdCBmb3IgYWxsIHNwZWNzLlxyXG4gICAgICAgICAgICAgKiBOb3RlOiB0aGVzZSBjb25maWcgbWF5IGJlIHJlcGxhY2VkIGlmIHRoZXJlIGlzIG5ldyB2ZXJzaW9uIG9mIFV0aWxzIGxpYiByZWxlYXNlZC5cclxuICAgICAgICAgICAgICovXFxyXFxyYDtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNhcHR1cmVPcHRzW3BsYXRmb3JtXSkge1xyXG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGNhcHR1cmVPcHRzW3BsYXRmb3JtXVtrZXldO1xyXG4gICAgICAgICAgICAgIGlmIChrZXkgIT0gXCJiYXNlbGluZUZvbGRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDSEVDSyBKU09OIERBVEFcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3B0T3B0RGF0YSAhPSBcInVuZGVmaW5lZFwiICYmIGNwdE9wdERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNwdE9wdERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3B0T3B0RGF0YVtpXVtcImlkXCJdID09IHNwZWNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjcHRPcHREYXRhW2ldLnZhbHVlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gY3B0T3B0RGF0YVtpXS52YWx1ZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmtleSA9PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gIW8uZW5hYmxlZCA/IFwiLy8gXCIgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdCArPSBgXFx0JHtlbmFibGVkfWF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiJHtzcGVjSWR9XCIsIFwiJHtrZXl9XCIsICR7by5hcmcudmFsdWV9LCBcIiR7by5hcmcudHlwZX1cIik7XFxyYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ0hFQ0sgR0xPQkFMIFNUQVRVU1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGV4dCA9IGBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIiR7c3BlY0lkfVwiLCBcIiR7a2V5fVwiLGA7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNjcmlwdC5pbmNsdWRlcyhzZWFyY2hUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IFwiaW5hY3RpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdCArPSBgXFx0Ly8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIke3NwZWNJZH1cIiwgXCIke2tleX1cIiwgJHt2YWx1ZX0sIFwiJHtwbGF0Zm9ybX1cIik7XFxyYDtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQgKz0gYFxcdGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiJHtzcGVjSWR9XCIsIFwiJHtrZXl9XCIsICR7dmFsdWV9LCBcIiR7cGxhdGZvcm19XCIpO1xccmA7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29kZUJsb2Nrcy5mdW5jdC5wdXNoKHNjcmlwdCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImNoZWNrRmlyZVdhbGxcIjpcclxuICAgICAgICAgICAgc2NyaXB0ID0gYGF3YWl0IHV0aWxzLmNoZWNrRmlyZVdhbGwoXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICBzY3JpcHQgPSBgLy8gYXdhaXQgdXRpbHMuY2hlY2tGaXJlV2FsbChcIiR7c3BlY0lkfVwiKTtgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvZGVCbG9ja3MuZnVuY3QucHVzaChgXFxyXHJcbiAgICAgICAgICAgICAgLy8gQ09SRSAoJHtzdGF0dXN9KSA6OiBDSEVDSyBGSVJFV0FMTFxyXG4gICAgICAgICAgICAgICR7c2NyaXB0fVxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwibG9jYWxpemVcIjpcclxuICAgICAgICAgICAgc2NyaXB0ID0gYGdsb2JhbC5sb2NhbGl6YXRpb24gPSBhd2FpdCB1dGlscy5nZXRMb2NhbGl6YXRpb24oXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICBzY3JpcHQgPSBgLy8gYCArIHNjcmlwdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0XHJcbiAgICAgICAgICAgICAgLnB1c2goYFxcci8vIENPUkUgKCR7c3RhdHVzfSkgOjogR0VUIExPQ0FMSVpBVElPTiBGUk9NIFNQRUMgSURcclxuICAgICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiZHluYW1pY0Jhc2VVcmxcIjpcclxuICAgICAgICAgICAgc2NyaXB0ID0gYGdsb2JhbC5keW5hbWljQmFzZVVybCA9IGF3YWl0IHV0aWxzLmdldER5bmFtaWNVcmwoXCIke3NwZWNJZH1cIik7YDtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcImluYWN0aXZlXCIpIHtcclxuICAgICAgICAgICAgICBzY3JpcHQgPSBgLy8gYCArIHNjcmlwdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2RlQmxvY2tzLmZ1bmN0LnB1c2goYFxcci8vIENPUkUgKCR7c3RhdHVzfSkgOjogR0VUIERZTkFNSUMgQkFTRSBVUkxcclxuICAgICAgICAgICAgICAke3NjcmlwdH1cclxuICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2xzOiBBcnJheS5mcm9tKG5ldyBTZXQoY29kZUJsb2Nrcy5jbHMpKSxcclxuICAgICAgZnVuY3Q6IEFycmF5LmZyb20obmV3IFNldChjb2RlQmxvY2tzLmZ1bmN0KSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgc3BlYyBzdGF0dXMgYW5kIHVwZGF0ZSBzcGVjIGZpbGVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNGaWxlUGF0aCBzcGVjIGZpbGUgcGF0aFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBzcGVjIGZpbGUgY29udGVudHNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlIHdyaXRlIGZpbGUgb3IgcmV0dXJuIGNvbnRlbnRzXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBjaGVja1N0YXR1cyhpbmZvLCBzcGVjRmlsZVBhdGgsIGNvbnRlbnRzLCB3cml0ZSA9IHRydWUpIHtcclxuICAgIC8vIHN0YXR1czogXCJhY3RpdmUgfCBtYW51YWwgfCBkZWFjdGl2YXRlIHwgc3VwcG9ydFwiXHJcblxyXG4gICAgY29uc3QgY2FzZUlkID0gaW5mby5jYXNlSWQ7XHJcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgY29uc3Qgc2tpcENvbW1lbnQgPSBgLyogPT09PT09PSBTS0lQUEVEID09PT09PT1gO1xyXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGNvbnRlbnRzLmluZGV4T2YoYGl0KFwicmVjb3JkZXIgOjogJHtjYXNlSWR9XCIsYCk7XHJcbiAgICBjb25zdCBjb2RlQmxvY2sgPSB0aGlzLmdldEZ1bGxDb2RlQmxvY2soc3RhcnRJbmRleCwgY29udGVudHMpO1xyXG4gICAgbGV0IG5ld0NvZGVCbG9jayA9IGNvZGVCbG9jaztcclxuICAgIGNvbnN0IGJsb2NrU3RhcnRJbmRleCA9IG5ld0NvZGVCbG9jay5pbmRleE9mKGBpdChcInJlY29yZGVyIDo6ICR7Y2FzZUlkfVwiLGApO1xyXG4gICAgY29uc3QgZmlyc3RDb2RlTGluZSA9IHRoaXMuZ2V0Q29kZUJsb2NrKGJsb2NrU3RhcnRJbmRleCwgbmV3Q29kZUJsb2NrLCBcIntcIik7XHJcblxyXG4gICAgaWYgKGluZm8uc3RhdHVzICE9IFwiYWN0aXZlXCIgJiYgIWNvZGVCbG9jay5pbmNsdWRlcyhza2lwQ29tbWVudCkpIHtcclxuICAgICAgLy8gMS4gQUREIFNLSVBQRUQgT1BFTlxyXG4gICAgICBuZXdDb2RlQmxvY2sgPSBuZXdDb2RlQmxvY2sucmVwbGFjZShcclxuICAgICAgICBmaXJzdENvZGVMaW5lLFxyXG4gICAgICAgIGZpcnN0Q29kZUxpbmUgKyBgXFxyJHtza2lwQ29tbWVudH1gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyAyLiBBREQgU0tJUFBFRCBDTE9TRVxyXG4gICAgICBjb25zdCBjb3VudCA9IHV0aWxzLmdldEluZGljZXNPZihcIn0pO1wiLCBjb2RlQmxvY2suc2xpY2UoLTUpKS5sZW5ndGg7XHJcbiAgICAgIGlmIChjb3VudCA9PSAxKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdExpbmVJbmRleCA9IG5ld0NvZGVCbG9jay5sYXN0SW5kZXhPZihcIn0pO1wiKTtcclxuICAgICAgICBuZXdDb2RlQmxvY2sgPSBuZXdDb2RlQmxvY2suc3Vic3RyaW5nKDAsIGxhc3RMaW5lSW5kZXgpO1xyXG4gICAgICAgIG5ld0NvZGVCbG9jayArPSBgKi9cXHJ9KTtgO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoaW5mby5zdGF0dXMgPT0gXCJhY3RpdmVcIiAmJiBjb2RlQmxvY2suaW5jbHVkZXMoc2tpcENvbW1lbnQpKSB7XHJcbiAgICAgIC8vIFJFTU9WRSBTS0lQUEVEIE9QRU5cclxuICAgICAgY29uc3QgbGluZVdpdGhDb21tZW50ID0gdGhpcy5nZXRDb2RlQmxvY2soXHJcbiAgICAgICAgYmxvY2tTdGFydEluZGV4LFxyXG4gICAgICAgIG5ld0NvZGVCbG9jayxcclxuICAgICAgICBza2lwQ29tbWVudFxyXG4gICAgICApO1xyXG4gICAgICBuZXdDb2RlQmxvY2sgPSBuZXdDb2RlQmxvY2sucmVwbGFjZShsaW5lV2l0aENvbW1lbnQsIGZpcnN0Q29kZUxpbmUpO1xyXG5cclxuICAgICAgLy8gUkVNT1ZFIFNLSVBQRUQgQ0xPU0VcclxuICAgICAgY29uc3QgbGFzdExpbmUgPSBuZXdDb2RlQmxvY2suc2xpY2UoLTEwKTtcclxuICAgICAgbGV0IG5ld0xhc3RMaW5lID0gbGFzdExpbmU7XHJcbiAgICAgIGlmIChuZXdMYXN0TGluZS5pbmNsdWRlcyhgKi9gKSkge1xyXG4gICAgICAgIG5ld0xhc3RMaW5lID0gbmV3TGFzdExpbmVcclxuICAgICAgICAgIC5yZXBsYWNlKGAqL2AsIFwiXCIpXHJcbiAgICAgICAgICAucmVwbGFjZShgXFxyYCwgXCJcIilcclxuICAgICAgICAgIC5yZXBsYWNlKGBcXG5gLCBcIlwiKTtcclxuICAgICAgICBuZXdDb2RlQmxvY2sgPSBuZXdDb2RlQmxvY2sucmVwbGFjZShsYXN0TGluZSwgbmV3TGFzdExpbmUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoY29kZUJsb2NrLCBuZXdDb2RlQmxvY2spO1xyXG4gICAgICBjb250ZW50cyA9IHV0aWxzLmNvZGVNYWtlVXAoY29udGVudHMpO1xyXG4gICAgICBpZiAod3JpdGUpIHtcclxuICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci53cml0ZVNwZWMoc3BlY0ZpbGVQYXRoLCBjb250ZW50cyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBjdXN0b20gY2FwdHVyZSBvcHRpb25zIGNvZGUgYmxvY2sgYW5kIHVwZGF0ZSBKc29uIGRhdGFcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNwZWMgY29udGVudHNcclxuICAgKi9cclxuICBhc3luYyBjaGVja0NhcHR1cmVPcHRzKGluZm8sIGNvbnRlbnRzKSB7XHJcbiAgICBjb25zdCBhcnJPcHRzID0gW1xyXG4gICAgICBcImZ1bGxQYWdlU2Nyb2xsVGltZW91dFwiLFxyXG4gICAgICBcImlnbm9yZVRyYW5zcGFyZW50UGl4ZWxcIixcclxuICAgICAgXCJpZ25vcmVBbnRpYWxpYXNpbmdcIixcclxuICAgICAgXCJzY2FsZUltYWdlc1RvU2FtZVNpemVcIixcclxuICAgICAgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsXHJcbiAgICAgIFwiZGlzYWJsZUNTU0FuaW1hdGlvblwiLFxyXG4gICAgICBcImlnbm9yZUNvbG9yc1wiLFxyXG4gICAgICBcImlnbm9yZUFscGhhXCIsXHJcbiAgICBdO1xyXG4gICAgbGV0IGpzb25EYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0R2xvYmFsRGF0YUpzb24oKTtcclxuICAgIHZhciBkYXRhID0ganNvbkRhdGEucHJvamVjdHNbaW5mby5jbGllbnRJZF1baW5mby5wcm9qZWN0SWRdW1wiY3B0X29wdFwiXTtcclxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgbGV0IG9wdHMgPSB7XHJcbiAgICAgIGlkOiBpbmZvLnNwZWNJZCxcclxuICAgICAgdmFsdWVzOiBbXSxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09IFwidW5kZWZpbmVkXCIgfHwgZGF0YS5sZW5ndGggPD0gMCkge1xyXG4gICAgICBkYXRhID0gW107XHJcbiAgICAgIGRhdGEucHVzaChvcHRzKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyck9wdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgbGV0IHNlYXJjaFRleHQgPSBgLy9hd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIiR7aW5mby5zcGVjSWR9XCIsIFwiJHthcnJPcHRzW2pdfVwiLGA7XHJcblxyXG4gICAgICAvLyBUUlkgVE8gU0VBUkNIIFdJVEggREVGQVVMVCBTRUFSQ0ggVEVYVFxyXG4gICAgICBpZiAoIWNvbnRlbnRzLmluY2x1ZGVzKHNlYXJjaFRleHQpKSB7XHJcbiAgICAgICAgc2VhcmNoVGV4dCA9IGAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIiR7aW5mby5zcGVjSWR9XCIsIFwiJHthcnJPcHRzW2pdfVwiLGA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJFTU9WRSBPUFQgRlJPTSBKU09OXHJcbiAgICAgIGlmIChjb250ZW50cy5pbmNsdWRlcyhzZWFyY2hUZXh0KSkge1xyXG4gICAgICAgIC8vIExPT1AgREFUQVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGRhdGFbaV1bXCJpZFwiXSA9PSBpbmZvLnNwZWNJZCkge1xyXG4gICAgICAgICAgICBjb25zdCB0bXBBcnIgPSBkYXRhW2ldLnZhbHVlcy5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgKG9iaikgPT4gIShvYmoua2V5ID09PSBhcnJPcHRzW2pdKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAodG1wQXJyLmxlbmd0aCAhPSBkYXRhW2ldLnZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBkYXRhW2ldLnZhbHVlcyA9IHRtcEFycjtcclxuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBXUklURSBKU09OXHJcbiAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICBqc29uRGF0YS5wcm9qZWN0c1tpbmZvLmNsaWVudElkXVtpbmZvLnByb2plY3RJZF1bXCJjcHRfb3B0XCJdID0gZGF0YTtcclxuICAgICAgYXdhaXQgZGF0YUhhbmRsZXIudXBkYXRlRGF0YUpzb25GaWxlKGpzb25EYXRhKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgaG9va0N1c3RvbSgpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzdDLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNuQyxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFFckMsTUFBTUcsVUFBVSxDQUFDO0VBQ2ZDLFdBQVdBLENBQUEsRUFBRztJQUNaLElBQUksQ0FBQ0MscUJBQXFCLEdBQUc7TUFDM0JDLGVBQWUsRUFBRSxPQUFPO01BQ3hCQyxjQUFjLEVBQUcsT0FBTTtNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLGdCQUFnQixFQUFFLElBQUk7TUFDdEJDLGlCQUFpQixFQUFFLElBQUk7TUFDdkJDLHFCQUFxQixFQUFFLElBQUk7TUFDM0JDLHFCQUFxQixFQUFFO01BQ3ZCO0lBQ0YsQ0FBQzs7SUFDRCxJQUFJLENBQUNDLGtCQUFrQixHQUFHO01BQ3hCQyxlQUFlLEVBQUUsT0FBTztNQUN4QlAsY0FBYyxFQUFHLE9BQU07TUFDdkJRLGVBQWUsRUFBRSxJQUFJO01BQ3JCTixnQkFBZ0IsRUFBRSxJQUFJO01BQ3RCQyxpQkFBaUIsRUFBRSxJQUFJO01BQ3ZCTSxlQUFlLEVBQUUsSUFBSTtNQUNyQkMsbUJBQW1CLEVBQUUsSUFBSTtNQUN6QjtNQUNBQyxXQUFXLEVBQUU7SUFDZixDQUFDO0lBQ0QsSUFBSSxDQUFDQyxhQUFhLEdBQUc7TUFDbkJDLFNBQVMsRUFBRSxnQkFBZ0I7TUFDM0JDLDhCQUE4QixFQUFFLElBQUk7TUFDcENDLG9DQUFvQyxFQUFFLElBQUk7TUFDMUNDLGNBQWMsRUFBRSxJQUFJO01BQ3BCQyxpQkFBaUIsRUFBRSxtQ0FBbUM7TUFDdERDLGlCQUFpQixFQUFFO0lBQ3JCLENBQUM7RUFDSDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFQyxzQkFBc0JBLENBQUEsRUFBRztJQUN2QixPQUFPLElBQUksQ0FBQ3JCLHFCQUFxQjtFQUNuQzs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTXNCLDJCQUEyQkEsQ0FBQ0MsS0FBSyxFQUFFQyxJQUFJLEVBQUU7SUFDN0MsSUFBSUQsS0FBSyxDQUFDRSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3BCLE1BQU1DLFlBQVksR0FBR0gsS0FBSyxDQUFDLENBQUMsQ0FBQztNQUM3QixJQUFJMUIsTUFBTSxDQUFDOEIsWUFBWSxDQUFDRCxZQUFZLENBQUMsRUFBRTtRQUNyQyxNQUFNRSxJQUFJLEdBQUcsTUFBTWxDLFdBQVcsQ0FBQ21DLG1CQUFtQixDQUFDSCxZQUFZLENBQUM7UUFDaEUsTUFBTUksY0FBYyxHQUFJLGdCQUFlRixJQUFJLENBQUNHLFFBQVMsSUFBR0gsSUFBSSxDQUFDSSxTQUFVLFdBQVU7UUFDakYsSUFBSUMsYUFBYSxHQUFHLElBQUksQ0FBQ1osc0JBQXNCLENBQUMsQ0FBQztRQUVqRFksYUFBYSxDQUFDSCxjQUFjLEdBQUdBLGNBQWM7UUFDN0NOLElBQUksQ0FBQ1UsUUFBUSxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRUQsYUFBYSxDQUFDLENBQUM7TUFDekQ7SUFDRjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0VFLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ3BCLE9BQU8sSUFBSSxDQUFDM0Isa0JBQWtCO0VBQ2hDOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0U0QixlQUFlQSxDQUFBLEVBQUc7SUFDaEIsT0FBTyxJQUFJLENBQUN0QixhQUFhO0VBQzNCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0V1QixTQUFTQSxDQUFBLEVBQUc7SUFDVjtJQUNBLE1BQU1DLFNBQVMsR0FBRzVDLFdBQVcsQ0FBQzZDLGVBQWUsQ0FBQyxDQUFDOztJQUUvQztJQUNBLElBQUlDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0gsU0FBUyxDQUFDYixNQUFNLEVBQUVnQixDQUFDLEVBQUUsRUFBRTtNQUN6QyxNQUFNQyxTQUFTLEdBQUdoRCxXQUFXLENBQUNpRCxnQkFBZ0IsQ0FBQ0wsU0FBUyxDQUFDRyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7TUFDcEVELE1BQU0sR0FBR0ksTUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUVMLE1BQU0sRUFBRUUsU0FBUyxDQUFDO0lBQy9DOztJQUVBO0lBQ0EsT0FBT0YsTUFBTTtFQUNmOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0UsTUFBTU0sV0FBV0EsQ0FBQ3ZCLEtBQUssRUFBRTtJQUN2QixLQUFLLElBQUlrQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdsQixLQUFLLENBQUNFLE1BQU0sRUFBRWdCLENBQUMsRUFBRSxFQUFFO01BQ3JDLE1BQU1mLFlBQVksR0FBR0gsS0FBSyxDQUFDa0IsQ0FBQyxDQUFDO01BRTdCLElBQUk1QyxNQUFNLENBQUM4QixZQUFZLENBQUNELFlBQVksQ0FBQyxFQUFFO1FBQ3JDO1FBQ0EsTUFBTUUsSUFBSSxHQUFHLE1BQU1sQyxXQUFXLENBQUNtQyxtQkFBbUIsQ0FBQ0gsWUFBWSxDQUFDO1FBQ2hFLE1BQU1xQixTQUFTLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NELG1CQUFtQixDQUNyRHBCLElBQUksQ0FBQ0csUUFBUSxFQUNiSCxJQUFJLENBQUNJLFNBQ1AsQ0FBQztRQUNELE1BQU1pQixRQUFRLEdBQUcsTUFBTXZELFdBQVcsQ0FBQ3dELGlCQUFpQixDQUFDLENBQUM7UUFDdEQsTUFBTUMsVUFBVSxHQUFHRixRQUFRLENBQUNHLE9BQU87O1FBRW5DO1FBQ0EsSUFBSUMsUUFBUSxHQUFHLE1BQU0zRCxXQUFXLENBQUM0RCxRQUFRLENBQUM1QixZQUFZLEVBQUUsTUFBTSxDQUFDO1FBQy9EMkIsUUFBUSxHQUFHRSxNQUFNLENBQUNGLFFBQVEsQ0FBQzs7UUFFM0I7UUFDQSxNQUFNLElBQUksQ0FBQ0csZ0JBQWdCLENBQUM1QixJQUFJLEVBQUV5QixRQUFRLENBQUM7O1FBRTNDO1FBQ0EsSUFBSUEsUUFBUSxDQUFDSSxRQUFRLENBQUUsb0JBQW1CTixVQUFXLEVBQUMsQ0FBQyxFQUFFO1VBQ3ZEO1VBQ0EsTUFBTSxJQUFJLENBQUNPLFdBQVcsQ0FBQzlCLElBQUksRUFBRUYsWUFBWSxFQUFFMkIsUUFBUSxDQUFDO1VBRXBEO1FBQ0Y7O1FBRUE7UUFDQSxJQUFJTSxVQUFVLEdBQUdaLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDakQsSUFBSWEsT0FBTyxHQUFHYixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQy9DLElBQUlZLFVBQVUsSUFBSSxFQUFFLEVBQUVBLFVBQVUsR0FBRy9CLElBQUksQ0FBQ0csUUFBUTtRQUNoRCxJQUFJNkIsT0FBTyxJQUFJLEVBQUUsRUFBRUEsT0FBTyxHQUFHaEMsSUFBSSxDQUFDSSxTQUFTOztRQUUzQztRQUNBcUIsUUFBUSxHQUFHLElBQUksQ0FBQ1EsYUFBYSxDQUFDUixRQUFRLENBQUM7O1FBRXZDO1FBQ0FBLFFBQVEsR0FBRyxJQUFJLENBQUNTLGVBQWUsQ0FBQ1QsUUFBUSxFQUFFTyxPQUFPLEVBQUVoQyxJQUFJLENBQUNtQyxXQUFXLENBQUM7O1FBRXBFO1FBQ0FWLFFBQVEsR0FBRyxJQUFJLENBQUNXLGVBQWUsQ0FBQ1gsUUFBUSxFQUFFekIsSUFBSSxDQUFDcUMsTUFBTSxDQUFDOztRQUV0RDtRQUNBWixRQUFRLEdBQUcsSUFBSSxDQUFDYSxhQUFhLENBQUNiLFFBQVEsQ0FBQzs7UUFFdkM7UUFDQUEsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDYyxnQkFBZ0IsQ0FDcENkLFFBQVEsRUFDUk0sVUFBVSxFQUNWQyxPQUFPLEVBQ1BoQyxJQUFJLEVBQ0pxQixRQUNGLENBQUM7O1FBRUQ7UUFDQSxJQUFJSSxRQUFRLElBQUksRUFBRSxFQUFFO1VBQ2xCO1VBQ0FBLFFBQVEsR0FBR3pELEtBQUssQ0FBQ3dFLFVBQVUsQ0FBQ2YsUUFBUSxDQUFDOztVQUVyQztVQUNBQSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUNLLFdBQVcsQ0FDL0I5QixJQUFJLEVBQ0pGLFlBQVksRUFDWjJCLFFBQVEsRUFDUixLQUNGLENBQUM7VUFFRCxNQUFNM0QsV0FBVyxDQUFDMkUsU0FBUyxDQUFDM0MsWUFBWSxFQUFFMkIsUUFBUSxDQUFDO1FBQ3JEO01BQ0Y7SUFDRjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTWlCLGdCQUFnQkEsQ0FBQy9DLEtBQUssRUFBRWdELE9BQU8sR0FBRyxFQUFFLEVBQUVDLElBQUksR0FBRyxDQUFDLEVBQUVDLEVBQUUsR0FBRyxDQUFDLEVBQUU7SUFDNUQsSUFBSWxELEtBQUssQ0FBQ0UsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNwQixNQUFNQyxZQUFZLEdBQUdILEtBQUssQ0FBQyxDQUFDLENBQUM7TUFFN0IsSUFBSTFCLE1BQU0sQ0FBQzhCLFlBQVksQ0FBQ0QsWUFBWSxDQUFDLEVBQUU7UUFDckM7UUFDQSxNQUFNZ0QsUUFBUSxHQUFHLE1BQU1oRixXQUFXLENBQUNpRixjQUFjLENBQUNKLE9BQU8sQ0FBQzs7UUFFMUQ7UUFDQSxNQUFNdEIsUUFBUSxHQUFHLE1BQU12RCxXQUFXLENBQUN3RCxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RELE1BQU1DLFVBQVUsR0FBR0YsUUFBUSxDQUFDRyxPQUFPO1FBRW5DLElBQUlxQixFQUFFLElBQUksQ0FBQyxFQUFFQSxFQUFFLEdBQUdDLFFBQVEsQ0FBQ2pELE1BQU07UUFDakMsS0FBSyxJQUFJZ0IsQ0FBQyxHQUFHK0IsSUFBSSxFQUFFL0IsQ0FBQyxHQUFHZ0MsRUFBRSxFQUFFaEMsQ0FBQyxFQUFFLEVBQUU7VUFDOUIsTUFBTW1DLElBQUksR0FBR0YsUUFBUSxDQUFDakMsQ0FBQyxDQUFDO1VBRXhCLElBQUk1QyxNQUFNLENBQUM4QixZQUFZLENBQUNpRCxJQUFJLENBQUMsRUFBRTtZQUM3QjtZQUNBLE1BQU1oRCxJQUFJLEdBQUcsTUFBTWxDLFdBQVcsQ0FBQ21DLG1CQUFtQixDQUFDK0MsSUFBSSxDQUFDO1lBQ3hELE1BQU03QixTQUFTLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NELG1CQUFtQixDQUNyRHBCLElBQUksQ0FBQ0csUUFBUSxFQUNiSCxJQUFJLENBQUNJLFNBQ1AsQ0FBQzs7WUFFRDtZQUNBLElBQUkyQixVQUFVLEdBQUdaLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7WUFDakQsSUFBSWEsT0FBTyxHQUFHYixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQy9DLElBQUlZLFVBQVUsSUFBSSxFQUFFLEVBQUVBLFVBQVUsR0FBRy9CLElBQUksQ0FBQ0csUUFBUTtZQUNoRCxJQUFJNkIsT0FBTyxJQUFJLEVBQUUsRUFBRUEsT0FBTyxHQUFHaEMsSUFBSSxDQUFDSSxTQUFTOztZQUUzQztZQUNBLElBQUlxQixRQUFRLEdBQUcsTUFBTTNELFdBQVcsQ0FBQzRELFFBQVEsQ0FBQ3NCLElBQUksRUFBRSxNQUFNLENBQUM7WUFDdkR2QixRQUFRLEdBQUdFLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDOztZQUUzQjtZQUNBLElBQUlBLFFBQVEsQ0FBQ0ksUUFBUSxDQUFFLG9CQUFtQk4sVUFBVyxFQUFDLENBQUMsRUFBRTs7WUFFekQ7WUFDQTBCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLENBQUM7O1lBRWpCO1lBQ0F2QixRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUNjLGdCQUFnQixDQUNwQ2QsUUFBUSxFQUNSTSxVQUFVLEVBQ1ZDLE9BQU8sRUFDUGhDLElBQUksRUFDSnFCLFFBQ0YsQ0FBQzs7WUFFRDtZQUNBLElBQUlJLFFBQVEsSUFBSSxFQUFFLEVBQUU7Y0FDbEI7Y0FDQUEsUUFBUSxHQUFHekQsS0FBSyxDQUFDd0UsVUFBVSxDQUFDZixRQUFRLENBQUM7Y0FFckMsTUFBTTNELFdBQVcsQ0FBQzJFLFNBQVMsQ0FBQ08sSUFBSSxFQUFFdkIsUUFBUSxDQUFDO1lBQzdDO1VBQ0Y7UUFDRjtNQUNGO0lBQ0Y7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UwQixjQUFjQSxDQUFDQyxVQUFVLEVBQUU7SUFDekI7SUFDQTtJQUNBO0lBQ0EsSUFBSUMsVUFBVSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FDekJILFVBQVUsQ0FDUEksU0FBUyxDQUFDSixVQUFVLENBQUNLLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRUwsVUFBVSxDQUFDdkQsTUFBTSxDQUFDLENBQ3JENkQsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FDakJBLE9BQU8sQ0FBRSxJQUFHLEVBQUUsRUFBRSxDQUNyQixDQUFDO0lBRUQsSUFBSSxPQUFPTCxVQUFVLENBQUNNLE9BQU8sSUFBSSxXQUFXLEVBQUU7TUFDNUMsUUFBUU4sVUFBVSxDQUFDTSxPQUFPO1FBQ3hCLEtBQUssV0FBVztVQUNkLE9BQVEsK0JBQThCTixVQUFVLENBQUNPLE1BQU8sUUFBTztRQUNqRSxLQUFLLGNBQWM7VUFDakIsT0FBUSxxQ0FBb0NQLFVBQVUsQ0FBQ08sTUFBTyxRQUFPO1FBQ3ZFLEtBQUsseUJBQXlCO1VBQzVCLE9BQVEsc0NBQXFDO1FBQy9DLEtBQUssRUFBRTtVQUNMLE9BQU8sRUFBRTtRQUNYO1VBQ0UsT0FBT1IsVUFBVTtNQUNyQjtJQUNGLENBQUMsTUFBTTtNQUNMLE9BQU9BLFVBQVU7SUFDbkI7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNUyx5QkFBeUJBLENBQUM3RCxJQUFJLEVBQUV3QixPQUFPLEVBQUU7SUFDN0MsTUFBTXNDLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQ0MsY0FBYyxDQUFDL0QsSUFBSSxFQUFFLGdCQUFnQixDQUFDO0lBQ3BFLElBQUlnRSxZQUFZLEdBQUksRUFBQztJQUNyQixJQUFJQyxjQUFjLEdBQUksRUFBQzs7SUFFdkI7SUFDQSxLQUFLLElBQUlwRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpRCxVQUFVLENBQUNJLEdBQUcsQ0FBQ3JFLE1BQU0sRUFBRWdCLENBQUMsRUFBRSxFQUFFO01BQzlDbUQsWUFBWSxJQUFJRixVQUFVLENBQUNJLEdBQUcsQ0FBQ3JELENBQUMsQ0FBQztJQUNuQztJQUNBO0lBQ0EsS0FBSyxJQUFJQSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdpRCxVQUFVLENBQUNLLEtBQUssQ0FBQ3RFLE1BQU0sRUFBRWdCLENBQUMsRUFBRSxFQUFFO01BQ2hEb0QsY0FBYyxJQUFJSCxVQUFVLENBQUNLLEtBQUssQ0FBQ3RELENBQUMsQ0FBQztJQUN2QztJQUVBLElBQUlZLFFBQVEsR0FBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCRCxPQUFRLE9BQU14QixJQUFJLENBQUNxQyxNQUFPO0FBQ3JELFFBQVEyQixZQUFhO0FBQ3JCO0FBQ0EsUUFBUUMsY0FBZTtBQUN2QjtBQUNBO0FBQ0Esd0NBQXdDO0lBRXBDLE9BQU94QyxRQUFRO0VBQ2pCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNMkMsb0JBQW9CQSxDQUFDcEUsSUFBSSxFQUFFO0lBQy9CLE1BQU04RCxVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNDLGNBQWMsQ0FBQy9ELElBQUksRUFBRSxRQUFRLENBQUM7SUFDNUQsSUFBSWdFLFlBQVksR0FBSSxFQUFDO0lBQ3JCLElBQUlDLGNBQWMsR0FBSSxFQUFDO0lBQ3ZCLElBQUlJLEtBQUssR0FBRyxDQUFDO0lBQ2IsSUFBSUMsV0FBVyxHQUFJLEVBQUM7O0lBRXBCO0lBQ0EsS0FBSyxJQUFJekQsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUQsVUFBVSxDQUFDSSxHQUFHLENBQUNyRSxNQUFNLEVBQUVnQixDQUFDLEVBQUUsRUFBRTtNQUM5Q21ELFlBQVksSUFBSUYsVUFBVSxDQUFDSSxHQUFHLENBQUNyRCxDQUFDLENBQUM7SUFDbkM7SUFDQTtJQUNBLEtBQUssSUFBSUEsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUQsVUFBVSxDQUFDSyxLQUFLLENBQUN0RSxNQUFNLEVBQUVnQixDQUFDLEVBQUUsRUFBRTtNQUNoRG9ELGNBQWMsSUFBSUgsVUFBVSxDQUFDSyxLQUFLLENBQUN0RCxDQUFDLENBQUM7TUFDckN3RCxLQUFLLEVBQUU7SUFDVDtJQUVBLElBQUlBLEtBQUssR0FBRyxDQUFDLEVBQUU7TUFDYkMsV0FBVyxHQUFJO0FBQ3JCLFVBQVVOLFlBQWE7QUFDdkI7QUFDQSxVQUFVQyxjQUFlO0FBQ3pCLFVBQVU7SUFDTixDQUFDLE1BQU07TUFDTEssV0FBVyxHQUFJLGtDQUFpQztJQUNsRDtJQUVBLElBQUk3QyxRQUFRLEdBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNNkMsV0FBWTtBQUNsQjtBQUNBLDJDQUEyQztJQUV2QyxPQUFPN0MsUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTThDLHVCQUF1QkEsQ0FBQ3ZFLElBQUksRUFBRTtJQUNsQyxNQUFNOEQsVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxjQUFjLENBQUMvRCxJQUFJLEVBQUUsWUFBWSxDQUFDO0lBQ2hFLElBQUlnRSxZQUFZLEdBQUksRUFBQztJQUNyQixJQUFJQyxjQUFjLEdBQUksRUFBQztJQUN2QixJQUFJSSxLQUFLLEdBQUcsQ0FBQztJQUNiLElBQUlHLGNBQWMsR0FBSSxFQUFDOztJQUV2QjtJQUNBLEtBQUssSUFBSTNELENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2lELFVBQVUsQ0FBQ0ksR0FBRyxDQUFDckUsTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7TUFDOUNtRCxZQUFZLElBQUlGLFVBQVUsQ0FBQ0ksR0FBRyxDQUFDckQsQ0FBQyxDQUFDO0lBQ25DO0lBQ0E7SUFDQSxLQUFLLElBQUlBLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2lELFVBQVUsQ0FBQ0ssS0FBSyxDQUFDdEUsTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7TUFDaERvRCxjQUFjLElBQUlILFVBQVUsQ0FBQ0ssS0FBSyxDQUFDdEQsQ0FBQyxDQUFDO01BQ3JDd0QsS0FBSyxFQUFFO0lBQ1Q7SUFFQSxJQUFJQSxLQUFLLEdBQUcsQ0FBQyxFQUFFO01BQ2JHLGNBQWMsR0FBSTtBQUN4QixVQUFVUixZQUFhO0FBQ3ZCO0FBQ0EsVUFBVUMsY0FBZTtBQUN6QixVQUFVO0lBQ04sQ0FBQyxNQUFNO01BQ0xPLGNBQWMsR0FBSSxxQ0FBb0M7SUFDeEQ7SUFFQSxJQUFJL0MsUUFBUSxHQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNK0MsY0FBZTtBQUNyQjtBQUNBLCtDQUErQztJQUUzQyxPQUFPL0MsUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFLE1BQU1nRCxXQUFXQSxDQUFDOUUsS0FBSyxFQUFFO0lBQ3ZCLEtBQUssSUFBSWtCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2xCLEtBQUssQ0FBQ0UsTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7TUFDckMsTUFBTWYsWUFBWSxHQUFHSCxLQUFLLENBQUNrQixDQUFDLENBQUM7TUFFN0IsSUFBSWYsWUFBWSxDQUFDK0IsUUFBUSxDQUFFLFNBQVEsQ0FBQyxFQUFFO1FBQ3BDLElBQUlSLFFBQVEsR0FBRyxNQUFNdkQsV0FBVyxDQUFDd0QsaUJBQWlCLENBQUMsQ0FBQztRQUNwRCxNQUFNb0QsUUFBUSxHQUFHckQsUUFBUSxDQUFDcUQsUUFBUTtRQUVsQyxLQUFLLElBQUl2RSxRQUFRLElBQUl1RSxRQUFRLEVBQUU7VUFDN0IsS0FBSyxJQUFJdEUsU0FBUyxJQUFJc0UsUUFBUSxDQUFDdkUsUUFBUSxDQUFDLEVBQUU7WUFDeEMsSUFDRSxPQUFPdUUsUUFBUSxDQUFDdkUsUUFBUSxDQUFDLENBQUNDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFdBQVcsSUFDM0RzRSxRQUFRLENBQUN2RSxRQUFRLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksTUFBTSxFQUMvQztjQUNBLElBQUl1RSxRQUFRLEdBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBSSxlQUFjMUUsUUFBUyxJQUFHQyxTQUFVLEVBQUM7Y0FDeEQsSUFBSTBFLFFBQVEsR0FBR0gsUUFBUSxHQUFJLE9BQU07Y0FDakMsSUFBSUksWUFBWSxHQUFHSixRQUFRLEdBQUksa0JBQWlCO2NBQ2hELElBQUlLLFVBQVUsR0FBR0wsUUFBUSxHQUFJLGdCQUFlO2NBQzVDLElBQUlNLFVBQVUsR0FBR04sUUFBUSxHQUFJLGdCQUFlOztjQUU1QztjQUNBN0csV0FBVyxDQUFDb0gsWUFBWSxDQUFDSixRQUFRLENBQUM7Y0FDbENoSCxXQUFXLENBQUNvSCxZQUFZLENBQUNILFlBQVksQ0FBQztjQUN0Q2pILFdBQVcsQ0FBQ29ILFlBQVksQ0FBQ0YsVUFBVSxDQUFDO2NBQ3BDbEgsV0FBVyxDQUFDb0gsWUFBWSxDQUFDRCxVQUFVLENBQUM7O2NBRXBDO2NBQ0EsTUFBTUUsU0FBUyxHQUFJLEdBQUVMLFFBQVMsWUFBVztjQUN6QyxNQUFNTSxZQUFZLEdBQUcsTUFBTXRILFdBQVcsQ0FBQ3VILFVBQVUsQ0FBQ0YsU0FBUyxDQUFDO2NBQzVELElBQUksQ0FBQ0MsWUFBWSxFQUFFO2dCQUNqQnRILFdBQVcsQ0FBQ3dILFFBQVEsQ0FBQyw0QkFBNEIsRUFBRUgsU0FBUyxDQUFDO2NBQy9EOztjQUVBO2NBQ0EsTUFBTUksUUFBUSxHQUFJLEdBQUVULFFBQVMsb0JBQW1CO2NBQ2hELE1BQU1VLFlBQVksR0FBRyxNQUFNMUgsV0FBVyxDQUFDdUgsVUFBVSxDQUFDRSxRQUFRLENBQUM7Y0FDM0QsSUFBSSxDQUFDQyxZQUFZLEVBQUU7Z0JBQ2pCMUgsV0FBVyxDQUFDd0gsUUFBUSxDQUNsQixvQ0FBb0MsRUFDcENDLFFBQ0YsQ0FBQztjQUNIOztjQUVBO2NBQ0EsTUFBTUUsTUFBTSxHQUFJLEdBQUVYLFFBQVMsa0JBQWlCO2NBQzVDLE1BQU1ZLFVBQVUsR0FBRyxNQUFNNUgsV0FBVyxDQUFDdUgsVUFBVSxDQUFDSSxNQUFNLENBQUM7Y0FDdkQsSUFBSSxDQUFDQyxVQUFVLEVBQUU7Z0JBQ2Y1SCxXQUFXLENBQUN3SCxRQUFRLENBQ2xCLGtDQUFrQyxFQUNsQ0csTUFDRixDQUFDO2NBQ0g7O2NBRUE7Y0FDQSxNQUFNRSxVQUFVLEdBQUksR0FBRWIsUUFBUyxrQkFBaUI7Y0FDaEQsTUFBTWMsY0FBYyxHQUFHLE1BQU05SCxXQUFXLENBQUN1SCxVQUFVLENBQUNNLFVBQVUsQ0FBQztjQUMvRCxJQUFJLENBQUNDLGNBQWMsRUFBRTtnQkFDbkI5SCxXQUFXLENBQUN3SCxRQUFRLENBQUMseUJBQXlCLEVBQUVLLFVBQVUsQ0FBQztjQUM3RDs7Y0FFQTtjQUNBLE1BQU1FLFdBQVcsR0FBSSxHQUFFZixRQUFTLGFBQVk7Y0FDNUMsTUFBTWdCLGVBQWUsR0FBRyxNQUFNaEksV0FBVyxDQUFDdUgsVUFBVSxDQUFDUSxXQUFXLENBQUM7Y0FDakUsSUFBSSxDQUFDQyxlQUFlLEVBQUU7Z0JBQ3BCaEksV0FBVyxDQUFDd0gsUUFBUSxDQUFDLG9CQUFvQixFQUFFTyxXQUFXLENBQUM7Y0FDekQ7O2NBRUE7Y0FDQSxNQUFNRSxrQkFBa0IsR0FBSSxHQUFFaEIsWUFBYSxhQUFZO2NBQ3ZELE1BQU1pQixnQkFBZ0IsR0FBSSxHQUFFaEIsVUFBVyxhQUFZO2NBQ25ELE1BQU1pQixnQkFBZ0IsR0FBSSxHQUFFaEIsVUFBVyxhQUFZO2NBQ25ELE1BQU1uSCxXQUFXLENBQUNvSSxVQUFVLENBQUNILGtCQUFrQixDQUFDO2NBQ2hELE1BQU1qSSxXQUFXLENBQUNvSSxVQUFVLENBQUNGLGdCQUFnQixDQUFDO2NBQzlDLE1BQU1sSSxXQUFXLENBQUNvSSxVQUFVLENBQUNELGdCQUFnQixDQUFDOztjQUU5QztjQUNBbkksV0FBVyxDQUFDcUksVUFBVSxDQUNwQkosa0JBQWtCLEVBQ2pCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCM0YsU0FBVTtBQUMzQjtBQUNBLGFBQWFBLFNBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDQSxTQUFVO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFDYyxDQUFDO2NBQ0R0QyxXQUFXLENBQUN3SCxRQUFRLENBQUNTLGtCQUFrQixFQUFFQyxnQkFBZ0IsQ0FBQztjQUMxRGxJLFdBQVcsQ0FBQ3dILFFBQVEsQ0FBQ1Msa0JBQWtCLEVBQUVFLGdCQUFnQixDQUFDOztjQUUxRDtjQUNBLE1BQU1HLGtCQUFrQixHQUFJLEdBQUVyQixZQUFhLElBQUczRSxTQUFVLHFCQUFvQjtjQUM1RSxNQUFNaUcsc0JBQXNCLEdBQUcsTUFBTXZJLFdBQVcsQ0FBQ3VILFVBQVUsQ0FDekRlLGtCQUNGLENBQUM7Y0FDRCxJQUFJLENBQUNDLHNCQUFzQixFQUFFO2dCQUMzQixJQUFJQyxpQkFBaUIsR0FBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7Z0JBQ0pBLGlCQUFpQixHQUFHdEksS0FBSyxDQUFDd0UsVUFBVSxDQUFDOEQsaUJBQWlCLENBQUM7Z0JBQ3ZEeEksV0FBVyxDQUFDcUksVUFBVSxDQUFDQyxrQkFBa0IsRUFBRUUsaUJBQWlCLENBQUM7Y0FDL0Q7O2NBRUE7Y0FDQSxNQUFNQyxhQUFhLEdBQUksR0FBRTVCLFFBQVMsYUFBWTtjQUM5QyxNQUFNNkIsaUJBQWlCLEdBQUcsTUFBTTFJLFdBQVcsQ0FBQ3VILFVBQVUsQ0FDcERrQixhQUNGLENBQUM7Y0FDRCxJQUFJLENBQUNDLGlCQUFpQixFQUFFO2dCQUN0QjFJLFdBQVcsQ0FBQ3FJLFVBQVUsQ0FBQ0ksYUFBYSxFQUFHLFVBQVMsQ0FBQztjQUNuRDs7Y0FFQTtjQUNBbEYsUUFBUSxDQUFDcUQsUUFBUSxDQUFDdkUsUUFBUSxDQUFDLENBQUNDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU07Y0FDdkQsTUFBTXRDLFdBQVcsQ0FBQzJJLGtCQUFrQixDQUFDcEYsUUFBUSxDQUFDO1lBQ2hEO1VBQ0Y7UUFDRjtNQUNGO0lBQ0Y7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNFLE1BQU1xRixPQUFPQSxDQUFDL0csS0FBSyxFQUFFO0lBQ25CLEtBQUssSUFBSWtCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2xCLEtBQUssQ0FBQ0UsTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7TUFDckMsTUFBTWYsWUFBWSxHQUFHSCxLQUFLLENBQUNrQixDQUFDLENBQUM7TUFDN0IsSUFBSWYsWUFBWSxDQUFDK0IsUUFBUSxDQUFFLFlBQVcsQ0FBQyxFQUFFO1FBQ3ZDO1FBQ0EsTUFBTTdCLElBQUksR0FBRyxNQUFNbEMsV0FBVyxDQUFDbUMsbUJBQW1CLENBQUNILFlBQVksQ0FBQztRQUNoRSxNQUFNMkYsTUFBTSxHQUFJLGNBQWF6RixJQUFJLENBQUNHLFFBQVMsSUFBR0gsSUFBSSxDQUFDSSxTQUFVLHVCQUFzQjtRQUNuRixNQUFNZSxTQUFTLEdBQUcsTUFBTXJELFdBQVcsQ0FBQ3NELG1CQUFtQixDQUNyRHBCLElBQUksQ0FBQ0csUUFBUSxFQUNiSCxJQUFJLENBQUNJLFNBQVMsRUFDZHFGLE1BQ0YsQ0FBQzs7UUFFRDtRQUNBLElBQUlrQixJQUFJLEdBQUc7VUFBRUMsSUFBSSxFQUFFO1FBQUcsQ0FBQztRQUN2QixJQUFJQyxRQUFRLEdBQUc7VUFBRUMsU0FBUyxFQUFFLENBQUMsQ0FBQztVQUFFQyxLQUFLLEVBQUU7UUFBRyxDQUFDO1FBQzNDLEtBQUssSUFBSWxHLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR00sU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDdEIsTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7VUFDdkQsTUFBTW1HLEdBQUcsR0FBRzdGLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQ04sQ0FBQyxDQUFDO1VBQ3RDLE1BQU13QixNQUFNLEdBQUcyRSxHQUFHLENBQUMsU0FBUyxDQUFDO1VBQzdCLE1BQU1DLFFBQVEsR0FBR0QsR0FBRyxDQUFDLFdBQVcsQ0FBQztVQUNqQyxNQUFNRSxPQUFPLEdBQUdGLEdBQUcsQ0FBQyxTQUFTLENBQUM7VUFDOUIsTUFBTUcsUUFBUSxHQUFHSCxHQUFHLENBQUMsTUFBTSxDQUFDO1VBQzVCLE1BQU1JLFlBQVksR0FBR0osR0FBRyxDQUFDLGNBQWMsQ0FBQztVQUN4QyxNQUFNSyxJQUFJLEdBQUdMLEdBQUcsQ0FBQyxhQUFhLENBQUM7VUFDL0IsTUFBTU0sUUFBUSxHQUFHTixHQUFHLENBQUMsV0FBVyxDQUFDO1VBQ2pDLE1BQU1ELEtBQUssR0FBR0MsR0FBRyxDQUFDLE9BQU8sQ0FBQzs7VUFFMUI7VUFDQSxJQUFJLENBQUMvSSxNQUFNLENBQUNzSixnQkFBZ0IsQ0FBQ2xGLE1BQU0sQ0FBQyxFQUFFO1lBQ3BDd0UsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHeEUsTUFBTTtVQUM5QjtVQUNBLElBQUksQ0FBQ3BFLE1BQU0sQ0FBQ3NKLGdCQUFnQixDQUFDTixRQUFRLENBQUMsRUFBRTtZQUN0Q0osUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHSSxRQUFRO1VBQ2xDO1VBQ0EsSUFBSSxDQUFDaEosTUFBTSxDQUFDc0osZ0JBQWdCLENBQUNMLE9BQU8sQ0FBQyxFQUFFO1lBQ3JDTCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUdLLE9BQU87VUFDL0I7VUFDQSxJQUFJLENBQUNqSixNQUFNLENBQUNzSixnQkFBZ0IsQ0FBQ0osUUFBUSxDQUFDLEVBQUU7WUFDdENOLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBR00sUUFBUTtVQUM3QjtVQUNBLElBQUksQ0FBQ2xKLE1BQU0sQ0FBQ3NKLGdCQUFnQixDQUFDSCxZQUFZLENBQUMsRUFBRTtZQUMxQ1AsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUFHTyxZQUFZO1VBQ3pDO1VBQ0EsSUFBSSxDQUFDbkosTUFBTSxDQUFDc0osZ0JBQWdCLENBQUNGLElBQUksQ0FBQyxFQUFFO1lBQ2xDUixRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUdRLElBQUk7VUFDaEM7O1VBRUE7VUFDQSxJQUFJLENBQUNwSixNQUFNLENBQUNzSixnQkFBZ0IsQ0FBQ0QsUUFBUSxDQUFDLEVBQUU7WUFDdEMsTUFBTUUsR0FBRyxHQUFHRixRQUFRLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7WUFDekMsTUFBTUMsS0FBSyxHQUFHTCxRQUFRLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7WUFDM0NiLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQ1csR0FBRyxDQUFDLEdBQUdHLEtBQUs7VUFDcEM7O1VBRUE7VUFDQSxJQUFJLENBQUMxSixNQUFNLENBQUNzSixnQkFBZ0IsQ0FBQ1IsS0FBSyxDQUFDLEVBQUU7WUFDbkMsSUFBSUEsS0FBSyxDQUFDYSxXQUFXLENBQUMsQ0FBQyxJQUFJLE9BQU8sRUFBRTtjQUNsQ2YsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDZ0IsSUFBSSxDQUFDZCxLQUFLLENBQUM7WUFDL0IsQ0FBQyxNQUFNO2NBQ0w7Y0FDQUosSUFBSSxDQUFDQyxJQUFJLENBQUNpQixJQUFJLENBQUNoQixRQUFRLENBQUM7O2NBRXhCO2NBQ0FBLFFBQVEsR0FBRztnQkFBRUMsU0FBUyxFQUFFLENBQUMsQ0FBQztnQkFBRUMsS0FBSyxFQUFFO2NBQUcsQ0FBQztZQUN6QztVQUNGO1FBQ0Y7O1FBRUE7UUFDQSxNQUFNZSxRQUFRLEdBQUksY0FBYTlILElBQUksQ0FBQ0csUUFBUyxJQUFHSCxJQUFJLENBQUNJLFNBQVUsdUJBQXNCO1FBQ3JGLE1BQU10QyxXQUFXLENBQUMySSxrQkFBa0IsQ0FBQ0UsSUFBSSxFQUFFbUIsUUFBUSxDQUFDO01BQ3REO0lBQ0Y7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNdkYsZ0JBQWdCQSxDQUFDZCxRQUFRLEVBQUVNLFVBQVUsRUFBRUMsT0FBTyxFQUFFaEMsSUFBSSxFQUFFcUIsUUFBUSxFQUFFO0lBQ3BFO0lBQ0EsTUFBTTBHLFVBQVUsR0FBSSxtREFBa0Q7SUFDdEUsSUFBSXRHLFFBQVEsQ0FBQ0ksUUFBUSxDQUFDa0csVUFBVSxDQUFDLEVBQUU7TUFDakN0RyxRQUFRLEdBQUdBLFFBQVEsQ0FBQ3VHLFVBQVUsQ0FBQ0QsVUFBVSxFQUFFLEVBQUUsQ0FBQztJQUNoRDs7SUFFQTtJQUNBLE1BQU1FLGVBQWUsR0FBSSx3Q0FBdUM7SUFDaEUsTUFBTUMsYUFBYSxHQUFJLHNDQUFxQztJQUM1RCxJQUFJekcsUUFBUSxDQUFDSSxRQUFRLENBQUNvRyxlQUFlLENBQUMsRUFBRTtNQUN0QztNQUNBLE1BQU1FLFVBQVUsR0FBRzFHLFFBQVEsQ0FBQ2dDLE9BQU8sQ0FBQ3dFLGVBQWUsQ0FBQztNQUNwRCxNQUFNRyxRQUFRLEdBQUczRyxRQUFRLENBQUNnQyxPQUFPLENBQUN5RSxhQUFhLENBQUM7TUFDaEQsTUFBTUcsU0FBUyxHQUFHNUcsUUFBUSxDQUFDK0IsU0FBUyxDQUNsQzJFLFVBQVUsRUFDVkMsUUFBUSxHQUFHRixhQUFhLENBQUNySSxNQUMzQixDQUFDO01BQ0Q0QixRQUFRLEdBQUdBLFFBQVEsQ0FBQ2lDLE9BQU8sQ0FBQzJFLFNBQVMsRUFBRSxFQUFFLENBQUM7SUFDNUMsQ0FBQyxNQUFNO01BQ0w7TUFDQSxNQUFNRixVQUFVLEdBQUcxRyxRQUFRLENBQUNnQyxPQUFPLENBQUUsdUJBQXNCLENBQUM7TUFDNUQsTUFBTTRFLFNBQVMsR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDSCxVQUFVLEVBQUUxRyxRQUFRLENBQUM7TUFFN0RBLFFBQVEsR0FBR0EsUUFBUSxDQUFDaUMsT0FBTyxDQUFDMkUsU0FBUyxFQUFFLEVBQUUsQ0FBQztJQUM1Qzs7SUFFQTtJQUNBLE1BQU1FLGtCQUFrQixHQUFJLDRDQUEyQztJQUN2RSxNQUFNQyxnQkFBZ0IsR0FBSSwwQ0FBeUM7SUFDbkUsSUFBSS9HLFFBQVEsQ0FBQ0ksUUFBUSxDQUFDMEcsa0JBQWtCLENBQUMsRUFBRTtNQUN6QztNQUNBLE1BQU1KLFVBQVUsR0FBRzFHLFFBQVEsQ0FBQ2dDLE9BQU8sQ0FBQzhFLGtCQUFrQixDQUFDO01BQ3ZELE1BQU1ILFFBQVEsR0FBRzNHLFFBQVEsQ0FBQ2dDLE9BQU8sQ0FBQytFLGdCQUFnQixDQUFDO01BQ25ELE1BQU1ILFNBQVMsR0FBRzVHLFFBQVEsQ0FBQytCLFNBQVMsQ0FDbEMyRSxVQUFVLEVBQ1ZDLFFBQVEsR0FBR0ksZ0JBQWdCLENBQUMzSSxNQUM5QixDQUFDO01BQ0Q0QixRQUFRLEdBQUdBLFFBQVEsQ0FBQ2lDLE9BQU8sQ0FBQzJFLFNBQVMsRUFBRSxFQUFFLENBQUM7SUFDNUM7O0lBRUE7SUFDQSxNQUFNSSxRQUFRLEdBQUkscUNBQW9DO0lBQ3RELE1BQU1DLE1BQU0sR0FBSSxtQ0FBa0M7SUFDbEQsSUFBSWpILFFBQVEsQ0FBQ0ksUUFBUSxDQUFDNEcsUUFBUSxDQUFDLEVBQUU7TUFDL0I7TUFDQSxNQUFNTixVQUFVLEdBQUcxRyxRQUFRLENBQUNnQyxPQUFPLENBQUNnRixRQUFRLENBQUM7TUFDN0MsTUFBTUwsUUFBUSxHQUFHM0csUUFBUSxDQUFDZ0MsT0FBTyxDQUFDaUYsTUFBTSxDQUFDO01BQ3pDLE1BQU1MLFNBQVMsR0FBRzVHLFFBQVEsQ0FBQytCLFNBQVMsQ0FDbEMyRSxVQUFVLEVBQ1ZDLFFBQVEsR0FBR00sTUFBTSxDQUFDN0ksTUFDcEIsQ0FBQztNQUNENEIsUUFBUSxHQUFHQSxRQUFRLENBQUNpQyxPQUFPLENBQUMyRSxTQUFTLEVBQUUsRUFBRSxDQUFDO0lBQzVDLENBQUMsTUFBTTtNQUNMO01BQ0EsTUFBTUYsVUFBVSxHQUFHMUcsUUFBUSxDQUFDZ0MsT0FBTyxDQUFFLHNCQUFxQixDQUFDO01BQzNELE1BQU00RSxTQUFTLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0gsVUFBVSxFQUFFMUcsUUFBUSxDQUFDO01BRTdEQSxRQUFRLEdBQUdBLFFBQVEsQ0FBQ2lDLE9BQU8sQ0FBQzJFLFNBQVMsRUFBRSxFQUFFLENBQUM7SUFDNUM7O0lBRUE7SUFDQTtJQUNBNUcsUUFBUSxHQUFHekQsS0FBSyxDQUFDd0UsVUFBVSxDQUFDZixRQUFRLENBQUM7O0lBRXJDO0lBQ0EsTUFBTWtILE9BQU8sR0FBRzFLLE1BQU0sQ0FBQzJLLFVBQVUsQ0FBQzVJLElBQUksQ0FBQ21DLFdBQVcsQ0FBQztJQUNuRCxJQUFJMEcsYUFBYSxHQUFJLGFBQVk3RyxPQUFRLE9BQU0yRyxPQUFRLHVCQUFzQjtJQUM3RSxJQUFJRyxjQUFjLEdBQUdySCxRQUFRLENBQUNnQyxPQUFPLENBQUNvRixhQUFhLENBQUM7O0lBRXBEO0lBQ0EsSUFBSUMsY0FBYyxHQUFHLENBQUMsRUFBRTtNQUN0QkQsYUFBYSxHQUFJLGFBQVk3RyxPQUFRLE9BQU0yRyxPQUFRLHdCQUF1QjtNQUMxRUcsY0FBYyxHQUFHckgsUUFBUSxDQUFDZ0MsT0FBTyxDQUFDb0YsYUFBYSxDQUFDO0lBQ2xEOztJQUVBO0lBQ0EsSUFBSUMsY0FBYyxJQUFJLENBQUMsRUFBRTtNQUN2QixNQUFNQyxzQkFBc0IsR0FBRyxNQUFNLElBQUksQ0FBQ3hFLHVCQUF1QixDQUFDdkUsSUFBSSxDQUFDO01BQ3ZFeUIsUUFBUSxHQUFHQSxRQUFRLENBQUNpQyxPQUFPLENBQ3pCbUYsYUFBYSxFQUNiQSxhQUFhLEdBQUdFLHNCQUNsQixDQUFDO0lBQ0g7O0lBRUE7SUFDQSxJQUFJRCxjQUFjLElBQUksQ0FBQyxFQUFFO01BQ3ZCLE1BQU1FLG1CQUFtQixHQUFHLE1BQU0sSUFBSSxDQUFDNUUsb0JBQW9CLENBQUNwRSxJQUFJLENBQUM7TUFDakV5QixRQUFRLEdBQUdBLFFBQVEsQ0FBQ2lDLE9BQU8sQ0FDekJtRixhQUFhLEVBQ2JBLGFBQWEsR0FBR0csbUJBQ2xCLENBQUM7SUFDSDs7SUFFQTtJQUNBLElBQUkzRSxLQUFLLEdBQUdyRyxLQUFLLENBQUNpTCxZQUFZLENBQUMsS0FBSyxFQUFFeEgsUUFBUSxDQUFDeUgsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQ3JKLE1BQU07SUFDakUsSUFBSXdFLEtBQUssSUFBSSxDQUFDLEVBQUU7TUFDZCxJQUFJOEUsYUFBYSxHQUFHMUgsUUFBUSxDQUFDMkgsV0FBVyxDQUFDLEtBQUssQ0FBQztNQUMvQzNILFFBQVEsR0FBR0EsUUFBUSxDQUFDK0IsU0FBUyxDQUFDLENBQUMsRUFBRTJGLGFBQWEsQ0FBQztJQUNqRDtJQUNBMUgsUUFBUSxJQUFJLE1BQU0sSUFBSSxDQUFDb0MseUJBQXlCLENBQUM3RCxJQUFJLEVBQUVxQixRQUFRLENBQUNHLE9BQU8sQ0FBQztJQUN4RUMsUUFBUSxJQUFLLE9BQU07O0lBRW5CO0lBQ0FBLFFBQVEsR0FBR3pELEtBQUssQ0FBQ3dFLFVBQVUsQ0FBQ2YsUUFBUSxDQUFDOztJQUVyQztJQUNBLE9BQU9BLFFBQVE7RUFDakI7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U0SCxZQUFZQSxDQUFDQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsR0FBRyxHQUFHLEtBQUssRUFBRTtJQUNyQyxJQUFJQyxTQUFTLEdBQUcsSUFBSTtJQUNwQixJQUFJQyxJQUFJLEdBQUdKLEtBQUssR0FBRyxDQUFDO0lBQ3BCLElBQUlLLFNBQVMsR0FBRyxFQUFFO0lBRWxCLE9BQU9GLFNBQVMsRUFBRTtNQUNoQkUsU0FBUyxHQUFHSixJQUFJLENBQUMvRixTQUFTLENBQUM4RixLQUFLLEVBQUVJLElBQUksQ0FBQztNQUN2QyxJQUNFQyxTQUFTLENBQUM5SCxRQUFRLENBQUMySCxHQUFHLENBQUMsSUFDdkJHLFNBQVMsSUFBSSxFQUFFLElBQ2ZBLFNBQVMsQ0FBQzlKLE1BQU0sSUFBSTBKLElBQUksQ0FBQzFKLE1BQU0sRUFDL0I7UUFDQTRKLFNBQVMsR0FBRyxLQUFLO01BQ25CO01BQ0FDLElBQUksRUFBRTtJQUNSO0lBRUEsT0FBT0MsU0FBUztFQUNsQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFckIsZ0JBQWdCQSxDQUFDZ0IsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsR0FBRyxLQUFLLEVBQUU7SUFDekMsSUFBSUMsU0FBUyxHQUFHLElBQUk7SUFDcEIsSUFBSUMsSUFBSSxHQUFHSixLQUFLLEdBQUcsQ0FBQztJQUNwQixJQUFJSyxTQUFTLEdBQUcsRUFBRTtJQUNsQixJQUFJQyxXQUFXLEdBQUcsQ0FBQztJQUNuQixJQUFJQyxZQUFZLEdBQUcsQ0FBQztJQUVwQixPQUFPSixTQUFTLEVBQUU7TUFDaEI7TUFDQUUsU0FBUyxHQUFHSixJQUFJLENBQUMvRixTQUFTLENBQUM4RixLQUFLLEVBQUVJLElBQUksQ0FBQzs7TUFFdkM7TUFDQSxJQUFJQyxTQUFTLENBQUNULEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRVUsV0FBVyxFQUFFO01BQzdDO01BQ0EsSUFBSUQsU0FBUyxDQUFDVCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUVXLFlBQVksRUFBRTs7TUFFOUM7TUFDQSxJQUNFRixTQUFTLENBQUM5SixNQUFNLElBQUkwSixJQUFJLENBQUMxSixNQUFNLElBQzlCLENBQUM4SixTQUFTLENBQUNULEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDckgsUUFBUSxDQUFDMkgsR0FBRyxDQUFDLElBQUlHLFNBQVMsSUFBSSxFQUFFLEtBQ3BEQyxXQUFXLElBQUlDLFlBQWEsRUFDOUI7UUFDQUosU0FBUyxHQUFHLEtBQUs7TUFDbkI7TUFDQUMsSUFBSSxFQUFFO0lBQ1I7SUFFQSxPQUFPQyxTQUFTO0VBQ2xCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRTFILGFBQWFBLENBQUNSLFFBQVEsRUFBRTtJQUN0QixJQUFJcUksT0FBTyxHQUFHOUwsS0FBSyxDQUFDaUwsWUFBWSxDQUFFLFVBQVMsRUFBRXhILFFBQVEsRUFBRSxLQUFLLENBQUM7SUFDN0QsTUFBTXNJLFFBQVEsR0FBSSxVQUFTO0lBQzNCLE1BQU1DLFNBQVMsR0FBSSxPQUFNO0lBQ3pCLEtBQUssSUFBSW5KLENBQUMsR0FBR2lKLE9BQU8sQ0FBQ2pLLE1BQU0sR0FBRyxDQUFDLEVBQUVnQixDQUFDLElBQUksQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUM1QyxNQUFNMEksSUFBSSxHQUFHOUgsUUFBUSxDQUFDK0IsU0FBUyxDQUM3QnNHLE9BQU8sQ0FBQ2pKLENBQUMsQ0FBQyxFQUNWaUosT0FBTyxDQUFDakosQ0FBQyxDQUFDLEdBQUdtSixTQUFTLENBQUNuSyxNQUFNLEdBQUcsQ0FDbEMsQ0FBQztNQUNELElBQUksQ0FBQzBKLElBQUksQ0FBQzdCLElBQUksQ0FBQyxDQUFDLENBQUM3RixRQUFRLENBQUNtSSxTQUFTLENBQUMsRUFBRTtRQUNwQ3ZJLFFBQVEsR0FDTkEsUUFBUSxDQUFDeUgsS0FBSyxDQUFDLENBQUMsRUFBRVksT0FBTyxDQUFDakosQ0FBQyxDQUFDLENBQUMsR0FDN0JtSixTQUFTLEdBQ1QsR0FBRyxHQUNIdkksUUFBUSxDQUFDeUgsS0FBSyxDQUFDWSxPQUFPLENBQUNqSixDQUFDLENBQUMsQ0FBQztNQUM5QjtJQUNGO0lBRUEsT0FBT1ksUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFUyxlQUFlQSxDQUFDVCxRQUFRLEVBQUVPLE9BQU8sRUFBRUcsV0FBVyxFQUFFO0lBQzlDLElBQUkySCxPQUFPLEdBQUc5TCxLQUFLLENBQUNpTCxZQUFZLENBQUUsV0FBVSxFQUFFeEgsUUFBUSxFQUFFLEtBQUssQ0FBQztJQUM5RCxLQUFLLElBQUlaLENBQUMsR0FBR2lKLE9BQU8sQ0FBQ2pLLE1BQU0sR0FBRyxDQUFDLEVBQUVnQixDQUFDLElBQUksQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUM1QyxJQUFJMEksSUFBSSxHQUFHLElBQUksQ0FBQ0YsWUFBWSxDQUFDUyxPQUFPLENBQUNqSixDQUFDLENBQUMsRUFBRVksUUFBUSxFQUFFLEdBQUcsQ0FBQztNQUN2REEsUUFBUSxHQUFHQSxRQUFRLENBQUNpQyxPQUFPLENBQ3pCNkYsSUFBSSxFQUNILGFBQVl2SCxPQUFRLE9BQU0vRCxNQUFNLENBQUMySyxVQUFVLENBQUN6RyxXQUFXLENBQUUsS0FDNUQsQ0FBQztJQUNIO0lBRUEsT0FBT1YsUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRVcsZUFBZUEsQ0FBQ1gsUUFBUSxFQUFFWSxNQUFNLEVBQUU7SUFDaEMsSUFBSXlILE9BQU8sR0FBRzlMLEtBQUssQ0FBQ2lMLFlBQVksQ0FBRSxLQUFJLEVBQUV4SCxRQUFRLEVBQUUsS0FBSyxDQUFDO0lBQ3hELEtBQUssSUFBSVosQ0FBQyxHQUFHaUosT0FBTyxDQUFDakssTUFBTSxHQUFHLENBQUMsRUFBRWdCLENBQUMsSUFBSSxDQUFDLEVBQUVBLENBQUMsRUFBRSxFQUFFO01BQzVDLElBQUkwSSxJQUFJLEdBQUcsSUFBSSxDQUFDRixZQUFZLENBQUNTLE9BQU8sQ0FBQ2pKLENBQUMsQ0FBQyxFQUFFWSxRQUFRLEVBQUUsR0FBRyxDQUFDO01BQ3ZELElBQUksQ0FBQzhILElBQUksQ0FBQzFILFFBQVEsQ0FBRSxrQkFBaUIsQ0FBQyxFQUNwQ0osUUFBUSxHQUFHQSxRQUFRLENBQUNpQyxPQUFPLENBQUM2RixJQUFJLEVBQUcsbUJBQWtCbEgsTUFBTyxLQUFJLENBQUM7SUFDckU7SUFFQSxPQUFPWixRQUFRO0VBQ2pCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRWEsYUFBYUEsQ0FBQ2IsUUFBUSxFQUFFO0lBQ3RCLElBQUlxSSxPQUFPLEdBQUc5TCxLQUFLLENBQUNpTCxZQUFZLENBQzdCLGlDQUFnQyxFQUNqQ3hILFFBQVEsRUFDUixLQUNGLENBQUM7SUFDRCxLQUFLLElBQUlaLENBQUMsR0FBR2lKLE9BQU8sQ0FBQ2pLLE1BQU0sR0FBRyxDQUFDLEVBQUVnQixDQUFDLElBQUksQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUM1QyxJQUFJMEksSUFBSSxHQUFHLElBQUksQ0FBQ0YsWUFBWSxDQUFDUyxPQUFPLENBQUNqSixDQUFDLENBQUMsRUFBRVksUUFBUSxFQUFFLEdBQUcsQ0FBQztNQUN2RCxJQUFJd0ksT0FBTyxHQUFHLElBQUksQ0FBQzlHLGNBQWMsQ0FBQ29HLElBQUksQ0FBQztNQUN2QzlILFFBQVEsR0FBR0EsUUFBUSxDQUFDaUMsT0FBTyxDQUFDNkYsSUFBSSxFQUFFVSxPQUFPLENBQUM7SUFDNUM7SUFFQSxPQUFPeEksUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNc0MsY0FBY0EsQ0FBQy9ELElBQUksRUFBRWtLLFFBQVEsRUFBRTtJQUNuQyxNQUFNL0osUUFBUSxHQUFHSCxJQUFJLENBQUNHLFFBQVE7SUFDOUIsTUFBTUMsU0FBUyxHQUFHSixJQUFJLENBQUNJLFNBQVM7SUFDaEMsTUFBTStKLE1BQU0sR0FBR25LLElBQUksQ0FBQ21LLE1BQU07SUFDMUIsTUFBTWhKLFNBQVMsR0FBRyxNQUFNckQsV0FBVyxDQUFDc0QsbUJBQW1CLENBQ3JEakIsUUFBUSxFQUNSQyxTQUNGLENBQUM7SUFDRCxNQUFNaUIsUUFBUSxHQUFHLE1BQU12RCxXQUFXLENBQUN3RCxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3RELE1BQU04SSxVQUFVLEdBQUcvSSxRQUFRLENBQUNxRCxRQUFRLENBQUN2RSxRQUFRLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3BFLElBQUkwRCxVQUFVLEdBQUc7TUFBRUksR0FBRyxFQUFFLEVBQUU7TUFBRUMsS0FBSyxFQUFFO0lBQUcsQ0FBQztJQUV2QyxLQUFLLElBQUl0RCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdNLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQ3RCLE1BQU0sRUFBRWdCLENBQUMsRUFBRSxFQUFFO01BQ2pELE1BQU1tRyxHQUFHLEdBQUc3RixTQUFTLENBQUMsTUFBTSxDQUFDLENBQUNOLENBQUMsQ0FBQztNQUNoQyxNQUFNd0osSUFBSSxHQUFHckQsR0FBRyxDQUFDLE1BQU0sQ0FBQztNQUN4QixNQUFNOUMsR0FBRyxHQUFHOEMsR0FBRyxDQUFDLE9BQU8sQ0FBQztNQUN4QixNQUFNN0MsS0FBSyxHQUFHNkMsR0FBRyxDQUFDLFVBQVUsQ0FBQztNQUM3QixNQUFNc0QsTUFBTSxHQUFHdEQsR0FBRyxDQUFDLFFBQVEsQ0FBQztNQUM1QixJQUFJdUQsTUFBTSxHQUFJLEVBQUM7TUFFZixJQUFJTCxRQUFRLElBQUlHLElBQUksRUFBRTtRQUNwQjtRQUNBLFFBQVFuRyxHQUFHO1VBQ1QsS0FBSyxPQUFPO1lBQ1ZKLFVBQVUsQ0FBQ0ksR0FBRyxDQUFDMkQsSUFBSSxDQUNoQiwwREFDSCxDQUFDO1lBQ0Q7VUFDRixLQUFLLE1BQU07WUFDVC9ELFVBQVUsQ0FBQ0ksR0FBRyxDQUFDMkQsSUFBSSxDQUNoQiw2REFDSCxDQUFDO1lBQ0Q7VUFDRixLQUFLLFFBQVE7WUFDWC9ELFVBQVUsQ0FBQ0ksR0FBRyxDQUFDMkQsSUFBSSxDQUNoQiwrREFDSCxDQUFDO1lBQ0Q7VUFDRixLQUFLLGNBQWM7WUFDakIvRCxVQUFVLENBQUNJLEdBQUcsQ0FBQzJELElBQUksQ0FDaEIscUVBQ0gsQ0FBQztZQUNEO1VBQ0YsS0FBSyxNQUFNO1lBQ1QvRCxVQUFVLENBQUNJLEdBQUcsQ0FBQzJELElBQUksQ0FDaEIsNkRBQ0gsQ0FBQztZQUNEO1FBQ0o7O1FBRUE7UUFDQSxRQUFRMUQsS0FBSztVQUNYLEtBQUssVUFBVTtZQUNib0csTUFBTSxHQUFJLHlCQUF3QnBLLFFBQVMsT0FBTUMsU0FBVSxPQUFNO1lBQ2pFLElBQUlrSyxNQUFNLElBQUksVUFBVSxFQUFFO2NBQ3hCQyxNQUFNLEdBQUksNEJBQTJCcEssUUFBUyxPQUFNQyxTQUFVLE9BQU07WUFDdEU7WUFDQTBELFVBQVUsQ0FBQ0ssS0FBSyxDQUFDMEQsSUFBSSxDQUFFLFlBQVd5QyxNQUFPO0FBQ3JELGNBQWNDLE1BQU87QUFDckIsYUFBYSxDQUFDO1lBQ0Y7VUFDRixLQUFLLGdCQUFnQjtZQUNuQkEsTUFBTSxHQUFJO0FBQ3RCO0FBQ0EsYUFBYTtZQUNELElBQUlELE1BQU0sSUFBSSxVQUFVLEVBQUU7Y0FDeEJDLE1BQU0sR0FBSTtBQUN4QjtBQUNBLGVBQWU7WUFDSDtZQUNBekcsVUFBVSxDQUFDSyxLQUFLLENBQ2IwRCxJQUFJLENBQUUsWUFBV3lDLE1BQU87QUFDdkMsY0FBY0MsTUFBTztBQUNyQixhQUFhLENBQUM7WUFDRjtVQUNGLEtBQUssWUFBWTtZQUNmQSxNQUFNLEdBQUksMkJBQTBCbkssU0FBVSxPQUFNK0osTUFBTyxLQUFJO1lBQy9ELElBQUlHLE1BQU0sSUFBSSxVQUFVLEVBQUU7Y0FDeEJDLE1BQU0sR0FBSSw4QkFBNkJuSyxTQUFVLE9BQU0rSixNQUFPLEtBQUk7WUFDcEU7WUFDQXJHLFVBQVUsQ0FBQ0ssS0FBSyxDQUFDMEQsSUFBSSxDQUFFO0FBQ25DLHVCQUF1QnlDLE1BQU87QUFDOUIsY0FBY0MsTUFBTztBQUNyQixhQUFhLENBQUM7WUFDRjtVQUNGLEtBQUssZ0JBQWdCO1lBQ25CLE1BQU1DLFdBQVcsR0FBRyxNQUFNMU0sV0FBVyxDQUFDMk0sY0FBYyxDQUNsRHRLLFFBQVEsRUFDUkMsU0FDRixDQUFDO1lBQ0QsSUFBSXNLLFFBQVEsR0FBRyxLQUFLO1lBQ3BCLElBQUkxSyxJQUFJLENBQUNtQyxXQUFXLElBQUksUUFBUSxFQUFFdUksUUFBUSxHQUFHMUssSUFBSSxDQUFDbUMsV0FBVztZQUU3RG9JLE1BQU0sR0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtZQUNSLEtBQUssSUFBSS9DLEdBQUcsSUFBSWdELFdBQVcsQ0FBQ0UsUUFBUSxDQUFDLEVBQUU7Y0FDckMsSUFBSS9DLEtBQUssR0FBRzZDLFdBQVcsQ0FBQ0UsUUFBUSxDQUFDLENBQUNsRCxHQUFHLENBQUM7Y0FDdEMsSUFBSUEsR0FBRyxJQUFJLGdCQUFnQixFQUFFO2dCQUMzQjtnQkFDQSxJQUFJLE9BQU80QyxVQUFVLElBQUksV0FBVyxJQUFJQSxVQUFVLENBQUN2SyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2tCQUM3RCxLQUFLLElBQUlnQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUd1SixVQUFVLENBQUN2SyxNQUFNLEVBQUVnQixDQUFDLEVBQUUsRUFBRTtvQkFDMUMsSUFBSXVKLFVBQVUsQ0FBQ3ZKLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJc0osTUFBTSxFQUFFO3NCQUNqQyxLQUFLLElBQUlRLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR1AsVUFBVSxDQUFDdkosQ0FBQyxDQUFDLENBQUMrSixNQUFNLENBQUMvSyxNQUFNLEVBQUU4SyxDQUFDLEVBQUUsRUFBRTt3QkFDcEQsTUFBTUUsQ0FBQyxHQUFHVCxVQUFVLENBQUN2SixDQUFDLENBQUMsQ0FBQytKLE1BQU0sQ0FBQ0QsQ0FBQyxDQUFDO3dCQUNqQyxJQUFJRSxDQUFDLENBQUNyRCxHQUFHLElBQUlBLEdBQUcsRUFBRTswQkFDaEIsTUFBTXNELE9BQU8sR0FBRyxDQUFDRCxDQUFDLENBQUNDLE9BQU8sR0FBRyxLQUFLLEdBQUcsRUFBRTswQkFDdkNQLE1BQU0sSUFBSyxLQUFJTyxPQUFRLCtCQUE4QlgsTUFBTyxPQUFNM0MsR0FBSSxNQUFLcUQsQ0FBQyxDQUFDRSxHQUFHLENBQUNwRCxLQUFNLE1BQUtrRCxDQUFDLENBQUNFLEdBQUcsQ0FBQ1YsSUFBSyxPQUFNOzBCQUM3Rzt3QkFDRjtzQkFDRjtzQkFDQTtvQkFDRjtrQkFDRjtnQkFDRjs7Z0JBRUE7Z0JBQ0EsTUFBTVcsVUFBVSxHQUFJLCtCQUE4QmIsTUFBTyxPQUFNM0MsR0FBSSxJQUFHO2dCQUN0RSxJQUFJLENBQUMrQyxNQUFNLENBQUMxSSxRQUFRLENBQUNtSixVQUFVLENBQUMsRUFBRTtrQkFDaEMsSUFBSVYsTUFBTSxJQUFJLFVBQVUsRUFBRTtvQkFDeEJDLE1BQU0sSUFBSyxvQ0FBbUNKLE1BQU8sT0FBTTNDLEdBQUksTUFBS0csS0FBTSxNQUFLK0MsUUFBUyxPQUFNO2tCQUNoRyxDQUFDLE1BQU07b0JBQ0xILE1BQU0sSUFBSyxpQ0FBZ0NKLE1BQU8sT0FBTTNDLEdBQUksTUFBS0csS0FBTSxNQUFLK0MsUUFBUyxPQUFNO2tCQUM3RjtnQkFDRjtjQUNGO1lBQ0Y7WUFDQTVHLFVBQVUsQ0FBQ0ssS0FBSyxDQUFDMEQsSUFBSSxDQUFDMEMsTUFBTSxDQUFDO1lBQzdCO1VBQ0YsS0FBSyxlQUFlO1lBQ2xCQSxNQUFNLEdBQUksOEJBQTZCSixNQUFPLEtBQUk7WUFDbEQsSUFBSUcsTUFBTSxJQUFJLFVBQVUsRUFBRTtjQUN4QkMsTUFBTSxHQUFJLGlDQUFnQ0osTUFBTyxLQUFJO1lBQ3ZEO1lBQ0FyRyxVQUFVLENBQUNLLEtBQUssQ0FBQzBELElBQUksQ0FBRTtBQUNuQyx5QkFBeUJ5QyxNQUFPO0FBQ2hDLGdCQUFnQkMsTUFBTztBQUN2QixhQUFhLENBQUM7WUFDRjtVQUNGLEtBQUssVUFBVTtZQUNiQSxNQUFNLEdBQUksc0RBQXFESixNQUFPLEtBQUk7WUFDMUUsSUFBSUcsTUFBTSxJQUFJLFVBQVUsRUFBRTtjQUN4QkMsTUFBTSxHQUFJLEtBQUksR0FBR0EsTUFBTTtZQUN6QjtZQUNBekcsVUFBVSxDQUFDSyxLQUFLLENBQ2IwRCxJQUFJLENBQUUsY0FBYXlDLE1BQU87QUFDekMsZ0JBQWdCQyxNQUFPO0FBQ3ZCLGVBQWUsQ0FBQztZQUNKO1VBQ0YsS0FBSyxnQkFBZ0I7WUFDbkJBLE1BQU0sR0FBSSxzREFBcURKLE1BQU8sS0FBSTtZQUMxRSxJQUFJRyxNQUFNLElBQUksVUFBVSxFQUFFO2NBQ3hCQyxNQUFNLEdBQUksS0FBSSxHQUFHQSxNQUFNO1lBQ3pCO1lBQ0F6RyxVQUFVLENBQUNLLEtBQUssQ0FBQzBELElBQUksQ0FBRSxjQUFheUMsTUFBTztBQUN2RCxnQkFBZ0JDLE1BQU87QUFDdkIsZUFBZSxDQUFDO1lBQ0o7UUFDSjtNQUNGO0lBQ0Y7SUFFQSxPQUFPO01BQ0xyRyxHQUFHLEVBQUUrRyxLQUFLLENBQUNySSxJQUFJLENBQUMsSUFBSXNJLEdBQUcsQ0FBQ3BILFVBQVUsQ0FBQ0ksR0FBRyxDQUFDLENBQUM7TUFDeENDLEtBQUssRUFBRThHLEtBQUssQ0FBQ3JJLElBQUksQ0FBQyxJQUFJc0ksR0FBRyxDQUFDcEgsVUFBVSxDQUFDSyxLQUFLLENBQUM7SUFDN0MsQ0FBQztFQUNIOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNckMsV0FBV0EsQ0FBQzlCLElBQUksRUFBRUYsWUFBWSxFQUFFMkIsUUFBUSxFQUFFMEosS0FBSyxHQUFHLElBQUksRUFBRTtJQUM1RDs7SUFFQSxNQUFNOUksTUFBTSxHQUFHckMsSUFBSSxDQUFDcUMsTUFBTTtJQUMxQixJQUFJK0ksT0FBTyxHQUFHLEtBQUs7SUFDbkIsTUFBTUMsV0FBVyxHQUFJLDRCQUEyQjtJQUNoRCxNQUFNbEQsVUFBVSxHQUFHMUcsUUFBUSxDQUFDZ0MsT0FBTyxDQUFFLG1CQUFrQnBCLE1BQU8sSUFBRyxDQUFDO0lBQ2xFLE1BQU1nRyxTQUFTLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0gsVUFBVSxFQUFFMUcsUUFBUSxDQUFDO0lBQzdELElBQUk2SixZQUFZLEdBQUdqRCxTQUFTO0lBQzVCLE1BQU1rRCxlQUFlLEdBQUdELFlBQVksQ0FBQzdILE9BQU8sQ0FBRSxtQkFBa0JwQixNQUFPLElBQUcsQ0FBQztJQUMzRSxNQUFNbUosYUFBYSxHQUFHLElBQUksQ0FBQ25DLFlBQVksQ0FBQ2tDLGVBQWUsRUFBRUQsWUFBWSxFQUFFLEdBQUcsQ0FBQztJQUUzRSxJQUFJdEwsSUFBSSxDQUFDc0ssTUFBTSxJQUFJLFFBQVEsSUFBSSxDQUFDakMsU0FBUyxDQUFDeEcsUUFBUSxDQUFDd0osV0FBVyxDQUFDLEVBQUU7TUFDL0Q7TUFDQUMsWUFBWSxHQUFHQSxZQUFZLENBQUM1SCxPQUFPLENBQ2pDOEgsYUFBYSxFQUNiQSxhQUFhLEdBQUksS0FBSUgsV0FBWSxFQUNuQyxDQUFDOztNQUVEO01BQ0EsTUFBTWhILEtBQUssR0FBR3JHLEtBQUssQ0FBQ2lMLFlBQVksQ0FBQyxLQUFLLEVBQUVaLFNBQVMsQ0FBQ2EsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ3JKLE1BQU07TUFDbkUsSUFBSXdFLEtBQUssSUFBSSxDQUFDLEVBQUU7UUFDZCxNQUFNOEUsYUFBYSxHQUFHbUMsWUFBWSxDQUFDbEMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUNyRGtDLFlBQVksR0FBR0EsWUFBWSxDQUFDOUgsU0FBUyxDQUFDLENBQUMsRUFBRTJGLGFBQWEsQ0FBQztRQUN2RG1DLFlBQVksSUFBSyxTQUFRO01BQzNCO01BRUFGLE9BQU8sR0FBRyxJQUFJO0lBQ2hCLENBQUMsTUFBTSxJQUFJcEwsSUFBSSxDQUFDc0ssTUFBTSxJQUFJLFFBQVEsSUFBSWpDLFNBQVMsQ0FBQ3hHLFFBQVEsQ0FBQ3dKLFdBQVcsQ0FBQyxFQUFFO01BQ3JFO01BQ0EsTUFBTUksZUFBZSxHQUFHLElBQUksQ0FBQ3BDLFlBQVksQ0FDdkNrQyxlQUFlLEVBQ2ZELFlBQVksRUFDWkQsV0FDRixDQUFDO01BQ0RDLFlBQVksR0FBR0EsWUFBWSxDQUFDNUgsT0FBTyxDQUFDK0gsZUFBZSxFQUFFRCxhQUFhLENBQUM7O01BRW5FO01BQ0EsTUFBTUUsUUFBUSxHQUFHSixZQUFZLENBQUNwQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7TUFDeEMsSUFBSXlDLFdBQVcsR0FBR0QsUUFBUTtNQUMxQixJQUFJQyxXQUFXLENBQUM5SixRQUFRLENBQUUsSUFBRyxDQUFDLEVBQUU7UUFDOUI4SixXQUFXLEdBQUdBLFdBQVcsQ0FDdEJqSSxPQUFPLENBQUUsSUFBRyxFQUFFLEVBQUUsQ0FBQyxDQUNqQkEsT0FBTyxDQUFFLElBQUcsRUFBRSxFQUFFLENBQUMsQ0FDakJBLE9BQU8sQ0FBRSxJQUFHLEVBQUUsRUFBRSxDQUFDO1FBQ3BCNEgsWUFBWSxHQUFHQSxZQUFZLENBQUM1SCxPQUFPLENBQUNnSSxRQUFRLEVBQUVDLFdBQVcsQ0FBQztNQUM1RDtNQUVBUCxPQUFPLEdBQUcsSUFBSTtJQUNoQjtJQUVBLElBQUlBLE9BQU8sRUFBRTtNQUNYM0osUUFBUSxHQUFHQSxRQUFRLENBQUNpQyxPQUFPLENBQUMyRSxTQUFTLEVBQUVpRCxZQUFZLENBQUM7TUFDcEQ3SixRQUFRLEdBQUd6RCxLQUFLLENBQUN3RSxVQUFVLENBQUNmLFFBQVEsQ0FBQztNQUNyQyxJQUFJMEosS0FBSyxFQUFFO1FBQ1QsTUFBTXJOLFdBQVcsQ0FBQzJFLFNBQVMsQ0FBQzNDLFlBQVksRUFBRTJCLFFBQVEsQ0FBQztNQUNyRDtJQUNGO0lBRUEsT0FBT0EsUUFBUTtFQUNqQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsTUFBTUcsZ0JBQWdCQSxDQUFDNUIsSUFBSSxFQUFFeUIsUUFBUSxFQUFFO0lBQ3JDLE1BQU1tSyxPQUFPLEdBQUcsQ0FDZCx1QkFBdUIsRUFDdkIsd0JBQXdCLEVBQ3hCLG9CQUFvQixFQUNwQix1QkFBdUIsRUFDdkIscUJBQXFCLEVBQ3JCLHFCQUFxQixFQUNyQixjQUFjLEVBQ2QsYUFBYSxDQUNkO0lBQ0QsSUFBSXZLLFFBQVEsR0FBRyxNQUFNdkQsV0FBVyxDQUFDd0QsaUJBQWlCLENBQUMsQ0FBQztJQUNwRCxJQUFJc0YsSUFBSSxHQUFHdkYsUUFBUSxDQUFDcUQsUUFBUSxDQUFDMUUsSUFBSSxDQUFDRyxRQUFRLENBQUMsQ0FBQ0gsSUFBSSxDQUFDSSxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDdEUsSUFBSWdMLE9BQU8sR0FBRyxLQUFLO0lBRW5CLElBQUlTLElBQUksR0FBRztNQUNUQyxFQUFFLEVBQUU5TCxJQUFJLENBQUNtSyxNQUFNO01BQ2ZTLE1BQU0sRUFBRTtJQUNWLENBQUM7SUFFRCxJQUFJLE9BQU9oRSxJQUFJLElBQUksV0FBVyxJQUFJQSxJQUFJLENBQUMvRyxNQUFNLElBQUksQ0FBQyxFQUFFO01BQ2xEK0csSUFBSSxHQUFHLEVBQUU7TUFDVEEsSUFBSSxDQUFDaUIsSUFBSSxDQUFDZ0UsSUFBSSxDQUFDO0lBQ2pCO0lBRUEsS0FBSyxJQUFJbEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaUIsT0FBTyxDQUFDL0wsTUFBTSxFQUFFOEssQ0FBQyxFQUFFLEVBQUU7TUFDdkMsSUFBSUssVUFBVSxHQUFJLGlDQUFnQ2hMLElBQUksQ0FBQ21LLE1BQU8sT0FBTXlCLE9BQU8sQ0FBQ2pCLENBQUMsQ0FBRSxJQUFHOztNQUVsRjtNQUNBLElBQUksQ0FBQ2xKLFFBQVEsQ0FBQ0ksUUFBUSxDQUFDbUosVUFBVSxDQUFDLEVBQUU7UUFDbENBLFVBQVUsR0FBSSxrQ0FBaUNoTCxJQUFJLENBQUNtSyxNQUFPLE9BQU15QixPQUFPLENBQUNqQixDQUFDLENBQUUsSUFBRztNQUNqRjs7TUFFQTtNQUNBLElBQUlsSixRQUFRLENBQUNJLFFBQVEsQ0FBQ21KLFVBQVUsQ0FBQyxFQUFFO1FBQ2pDO1FBQ0EsS0FBSyxJQUFJbkssQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHK0YsSUFBSSxDQUFDL0csTUFBTSxFQUFFZ0IsQ0FBQyxFQUFFLEVBQUU7VUFDcEMsSUFBSStGLElBQUksQ0FBQy9GLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJYixJQUFJLENBQUNtSyxNQUFNLEVBQUU7WUFDaEMsTUFBTTRCLE1BQU0sR0FBR25GLElBQUksQ0FBQy9GLENBQUMsQ0FBQyxDQUFDK0osTUFBTSxDQUFDb0IsTUFBTSxDQUNqQ0MsR0FBRyxJQUFLLEVBQUVBLEdBQUcsQ0FBQ3pFLEdBQUcsS0FBS29FLE9BQU8sQ0FBQ2pCLENBQUMsQ0FBQyxDQUNuQyxDQUFDO1lBQ0QsSUFBSW9CLE1BQU0sQ0FBQ2xNLE1BQU0sSUFBSStHLElBQUksQ0FBQy9GLENBQUMsQ0FBQyxDQUFDK0osTUFBTSxDQUFDL0ssTUFBTSxFQUFFO2NBQzFDK0csSUFBSSxDQUFDL0YsQ0FBQyxDQUFDLENBQUMrSixNQUFNLEdBQUdtQixNQUFNO2NBQ3ZCWCxPQUFPLEdBQUcsSUFBSTtZQUNoQjtZQUNBO1VBQ0Y7UUFDRjtNQUNGO0lBQ0Y7O0lBRUE7SUFDQSxJQUFJQSxPQUFPLEVBQUU7TUFDWC9KLFFBQVEsQ0FBQ3FELFFBQVEsQ0FBQzFFLElBQUksQ0FBQ0csUUFBUSxDQUFDLENBQUNILElBQUksQ0FBQ0ksU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUd3RyxJQUFJO01BQ2xFLE1BQU05SSxXQUFXLENBQUMySSxrQkFBa0IsQ0FBQ3BGLFFBQVEsQ0FBQztJQUNoRDtFQUNGO0FBQ0Y7QUFDQTZLLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUlqTyxVQUFVLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["dataHandler","require","utils","common","hookCustom","constructor","mobile_compare_config","imageNameFormat","screenshotPath","savePerDevice","autoSaveBaseline","blockOutStatusBar","blockOutIphoneHomeBar","blockOutNavigationBar","web_compare_config","formatImageName","savePerInstance","blockOutToolBar","disableCSSAnimation","isHybridApp","allure_config","outputDir","disableWebdriverStepsReporting","disableWebdriverScreenshotsReporting","addConsoleLogs","issueLinkTemplate","disableMochaHooks","getMobileCompareConfig","generateMobileCompareConfig","specs","args","length","specFilePath","isNormalSpec","info","getInfoFromFilePath","baselineFolder","clientId","projectId","compareConfig","services","getWebCompareConfig","getAllureConfig","getSuites","allSuites","searchAllSuites","suites","i","suiteJson","readFileJSONSync","Object","assign","autoFixCode","excelData","getProjectDataExcel","jsonData","getGlobalDataJson","newVersion","version","contents","readFile","String","checkCaptureOpts","includes","checkStatus","clientName","prjName","addAsync2Func","updateSpecTitle","captureType","updateCaseTitle","caseId","updateCommand","addCoreFramework","codeMakeUp","writeSpec","autoBatchFixCode","pattern","from","to","allSpecs","searchAllSpecs","file","console","log","convertCommand","lineOfCode","objCommand","JSON","parse","substring","indexOf","replace","command","target","insertImageComparisonCode","codeBlocks","hookGeneration","clsCodeBlock","functCodeBlock","cls","funct","insertBeforeHookSpec","count","beforeBlock","insertAfterEachHookSpec","afterEachBlock","initProject","projects","basePath","process","cwd","dataPath","fullpagePath","screenPath","mobilePath","createFolder","excelPath","dataExisting","fileExists","copyFile","capsPath","capsExisting","tcPath","tcExisting","tcJsonPath","tcJsonExisting","tc2jsonPath","tc2jsonExisting","fullpageReadmePath","screenReadmePath","mobileReadmePath","deleteFile","createFile","specGenerationPath","specGenerationExisting","generationContent","gitIgnorePath","gitIgnoreExisting","updateDataJsonFile","tc2json","json","data","testCase","test_data","steps","row","userType","feature","caseName","localization","desc","testData","emptyOrUndefined","key","split","trim","value","toLowerCase","push","jsonPath","oldComment","replaceAll","beforeHookStart","beforeHookEnd","startIndex","endIndex","codeBlock","getFullCodeBlock","afterEachHookStart","afterEachHookEnd","imgStart","imgEnd","capType","capitalize","specTitleCode","specTitleIndex","afterEachHookCodeBlock","beforeHookCodeBlock","getIndicesOf","slice","lastLineIndex","lastIndexOf","getCodeBlock","index","text","end","condition","next","tmpString","openBracket","closeBracket","indexes","funcText","asyncText","newText","hookType","specId","cptOptData","type","status","script","captureOpts","getCaptureOpts","platform","j","values","o","enabled","arg","searchText","Array","Set","write","changed","skipComment","newCodeBlock","blockStartIndex","firstCodeLine","lineWithComment","lastLine","newLastLine","arrOpts","opts","id","tmpArr","filter","obj","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\lib\\","sources":["hook.js"],"sourcesContent":["const dataHandler = require(\"./data_handler\");\r\nconst utils = require(\"./../utils\");\r\nconst common = require(\"./../common\");\r\n\r\nclass hookCustom {\r\n  constructor() {\r\n    this.mobile_compare_config = {\r\n      imageNameFormat: \"{tag}\",\r\n      screenshotPath: `.tmp/`,\r\n      savePerDevice: true,\r\n      autoSaveBaseline: true,\r\n      blockOutStatusBar: true,\r\n      blockOutIphoneHomeBar: true,\r\n      blockOutNavigationBar: true,\r\n      // baselineFolder: this.getMobileBaselineFolder(),\r\n    };\r\n    this.web_compare_config = {\r\n      formatImageName: \"{tag}\",\r\n      screenshotPath: `.tmp/`,\r\n      savePerInstance: true,\r\n      autoSaveBaseline: true,\r\n      blockOutStatusBar: true,\r\n      blockOutToolBar: true,\r\n      disableCSSAnimation: true,\r\n      // NOTE: When you are testing a hybrid app please use this setting\r\n      isHybridApp: false,\r\n    };\r\n    this.allure_config = {\r\n      outputDir: \"allure-results\",\r\n      disableWebdriverStepsReporting: true,\r\n      disableWebdriverScreenshotsReporting: true,\r\n      addConsoleLogs: true,\r\n      issueLinkTemplate: \"https://jira.sutrix.com/browse/{}\",\r\n      disableMochaHooks: true,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get mobile comparison config\r\n   * @returns {String}\r\n   */\r\n  getMobileCompareConfig() {\r\n    return this.mobile_compare_config;\r\n  }\r\n\r\n  /**\r\n   * Generate config for mobile image comparison\r\n   * @param {Array} specs list of all spec files\r\n   * @param {Object} args config will be merged into main config\r\n   */\r\n  async generateMobileCompareConfig(specs, args) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const baselineFolder = `./test/specs/${info.clientId}/${info.projectId}/baseline`;\r\n        let compareConfig = this.getMobileCompareConfig();\r\n\r\n        compareConfig.baselineFolder = baselineFolder;\r\n        args.services = [[\"native-app-compare\", compareConfig]];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get web comparison config\r\n   * @returns {String}\r\n   */\r\n  getWebCompareConfig() {\r\n    return this.web_compare_config;\r\n  }\r\n\r\n  /**\r\n   * Get allure config\r\n   * @returns {String}\r\n   */\r\n  getAllureConfig() {\r\n    return this.allure_config;\r\n  }\r\n\r\n  /**\r\n   * Get all suites from all projects and merged to config\r\n   * @returns {JSON}\r\n   */\r\n  getSuites() {\r\n    // 1. SEARCH ALL suites.json\r\n    const allSuites = dataHandler.searchAllSuites();\r\n\r\n    // 2. READ EACH JSON AND MERGE INTO ONE\r\n    let suites = {};\r\n    for (let i = 0; i < allSuites.length; i++) {\r\n      const suiteJson = dataHandler.readFileJSONSync(allSuites[i], \"utf8\");\r\n      suites = Object.assign({}, suites, suiteJson);\r\n    }\r\n\r\n    // 3. RETURN MERGED SUITES\r\n    return suites;\r\n  }\r\n\r\n  /**\r\n   * Auto fix spec code if it's not correct or latest version\r\n   * @param {Array} specs List of running spec file paths\r\n   */\r\n  async autoFixCode(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        // GET PROJECT DATA\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const excelData = await dataHandler.getProjectDataExcel(\r\n          info.clientId,\r\n          info.projectId\r\n        );\r\n        const jsonData = await dataHandler.getGlobalDataJson();\r\n        const newVersion = jsonData.version;\r\n\r\n        // READ FILE\r\n        let contents = await dataHandler.readFile(specFilePath, \"utf8\");\r\n        contents = String(contents);\r\n\r\n        // CHECK CAPTURE OPTS\r\n        await this.checkCaptureOpts(info, contents);\r\n\r\n        // SKIP IF LATEST VERSION\r\n        if (contents.includes(`image comparison ${newVersion}`)) {\r\n          // CHECK & UPDATE STATUS\r\n          await this.checkStatus(info, specFilePath, contents);\r\n\r\n          continue;\r\n        }\r\n\r\n        // GET COMMON INFO\r\n        let clientName = excelData[\"config\"][0][\"client\"];\r\n        let prjName = excelData[\"config\"][0][\"project\"];\r\n        if (clientName == \"\") clientName = info.clientId;\r\n        if (prjName == \"\") prjName = info.projectId;\r\n\r\n        // ADD ASYNC BEFORE FUNCTION\r\n        contents = this.addAsync2Func(contents);\r\n\r\n        // UPDATE SPEC TITLE\r\n        contents = this.updateSpecTitle(contents, prjName, info.captureType);\r\n\r\n        // UPDATE CASE TITLE\r\n        contents = this.updateCaseTitle(contents, info.caseId);\r\n\r\n        // CONVERT COMMANDS\r\n        contents = this.updateCommand(contents);\r\n\r\n        // GENERATE CORE FRAMEWORK\r\n        contents = await this.addCoreFramework(\r\n          contents,\r\n          clientName,\r\n          prjName,\r\n          info,\r\n          jsonData\r\n        );\r\n\r\n        // WRITE CONTENTS BACK TO FILE\r\n        if (contents != \"\") {\r\n          // MAKE UP CODE\r\n          contents = utils.codeMakeUp(contents);\r\n\r\n          // CHECK & UPDATE STATUS\r\n          contents = await this.checkStatus(\r\n            info,\r\n            specFilePath,\r\n            contents,\r\n            false\r\n          );\r\n\r\n          await dataHandler.writeSpec(specFilePath, contents);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Auto update spec script based on new change\r\n   * @param {Array} specs list of all running spec files\r\n   * @param {String} pattern filter pattern\r\n   * @param {Int} from start index\r\n   * @param {Int} to end index\r\n   */\r\n  async autoBatchFixCode(specs, pattern = \"\", from = 0, to = 0) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        // SEARCH JS FILES\r\n        const allSpecs = await dataHandler.searchAllSpecs(pattern);\r\n\r\n        // GET GLOBAL DATA JSON\r\n        const jsonData = await dataHandler.getGlobalDataJson();\r\n        const newVersion = jsonData.version;\r\n\r\n        if (to == 0) to = allSpecs.length;\r\n        for (let i = from; i < to; i++) {\r\n          const file = allSpecs[i];\r\n\r\n          if (common.isNormalSpec(file)) {\r\n            // GET PROJECT DATA\r\n            const info = await dataHandler.getInfoFromFilePath(file);\r\n            const excelData = await dataHandler.getProjectDataExcel(\r\n              info.clientId,\r\n              info.projectId\r\n            );\r\n\r\n            // GET COMMON INFO\r\n            let clientName = excelData[\"config\"][0][\"client\"];\r\n            let prjName = excelData[\"config\"][0][\"project\"];\r\n            if (clientName == \"\") clientName = info.clientId;\r\n            if (prjName == \"\") prjName = info.projectId;\r\n\r\n            // READ FILE\r\n            let contents = await dataHandler.readFile(file, \"utf8\");\r\n            contents = String(contents);\r\n\r\n            // SKIP IF LATEST VERSION\r\n            if (contents.includes(`image comparison ${newVersion}`)) continue;\r\n\r\n            // LOG FILE PATH OUT\r\n            console.log(file);\r\n\r\n            // ADD CORE FRAMEWORK\r\n            contents = await this.addCoreFramework(\r\n              contents,\r\n              clientName,\r\n              prjName,\r\n              info,\r\n              jsonData\r\n            );\r\n\r\n            // WRITE CONTENTS BACK TO FILE\r\n            if (contents != \"\") {\r\n              // MAKE UP CODE\r\n              contents = utils.codeMakeUp(contents);\r\n\r\n              await dataHandler.writeSpec(file, contents);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert unsupported commands exported from recorder tool to usable script in wdio\r\n   * @param {String} lineOfCode line of code\r\n   * @returns {String}\r\n   */\r\n  convertCommand(lineOfCode) {\r\n    // WARNING: unsupported command runScript. Object= {\"command\":\"runScript\",\"target\":\"document.querySelector(\\\"#main > section.certified-partner > div > div > div.col-md-8.col-lg-7 > div.content\\\").scrollIntoView()\",\"value\":\"\"}\r\n    // WARNING: unsupported command deleteCookie. Object= {\"command\":\"deleteCookie\",\"target\":\"\",\"value\":\"\"}\r\n    // WARNING: unsupported command deleteAllVisibleCookies. Object= {\"command\":\"deleteAllVisibleCookies\",\"target\":\"\",\"value\":\"\"}\r\n    var objCommand = JSON.parse(\r\n      lineOfCode\r\n        .substring(lineOfCode.indexOf(\"=\"), lineOfCode.length)\r\n        .replace(\"= \", \"\")\r\n        .replace(`\\r`, \"\")\r\n    );\r\n\r\n    if (typeof objCommand.command != \"undefined\") {\r\n      switch (objCommand.command) {\r\n        case \"runScript\":\r\n          return `\\t\\tawait browser.execute(\\`${objCommand.target}\\`);\\r`;\r\n        case \"deleteCookie\":\r\n          return `\\t\\tawait browser.deleteCookies([\"${objCommand.target}\"]);\\r`;\r\n        case \"deleteAllVisibleCookies\":\r\n          return `\\t\\tawait browser.deleteCookies();\\r`;\r\n        case \"\":\r\n          return \"\";\r\n        default:\r\n          return lineOfCode;\r\n      }\r\n    } else {\r\n      return lineOfCode;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate code block for image comparison\r\n   * @param {Object} info spec information\r\n   * @param {String} version latest version of code\r\n   * @returns {String}\r\n   */\r\n  async insertImageComparisonCode(info, version) {\r\n    const codeBlocks = await this.hookGeneration(info, \"img_comparison\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= IMG_COMP : START =======\r\n    /*\r\n      * This is CORE function to do the image comparison.\r\n      * This script is added automatically every time there is a new version released.\r\n      * You can open the custom scripts for capture options to apply only for current spec.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // ================================\r\n    it(\"image comparison ${version} :: ${info.caseId}\", async function () {\r\n      ${clsCodeBlock}\r\n      \r\n      ${functCodeBlock}\r\n    });\r\n    // ==============================\r\n    // ======= IMG_COMP : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate before hook code block\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async insertBeforeHookSpec(info) {\r\n    const codeBlocks = await this.hookGeneration(info, \"before\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n    let count = 0;\r\n    let beforeBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n      count++;\r\n    }\r\n\r\n    if (count > 0) {\r\n      beforeBlock = `before(async function () {\r\n        ${clsCodeBlock}\r\n        \r\n        ${functCodeBlock}\r\n      });`;\r\n    } else {\r\n      beforeBlock = `// before(async function () {});`;\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= BEFORE_HOOK : START =======\r\n    /*\r\n      * This is CORE function to be performed ONCE before the 1st test in current spec.\r\n      * This script is added automatically every time there is a new version released.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // ===================================\r\n    ${beforeBlock}\r\n    // =================================\r\n    // ======= BEFORE_HOOK : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate after each hook code block\r\n   * {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async insertAfterEachHookSpec(info) {\r\n    const codeBlocks = await this.hookGeneration(info, \"after_each\");\r\n    let clsCodeBlock = ``;\r\n    let functCodeBlock = ``;\r\n    let count = 0;\r\n    let afterEachBlock = ``;\r\n\r\n    // GENERATE CLASS CODE LINE\r\n    for (let i = 0; i < codeBlocks.cls.length; i++) {\r\n      clsCodeBlock += codeBlocks.cls[i];\r\n    }\r\n    // GENERATE FUNCTION CODE LINE\r\n    for (let i = 0; i < codeBlocks.funct.length; i++) {\r\n      functCodeBlock += codeBlocks.funct[i];\r\n      count++;\r\n    }\r\n\r\n    if (count > 0) {\r\n      afterEachBlock = `afterEach(async function () {\r\n        ${clsCodeBlock}\r\n        \r\n        ${functCodeBlock}\r\n      });`;\r\n    } else {\r\n      afterEachBlock = `// afterEach(async function () {});`;\r\n    }\r\n\r\n    let contents = `\\r\r\n    // ======= AFTER_EACH_HOOK : START =======\r\n    /*\r\n      * This is CORE function to be performed after EACH test in current spec.\r\n      * This script is added automatically every time there is a new version released.\r\n      * Note: don't modify or remove any script here.\r\n    */\r\n    // =======================================\r\n    // runs after each test in this block\r\n    ${afterEachBlock}\r\n    // =====================================\r\n    // ======= AFTER_EACH_HOOK : END =======\\r`;\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Initialize a new project\r\n   * @param {Array} specs list of running spec file paths\r\n   */\r\n  async initProject(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n\r\n      if (specFilePath.includes(`init.js`)) {\r\n        let jsonData = await dataHandler.getGlobalDataJson();\r\n        const projects = jsonData.projects;\r\n\r\n        for (var clientId in projects) {\r\n          for (var projectId in projects[clientId]) {\r\n            if (\r\n              typeof projects[clientId][projectId][\"init\"] == \"undefined\" ||\r\n              projects[clientId][projectId][\"init\"] != \"done\"\r\n            ) {\r\n              let basePath =\r\n                process.cwd() + `/test/specs/${clientId}/${projectId}`;\r\n              let dataPath = basePath + `/data`;\r\n              let fullpagePath = basePath + `/record/fullpage`;\r\n              let screenPath = basePath + `/record/screen`;\r\n              let mobilePath = basePath + `/record/mobile`;\r\n\r\n              // CREATE FOLDERS\r\n              dataHandler.createFolder(dataPath);\r\n              dataHandler.createFolder(fullpagePath);\r\n              dataHandler.createFolder(screenPath);\r\n              dataHandler.createFolder(mobilePath);\r\n\r\n              // COPY data.xlsx\r\n              const excelPath = `${dataPath}/data.xlsx`;\r\n              const dataExisting = await dataHandler.fileExists(excelPath);\r\n              if (!dataExisting) {\r\n                dataHandler.copyFile(\"./utils/data_template.xlsx\", excelPath);\r\n              }\r\n\r\n              // COPY capabilities_template.json\r\n              const capsPath = `${dataPath}/capabilities.json`;\r\n              const capsExisting = await dataHandler.fileExists(capsPath);\r\n              if (!capsExisting) {\r\n                dataHandler.copyFile(\r\n                  \"./utils/capabilities_template.json\",\r\n                  capsPath\r\n                );\r\n              }\r\n\r\n              // COPY test-cases.xlsx\r\n              const tcPath = `${dataPath}/test-cases.xlsx`;\r\n              const tcExisting = await dataHandler.fileExists(tcPath);\r\n              if (!tcExisting) {\r\n                dataHandler.copyFile(\r\n                  \"./utils/test-cases_template.xlsx\",\r\n                  tcPath\r\n                );\r\n              }\r\n\r\n              // COPY test-cases.json\r\n              const tcJsonPath = `${dataPath}/test-cases.json`;\r\n              const tcJsonExisting = await dataHandler.fileExists(tcJsonPath);\r\n              if (!tcJsonExisting) {\r\n                dataHandler.copyFile(\"./utils/test-cases.json\", tcJsonPath);\r\n              }\r\n\r\n              // COPY tc2json.js\r\n              const tc2jsonPath = `${dataPath}/tc2json.js`;\r\n              const tc2jsonExisting = await dataHandler.fileExists(tc2jsonPath);\r\n              if (!tc2jsonExisting) {\r\n                dataHandler.copyFile(\"./utils/tc2json.js\", tc2jsonPath);\r\n              }\r\n\r\n              // DELETE ALL readme.txt - USED FOR REGENERATION\r\n              const fullpageReadmePath = `${fullpagePath}/readme.txt`;\r\n              const screenReadmePath = `${screenPath}/readme.txt`;\r\n              const mobileReadmePath = `${mobilePath}/readme.txt`;\r\n              await dataHandler.deleteFile(fullpageReadmePath);\r\n              await dataHandler.deleteFile(screenReadmePath);\r\n              await dataHandler.deleteFile(mobileReadmePath);\r\n\r\n              // CREATE readme.txt\r\n              dataHandler.createFile(\r\n                fullpageReadmePath,\r\n                `Put the records into the corresponding folder:\r\n  - fullpage: the baseline and actual are captured with full web page from top to bottom.\r\n  - screen: the baseline and actual are captures with the screen of current position.\r\n  - mobile: used for mobile image comparison.\r\n  - Record file name must be unique and following this format: [project_id].[user_story_id]-[case_id]_[localization].js\r\n      Example: ${projectId}.001-C001_en.js\r\n                \r\nHow to use ${projectId}.spec-generation.js?\r\n  - Change the config \"spec_generation\" in data/data.xlsx to \"yes\" if you want to enable it.\r\n  - Update the list of pages in data/data.xlsx before generating with:\r\n    - page_id: is unique id\r\n    - domain: website domain\r\n    - handler: path to page\r\n    - status: active, deactive, support or manual\r\n    - flow: the id to match to your flow in ${projectId}.spec-generation.js\r\n  - Each spec is generated based on the flows with structure below. Depending on your purpose, you can define flexible custom preStep and addStep for each spec.\r\n    preStep\r\n    await browser.url(link);\r\n    addStep\r\n  - Keep the flow id to be \"0\" if you want to apply for all pages.\r\n  - Remove spec-generation out of excluded spec in wdio.config`\r\n              );\r\n              dataHandler.copyFile(fullpageReadmePath, screenReadmePath);\r\n              dataHandler.copyFile(fullpageReadmePath, mobileReadmePath);\r\n\r\n              // CREATE SPEC GENERATION\r\n              const specGenerationPath = `${fullpagePath}/${projectId}.spec-generation.js`;\r\n              const specGenerationExisting = await dataHandler.fileExists(\r\n                specGenerationPath\r\n              );\r\n              if (!specGenerationExisting) {\r\n                let generationContent = `describe(\"spec-generation\", async function () {\r\n                  it(\"generate spec files\", async function () {\r\n                    const flows = [\r\n                      {\r\n                        id: \"0\",\r\n                        preStep: \"\",\r\n                        addStep: \"\",\r\n                      },\r\n                    ];\r\n\r\n                    const utils = require(process.cwd() + \"/utils/utils\");\r\n                    await utils.specGeneration(this.test.file, flows, -1, false);\r\n                  });\r\n                });`;\r\n                generationContent = utils.codeMakeUp(generationContent);\r\n                dataHandler.createFile(specGenerationPath, generationContent);\r\n              }\r\n\r\n              // CREATE .gitignore\r\n              const gitIgnorePath = `${basePath}/.gitignore`;\r\n              const gitIgnoreExisting = await dataHandler.fileExists(\r\n                gitIgnorePath\r\n              );\r\n              if (!gitIgnoreExisting) {\r\n                dataHandler.createFile(gitIgnorePath, `data/~$*`);\r\n              }\r\n\r\n              // UPDATE data.json\r\n              jsonData.projects[clientId][projectId][\"init\"] = \"done\";\r\n              await dataHandler.updateDataJsonFile(jsonData);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert test cases excel to json\r\n   * @param {String} specs list of all spec file paths\r\n   */\r\n  async tc2json(specs) {\r\n    for (let i = 0; i < specs.length; i++) {\r\n      const specFilePath = specs[i];\r\n      if (specFilePath.includes(`tc2json.js`)) {\r\n        // READ EXCEL DATA\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const tcPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.xlsx`;\r\n        const excelData = await dataHandler.getProjectDataExcel(\r\n          info.clientId,\r\n          info.projectId,\r\n          tcPath\r\n        );\r\n\r\n        // CREATE JSON\r\n        let json = { data: [] };\r\n        let testCase = { test_data: {}, steps: [] };\r\n        for (let i = 0; i < excelData[\"test_cases\"].length; i++) {\r\n          const row = excelData[\"test_cases\"][i];\r\n          const caseId = row[\"case_id\"];\r\n          const userType = row[\"user_type\"];\r\n          const feature = row[\"feature\"];\r\n          const caseName = row[\"case\"];\r\n          const localization = row[\"localization\"];\r\n          const desc = row[\"description\"];\r\n          const testData = row[\"test_data\"];\r\n          const steps = row[\"steps\"];\r\n\r\n          // GET CASE INFO\r\n          if (!common.emptyOrUndefined(caseId)) {\r\n            testCase[\"case_id\"] = caseId;\r\n          }\r\n          if (!common.emptyOrUndefined(userType)) {\r\n            testCase[\"user_type\"] = userType;\r\n          }\r\n          if (!common.emptyOrUndefined(feature)) {\r\n            testCase[\"feature\"] = feature;\r\n          }\r\n          if (!common.emptyOrUndefined(caseName)) {\r\n            testCase[\"case\"] = caseName;\r\n          }\r\n          if (!common.emptyOrUndefined(localization)) {\r\n            testCase[\"localization\"] = localization;\r\n          }\r\n          if (!common.emptyOrUndefined(desc)) {\r\n            testCase[\"description\"] = desc;\r\n          }\r\n\r\n          // GET TEST DATA\r\n          if (!common.emptyOrUndefined(testData)) {\r\n            const key = testData.split(\":\")[0].trim();\r\n            const value = testData.split(\":\")[1].trim();\r\n            testCase[\"test_data\"][key] = value;\r\n          }\r\n\r\n          // GET STEPS\r\n          if (!common.emptyOrUndefined(steps)) {\r\n            if (steps.toLowerCase() != \"[end]\") {\r\n              testCase[\"steps\"].push(steps);\r\n            } else {\r\n              // PUSH TO JSON\r\n              json.data.push(testCase);\r\n\r\n              // RESET\r\n              testCase = { test_data: {}, steps: [] };\r\n            }\r\n          }\r\n        }\r\n\r\n        // SAVE JSON TO test-cases.json\r\n        const jsonPath = `test/specs/${info.clientId}/${info.projectId}/data/test-cases.json`;\r\n        await dataHandler.updateDataJsonFile(json, jsonPath);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add core funtions into every spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @param {Object} info spec information\r\n   * @param {Object} jsonData global json data\r\n   * @returns {String}\r\n   */\r\n  async addCoreFramework(contents, clientName, prjName, info, jsonData) {\r\n    // REMOVE OLD COMMENTS\r\n    const oldComment = `// BYPASS PAGE AUTH --- DON'T REMOVE THIS COMMENT`;\r\n    if (contents.includes(oldComment)) {\r\n      contents = contents.replaceAll(oldComment, \"\");\r\n    }\r\n\r\n    // REMOVE BEFORE HOOK CODE BLOCK\r\n    const beforeHookStart = `// ======= BEFORE_HOOK : START =======`;\r\n    const beforeHookEnd = `// ======= BEFORE_HOOK : END =======`;\r\n    if (contents.includes(beforeHookStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(beforeHookStart);\r\n      const endIndex = contents.indexOf(beforeHookEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + beforeHookEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    } else {\r\n      // BEFORE v1.0.7\r\n      const startIndex = contents.indexOf(`before(async function`);\r\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // REMOVE AFTER EACH HOOK CODE BLOCK\r\n    const afterEachHookStart = `// ======= AFTER_EACH_HOOK : START =======`;\r\n    const afterEachHookEnd = `// ======= AFTER_EACH_HOOK : END =======`;\r\n    if (contents.includes(afterEachHookStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(afterEachHookStart);\r\n      const endIndex = contents.indexOf(afterEachHookEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + afterEachHookEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // REMOVE IMG COMP CODE BLOCK\r\n    const imgStart = `// ======= IMG_COMP : START =======`;\r\n    const imgEnd = `// ======= IMG_COMP : END =======`;\r\n    if (contents.includes(imgStart)) {\r\n      // FROM v.1.0.7\r\n      const startIndex = contents.indexOf(imgStart);\r\n      const endIndex = contents.indexOf(imgEnd);\r\n      const codeBlock = contents.substring(\r\n        startIndex,\r\n        endIndex + imgEnd.length\r\n      );\r\n      contents = contents.replace(codeBlock, \"\");\r\n    } else {\r\n      // BEFORE v1.0.7\r\n      const startIndex = contents.indexOf(`it(\"image comparison`);\r\n      const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n\r\n      contents = contents.replace(codeBlock, \"\");\r\n    }\r\n\r\n    // GENERATE CORE FRAMEWORK\r\n    // 1. MAKE UP CODE\r\n    contents = utils.codeMakeUp(contents);\r\n\r\n    // 2. IDENTIFY THE POSITION TO ADD CODE BLOCKS\r\n    const capType = common.capitalize(info.captureType);\r\n    let specTitleCode = `describe(\"${prjName} :: ${capType}\", async function() {`;\r\n    let specTitleIndex = contents.indexOf(specTitleCode);\r\n\r\n    // 3. REVISE IF FACING WRONG FORMAT CODE\r\n    if (specTitleIndex < 0) {\r\n      specTitleCode = `describe(\"${prjName} :: ${capType}\", async function () {`;\r\n      specTitleIndex = contents.indexOf(specTitleCode);\r\n    }\r\n\r\n    // 4. ADD AFTER EACH HOOK CODE BLOCK\r\n    if (specTitleIndex >= 0) {\r\n      const afterEachHookCodeBlock = await this.insertAfterEachHookSpec(info);\r\n      contents = contents.replace(\r\n        specTitleCode,\r\n        specTitleCode + afterEachHookCodeBlock\r\n      );\r\n    }\r\n\r\n    // 5. ADD BEFORE HOOK CODE BLOCK\r\n    if (specTitleIndex >= 0) {\r\n      const beforeHookCodeBlock = await this.insertBeforeHookSpec(info);\r\n      contents = contents.replace(\r\n        specTitleCode,\r\n        specTitleCode + beforeHookCodeBlock\r\n      );\r\n    }\r\n\r\n    // 6. ADD IMAGE COMPARISON CODE BLOCK\r\n    var count = utils.getIndicesOf(\"});\", contents.slice(-12)).length;\r\n    if (count == 2) {\r\n      var lastLineIndex = contents.lastIndexOf(\"});\");\r\n      contents = contents.substring(0, lastLineIndex);\r\n    }\r\n    contents += await this.insertImageComparisonCode(info, jsonData.version);\r\n    contents += `\\r});`;\r\n\r\n    // 7. MAKE UP CODE\r\n    contents = utils.codeMakeUp(contents);\r\n\r\n    // 8. RETURN\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Search the code block by go until found end of block\r\n   * @param {Int} index start index\r\n   * @param {String} text string is used for searching\r\n   * @returns {String}\r\n   */\r\n  getCodeBlock(index, text, end = \"});\") {\r\n    let condition = true;\r\n    let next = index + 1;\r\n    let tmpString = \"\";\r\n\r\n    while (condition) {\r\n      tmpString = text.substring(index, next);\r\n      if (\r\n        tmpString.includes(end) ||\r\n        tmpString == \"\" ||\r\n        tmpString.length >= text.length\r\n      ) {\r\n        condition = false;\r\n      }\r\n      next++;\r\n    }\r\n\r\n    return tmpString;\r\n  }\r\n\r\n  /**\r\n   * Same as getCodeBlock but ensure the full function is returned\r\n   * @param {Int} index start index\r\n   * @param {String} text contents to be searched for\r\n   * @param {String} end end signal\r\n   * @returns {String}\r\n   */\r\n  getFullCodeBlock(index, text, end = \"});\") {\r\n    let condition = true;\r\n    let next = index + 1;\r\n    let tmpString = \"\";\r\n    let openBracket = 0;\r\n    let closeBracket = 0;\r\n\r\n    while (condition) {\r\n      // GO TO EACH CHARACTER\r\n      tmpString = text.substring(index, next);\r\n\r\n      // IF LAST CHARACTER IS \"{\"\r\n      if (tmpString.slice(-1) == \"{\") openBracket++;\r\n      // IF LAST CHARACTER IS \"}\"\r\n      if (tmpString.slice(-1) == \"}\") closeBracket++;\r\n\r\n      // STOP FINDING\r\n      if (\r\n        tmpString.length >= text.length ||\r\n        ((tmpString.slice(-3).includes(end) || tmpString == \"\") &&\r\n          openBracket == closeBracket)\r\n      ) {\r\n        condition = false;\r\n      }\r\n      next++;\r\n    }\r\n\r\n    return tmpString;\r\n  }\r\n\r\n  /**\r\n   * Add async before function if not existing\r\n   * @param {String} contents file contents\r\n   * @returns {String}\r\n   */\r\n  addAsync2Func(contents) {\r\n    let indexes = utils.getIndicesOf(`function`, contents, false);\r\n    const funcText = `function`;\r\n    const asyncText = `async`;\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      const text = contents.substring(\r\n        indexes[i],\r\n        indexes[i] - asyncText.length - 1\r\n      );\r\n      if (!text.trim().includes(asyncText)) {\r\n        contents =\r\n          contents.slice(0, indexes[i]) +\r\n          asyncText +\r\n          \" \" +\r\n          contents.slice(indexes[i]);\r\n      }\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Fix and update the title of spec\r\n   * @param {String} contents spec file script\r\n   * @param {String} clientName client name\r\n   * @param {String} prjName project name\r\n   * @returns {String}\r\n   */\r\n  updateSpecTitle(contents, prjName, captureType) {\r\n    let indexes = utils.getIndicesOf(`describe(`, contents, false);\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\r\n      contents = contents.replace(\r\n        text,\r\n        `describe(\"${prjName} :: ${common.capitalize(captureType)}\", `\r\n      );\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Fix and update test case title\r\n   * @param {String} contents spec file script\r\n   * @param {String} caseId test case id\r\n   * @returns {String}\r\n   */\r\n  updateCaseTitle(contents, caseId) {\r\n    let indexes = utils.getIndicesOf(`it(`, contents, false);\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \",\");\r\n      if (!text.includes(`image comparison`))\r\n        contents = contents.replace(text, `it(\"recorder :: ${caseId}\", `);\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Check and convert unsupport commands into WDIO commands\r\n   * @param {String} contents spec file script\r\n   * @returns {String}\r\n   */\r\n  updateCommand(contents) {\r\n    let indexes = utils.getIndicesOf(\r\n      `// WARNING: unsupported command`,\r\n      contents,\r\n      false\r\n    );\r\n    for (let i = indexes.length - 1; i >= 0; i--) {\r\n      let text = this.getCodeBlock(indexes[i], contents, \"}\");\r\n      let newText = this.convertCommand(text);\r\n      contents = contents.replace(text, newText);\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Generate hook functions for each spec\r\n   * @param {Object} info spec information\r\n   * @param {String} hookType type of Hook defined in excel data\r\n   * @returns {String}\r\n   */\r\n  async hookGeneration(info, hookType) {\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    const specId = info.specId;\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const cptOptData = jsonData.projects[clientId][projectId][\"cpt_opt\"];\r\n    let codeBlocks = { cls: [], funct: [] };\r\n\r\n    for (let i = 0; i < excelData[\"hook\"].length; i++) {\r\n      const row = excelData[\"hook\"][i];\r\n      const type = row[\"type\"];\r\n      const cls = row[\"class\"];\r\n      const funct = row[\"function\"];\r\n      const status = row[\"status\"];\r\n      let script = ``;\r\n\r\n      if (hookType == type) {\r\n        // IMPORT CLASS\r\n        switch (cls) {\r\n          case \"utils\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/utils\");\\r`\r\n            );\r\n            break;\r\n          case \"hook\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/hook\");\\r`\r\n            );\r\n            break;\r\n          case \"allure\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/allure\");\\r`\r\n            );\r\n            break;\r\n          case \"data_handler\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/data_handler\");\\r`\r\n            );\r\n            break;\r\n          case \"jira\":\r\n            codeBlocks.cls.push(\r\n              `const utils = require(process.cwd() + \"/utils/lib/jira\");\\r`\r\n            );\r\n            break;\r\n        }\r\n\r\n        // IMPORT FUNCTION\r\n        switch (funct) {\r\n          case \"pageAuth\":\r\n            script = `await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.pageAuth(\"${clientId}\", \"${projectId}\");\\r`;\r\n            }\r\n            codeBlocks.funct.push(`// CORE (${status}) :: BYPASS PAGE AUTH\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"checkValidCaps\":\r\n            script = `let valid = await utils.checkValidCaps();\r\n            if (!valid) await this.skip();\r\n            `;\r\n            if (status == \"inactive\") {\r\n              script = `// let valid = await utils.checkValidCaps();\r\n              // if (!valid) await this.skip();\r\n              `;\r\n            }\r\n            codeBlocks.funct\r\n              .push(`// CORE (${status}) :: SKIP SPEC IF WRONG CAPABILITY\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"imgCompare\":\r\n            script = `await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.imgCompare(\"${projectId}\", \"${specId}\");`;\r\n            }\r\n            codeBlocks.funct.push(`\\r\r\n            // CORE (${status}) :: IMG COMPARISON STEP\r\n            ${script}\r\n            `);\r\n            break;\r\n          case \"addCaptureOpts\":\r\n            const captureOpts = await dataHandler.getCaptureOpts(\r\n              clientId,\r\n              projectId\r\n            );\r\n            let platform = \"web\";\r\n            if (info.captureType == \"mobile\") platform = info.captureType;\r\n\r\n            script = `\r\n            /**\r\n             * Custom capture opts. Uncomment and change the value to use it.\r\n             * The global config is set in data.xlsx and is applied by default for all specs.\r\n             * Note: these config may be replaced if there is new version of Utils lib released.\r\n             */\\r\\r`;\r\n            for (var key in captureOpts[platform]) {\r\n              let value = captureOpts[platform][key];\r\n              if (key != \"baselineFolder\") {\r\n                // CHECK JSON DATA\r\n                if (typeof cptOptData != \"undefined\" && cptOptData.length > 0) {\r\n                  for (let i = 0; i < cptOptData.length; i++) {\r\n                    if (cptOptData[i][\"id\"] == specId) {\r\n                      for (let j = 0; j < cptOptData[i].values.length; j++) {\r\n                        const o = cptOptData[i].values[j];\r\n                        if (o.key == key) {\r\n                          const enabled = !o.enabled ? \"// \" : \"\";\r\n                          script += `\\t${enabled}await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${o.arg.value}, \"${o.arg.type}\");\\r`;\r\n                          break;\r\n                        }\r\n                      }\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // CHECK GLOBAL STATUS\r\n                const searchText = `await utils.addCaptureOpts(\"${specId}\", \"${key}\",`;\r\n                if (!script.includes(searchText)) {\r\n                  if (status == \"inactive\") {\r\n                    script += `\\t// await utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\r\n                  } else {\r\n                    script += `\\tawait utils.addCaptureOpts(\"${specId}\", \"${key}\", ${value}, \"${platform}\");\\r`;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            codeBlocks.funct.push(script);\r\n            break;\r\n          case \"checkFireWall\":\r\n            script = `await utils.checkFireWall(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// await utils.checkFireWall(\"${specId}\");`;\r\n            }\r\n            codeBlocks.funct.push(`\\r\r\n              // CORE (${status}) :: CHECK FIREWALL\r\n              ${script}\r\n            `);\r\n            break;\r\n          case \"localize\":\r\n            script = `global.localization = await utils.getLocalization(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// ` + script;\r\n            }\r\n            codeBlocks.funct\r\n              .push(`\\r// CORE (${status}) :: GET LOCALIZATION FROM SPEC ID\r\n              ${script}\r\n              `);\r\n            break;\r\n          case \"dynamicBaseUrl\":\r\n            script = `global.dynamicBaseUrl = await utils.getDynamicUrl(\"${specId}\");`;\r\n            if (status == \"inactive\") {\r\n              script = `// ` + script;\r\n            }\r\n            codeBlocks.funct.push(`\\r// CORE (${status}) :: GET DYNAMIC BASE URL\r\n              ${script}\r\n              `);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      cls: Array.from(new Set(codeBlocks.cls)),\r\n      funct: Array.from(new Set(codeBlocks.funct)),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check spec status and update spec file\r\n   * @param {Object} info spec information\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents spec file contents\r\n   * @param {Boolean} write write file or return contents\r\n   * @returns {String}\r\n   */\r\n  async checkStatus(info, specFilePath, contents, write = true) {\r\n    // status: \"active | manual | deactivate | support\"\r\n\r\n    const caseId = info.caseId;\r\n    let changed = false;\r\n    const skipComment = `/* ======= SKIPPED =======`;\r\n    const startIndex = contents.indexOf(`it(\"recorder :: ${caseId}\",`);\r\n    const codeBlock = this.getFullCodeBlock(startIndex, contents);\r\n    let newCodeBlock = codeBlock;\r\n    const blockStartIndex = newCodeBlock.indexOf(`it(\"recorder :: ${caseId}\",`);\r\n    const firstCodeLine = this.getCodeBlock(blockStartIndex, newCodeBlock, \"{\");\r\n\r\n    if (info.status != \"active\" && !codeBlock.includes(skipComment)) {\r\n      // 1. ADD SKIPPED OPEN\r\n      newCodeBlock = newCodeBlock.replace(\r\n        firstCodeLine,\r\n        firstCodeLine + `\\r${skipComment}`\r\n      );\r\n\r\n      // 2. ADD SKIPPED CLOSE\r\n      const count = utils.getIndicesOf(\"});\", codeBlock.slice(-5)).length;\r\n      if (count == 1) {\r\n        const lastLineIndex = newCodeBlock.lastIndexOf(\"});\");\r\n        newCodeBlock = newCodeBlock.substring(0, lastLineIndex);\r\n        newCodeBlock += `*/\\r});`;\r\n      }\r\n\r\n      changed = true;\r\n    } else if (info.status == \"active\" && codeBlock.includes(skipComment)) {\r\n      // REMOVE SKIPPED OPEN\r\n      const lineWithComment = this.getCodeBlock(\r\n        blockStartIndex,\r\n        newCodeBlock,\r\n        skipComment\r\n      );\r\n      newCodeBlock = newCodeBlock.replace(lineWithComment, firstCodeLine);\r\n\r\n      // REMOVE SKIPPED CLOSE\r\n      const lastLine = newCodeBlock.slice(-10);\r\n      let newLastLine = lastLine;\r\n      if (newLastLine.includes(`*/`)) {\r\n        newLastLine = newLastLine\r\n          .replace(`*/`, \"\")\r\n          .replace(`\\r`, \"\")\r\n          .replace(`\\n`, \"\");\r\n        newCodeBlock = newCodeBlock.replace(lastLine, newLastLine);\r\n      }\r\n\r\n      changed = true;\r\n    }\r\n\r\n    if (changed) {\r\n      contents = contents.replace(codeBlock, newCodeBlock);\r\n      contents = utils.codeMakeUp(contents);\r\n      if (write) {\r\n        await dataHandler.writeSpec(specFilePath, contents);\r\n      }\r\n    }\r\n\r\n    return contents;\r\n  }\r\n\r\n  /**\r\n   * Check custom capture options code block and update Json data\r\n   * @param {Object} info spec information\r\n   * @param {String} contents spec contents\r\n   */\r\n  async checkCaptureOpts(info, contents) {\r\n    const arrOpts = [\r\n      \"fullPageScrollTimeout\",\r\n      \"ignoreTransparentPixel\",\r\n      \"ignoreAntialiasing\",\r\n      \"scaleImagesToSameSize\",\r\n      \"largeImageThreshold\",\r\n      \"disableCSSAnimation\",\r\n      \"ignoreColors\",\r\n      \"ignoreAlpha\",\r\n    ];\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\r\n    let changed = false;\r\n\r\n    let opts = {\r\n      id: info.specId,\r\n      values: [],\r\n    };\r\n\r\n    if (typeof data == \"undefined\" || data.length <= 0) {\r\n      data = [];\r\n      data.push(opts);\r\n    }\r\n\r\n    for (let j = 0; j < arrOpts.length; j++) {\r\n      let searchText = `//await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\r\n\r\n      // TRY TO SEARCH WITH DEFAULT SEARCH TEXT\r\n      if (!contents.includes(searchText)) {\r\n        searchText = `// await utils.addCaptureOpts(\"${info.specId}\", \"${arrOpts[j]}\",`;\r\n      }\r\n\r\n      // REMOVE OPT FROM JSON\r\n      if (contents.includes(searchText)) {\r\n        // LOOP DATA\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (data[i][\"id\"] == info.specId) {\r\n            const tmpArr = data[i].values.filter(\r\n              (obj) => !(obj.key === arrOpts[j])\r\n            );\r\n            if (tmpArr.length != data[i].values.length) {\r\n              data[i].values = tmpArr;\r\n              changed = true;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // WRITE JSON\r\n    if (changed) {\r\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\r\n      await dataHandler.updateDataJsonFile(jsonData);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new hookCustom();\r\n"],"mappings":"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"}},"mtime":1700647516968},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\data_handler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const path = require(\"path\");\nconst fs = require(\"fs\");\nconst glob = require(\"glob\");\nconst util = require(\"node:util\");\nconst excelToJson = require(\"simple-excel-2-json\");\nconst beautify = require(\"js-beautify\").js;\nconst jimp = require(\"jimp\");\nconst common = require(\"../common\");\nconst WebImageComparisonService = require(\"wdio-image-comparison-service\").default;\nlet webImageComparisonService = new WebImageComparisonService({});\nclass dataHandler {\n  constructor() {\n    this.globalJsonPath = process.cwd() + `/utils/data.json`;\n  }\n\n  /**\r\n   * Return data from ./utls/data.json\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\n  async getGlobalDataJson(opt = \"utf8\", errMsg = \"Failed to read file\") {\n    const data = await this.readFileJSON(this.globalJsonPath, opt, errMsg);\n    return data;\n  }\n\n  /**\r\n   * Get project excel data\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} dataPath Path to excel file, default is data.xlsx\r\n   * @returns {Object}\r\n   */\n  async getProjectDataExcel(clientId, projectId, dataPath = \"\") {\n    if (dataPath == \"\") dataPath = `test/specs/${clientId}/${projectId}/data/data.xlsx`;\n    let data = {};\n    try {\n      if (fs.existsSync(dataPath)) {\n        data = excelToJson({\n          sourceFile: dataPath,\n          header: {\n            rows: 1\n          },\n          columnToKey: {\n            \"*\": \"{{columnHeader}}\"\n          }\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n    return data;\n  }\n\n  /**\r\n   * Get project capabilities from json\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\n  async getProjectCapabilities(clientId, projectId) {\n    const filePath = `./test/specs/${clientId}/${projectId}/data/capabilities.json`;\n    const data = await this.readFileJSON(filePath, \"utf8\", \"Failed to read file\");\n    return data;\n  }\n\n  /**\r\n   * Get screenshots file contents\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} platform platform name\r\n   * @returns {Object}\r\n   */\n  async getScreenshots(specId, platform) {\n    const info = await this.getInfoFromSpecId(specId);\n    const diffFolder = webImageComparisonService.folders.diffFolder;\n    const actualFolder = webImageComparisonService.folders.actualFolder;\n    const baselineFolder = info.baselineFolder;\n    let diffImgContent;\n    let baselineImgContent;\n    let actualImgContent;\n    let fileName = `${specId}.png`;\n\n    // DEFINE IMAGE PATH\n    const diffFilePath = `./${diffFolder}/${platform}/${fileName}`;\n    const actualFilePath = `./${actualFolder}/${platform}/${fileName}`;\n    const baselineFilePath = `${baselineFolder}/${platform}/${fileName}`;\n\n    // READ IMAGE FILE\n    diffImgContent = await this.readFile(diffFilePath);\n    baselineImgContent = await this.readFile(baselineFilePath);\n    actualImgContent = await this.readFile(actualFilePath);\n\n    // RETURN\n    return {\n      filePaths: {\n        diff: diffFilePath,\n        actual: actualFilePath,\n        baseline: baselineFilePath\n      },\n      contents: {\n        diff: diffImgContent,\n        actual: actualImgContent,\n        baseline: baselineImgContent\n      }\n    };\n  }\n\n  /**\r\n   * Get spec information based on spec file path\r\n   * @param {String} filePath spec file path\r\n   * @returns {Object}\r\n   */\n  getInfoFromFilePath(filePath) {\n    if (common.isNormalSpec(filePath) || filePath.includes(`.spec-generation`)) {\n      // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\\\\chugai.11598-S001.deactivate.js\n      const captureTypePath = path.dirname(filePath); // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\n      const captureType = path.basename(captureTypePath);\n      const prjPath = path.dirname(path.dirname(captureTypePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\n      const projectId = path.basename(prjPath);\n      const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\n      const clientId = path.basename(clientPath);\n      const specId = path.parse(filePath).name; // [project_id].[user_story_id]-[case_id].js\n\n      var arrSpecId = specId.split(\".\");\n      const caseId = arrSpecId[1];\n\n      // THROW ERROR IF FILE NAME FORMAT IS INCORRECT\n      if (typeof caseId == \"undefined\") {\n        throw new Error(`Spec file name format is incorrect.`);\n      }\n      var status = \"\";\n      if (arrSpecId.length > 2) {\n        status = arrSpecId[2];\n      } else {\n        status = \"active\";\n      }\n      return {\n        clientId: clientId,\n        projectId: projectId,\n        specId: `${arrSpecId[0]}.${caseId}`,\n        caseId: caseId,\n        captureType: captureType,\n        status: status,\n        fileName: `${specId}.js`,\n        baselineFolder: `./test/specs/${clientId}/${projectId}/baseline`\n      };\n    } else {\n      if (filePath.includes(`init.js`)) {\n        // test\\\\specs\\\\init.js\n        return {\n          specId: \"init\",\n          fileName: `init.js`\n        };\n      } else {\n        // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\data\\\\tc2json.js\n        const prjPath = path.dirname(path.dirname(filePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\n        const projectId = path.basename(prjPath);\n        const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\n        const clientId = path.basename(clientPath);\n        return {\n          clientId: clientId,\n          projectId: projectId\n        };\n      }\n    }\n  }\n\n  /**\r\n   * Get spec information based on spec id\r\n   * @param {String} specId spec id or spec file name\r\n   * @returns {Object}\r\n   */\n  async getInfoFromSpecId(specId) {\n    const globPromise = util.promisify(glob);\n    let info = {};\n\n    // TRY TO FIND WITH NORMAL PATTERN\n    var files = await globPromise(`./test/specs/**/record/**/${specId}.js`).catch(err => console.error(err));\n\n    // TRY TO FIND WITH FILE NAME INCLUDED STATUS\n    if (files.length <= 0) {\n      files = await globPromise(`./test/specs/**/record/**/${specId}.*.js`).catch(err => console.error(err));\n    }\n    if (files.length > 0) {\n      info = this.getInfoFromFilePath(files[0]);\n    }\n    return info;\n  }\n\n  /**\r\n   * Search specs based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\n  async searchAllSpecs(pattern = \"\") {\n    const globPromise = util.promisify(glob);\n    if (pattern == \"\") pattern = `./test/specs/**/record/**/*.js`;\n    var files = await globPromise(pattern).catch(err => console.error(err));\n    return files;\n  }\n\n  /**\r\n   * Search suites based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\n  searchAllSuites(pattern = \"\") {\n    if (pattern == \"\") pattern = `./test/specs/**/data/suites.json`;\n    const files = glob.sync(pattern);\n    return files;\n  }\n\n  /**\r\n   * Get capture options\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\n  async getCaptureOpts(clientId, projectId) {\n    const prjPath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\n    const baselinePath = prjPath + `/baseline/`;\n    const excelData = await this.getProjectDataExcel(clientId, projectId);\n    let webOpts = {\n      baselineFolder: baselinePath\n    };\n    let mobileOpts = {};\n    let globalOpts = {};\n    const captureOptsDataSheet = excelData[\"img_compare\"];\n    for (let j = 0; j < captureOptsDataSheet.length; j++) {\n      let config = captureOptsDataSheet[j][\"config\"];\n      let value = captureOptsDataSheet[j][\"value\"];\n      let type = captureOptsDataSheet[j][\"type\"];\n      value = this.excelDataConverter(value);\n      if (type != \"\") {\n        switch (type) {\n          case \"web\":\n            webOpts[config] = value;\n            break;\n          case \"mobile\":\n            mobileOpts[config] = value;\n            break;\n          case \"global\":\n            globalOpts[config] = value;\n            break;\n        }\n      }\n    }\n    return {\n      web: webOpts,\n      mobile: mobileOpts,\n      global: globalOpts\n    };\n  }\n\n  /**\r\n   * Write code back to spec file\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents file content\r\n   */\n  writeSpec(specFilePath, contents) {\n    fs.writeFile(specFilePath, contents, err => {\n      if (err) {\n        console.error(err);\n      }\n    });\n  }\n\n  /**\r\n   * Update global data json\r\n   * @param {Object} jsonData global data json\r\n   * @param {Object} jsonPath json file path, default is global data json\r\n   */\n  async updateDataJsonFile(jsonData, jsonPath = \"\") {\n    if (jsonPath == \"\") jsonPath = this.globalJsonPath;\n\n    // FORMAT\n    const formatJson = beautify(JSON.stringify(jsonData), {\n      indent_size: 2\n    });\n\n    // WRITE\n    const fsPromises = fs.promises;\n    await fsPromises.writeFile(jsonPath, formatJson).catch(err => console.error(err));\n  }\n\n  /**\r\n   * Read JSON file and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\n  async readFileJSON(path, opt = \"utf8\", errMsg = \"\") {\n    const fsPromises = fs.promises;\n    const data = await fsPromises.readFile(path, opt).catch(err => console.error(errMsg, err));\n    return JSON.parse(data.toString());\n  }\n\n  /**\r\n   * Read JSON file sync and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @returns {JSON}\r\n   */\n  readFileJSONSync(path, opt = \"utf8\") {\n    try {\n      const data = fs.readFileSync(path, opt);\n      return JSON.parse(data.toString());\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  /**\r\n   * Ensure data returned from Excel is usable\r\n   * @param {String} value cell value from excel\r\n   * @returns {String}\r\n   */\n  excelDataConverter(value) {\n    if (typeof value == \"undefined\") value = 0;\n    if (String(value).toLowerCase() == \"true\") value = true;\n    if (String(value).toLowerCase() == \"false\") value = false;\n    return value;\n  }\n\n  /**\r\n   * Create folder if not existing\r\n   * @param {String} path folder path\r\n   */\n  createFolder(path) {\n    if (!fs.existsSync(path)) {\n      fs.mkdirSync(path, {\n        recursive: true\n      });\n    }\n  }\n\n  /**\r\n   * Create file with input content\r\n   * @param {String} path file path\r\n   * @param {String} content file content\r\n   */\n  createFile(path, content, encode = \"\") {\n    if (encode == \"\") fs.writeFileSync(path, content);else fs.writeFileSync(path, content, encode);\n  }\n\n  /**\r\n   * Copy file from source to destination\r\n   * @param {String} from source file path\r\n   * @param {String} to destination file path\r\n   */\n  copyFile(from, to) {\n    fs.copyFile(from, to, err => {\n      if (err) throw err;\n    });\n  }\n\n  /**\r\n   * Read file and get file content\r\n   * @param {String} path file path\r\n   * @returns {String}\r\n   */\n  async readFile(path, opt = \"\") {\n    const fsPromises = fs.promises;\n    let data = null;\n    if (opt != \"\") {\n      data = await fsPromises.readFile(path, opt).catch(err => {\n        // console.log(err);\n      });\n    } else {\n      data = await fsPromises.readFile(path).catch(err => {\n        // console.log(err);\n      });\n    }\n    return data;\n  }\n\n  /**\r\n   * Rename a file\r\n   * @param {String} oldPath old file path\r\n   * @param {String} newPath new file path\r\n   */\n  async renameFile(oldPath, newPath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.rename(oldPath, newPath);\n    } catch (err) {\n      // console.error(err);\n    }\n  }\n\n  /**\r\n   * Check if file is existing async\r\n   * @param {String} filePath file path\r\n   * @returns {Boolean}\r\n   */\n  async fileExists(filePath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.access(filePath);\n      return true;\n    } catch (err) {\n      if (err.code === \"ENOENT\") {\n        return false;\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\r\n   * Delete file async\r\n   * @param {String} filePath file path\r\n   */\n  async deleteFile(filePath) {\n    const fsPromises = fs.promises;\n    try {\n      await fsPromises.unlink(filePath);\n    } catch (err) {\n      // console.log(err);\n    }\n  }\n\n  /**\r\n   * Get the image dimensions\r\n   * @param {Object} info Spec information\r\n   * @param {String} platform android or iphone\r\n   * @returns {Object}\r\n   */\n  async getImgSize(info, platform) {\n    const prjPath = process.cwd() + `/test/specs/${info.clientId}/${info.projectId}`;\n    const filePath = prjPath + `/baseline/${platform}/${info.specId}.png`;\n    try {\n      const image = await jimp.read(filePath);\n      return {\n        width: image.getWidth(),\n        height: image.getHeight()\n      };\n    } catch (error) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n  }\n}\nmodule.exports = new dataHandler();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImZzIiwiZ2xvYiIsInV0aWwiLCJleGNlbFRvSnNvbiIsImJlYXV0aWZ5IiwianMiLCJqaW1wIiwiY29tbW9uIiwiV2ViSW1hZ2VDb21wYXJpc29uU2VydmljZSIsImRlZmF1bHQiLCJ3ZWJJbWFnZUNvbXBhcmlzb25TZXJ2aWNlIiwiZGF0YUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImdsb2JhbEpzb25QYXRoIiwicHJvY2VzcyIsImN3ZCIsImdldEdsb2JhbERhdGFKc29uIiwib3B0IiwiZXJyTXNnIiwiZGF0YSIsInJlYWRGaWxlSlNPTiIsImdldFByb2plY3REYXRhRXhjZWwiLCJjbGllbnRJZCIsInByb2plY3RJZCIsImRhdGFQYXRoIiwiZXhpc3RzU3luYyIsInNvdXJjZUZpbGUiLCJoZWFkZXIiLCJyb3dzIiwiY29sdW1uVG9LZXkiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRQcm9qZWN0Q2FwYWJpbGl0aWVzIiwiZmlsZVBhdGgiLCJnZXRTY3JlZW5zaG90cyIsInNwZWNJZCIsInBsYXRmb3JtIiwiaW5mbyIsImdldEluZm9Gcm9tU3BlY0lkIiwiZGlmZkZvbGRlciIsImZvbGRlcnMiLCJhY3R1YWxGb2xkZXIiLCJiYXNlbGluZUZvbGRlciIsImRpZmZJbWdDb250ZW50IiwiYmFzZWxpbmVJbWdDb250ZW50IiwiYWN0dWFsSW1nQ29udGVudCIsImZpbGVOYW1lIiwiZGlmZkZpbGVQYXRoIiwiYWN0dWFsRmlsZVBhdGgiLCJiYXNlbGluZUZpbGVQYXRoIiwicmVhZEZpbGUiLCJmaWxlUGF0aHMiLCJkaWZmIiwiYWN0dWFsIiwiYmFzZWxpbmUiLCJjb250ZW50cyIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJpc05vcm1hbFNwZWMiLCJpbmNsdWRlcyIsImNhcHR1cmVUeXBlUGF0aCIsImRpcm5hbWUiLCJjYXB0dXJlVHlwZSIsImJhc2VuYW1lIiwicHJqUGF0aCIsImNsaWVudFBhdGgiLCJwYXJzZSIsIm5hbWUiLCJhcnJTcGVjSWQiLCJzcGxpdCIsImNhc2VJZCIsIkVycm9yIiwic3RhdHVzIiwibGVuZ3RoIiwiZ2xvYlByb21pc2UiLCJwcm9taXNpZnkiLCJmaWxlcyIsImNhdGNoIiwic2VhcmNoQWxsU3BlY3MiLCJwYXR0ZXJuIiwic2VhcmNoQWxsU3VpdGVzIiwic3luYyIsImdldENhcHR1cmVPcHRzIiwiYmFzZWxpbmVQYXRoIiwiZXhjZWxEYXRhIiwid2ViT3B0cyIsIm1vYmlsZU9wdHMiLCJnbG9iYWxPcHRzIiwiY2FwdHVyZU9wdHNEYXRhU2hlZXQiLCJqIiwiY29uZmlnIiwidmFsdWUiLCJ0eXBlIiwiZXhjZWxEYXRhQ29udmVydGVyIiwid2ViIiwibW9iaWxlIiwiZ2xvYmFsIiwid3JpdGVTcGVjIiwic3BlY0ZpbGVQYXRoIiwid3JpdGVGaWxlIiwidXBkYXRlRGF0YUpzb25GaWxlIiwianNvbkRhdGEiLCJqc29uUGF0aCIsImZvcm1hdEpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwiaW5kZW50X3NpemUiLCJmc1Byb21pc2VzIiwicHJvbWlzZXMiLCJ0b1N0cmluZyIsInJlYWRGaWxlSlNPTlN5bmMiLCJyZWFkRmlsZVN5bmMiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZUZvbGRlciIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImNyZWF0ZUZpbGUiLCJjb250ZW50IiwiZW5jb2RlIiwid3JpdGVGaWxlU3luYyIsImNvcHlGaWxlIiwiZnJvbSIsInRvIiwicmVuYW1lRmlsZSIsIm9sZFBhdGgiLCJuZXdQYXRoIiwicmVuYW1lIiwiZmlsZUV4aXN0cyIsImFjY2VzcyIsImNvZGUiLCJkZWxldGVGaWxlIiwidW5saW5rIiwiZ2V0SW1nU2l6ZSIsImltYWdlIiwicmVhZCIsIndpZHRoIiwiZ2V0V2lkdGgiLCJoZWlnaHQiLCJnZXRIZWlnaHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiZGF0YV9oYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbmNvbnN0IGdsb2IgPSByZXF1aXJlKFwiZ2xvYlwiKTtcclxuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCJub2RlOnV0aWxcIik7XHJcbmNvbnN0IGV4Y2VsVG9Kc29uID0gcmVxdWlyZShcInNpbXBsZS1leGNlbC0yLWpzb25cIik7XHJcblxyXG5jb25zdCBiZWF1dGlmeSA9IHJlcXVpcmUoXCJqcy1iZWF1dGlmeVwiKS5qcztcclxuY29uc3QgamltcCA9IHJlcXVpcmUoXCJqaW1wXCIpO1xyXG5cclxuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcclxuXHJcbmNvbnN0IFdlYkltYWdlQ29tcGFyaXNvblNlcnZpY2UgPVxyXG4gIHJlcXVpcmUoXCJ3ZGlvLWltYWdlLWNvbXBhcmlzb24tc2VydmljZVwiKS5kZWZhdWx0O1xyXG5sZXQgd2ViSW1hZ2VDb21wYXJpc29uU2VydmljZSA9IG5ldyBXZWJJbWFnZUNvbXBhcmlzb25TZXJ2aWNlKHt9KTtcclxuXHJcbmNsYXNzIGRhdGFIYW5kbGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZ2xvYmFsSnNvblBhdGggPSBwcm9jZXNzLmN3ZCgpICsgYC91dGlscy9kYXRhLmpzb25gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIGRhdGEgZnJvbSAuL3V0bHMvZGF0YS5qc29uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdCBkZWZhdWx0IGlzIHV0ZjhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXJyTXNnIEVycm9yIG1lc3NhZ2Ugd2lsbCBiZSB0aHJvd24gaWYgZmFpbGVkXHJcbiAgICogQHJldHVybnMge0pTT059XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0R2xvYmFsRGF0YUpzb24ob3B0ID0gXCJ1dGY4XCIsIGVyck1zZyA9IFwiRmFpbGVkIHRvIHJlYWQgZmlsZVwiKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5yZWFkRmlsZUpTT04odGhpcy5nbG9iYWxKc29uUGF0aCwgb3B0LCBlcnJNc2cpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgcHJvamVjdCBleGNlbCBkYXRhXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkIGNsaWVudCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qZWN0SWQgcHJvamVjdCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhUGF0aCBQYXRoIHRvIGV4Y2VsIGZpbGUsIGRlZmF1bHQgaXMgZGF0YS54bHN4XHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBnZXRQcm9qZWN0RGF0YUV4Y2VsKGNsaWVudElkLCBwcm9qZWN0SWQsIGRhdGFQYXRoID0gXCJcIikge1xyXG4gICAgaWYgKGRhdGFQYXRoID09IFwiXCIpXHJcbiAgICAgIGRhdGFQYXRoID0gYHRlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9L2RhdGEvZGF0YS54bHN4YDtcclxuICAgIGxldCBkYXRhID0ge307XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhkYXRhUGF0aCkpIHtcclxuICAgICAgICBkYXRhID0gZXhjZWxUb0pzb24oe1xyXG4gICAgICAgICAgc291cmNlRmlsZTogZGF0YVBhdGgsXHJcbiAgICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgcm93czogMSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb2x1bW5Ub0tleToge1xyXG4gICAgICAgICAgICBcIipcIjogXCJ7e2NvbHVtbkhlYWRlcn19XCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgcHJvamVjdCBjYXBhYmlsaXRpZXMgZnJvbSBqc29uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkIGNsaWVudCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qZWN0SWQgcHJvamVjdCBpZFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0UHJvamVjdENhcGFiaWxpdGllcyhjbGllbnRJZCwgcHJvamVjdElkKSB7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IGAuL3Rlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9L2RhdGEvY2FwYWJpbGl0aWVzLmpzb25gO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucmVhZEZpbGVKU09OKFxyXG4gICAgICBmaWxlUGF0aCxcclxuICAgICAgXCJ1dGY4XCIsXHJcbiAgICAgIFwiRmFpbGVkIHRvIHJlYWQgZmlsZVwiXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc2NyZWVuc2hvdHMgZmlsZSBjb250ZW50c1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjSWQgc3BlYyBpZCBvciBzcGVjIGZpbGUgbmFtZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGF0Zm9ybSBwbGF0Zm9ybSBuYW1lXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBnZXRTY3JlZW5zaG90cyhzcGVjSWQsIHBsYXRmb3JtKSB7XHJcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgdGhpcy5nZXRJbmZvRnJvbVNwZWNJZChzcGVjSWQpO1xyXG4gICAgY29uc3QgZGlmZkZvbGRlciA9IHdlYkltYWdlQ29tcGFyaXNvblNlcnZpY2UuZm9sZGVycy5kaWZmRm9sZGVyO1xyXG4gICAgY29uc3QgYWN0dWFsRm9sZGVyID0gd2ViSW1hZ2VDb21wYXJpc29uU2VydmljZS5mb2xkZXJzLmFjdHVhbEZvbGRlcjtcclxuICAgIGNvbnN0IGJhc2VsaW5lRm9sZGVyID0gaW5mby5iYXNlbGluZUZvbGRlcjtcclxuICAgIGxldCBkaWZmSW1nQ29udGVudDtcclxuICAgIGxldCBiYXNlbGluZUltZ0NvbnRlbnQ7XHJcbiAgICBsZXQgYWN0dWFsSW1nQ29udGVudDtcclxuICAgIGxldCBmaWxlTmFtZSA9IGAke3NwZWNJZH0ucG5nYDtcclxuXHJcbiAgICAvLyBERUZJTkUgSU1BR0UgUEFUSFxyXG4gICAgY29uc3QgZGlmZkZpbGVQYXRoID0gYC4vJHtkaWZmRm9sZGVyfS8ke3BsYXRmb3JtfS8ke2ZpbGVOYW1lfWA7XHJcbiAgICBjb25zdCBhY3R1YWxGaWxlUGF0aCA9IGAuLyR7YWN0dWFsRm9sZGVyfS8ke3BsYXRmb3JtfS8ke2ZpbGVOYW1lfWA7XHJcbiAgICBjb25zdCBiYXNlbGluZUZpbGVQYXRoID0gYCR7YmFzZWxpbmVGb2xkZXJ9LyR7cGxhdGZvcm19LyR7ZmlsZU5hbWV9YDtcclxuXHJcbiAgICAvLyBSRUFEIElNQUdFIEZJTEVcclxuICAgIGRpZmZJbWdDb250ZW50ID0gYXdhaXQgdGhpcy5yZWFkRmlsZShkaWZmRmlsZVBhdGgpO1xyXG4gICAgYmFzZWxpbmVJbWdDb250ZW50ID0gYXdhaXQgdGhpcy5yZWFkRmlsZShiYXNlbGluZUZpbGVQYXRoKTtcclxuICAgIGFjdHVhbEltZ0NvbnRlbnQgPSBhd2FpdCB0aGlzLnJlYWRGaWxlKGFjdHVhbEZpbGVQYXRoKTtcclxuXHJcbiAgICAvLyBSRVRVUk5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZpbGVQYXRoczoge1xyXG4gICAgICAgIGRpZmY6IGRpZmZGaWxlUGF0aCxcclxuICAgICAgICBhY3R1YWw6IGFjdHVhbEZpbGVQYXRoLFxyXG4gICAgICAgIGJhc2VsaW5lOiBiYXNlbGluZUZpbGVQYXRoLFxyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50czoge1xyXG4gICAgICAgIGRpZmY6IGRpZmZJbWdDb250ZW50LFxyXG4gICAgICAgIGFjdHVhbDogYWN0dWFsSW1nQ29udGVudCxcclxuICAgICAgICBiYXNlbGluZTogYmFzZWxpbmVJbWdDb250ZW50LFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzcGVjIGluZm9ybWF0aW9uIGJhc2VkIG9uIHNwZWMgZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIHNwZWMgZmlsZSBwYXRoXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRJbmZvRnJvbUZpbGVQYXRoKGZpbGVQYXRoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGNvbW1vbi5pc05vcm1hbFNwZWMoZmlsZVBhdGgpIHx8XHJcbiAgICAgIGZpbGVQYXRoLmluY2x1ZGVzKGAuc3BlYy1nZW5lcmF0aW9uYClcclxuICAgICkge1xyXG4gICAgICAvLyB0ZXN0XFxcXHNwZWNzXFxcXGpwLWRlbnRzdVxcXFxjaHVnYWlcXFxccmVjb3JkXFxcXGZ1bGxwYWdlXFxcXGNodWdhaS4xMTU5OC1TMDAxLmRlYWN0aXZhdGUuanNcclxuICAgICAgY29uc3QgY2FwdHVyZVR5cGVQYXRoID0gcGF0aC5kaXJuYW1lKGZpbGVQYXRoKTsgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcXFxcY2h1Z2FpXFxcXHJlY29yZFxcXFxmdWxscGFnZVxyXG4gICAgICBjb25zdCBjYXB0dXJlVHlwZSA9IHBhdGguYmFzZW5hbWUoY2FwdHVyZVR5cGVQYXRoKTtcclxuICAgICAgY29uc3QgcHJqUGF0aCA9IHBhdGguZGlybmFtZShwYXRoLmRpcm5hbWUoY2FwdHVyZVR5cGVQYXRoKSk7IC8vIHRlc3RcXFxcc3BlY3NcXFxcanAtZGVudHN1XFxcXGNodWdhaVxyXG4gICAgICBjb25zdCBwcm9qZWN0SWQgPSBwYXRoLmJhc2VuYW1lKHByalBhdGgpO1xyXG4gICAgICBjb25zdCBjbGllbnRQYXRoID0gcGF0aC5kaXJuYW1lKHByalBhdGgpOyAvLyB0ZXN0XFxcXHNwZWNzXFxcXGpwLWRlbnRzdVxyXG4gICAgICBjb25zdCBjbGllbnRJZCA9IHBhdGguYmFzZW5hbWUoY2xpZW50UGF0aCk7XHJcbiAgICAgIGNvbnN0IHNwZWNJZCA9IHBhdGgucGFyc2UoZmlsZVBhdGgpLm5hbWU7IC8vIFtwcm9qZWN0X2lkXS5bdXNlcl9zdG9yeV9pZF0tW2Nhc2VfaWRdLmpzXHJcblxyXG4gICAgICB2YXIgYXJyU3BlY0lkID0gc3BlY0lkLnNwbGl0KFwiLlwiKTtcclxuICAgICAgY29uc3QgY2FzZUlkID0gYXJyU3BlY0lkWzFdO1xyXG5cclxuICAgICAgLy8gVEhST1cgRVJST1IgSUYgRklMRSBOQU1FIEZPUk1BVCBJUyBJTkNPUlJFQ1RcclxuICAgICAgaWYgKHR5cGVvZiBjYXNlSWQgPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3BlYyBmaWxlIG5hbWUgZm9ybWF0IGlzIGluY29ycmVjdC5gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHN0YXR1cyA9IFwiXCI7XHJcbiAgICAgIGlmIChhcnJTcGVjSWQubGVuZ3RoID4gMikge1xyXG4gICAgICAgIHN0YXR1cyA9IGFyclNwZWNJZFsyXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdGF0dXMgPSBcImFjdGl2ZVwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNsaWVudElkOiBjbGllbnRJZCxcclxuICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcclxuICAgICAgICBzcGVjSWQ6IGAke2FyclNwZWNJZFswXX0uJHtjYXNlSWR9YCxcclxuICAgICAgICBjYXNlSWQ6IGNhc2VJZCxcclxuICAgICAgICBjYXB0dXJlVHlwZTogY2FwdHVyZVR5cGUsXHJcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMsXHJcbiAgICAgICAgZmlsZU5hbWU6IGAke3NwZWNJZH0uanNgLFxyXG4gICAgICAgIGJhc2VsaW5lRm9sZGVyOiBgLi90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9iYXNlbGluZWAsXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZmlsZVBhdGguaW5jbHVkZXMoYGluaXQuanNgKSkge1xyXG4gICAgICAgIC8vIHRlc3RcXFxcc3BlY3NcXFxcaW5pdC5qc1xyXG4gICAgICAgIHJldHVybiB7IHNwZWNJZDogXCJpbml0XCIsIGZpbGVOYW1lOiBgaW5pdC5qc2AgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB0ZXN0XFxcXHNwZWNzXFxcXGpwLWRlbnRzdVxcXFxjaHVnYWlcXFxcZGF0YVxcXFx0YzJqc29uLmpzXHJcbiAgICAgICAgY29uc3QgcHJqUGF0aCA9IHBhdGguZGlybmFtZShwYXRoLmRpcm5hbWUoZmlsZVBhdGgpKTsgLy8gdGVzdFxcXFxzcGVjc1xcXFxqcC1kZW50c3VcXFxcY2h1Z2FpXHJcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gcGF0aC5iYXNlbmFtZShwcmpQYXRoKTtcclxuICAgICAgICBjb25zdCBjbGllbnRQYXRoID0gcGF0aC5kaXJuYW1lKHByalBhdGgpOyAvLyB0ZXN0XFxcXHNwZWNzXFxcXGpwLWRlbnRzdVxyXG4gICAgICAgIGNvbnN0IGNsaWVudElkID0gcGF0aC5iYXNlbmFtZShjbGllbnRQYXRoKTtcclxuICAgICAgICByZXR1cm4geyBjbGllbnRJZDogY2xpZW50SWQsIHByb2plY3RJZDogcHJvamVjdElkIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzcGVjIGluZm9ybWF0aW9uIGJhc2VkIG9uIHNwZWMgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWQgb3Igc3BlYyBmaWxlIG5hbWVcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCkge1xyXG4gICAgY29uc3QgZ2xvYlByb21pc2UgPSB1dGlsLnByb21pc2lmeShnbG9iKTtcclxuICAgIGxldCBpbmZvID0ge307XHJcblxyXG4gICAgLy8gVFJZIFRPIEZJTkQgV0lUSCBOT1JNQUwgUEFUVEVSTlxyXG4gICAgdmFyIGZpbGVzID0gYXdhaXQgZ2xvYlByb21pc2UoXHJcbiAgICAgIGAuL3Rlc3Qvc3BlY3MvKiovcmVjb3JkLyoqLyR7c3BlY0lkfS5qc2BcclxuICAgICkuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbiAgICAvLyBUUlkgVE8gRklORCBXSVRIIEZJTEUgTkFNRSBJTkNMVURFRCBTVEFUVVNcclxuICAgIGlmIChmaWxlcy5sZW5ndGggPD0gMCkge1xyXG4gICAgICBmaWxlcyA9IGF3YWl0IGdsb2JQcm9taXNlKFxyXG4gICAgICAgIGAuL3Rlc3Qvc3BlY3MvKiovcmVjb3JkLyoqLyR7c3BlY0lkfS4qLmpzYFxyXG4gICAgICApLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgaW5mbyA9IHRoaXMuZ2V0SW5mb0Zyb21GaWxlUGF0aChmaWxlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluZm87XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggc3BlY3MgYmFzZWQgb24gZmlsdGVyIHBhdHRlcm5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVybiBmaWx0ZXIgcGF0dGVyblxyXG4gICAqIEByZXR1cm5zIHtBcnJheX1cclxuICAgKi9cclxuICBhc3luYyBzZWFyY2hBbGxTcGVjcyhwYXR0ZXJuID0gXCJcIikge1xyXG4gICAgY29uc3QgZ2xvYlByb21pc2UgPSB1dGlsLnByb21pc2lmeShnbG9iKTtcclxuXHJcbiAgICBpZiAocGF0dGVybiA9PSBcIlwiKSBwYXR0ZXJuID0gYC4vdGVzdC9zcGVjcy8qKi9yZWNvcmQvKiovKi5qc2A7XHJcblxyXG4gICAgdmFyIGZpbGVzID0gYXdhaXQgZ2xvYlByb21pc2UocGF0dGVybikuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbiAgICByZXR1cm4gZmlsZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggc3VpdGVzIGJhc2VkIG9uIGZpbHRlciBwYXR0ZXJuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm4gZmlsdGVyIHBhdHRlcm5cclxuICAgKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAgICovXHJcbiAgc2VhcmNoQWxsU3VpdGVzKHBhdHRlcm4gPSBcIlwiKSB7XHJcbiAgICBpZiAocGF0dGVybiA9PSBcIlwiKSBwYXR0ZXJuID0gYC4vdGVzdC9zcGVjcy8qKi9kYXRhL3N1aXRlcy5qc29uYDtcclxuXHJcbiAgICBjb25zdCBmaWxlcyA9IGdsb2Iuc3luYyhwYXR0ZXJuKTtcclxuXHJcbiAgICByZXR1cm4gZmlsZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FwdHVyZSBvcHRpb25zXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkIGNsaWVudCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qZWN0SWQgcHJvamVjdCBpZFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FwdHVyZU9wdHMoY2xpZW50SWQsIHByb2plY3RJZCkge1xyXG4gICAgY29uc3QgcHJqUGF0aCA9IHByb2Nlc3MuY3dkKCkgKyBgL3Rlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9YDtcclxuICAgIGNvbnN0IGJhc2VsaW5lUGF0aCA9IHByalBhdGggKyBgL2Jhc2VsaW5lL2A7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCB0aGlzLmdldFByb2plY3REYXRhRXhjZWwoY2xpZW50SWQsIHByb2plY3RJZCk7XHJcblxyXG4gICAgbGV0IHdlYk9wdHMgPSB7IGJhc2VsaW5lRm9sZGVyOiBiYXNlbGluZVBhdGggfTtcclxuICAgIGxldCBtb2JpbGVPcHRzID0ge307XHJcbiAgICBsZXQgZ2xvYmFsT3B0cyA9IHt9O1xyXG4gICAgY29uc3QgY2FwdHVyZU9wdHNEYXRhU2hlZXQgPSBleGNlbERhdGFbXCJpbWdfY29tcGFyZVwiXTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2FwdHVyZU9wdHNEYXRhU2hlZXQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgbGV0IGNvbmZpZyA9IGNhcHR1cmVPcHRzRGF0YVNoZWV0W2pdW1wiY29uZmlnXCJdO1xyXG4gICAgICBsZXQgdmFsdWUgPSBjYXB0dXJlT3B0c0RhdGFTaGVldFtqXVtcInZhbHVlXCJdO1xyXG4gICAgICBsZXQgdHlwZSA9IGNhcHR1cmVPcHRzRGF0YVNoZWV0W2pdW1widHlwZVwiXTtcclxuXHJcbiAgICAgIHZhbHVlID0gdGhpcy5leGNlbERhdGFDb252ZXJ0ZXIodmFsdWUpO1xyXG5cclxuICAgICAgaWYgKHR5cGUgIT0gXCJcIikge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBcIndlYlwiOlxyXG4gICAgICAgICAgICB3ZWJPcHRzW2NvbmZpZ10gPSB2YWx1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwibW9iaWxlXCI6XHJcbiAgICAgICAgICAgIG1vYmlsZU9wdHNbY29uZmlnXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJnbG9iYWxcIjpcclxuICAgICAgICAgICAgZ2xvYmFsT3B0c1tjb25maWddID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2ViOiB3ZWJPcHRzLFxyXG4gICAgICBtb2JpbGU6IG1vYmlsZU9wdHMsXHJcbiAgICAgIGdsb2JhbDogZ2xvYmFsT3B0cyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXcml0ZSBjb2RlIGJhY2sgdG8gc3BlYyBmaWxlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNGaWxlUGF0aCBzcGVjIGZpbGUgcGF0aFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBmaWxlIGNvbnRlbnRcclxuICAgKi9cclxuICB3cml0ZVNwZWMoc3BlY0ZpbGVQYXRoLCBjb250ZW50cykge1xyXG4gICAgZnMud3JpdGVGaWxlKHNwZWNGaWxlUGF0aCwgY29udGVudHMsIChlcnIpID0+IHtcclxuICAgICAgaWYgKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgZ2xvYmFsIGRhdGEganNvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uRGF0YSBnbG9iYWwgZGF0YSBqc29uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25QYXRoIGpzb24gZmlsZSBwYXRoLCBkZWZhdWx0IGlzIGdsb2JhbCBkYXRhIGpzb25cclxuICAgKi9cclxuICBhc3luYyB1cGRhdGVEYXRhSnNvbkZpbGUoanNvbkRhdGEsIGpzb25QYXRoID0gXCJcIikge1xyXG4gICAgaWYgKGpzb25QYXRoID09IFwiXCIpIGpzb25QYXRoID0gdGhpcy5nbG9iYWxKc29uUGF0aDtcclxuXHJcbiAgICAvLyBGT1JNQVRcclxuICAgIGNvbnN0IGZvcm1hdEpzb24gPSBiZWF1dGlmeShKU09OLnN0cmluZ2lmeShqc29uRGF0YSksIHsgaW5kZW50X3NpemU6IDIgfSk7XHJcblxyXG4gICAgLy8gV1JJVEVcclxuICAgIGNvbnN0IGZzUHJvbWlzZXMgPSBmcy5wcm9taXNlcztcclxuICAgIGF3YWl0IGZzUHJvbWlzZXNcclxuICAgICAgLndyaXRlRmlsZShqc29uUGF0aCwgZm9ybWF0SnNvbilcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkIEpTT04gZmlsZSBhbmQgcmV0dXJuIEpTT04gb2JqZWN0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggZnVsbCBmaWxlIHBhdGhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0IGRlZmF1bHQgaXMgdXRmOFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlcnJNc2cgRXJyb3IgbWVzc2FnZSB3aWxsIGJlIHRocm93biBpZiBmYWlsZWRcclxuICAgKiBAcmV0dXJucyB7SlNPTn1cclxuICAgKi9cclxuICBhc3luYyByZWFkRmlsZUpTT04ocGF0aCwgb3B0ID0gXCJ1dGY4XCIsIGVyck1zZyA9IFwiXCIpIHtcclxuICAgIGNvbnN0IGZzUHJvbWlzZXMgPSBmcy5wcm9taXNlcztcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmc1Byb21pc2VzXHJcbiAgICAgIC5yZWFkRmlsZShwYXRoLCBvcHQpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVyck1zZywgZXJyKSk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWQgSlNPTiBmaWxlIHN5bmMgYW5kIHJldHVybiBKU09OIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIGZ1bGwgZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdCBkZWZhdWx0IGlzIHV0ZjhcclxuICAgKiBAcmV0dXJucyB7SlNPTn1cclxuICAgKi9cclxuICByZWFkRmlsZUpTT05TeW5jKHBhdGgsIG9wdCA9IFwidXRmOFwiKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGgsIG9wdCk7XHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEudG9TdHJpbmcoKSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5zdXJlIGRhdGEgcmV0dXJuZWQgZnJvbSBFeGNlbCBpcyB1c2FibGVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgY2VsbCB2YWx1ZSBmcm9tIGV4Y2VsXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBleGNlbERhdGFDb252ZXJ0ZXIodmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJ1bmRlZmluZWRcIikgdmFsdWUgPSAwO1xyXG4gICAgaWYgKFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PSBcInRydWVcIikgdmFsdWUgPSB0cnVlO1xyXG4gICAgaWYgKFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PSBcImZhbHNlXCIpIHZhbHVlID0gZmFsc2U7XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGZvbGRlciBpZiBub3QgZXhpc3RpbmdcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBmb2xkZXIgcGF0aFxyXG4gICAqL1xyXG4gIGNyZWF0ZUZvbGRlcihwYXRoKSB7XHJcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aCkpIHtcclxuICAgICAgZnMubWtkaXJTeW5jKHBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGZpbGUgd2l0aCBpbnB1dCBjb250ZW50XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggZmlsZSBwYXRoXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgZmlsZSBjb250ZW50XHJcbiAgICovXHJcbiAgY3JlYXRlRmlsZShwYXRoLCBjb250ZW50LCBlbmNvZGUgPSBcIlwiKSB7XHJcbiAgICBpZiAoZW5jb2RlID09IFwiXCIpIGZzLndyaXRlRmlsZVN5bmMocGF0aCwgY29udGVudCk7XHJcbiAgICBlbHNlIGZzLndyaXRlRmlsZVN5bmMocGF0aCwgY29udGVudCwgZW5jb2RlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvcHkgZmlsZSBmcm9tIHNvdXJjZSB0byBkZXN0aW5hdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tIHNvdXJjZSBmaWxlIHBhdGhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG8gZGVzdGluYXRpb24gZmlsZSBwYXRoXHJcbiAgICovXHJcbiAgY29weUZpbGUoZnJvbSwgdG8pIHtcclxuICAgIGZzLmNvcHlGaWxlKGZyb20sIHRvLCAoZXJyKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCBmaWxlIGFuZCBnZXQgZmlsZSBjb250ZW50XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggZmlsZSBwYXRoXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyByZWFkRmlsZShwYXRoLCBvcHQgPSBcIlwiKSB7XHJcbiAgICBjb25zdCBmc1Byb21pc2VzID0gZnMucHJvbWlzZXM7XHJcbiAgICBsZXQgZGF0YSA9IG51bGw7XHJcblxyXG4gICAgaWYgKG9wdCAhPSBcIlwiKSB7XHJcbiAgICAgIGRhdGEgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKHBhdGgsIG9wdCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YSA9IGF3YWl0IGZzUHJvbWlzZXMucmVhZEZpbGUocGF0aCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVuYW1lIGEgZmlsZVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRQYXRoIG9sZCBmaWxlIHBhdGhcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3UGF0aCBuZXcgZmlsZSBwYXRoXHJcbiAgICovXHJcbiAgYXN5bmMgcmVuYW1lRmlsZShvbGRQYXRoLCBuZXdQYXRoKSB7XHJcbiAgICBjb25zdCBmc1Byb21pc2VzID0gZnMucHJvbWlzZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBmc1Byb21pc2VzLnJlbmFtZShvbGRQYXRoLCBuZXdQYXRoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAvLyBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBmaWxlIGlzIGV4aXN0aW5nIGFzeW5jXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIGZpbGUgcGF0aFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGFzeW5jIGZpbGVFeGlzdHMoZmlsZVBhdGgpIHtcclxuICAgIGNvbnN0IGZzUHJvbWlzZXMgPSBmcy5wcm9taXNlcztcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGZzUHJvbWlzZXMuYWNjZXNzKGZpbGVQYXRoKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgaWYgKGVyci5jb2RlID09PSBcIkVOT0VOVFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlIGZpbGUgYXN5bmNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZVBhdGggZmlsZSBwYXRoXHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRmlsZShmaWxlUGF0aCkge1xyXG4gICAgY29uc3QgZnNQcm9taXNlcyA9IGZzLnByb21pc2VzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZnNQcm9taXNlcy51bmxpbmsoZmlsZVBhdGgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGltYWdlIGRpbWVuc2lvbnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBTcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBsYXRmb3JtIGFuZHJvaWQgb3IgaXBob25lXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBnZXRJbWdTaXplKGluZm8sIHBsYXRmb3JtKSB7XHJcbiAgICBjb25zdCBwcmpQYXRoID1cclxuICAgICAgcHJvY2Vzcy5jd2QoKSArIGAvdGVzdC9zcGVjcy8ke2luZm8uY2xpZW50SWR9LyR7aW5mby5wcm9qZWN0SWR9YDtcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gcHJqUGF0aCArIGAvYmFzZWxpbmUvJHtwbGF0Zm9ybX0vJHtpbmZvLnNwZWNJZH0ucG5nYDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IGppbXAucmVhZChmaWxlUGF0aCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkdGg6IGltYWdlLmdldFdpZHRoKCksXHJcbiAgICAgICAgaGVpZ2h0OiBpbWFnZS5nZXRIZWlnaHQoKSxcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBkYXRhSGFuZGxlcigpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1HLElBQUksR0FBR0gsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNqQyxNQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUVsRCxNQUFNSyxRQUFRLEdBQUdMLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQ00sRUFBRTtBQUMxQyxNQUFNQyxJQUFJLEdBQUdQLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFNUIsTUFBTVEsTUFBTSxHQUFHUixPQUFPLENBQUMsV0FBVyxDQUFDO0FBRW5DLE1BQU1TLHlCQUF5QixHQUM3QlQsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUNVLE9BQU87QUFDbEQsSUFBSUMseUJBQXlCLEdBQUcsSUFBSUYseUJBQXlCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFakUsTUFBTUcsV0FBVyxDQUFDO0VBQ2hCQyxXQUFXQSxDQUFBLEVBQUc7SUFDWixJQUFJLENBQUNDLGNBQWMsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFJLGtCQUFpQjtFQUMxRDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNQyxpQkFBaUJBLENBQUNDLEdBQUcsR0FBRyxNQUFNLEVBQUVDLE1BQU0sR0FBRyxxQkFBcUIsRUFBRTtJQUNwRSxNQUFNQyxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUNDLFlBQVksQ0FBQyxJQUFJ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","map":{"version":3,"names":["path","require","fs","glob","util","excelToJson","beautify","js","jimp","common","WebImageComparisonService","default","webImageComparisonService","dataHandler","constructor","globalJsonPath","process","cwd","getGlobalDataJson","opt","errMsg","data","readFileJSON","getProjectDataExcel","clientId","projectId","dataPath","existsSync","sourceFile","header","rows","columnToKey","err","console","error","getProjectCapabilities","filePath","getScreenshots","specId","platform","info","getInfoFromSpecId","diffFolder","folders","actualFolder","baselineFolder","diffImgContent","baselineImgContent","actualImgContent","fileName","diffFilePath","actualFilePath","baselineFilePath","readFile","filePaths","diff","actual","baseline","contents","getInfoFromFilePath","isNormalSpec","includes","captureTypePath","dirname","captureType","basename","prjPath","clientPath","parse","name","arrSpecId","split","caseId","Error","status","length","globPromise","promisify","files","catch","searchAllSpecs","pattern","searchAllSuites","sync","getCaptureOpts","baselinePath","excelData","webOpts","mobileOpts","globalOpts","captureOptsDataSheet","j","config","value","type","excelDataConverter","web","mobile","global","writeSpec","specFilePath","writeFile","updateDataJsonFile","jsonData","jsonPath","formatJson","JSON","stringify","indent_size","fsPromises","promises","toString","readFileJSONSync","readFileSync","String","toLowerCase","createFolder","mkdirSync","recursive","createFile","content","encode","writeFileSync","copyFile","from","to","renameFile","oldPath","newPath","rename","fileExists","access","code","deleteFile","unlink","getImgSize","image","read","width","getWidth","height","getHeight","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\lib\\","sources":["data_handler.js"],"sourcesContent":["const path = require(\"path\");\r\nconst fs = require(\"fs\");\r\nconst glob = require(\"glob\");\r\nconst util = require(\"node:util\");\r\nconst excelToJson = require(\"simple-excel-2-json\");\r\n\r\nconst beautify = require(\"js-beautify\").js;\r\nconst jimp = require(\"jimp\");\r\n\r\nconst common = require(\"../common\");\r\n\r\nconst WebImageComparisonService =\r\n  require(\"wdio-image-comparison-service\").default;\r\nlet webImageComparisonService = new WebImageComparisonService({});\r\n\r\nclass dataHandler {\r\n  constructor() {\r\n    this.globalJsonPath = process.cwd() + `/utils/data.json`;\r\n  }\r\n\r\n  /**\r\n   * Return data from ./utls/data.json\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\r\n  async getGlobalDataJson(opt = \"utf8\", errMsg = \"Failed to read file\") {\r\n    const data = await this.readFileJSON(this.globalJsonPath, opt, errMsg);\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get project excel data\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} dataPath Path to excel file, default is data.xlsx\r\n   * @returns {Object}\r\n   */\r\n  async getProjectDataExcel(clientId, projectId, dataPath = \"\") {\r\n    if (dataPath == \"\")\r\n      dataPath = `test/specs/${clientId}/${projectId}/data/data.xlsx`;\r\n    let data = {};\r\n    try {\r\n      if (fs.existsSync(dataPath)) {\r\n        data = excelToJson({\r\n          sourceFile: dataPath,\r\n          header: {\r\n            rows: 1,\r\n          },\r\n          columnToKey: {\r\n            \"*\": \"{{columnHeader}}\",\r\n          },\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get project capabilities from json\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\r\n  async getProjectCapabilities(clientId, projectId) {\r\n    const filePath = `./test/specs/${clientId}/${projectId}/data/capabilities.json`;\r\n    const data = await this.readFileJSON(\r\n      filePath,\r\n      \"utf8\",\r\n      \"Failed to read file\"\r\n    );\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Get screenshots file contents\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} platform platform name\r\n   * @returns {Object}\r\n   */\r\n  async getScreenshots(specId, platform) {\r\n    const info = await this.getInfoFromSpecId(specId);\r\n    const diffFolder = webImageComparisonService.folders.diffFolder;\r\n    const actualFolder = webImageComparisonService.folders.actualFolder;\r\n    const baselineFolder = info.baselineFolder;\r\n    let diffImgContent;\r\n    let baselineImgContent;\r\n    let actualImgContent;\r\n    let fileName = `${specId}.png`;\r\n\r\n    // DEFINE IMAGE PATH\r\n    const diffFilePath = `./${diffFolder}/${platform}/${fileName}`;\r\n    const actualFilePath = `./${actualFolder}/${platform}/${fileName}`;\r\n    const baselineFilePath = `${baselineFolder}/${platform}/${fileName}`;\r\n\r\n    // READ IMAGE FILE\r\n    diffImgContent = await this.readFile(diffFilePath);\r\n    baselineImgContent = await this.readFile(baselineFilePath);\r\n    actualImgContent = await this.readFile(actualFilePath);\r\n\r\n    // RETURN\r\n    return {\r\n      filePaths: {\r\n        diff: diffFilePath,\r\n        actual: actualFilePath,\r\n        baseline: baselineFilePath,\r\n      },\r\n      contents: {\r\n        diff: diffImgContent,\r\n        actual: actualImgContent,\r\n        baseline: baselineImgContent,\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get spec information based on spec file path\r\n   * @param {String} filePath spec file path\r\n   * @returns {Object}\r\n   */\r\n  getInfoFromFilePath(filePath) {\r\n    if (\r\n      common.isNormalSpec(filePath) ||\r\n      filePath.includes(`.spec-generation`)\r\n    ) {\r\n      // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\\\\chugai.11598-S001.deactivate.js\r\n      const captureTypePath = path.dirname(filePath); // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\record\\\\fullpage\r\n      const captureType = path.basename(captureTypePath);\r\n      const prjPath = path.dirname(path.dirname(captureTypePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\r\n      const projectId = path.basename(prjPath);\r\n      const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\r\n      const clientId = path.basename(clientPath);\r\n      const specId = path.parse(filePath).name; // [project_id].[user_story_id]-[case_id].js\r\n\r\n      var arrSpecId = specId.split(\".\");\r\n      const caseId = arrSpecId[1];\r\n\r\n      // THROW ERROR IF FILE NAME FORMAT IS INCORRECT\r\n      if (typeof caseId == \"undefined\") {\r\n        throw new Error(`Spec file name format is incorrect.`);\r\n      }\r\n\r\n      var status = \"\";\r\n      if (arrSpecId.length > 2) {\r\n        status = arrSpecId[2];\r\n      } else {\r\n        status = \"active\";\r\n      }\r\n\r\n      return {\r\n        clientId: clientId,\r\n        projectId: projectId,\r\n        specId: `${arrSpecId[0]}.${caseId}`,\r\n        caseId: caseId,\r\n        captureType: captureType,\r\n        status: status,\r\n        fileName: `${specId}.js`,\r\n        baselineFolder: `./test/specs/${clientId}/${projectId}/baseline`,\r\n      };\r\n    } else {\r\n      if (filePath.includes(`init.js`)) {\r\n        // test\\\\specs\\\\init.js\r\n        return { specId: \"init\", fileName: `init.js` };\r\n      } else {\r\n        // test\\\\specs\\\\jp-dentsu\\\\chugai\\\\data\\\\tc2json.js\r\n        const prjPath = path.dirname(path.dirname(filePath)); // test\\\\specs\\\\jp-dentsu\\\\chugai\r\n        const projectId = path.basename(prjPath);\r\n        const clientPath = path.dirname(prjPath); // test\\\\specs\\\\jp-dentsu\r\n        const clientId = path.basename(clientPath);\r\n        return { clientId: clientId, projectId: projectId };\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get spec information based on spec id\r\n   * @param {String} specId spec id or spec file name\r\n   * @returns {Object}\r\n   */\r\n  async getInfoFromSpecId(specId) {\r\n    const globPromise = util.promisify(glob);\r\n    let info = {};\r\n\r\n    // TRY TO FIND WITH NORMAL PATTERN\r\n    var files = await globPromise(\r\n      `./test/specs/**/record/**/${specId}.js`\r\n    ).catch((err) => console.error(err));\r\n\r\n    // TRY TO FIND WITH FILE NAME INCLUDED STATUS\r\n    if (files.length <= 0) {\r\n      files = await globPromise(\r\n        `./test/specs/**/record/**/${specId}.*.js`\r\n      ).catch((err) => console.error(err));\r\n    }\r\n\r\n    if (files.length > 0) {\r\n      info = this.getInfoFromFilePath(files[0]);\r\n    }\r\n\r\n    return info;\r\n  }\r\n\r\n  /**\r\n   * Search specs based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\r\n  async searchAllSpecs(pattern = \"\") {\r\n    const globPromise = util.promisify(glob);\r\n\r\n    if (pattern == \"\") pattern = `./test/specs/**/record/**/*.js`;\r\n\r\n    var files = await globPromise(pattern).catch((err) => console.error(err));\r\n\r\n    return files;\r\n  }\r\n\r\n  /**\r\n   * Search suites based on filter pattern\r\n   * @param {String} pattern filter pattern\r\n   * @returns {Array}\r\n   */\r\n  searchAllSuites(pattern = \"\") {\r\n    if (pattern == \"\") pattern = `./test/specs/**/data/suites.json`;\r\n\r\n    const files = glob.sync(pattern);\r\n\r\n    return files;\r\n  }\r\n\r\n  /**\r\n   * Get capture options\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @returns {Object}\r\n   */\r\n  async getCaptureOpts(clientId, projectId) {\r\n    const prjPath = process.cwd() + `/test/specs/${clientId}/${projectId}`;\r\n    const baselinePath = prjPath + `/baseline/`;\r\n    const excelData = await this.getProjectDataExcel(clientId, projectId);\r\n\r\n    let webOpts = { baselineFolder: baselinePath };\r\n    let mobileOpts = {};\r\n    let globalOpts = {};\r\n    const captureOptsDataSheet = excelData[\"img_compare\"];\r\n    for (let j = 0; j < captureOptsDataSheet.length; j++) {\r\n      let config = captureOptsDataSheet[j][\"config\"];\r\n      let value = captureOptsDataSheet[j][\"value\"];\r\n      let type = captureOptsDataSheet[j][\"type\"];\r\n\r\n      value = this.excelDataConverter(value);\r\n\r\n      if (type != \"\") {\r\n        switch (type) {\r\n          case \"web\":\r\n            webOpts[config] = value;\r\n            break;\r\n          case \"mobile\":\r\n            mobileOpts[config] = value;\r\n            break;\r\n          case \"global\":\r\n            globalOpts[config] = value;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      web: webOpts,\r\n      mobile: mobileOpts,\r\n      global: globalOpts,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Write code back to spec file\r\n   * @param {String} specFilePath spec file path\r\n   * @param {String} contents file content\r\n   */\r\n  writeSpec(specFilePath, contents) {\r\n    fs.writeFile(specFilePath, contents, (err) => {\r\n      if (err) {\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update global data json\r\n   * @param {Object} jsonData global data json\r\n   * @param {Object} jsonPath json file path, default is global data json\r\n   */\r\n  async updateDataJsonFile(jsonData, jsonPath = \"\") {\r\n    if (jsonPath == \"\") jsonPath = this.globalJsonPath;\r\n\r\n    // FORMAT\r\n    const formatJson = beautify(JSON.stringify(jsonData), { indent_size: 2 });\r\n\r\n    // WRITE\r\n    const fsPromises = fs.promises;\r\n    await fsPromises\r\n      .writeFile(jsonPath, formatJson)\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  /**\r\n   * Read JSON file and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @param {String} errMsg Error message will be thrown if failed\r\n   * @returns {JSON}\r\n   */\r\n  async readFileJSON(path, opt = \"utf8\", errMsg = \"\") {\r\n    const fsPromises = fs.promises;\r\n    const data = await fsPromises\r\n      .readFile(path, opt)\r\n      .catch((err) => console.error(errMsg, err));\r\n\r\n    return JSON.parse(data.toString());\r\n  }\r\n\r\n  /**\r\n   * Read JSON file sync and return JSON object\r\n   * @param {String} path full file path\r\n   * @param {String} opt default is utf8\r\n   * @returns {JSON}\r\n   */\r\n  readFileJSONSync(path, opt = \"utf8\") {\r\n    try {\r\n      const data = fs.readFileSync(path, opt);\r\n      return JSON.parse(data.toString());\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ensure data returned from Excel is usable\r\n   * @param {String} value cell value from excel\r\n   * @returns {String}\r\n   */\r\n  excelDataConverter(value) {\r\n    if (typeof value == \"undefined\") value = 0;\r\n    if (String(value).toLowerCase() == \"true\") value = true;\r\n    if (String(value).toLowerCase() == \"false\") value = false;\r\n\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Create folder if not existing\r\n   * @param {String} path folder path\r\n   */\r\n  createFolder(path) {\r\n    if (!fs.existsSync(path)) {\r\n      fs.mkdirSync(path, { recursive: true });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create file with input content\r\n   * @param {String} path file path\r\n   * @param {String} content file content\r\n   */\r\n  createFile(path, content, encode = \"\") {\r\n    if (encode == \"\") fs.writeFileSync(path, content);\r\n    else fs.writeFileSync(path, content, encode);\r\n  }\r\n\r\n  /**\r\n   * Copy file from source to destination\r\n   * @param {String} from source file path\r\n   * @param {String} to destination file path\r\n   */\r\n  copyFile(from, to) {\r\n    fs.copyFile(from, to, (err) => {\r\n      if (err) throw err;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Read file and get file content\r\n   * @param {String} path file path\r\n   * @returns {String}\r\n   */\r\n  async readFile(path, opt = \"\") {\r\n    const fsPromises = fs.promises;\r\n    let data = null;\r\n\r\n    if (opt != \"\") {\r\n      data = await fsPromises.readFile(path, opt).catch((err) => {\r\n        // console.log(err);\r\n      });\r\n    } else {\r\n      data = await fsPromises.readFile(path).catch((err) => {\r\n        // console.log(err);\r\n      });\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Rename a file\r\n   * @param {String} oldPath old file path\r\n   * @param {String} newPath new file path\r\n   */\r\n  async renameFile(oldPath, newPath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.rename(oldPath, newPath);\r\n    } catch (err) {\r\n      // console.error(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if file is existing async\r\n   * @param {String} filePath file path\r\n   * @returns {Boolean}\r\n   */\r\n  async fileExists(filePath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.access(filePath);\r\n      return true;\r\n    } catch (err) {\r\n      if (err.code === \"ENOENT\") {\r\n        return false;\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete file async\r\n   * @param {String} filePath file path\r\n   */\r\n  async deleteFile(filePath) {\r\n    const fsPromises = fs.promises;\r\n    try {\r\n      await fsPromises.unlink(filePath);\r\n    } catch (err) {\r\n      // console.log(err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the image dimensions\r\n   * @param {Object} info Spec information\r\n   * @param {String} platform android or iphone\r\n   * @returns {Object}\r\n   */\r\n  async getImgSize(info, platform) {\r\n    const prjPath =\r\n      process.cwd() + `/test/specs/${info.clientId}/${info.projectId}`;\r\n    const filePath = prjPath + `/baseline/${platform}/${info.specId}.png`;\r\n\r\n    try {\r\n      const image = await jimp.read(filePath);\r\n      return {\r\n        width: image.getWidth(),\r\n        height: image.getHeight(),\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        width: 0,\r\n        height: 0,\r\n      };\r\n    }\r\n  }\r\n}\r\nmodule.exports = new dataHandler();\r\n"],"mappings":"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"}},"mtime":1700647517009},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\common.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"class Common {\n  /**\r\n   * Capitalize the 1st character of a string\r\n   * @param {String} str string to be capitalized\r\n   * @returns {String}\r\n   */\n  capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  /**\r\n   * Check if spec file is ignored\r\n   * @param {String} specFilePath Spec full file path\r\n   * @returns {Boolean}\r\n   */\n  isNormalSpec(specFilePath) {\n    if (specFilePath.includes(\"init.js\") || specFilePath.includes(\"tc2json.js\") || specFilePath.includes(\"spec-generation.js\")) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\r\n   * Check if String is undefined, or blank\r\n   * @param {String} text String to be checked if undefined or blank\r\n   * @returns {Boolean}\r\n   */\n  emptyOrUndefined(text) {\n    if (typeof text == \"undefined\" || text == \"\") {\n      return true;\n    }\n    return false;\n  }\n}\nmodule.exports = new Common();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21tb24iLCJjYXBpdGFsaXplIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImlzTm9ybWFsU3BlYyIsInNwZWNGaWxlUGF0aCIsImluY2x1ZGVzIiwiZW1wdHlPclVuZGVmaW5lZCIsInRleHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFwiLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb21tb24ge1xyXG4gIC8qKlxyXG4gICAqIENhcGl0YWxpemUgdGhlIDFzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmdcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIHN0cmluZyB0byBiZSBjYXBpdGFsaXplZFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgY2FwaXRhbGl6ZShzdHIpIHtcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBzcGVjIGZpbGUgaXMgaWdub3JlZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjRmlsZVBhdGggU3BlYyBmdWxsIGZpbGUgcGF0aFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGlzTm9ybWFsU3BlYyhzcGVjRmlsZVBhdGgpIHtcclxuICAgIGlmIChcclxuICAgICAgc3BlY0ZpbGVQYXRoLmluY2x1ZGVzKFwiaW5pdC5qc1wiKSB8fFxyXG4gICAgICBzcGVjRmlsZVBhdGguaW5jbHVkZXMoXCJ0YzJqc29uLmpzXCIpIHx8XHJcbiAgICAgIHNwZWNGaWxlUGF0aC5pbmNsdWRlcyhcInNwZWMtZ2VuZXJhdGlvbi5qc1wiKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIFN0cmluZyBpcyB1bmRlZmluZWQsIG9yIGJsYW5rXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgU3RyaW5nIHRvIGJlIGNoZWNrZWQgaWYgdW5kZWZpbmVkIG9yIGJsYW5rXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgZW1wdHlPclVuZGVmaW5lZCh0ZXh0KSB7XHJcbiAgICBpZiAodHlwZW9mIHRleHQgPT0gXCJ1bmRlZmluZWRcIiB8fCB0ZXh0ID09IFwiXCIpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ29tbW9uKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxDQUFDO0VBQ1g7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxVQUFVQSxDQUFDQyxHQUFHLEVBQUU7SUFDZCxPQUFPQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBQ25EOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRUMsWUFBWUEsQ0FBQ0MsWUFBWSxFQUFFO0lBQ3pCLElBQ0VBLFlBQVksQ0FBQ0MsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUNoQ0QsWUFBWSxDQUFDQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQ25DRCxZQUFZLENBQUNDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxFQUMzQztNQUNBLE9BQU8sS0FBSztJQUNkO0lBRUEsT0FBTyxJQUFJO0VBQ2I7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxnQkFBZ0JBLENBQUNDLElBQUksRUFBRTtJQUNyQixJQUFJLE9BQU9BLElBQUksSUFBSSxXQUFXLElBQUlBLElBQUksSUFBSSxFQUFFLEVBQUU7TUFDNUMsT0FBTyxJQUFJO0lBQ2I7SUFFQSxPQUFPLEtBQUs7RUFDZDtBQUNGO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLElBQUlaLE1BQU0sQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["Common","capitalize","str","charAt","toUpperCase","slice","isNormalSpec","specFilePath","includes","emptyOrUndefined","text","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\","sources":["common.js"],"sourcesContent":["class Common {\r\n  /**\r\n   * Capitalize the 1st character of a string\r\n   * @param {String} str string to be capitalized\r\n   * @returns {String}\r\n   */\r\n  capitalize(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n\r\n  /**\r\n   * Check if spec file is ignored\r\n   * @param {String} specFilePath Spec full file path\r\n   * @returns {Boolean}\r\n   */\r\n  isNormalSpec(specFilePath) {\r\n    if (\r\n      specFilePath.includes(\"init.js\") ||\r\n      specFilePath.includes(\"tc2json.js\") ||\r\n      specFilePath.includes(\"spec-generation.js\")\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Check if String is undefined, or blank\r\n   * @param {String} text String to be checked if undefined or blank\r\n   * @returns {Boolean}\r\n   */\r\n  emptyOrUndefined(text) {\r\n    if (typeof text == \"undefined\" || text == \"\") {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = new Common();\r\n"],"mappings":"AAAA,MAAMA,MAAM,CAAC;EACX;AACF;AACA;AACA;AACA;EACEC,UAAUA,CAACC,GAAG,EAAE;IACd,OAAOA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,GAAG,CAACG,KAAK,CAAC,CAAC,CAAC;EACnD;;EAEA;AACF;AACA;AACA;AACA;EACEC,YAAYA,CAACC,YAAY,EAAE;IACzB,IACEA,YAAY,CAACC,QAAQ,CAAC,SAAS,CAAC,IAChCD,YAAY,CAACC,QAAQ,CAAC,YAAY,CAAC,IACnCD,YAAY,CAACC,QAAQ,CAAC,oBAAoB,CAAC,EAC3C;MACA,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb;;EAEA;AACF;AACA;AACA;AACA;EACEC,gBAAgBA,CAACC,IAAI,EAAE;IACrB,IAAI,OAAOA,IAAI,IAAI,WAAW,IAAIA,IAAI,IAAI,EAAE,EAAE;MAC5C,OAAO,IAAI;IACb;IAEA,OAAO,KAAK;EACd;AACF;AAEAC,MAAM,CAACC,OAAO,GAAG,IAAIZ,MAAM,CAAC,CAAC"}},"mtime":1700647516491},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const assert = require(\"assert\");\nconst beautify = require(\"js-beautify\").js;\nconst https = require(\"https\");\nconst allureCustom = require(\"./lib/allure\");\nconst dataHandler = require(\"./lib/data_handler\");\nconst capHandler = require(\"./lib/cap_handler\");\nclass Utils {\n  /**\r\n   * Save and compare the screenshots between baseline and actual\r\n   * @param {string} projId Project ID\r\n   * @param {string} specId Spec ID\r\n   */\n  async imgCompare(projId, specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, projId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, projId);\n\n    // WAIT FOR CAPTURE LATENCY\n    const waitForCapture = captureOpts.global[\"wait_for\"];\n    await browser.pause(waitForCapture);\n\n    // GET ELEMENTS HIDDEN OR REMOVED\n    const hideRevEle = await this.getHideRemoveEle(info, captureOpts, excelData);\n    const status = info.status;\n    const captureType = info.captureType;\n    let webCaptureOpts = captureOpts.web;\n    let mobileCaptureOpts = captureOpts.mobile;\n    let result = 0;\n\n    // CHECK STATUS\n    if (status == \"active\") {\n      // CHECK CAPTURE TYPE\n      switch (captureType) {\n        case \"fullpage\":\n          // ADD HIDE REMOVE ELEMENT\n          if (typeof hideRevEle.fullpageHideElements != \"undefined\" && hideRevEle.fullpageHideElements.length > 0) {\n            webCaptureOpts[\"hideElements\"] = hideRevEle.fullpageHideElements;\n          }\n          if (typeof hideRevEle.fullpageRemoveElements != \"undefined\" && hideRevEle.fullpageRemoveElements.length > 0) {\n            webCaptureOpts[\"removeElements\"] = hideRevEle.fullpageRemoveElements;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          result = await browser.checkFullPageScreen(specId, webCaptureOpts);\n          break;\n        case \"screen\":\n          // ADD HIDE REMOVE ELEMENT\n          if (typeof hideRevEle.screenHideElements != \"undefined\" && hideRevEle.screenHideElements.length > 0) {\n            webCaptureOpts[\"hideElements\"] = hideRevEle.screenHideElements;\n          }\n          if (typeof hideRevEle.screenRemoveElements != \"undefined\" && hideRevEle.screenRemoveElements.length > 0) {\n            webCaptureOpts[\"removeElements\"] = hideRevEle.screenRemoveElements;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          result = await browser.checkScreen(specId, webCaptureOpts);\n          break;\n        case \"mobile\":\n          // ADD BLOCKOUT ELEMENT\n          if (typeof hideRevEle.elementBlockOuts != \"undefined\" && hideRevEle.elementBlockOuts.length > 0) {\n            mobileCaptureOpts[\"elementBlockOuts\"] = hideRevEle.elementBlockOuts;\n          }\n\n          // ADD BLOCKOUTS\n          if (typeof hideRevEle.blockOuts != \"undefined\" && hideRevEle.blockOuts.length > 0) {\n            mobileCaptureOpts[\"blockOuts\"] = hideRevEle.blockOuts;\n          }\n\n          // DO COMPARISON --- AUTO SAVE BASELINE\n          let resultObj = await driver.compareScreen(specId, mobileCaptureOpts);\n\n          // GET RESULT\n          result = resultObj.misMatchPercentage;\n          break;\n      }\n    }\n\n    // CUSTOMIZE ALLURE REPORT\n    await allureCustom.customDetail(info, result, captureOpts);\n    allureCustom.customActions(specId, status);\n\n    // THROW ERROR IF FAILED\n    if (result > 0) {\n      assert.fail(new Error(`Image comparison is failed. Diff percentage is ${result}%.`));\n    }\n  }\n\n  /**\r\n   * Bypass page authentication\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   */\n  async pageAuth(clientId, projectId) {\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n    const enabled = excelData[\"auth\"][0][\"enabled\"];\n    if (enabled == \"yes\") {\n      const baseUrl = excelData[\"config\"][0][\"base_url\"];\n      const handler = excelData[\"auth\"][0][\"handler\"];\n      let http = \"http://\";\n      if (baseUrl.includes(\"https://\")) http = \"https://\";\n      await browser.url(`${http}${excelData[\"auth\"][0][\"usr\"]}:${excelData[\"auth\"][0][\"pass\"]}@${baseUrl.replace(http, \"\")}${handler}`);\n      await browser.pause(`${excelData[\"auth\"][0][\"wait\"]}`);\n      await browser.url(`${baseUrl}${handler}`);\n    }\n  }\n\n  /**\r\n   * Check if current capability is valid\r\n   * @returns {boolean}\r\n   */\n  async checkValidCaps() {\n    const platform = await browser.capabilities.platformName;\n    const browserName = await browser.capabilities.browserName;\n    let desiredCaps = await browser.capabilities.desired;\n    let valid = true;\n    if (typeof desiredCaps == \"undefined\") desiredCaps = await driver.capabilities;\n\n    // DETECT WEB OR MOBILE\n    if (browserName == \"\" || typeof browserName == \"undefined\") {\n      switch (platform) {\n        case \"Android\":\n          if (typeof desiredCaps[\"udid\"] == \"undefined\" && typeof desiredCaps[\"appium:udid\"] == \"undefined\" || typeof desiredCaps[\"appPackage\"] == \"undefined\" && typeof desiredCaps[\"appium:appPackage\"] == \"undefined\" || typeof desiredCaps[\"appActivity\"] == \"undefined\" && typeof desiredCaps[\"appium:appActivity\"] == \"undefined\") valid = false;\n          break;\n        case \"iOS\":\n          break;\n      }\n    }\n    return valid;\n  }\n\n  /**\r\n   * Get list of elements to hide or remove or blockout\r\n   * @param {Object} info spec information\r\n   * @param {Object} captureOpts capture options\r\n   * @param {Object} excelData excel data\r\n   * @returns {Object}\r\n   */\n  async getHideRemoveEle(info, captureOpts, excelData) {\n    const captureDataSheet = excelData[\"img_compare\"];\n    const caps = await capHandler.getCapabilities(info.specId);\n    let result = {\n      // WEB\n      fullpageHideElements: [],\n      fullpageRemoveElements: [],\n      screenHideElements: [],\n      screenRemoveElements: [],\n      // MOBILE\n      elementBlockOuts: [],\n      blockOuts: []\n    };\n\n    // DEFINE PLATFORM\n    let platform = \"web\";\n    if (info.captureType == \"mobile\") platform = \"mobile\";\n    for (let i = 0; i < captureDataSheet.length; i++) {\n      const row = captureDataSheet[i];\n      const fullHide = row[\"fullpage_hide_element\"];\n      const screenHide = row[\"screen_hide_element\"];\n      const fullRemove = row[\"fullpage_remove_element\"];\n      const screenRemove = row[\"screen_remove_element\"];\n      const mobileEleBlockout = row[\"mobile_element_blockout\"];\n      const mobileBlockout = row[\"mobile_blockouts\"];\n      switch (platform) {\n        case \"web\":\n          // HIDE ELEMENT --- VISIBILITY = HIDDEN\n          if (typeof fullHide != \"undefined\" && fullHide != \"\") {\n            const fullHideEle = await $(fullHide);\n            if (typeof fullHideEle.error == \"undefined\") result[\"fullpageHideElements\"].push(fullHideEle);\n          }\n          if (typeof screenHide != \"undefined\" && screenHide != \"\") {\n            const screenHideEle = await $(screenHide);\n            if (typeof screenHideEle.error == \"undefined\") result[\"screenHideElements\"].push(screenHideEle);\n          }\n\n          // REMOVE ELEMENT --- DISPLAY = NONE\n          if (typeof fullRemove != \"undefined\" && fullRemove != \"\") {\n            const fullRemoveEle = await $(fullRemove);\n            if (typeof fullRemoveEle.error == \"undefined\") result[\"fullpageRemoveElements\"].push(fullRemoveEle);\n          }\n          if (typeof screenRemove != \"undefined\" && screenRemove != \"\") {\n            const screenRemoveEle = await $(screenRemove);\n            if (typeof screenRemoveEle.error == \"undefined\") result[\"screenRemoveElements\"].push(screenRemoveEle);\n          }\n          break;\n        case \"mobile\":\n          const blockoutMargin = captureOpts.global[\"element_blockout_margin\"];\n          // ELEMENT BLOCKOUTS\n          if (typeof mobileEleBlockout != \"undefined\" && mobileEleBlockout != \"\") {\n            if (caps.platformName.toLowerCase() == \"android\" && mobileEleBlockout.includes(\"android=\") || caps.platformName.toLowerCase() == \"ios\" && mobileEleBlockout.includes(\"-ios\") || mobileEleBlockout.substring(0, 1) == \"~\" || mobileEleBlockout.substring(0, 2) == \"//\") {\n              const ele = await $(mobileEleBlockout);\n              if (await ele.isExisting()) result[\"elementBlockOuts\"].push({\n                element: ele,\n                margin: blockoutMargin\n              });\n            }\n          }\n          // BLOCKOUTS\n          if (typeof mobileBlockout != \"undefined\" && mobileBlockout != \"\") {\n            const arg = JSON.parse(mobileBlockout);\n\n            // GET IMG DIMENSIONS\n            let dimensions = {};\n            if (caps.platformName.toLowerCase() == \"android\") {\n              const {\n                width,\n                height\n              } = await driver.getWindowRect();\n              dimensions.width = width;\n              dimensions.height = height;\n            }\n            if (caps.platformName.toLowerCase() == \"ios\") {\n              const imgDimensions = await dataHandler.getImgSize(info, caps.baselineFolder);\n              dimensions.width = imgDimensions.width;\n              dimensions.height = imgDimensions.height;\n            }\n            if (dimensions.width > 0 || dimensions.height > 0) {\n              let param = {\n                x: arg.x * dimensions.width,\n                y: arg.y * dimensions.height,\n                width: dimensions.width,\n                height: dimensions.height\n              };\n              if (typeof arg.height != \"undefined\") {\n                param.height = arg.height;\n              }\n              if (typeof arg.width != \"undefined\") {\n                param.width = arg.width;\n              }\n              result[\"blockOuts\"].push(param);\n            }\n          }\n          break;\n      }\n    }\n    return result;\n  }\n\n  /**\r\n   * Add custom capture option\r\n   * @param {string} specId Spec id\r\n   * @param {string} key option name\r\n   * @param {string} value option value\r\n   * @param {string} type web or mobile\r\n   */\n  async addCaptureOpts(specId, key, value, type = \"web\") {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    let jsonData = await dataHandler.getGlobalDataJson();\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\n    let changed = false;\n    let opts = {\n      id: specId,\n      values: []\n    };\n    if (typeof data == \"undefined\" || data.length <= 0) {\n      data = [];\n      data.push(opts);\n    }\n\n    // LOOP DATA\n    for (let i = 0; i < data.length; i++) {\n      // DEFINE DETAIL OPT\n      const deOpt = {\n        key: key,\n        enabled: true,\n        arg: {\n          type: type,\n          value: value\n        }\n      };\n      if (data[i][\"id\"] == specId) {\n        // CHECK OPT EXIST\n        if (typeof data[i].values == \"undefined\" || data[i].values.length <= 0) {\n          data[i].values = [];\n          data[i].values.push(deOpt);\n          changed = true;\n        } else {\n          let found = false;\n          for (let n = 0; n < data[i].values.length; n++) {\n            if (data[i].values[n].key == key) {\n              data[i].values[n] = deOpt;\n              found = true;\n              changed = true;\n              break;\n            }\n          }\n          if (!found) {\n            data[i].values.push(deOpt);\n            changed = true;\n          }\n        }\n      }\n    }\n\n    // WRITE JSON\n    if (changed) {\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\n      await dataHandler.updateDataJsonFile(jsonData);\n    }\n  }\n\n  /**\r\n   * Search all indexes of substring in string\r\n   * @param {string} searchStr Search substring\r\n   * @param {string} str Target string\r\n   * @param {boolean} caseSensitive Case sensitive\r\n   * @returns {Array} found indexes\r\n   */\n  getIndicesOf(searchStr, str, caseSensitive) {\n    var searchStrLen = searchStr.length;\n    if (searchStrLen == 0) {\n      return [];\n    }\n    var startIndex = 0,\n      index,\n      indices = [];\n    if (!caseSensitive) {\n      str = str.toLowerCase();\n      searchStr = searchStr.toLowerCase();\n    }\n    while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n      indices.push(index);\n      startIndex = index + searchStrLen;\n    }\n    return indices;\n  }\n\n  /**\r\n   * Customize the allure report for current spec\r\n   * @param {Object} arg included reportId, excelData, msg and info object\r\n   */\n  async customReport(arg = {}) {\n    for (let i = 0; i < arg.excelData[\"custom_report\"].length; i++) {\n      const row = arg.excelData[\"custom_report\"][i];\n      if (row[\"id\"] == arg.reportId) {\n        // CUSTOMIZE ALLURE REPORT\n        allureCustom.addSeverity(row[\"severity\"]);\n\n        // ADD ENV DETAIL\n        await allureCustom.addEnvDetail(arg.info);\n\n        // ADD CASE ID\n        allureCustom.addArgument(\"case\", arg.info.specId);\n\n        // ADD IP ADDR\n        await this.getIPAddr().then(publicIp => {\n          console.log(publicIp); // prints the public IP address to the console\n          allureCustom.addArgument(\"ip\", publicIp);\n        }).catch(err => {\n          console.error(err);\n        });\n\n        // ADD STEP\n        allureCustom.addStep(arg.msg);\n\n        // ADD ATTACHMENT\n        const screenshot = await browser.takeScreenshot();\n        allureCustom.addAttachment(screenshot);\n\n        // END STEP\n        allureCustom.endStep(row[\"status\"]);\n        return row[\"status\"];\n      }\n    }\n  }\n\n  /**\r\n   * Check if firewall rejected the access\r\n   * @param {String} specId spec id\r\n   */\n  async checkFireWall(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    if (info.captureType != \"mobile\") {\n      for (let i = 0; i < excelData[\"firewall\"].length; i++) {\n        const row = excelData[\"firewall\"][i];\n        if (row[\"enabled\"] == \"yes\") {\n          switch (row[\"type\"]) {\n            case \"security\":\n              const eleMsg = await $(`//body//*[contains(text(), '${row[\"msg\"]}')]`);\n\n              // IF ERROR MESSAGE IS RETURNED\n              if (typeof eleMsg.error == \"undefined\") {\n                const msg = await eleMsg.getText();\n                const arg = {\n                  reportId: row[\"custom_report\"],\n                  excelData: excelData,\n                  msg: msg,\n                  info: info\n                };\n\n                // SCROLL INTOVIEW\n                await eleMsg.scrollIntoView({\n                  block: \"center\",\n                  inline: \"center\"\n                });\n\n                // CUSTOM REPORT\n                const status = await this.customReport(arg);\n\n                // THROW ERROR\n                switch (status) {\n                  case \"failed\":\n                    await expect(eleMsg).not.toBeExisting();\n                    break;\n                  case \"broken\":\n                    assert.fail(new Error(msg));\n                    break;\n                }\n              }\n              break;\n            default:\n              if (row[\"type\"] == \"error_404\" || row[\"type\"] == \"access_denied\") {\n                if ((await browser.getTitle()).includes(row[\"msg\"])) {\n                  const arg = {\n                    reportId: row[\"custom_report\"],\n                    excelData: excelData,\n                    msg: row[\"msg\"],\n                    info: info\n                  };\n\n                  // SCROLL INTOVIEW\n                  await $(`//body//*[contains(text(), '${row[\"msg\"]}')]`).scrollIntoView({\n                    block: \"center\",\n                    inline: \"center\"\n                  });\n\n                  // CUSTOM REPORT\n                  const status = await this.customReport(arg);\n\n                  // THROW ERROR\n                  switch (status) {\n                    case \"failed\":\n                      await expect(browser).not.toHaveTitleContaining(row[\"msg\"]);\n                      break;\n                    case \"broken\":\n                      assert.fail(new Error(row[\"msg\"]));\n                      break;\n                  }\n                }\n              }\n              break;\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Make up the code with beauty format\r\n   * @param {String} contents spec file script\r\n   * @param {Int} indent_size indent size\r\n   * @param {Boolean} space_in_empty_paren keep or remove space in empty paren\r\n   * @param {Boolean} preserve_newlines keep or remove empty lines\r\n   * @param {Int} max_preserve_newlines number of empty lines can be kept\r\n   * @param {String} eol character defined for breakline\r\n   * @returns {String}\r\n   */\n  codeMakeUp(contents, indent_size = 2, space_in_empty_paren = true, preserve_newlines = true, max_preserve_newlines = 2, eol = \"\\r\") {\n    return beautify(contents, {\n      indent_size: indent_size,\n      space_in_empty_paren: space_in_empty_paren,\n      preserve_newlines: preserve_newlines,\n      max_preserve_newlines: max_preserve_newlines,\n      eol: eol\n    });\n  }\n\n  /**\r\n   * Generate spec files automatically based on list of pages in excel\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} addStep custom additional step\r\n   */\n  async specGeneration(file, flows = [], total = -1, dynamicBaseUrl = false) {\n    const info = await dataHandler.getInfoFromFilePath(file);\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    const captureType = \"fullpage\";\n    const excelData = await dataHandler.getProjectDataExcel(clientId, projectId);\n\n    // CHECK IF CONFIG IS ENABLED\n    const enabled = excelData[\"config\"][0][\"spec_generation\"];\n    if (typeof enabled == \"undefined\" || enabled != \"yes\") {\n      console.log(`The config is set to ${enabled}.`);\n      return false;\n    }\n\n    // GET TOTAL\n    if (total == -1) total = excelData[\"pages\"].length;\n\n    // REMOVE OLD FILES\n    await this.removeFiles(clientId, projectId, captureType);\n\n    // CREATE NEW FILES\n    for (let i = 0; i < total; i++) {\n      const row = excelData[\"pages\"][i];\n      if (row[\"domain\"] != \"\" && typeof row[\"domain\"] != \"undefined\") {\n        const domain = row[\"domain\"].replace(/\\/+$/, \"\");\n        let handler = ``;\n        const pageId = row[\"page_id\"];\n        if (typeof row[\"handler\"] != \"undefined\") {\n          handler = row[\"handler\"].replace(/^\\/+/, \"\");\n        }\n        let link = domain + \"/\" + handler;\n        let coreScript = `await browser.url(\"${link}\");`;\n        if (dynamicBaseUrl) {\n          link = \"`${global.dynamicBaseUrl}/\" + handler + \"`\";\n          coreScript = `await browser.url(${link});`;\n        }\n\n        // DEFINE FILE PATH\n        const fileName = `${projectId}.${captureType}-${pageId}.js`;\n        const filePath = process.cwd() + `/test/specs/${clientId}/${projectId}/record/${captureType}/${fileName}`;\n\n        // DEFINE CONTENTS\n        for (let j = 0; j < flows.length; j++) {\n          const flow = flows[j];\n          if (flow.id == \"0\" || flow.id == row[\"flow\"]) {\n            if (flow.preStep != \"\") {\n              coreScript = flow.preStep + \"\\n\" + coreScript;\n            }\n            if (flow.addStep != \"\") {\n              coreScript = coreScript + \"\\n\" + flow.addStep;\n            }\n          }\n        }\n        const contents = `var assert = require(\"assert\");\n        describe(\"${captureType}-${pageId}\",async function(){\n          it(\"recorder :: ${captureType}-${pageId}\",async function(){\n            ${coreScript}\n          });\n        });`;\n\n        // CHECK STATUS\n        if (row[\"status\"] != \"active\") {\n          // RENAME\n          const newFilePath = process.cwd() + `/test/specs/${clientId}/${projectId}/record/${captureType}/${projectId}.${captureType}-${pageId}.${row[\"status\"]}.js`;\n          await dataHandler.writeSpec(newFilePath, this.codeMakeUp(contents));\n        } else {\n          // WRITE FILE\n          await dataHandler.writeSpec(filePath, this.codeMakeUp(contents));\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Remove all current specs before generation\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} captureType capture type\r\n   */\n  async removeFiles(clientId, projectId, captureType) {\n    const pathPattern = `./test/specs/${clientId}/${projectId}/record/${captureType}/*.fullpage-*.js`;\n    const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\n    for (let i = 0; i < searchFiles.length; i++) {\n      const f = searchFiles[i];\n      await dataHandler.deleteFile(f);\n    }\n  }\n\n  /**\r\n   * Get current public IP Address\r\n   * @returns {String}\r\n   */\n  async getIPAddr() {\n    return new Promise((resolve, reject) => {\n      https.get(\"https://api.ipify.org\", res => {\n        let data = \"\";\n        res.on(\"data\", chunk => {\n          data += chunk;\n        });\n        res.on(\"end\", () => {\n          const publicIp = data.trim();\n          resolve(publicIp);\n        });\n      }).on(\"error\", err => {\n        reject(err);\n      });\n    });\n  }\n\n  /**\r\n   * Get localization from spec id\r\n   * @param {String} specId spec id\r\n   * @returns {String}\r\n   */\n  async getLocalization(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const caseId = info.caseId;\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    const arrCaseId = caseId.split(\"_\");\n    let country = arrCaseId[arrCaseId.length - 1];\n    for (let i = 0; i < excelData[\"localization_map\"].length; i++) {\n      const row = excelData[\"localization_map\"][i];\n      if (row[\"key\"] === country.toLowerCase()) {\n        country = row[\"mapping\"];\n        break;\n      }\n    }\n    return country;\n  }\n\n  /**\r\n   * Auto get dynamic base url\r\n   * @param {String} specId Spec id\r\n   * @returns {String}\r\n   */\n  async getDynamicUrl(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n    // CHECK IF ACTUAL URL IS DEFINED\n    const baseUrl = excelData[\"config\"][0][\"base_url\"];\n    const actualUrl = excelData[\"config\"][0][\"actual_url\"];\n    if (typeof actualUrl != \"undefined\" && actualUrl != \"\" & actualUrl != baseUrl) {\n      // ACTUAL URL IS DEFINED\n      const caps = await capHandler.getCapabilities(info.specId);\n      const baselineFolder = caps.baselineFolder;\n      const pathPattern = `${info.baselineFolder}/${baselineFolder}/${specId}.png`;\n      const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\n\n      // CHECK IF BASELINE IS EXISTING\n      if (searchFiles.length > 0) {\n        // BASELINE IS EXISTING\n        return actualUrl;\n      } else {\n        // BASELINE IS NOT EXISTING\n        return baseUrl;\n      }\n    } else {\n      // ACTUAL URL IS NOT DEFINED\n      return baseUrl;\n    }\n  }\n}\nmodule.exports = new Utils();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3NlcnQiLCJyZXF1aXJlIiwiYmVhdXRpZnkiLCJqcyIsImh0dHBzIiwiYWxsdXJlQ3VzdG9tIiwiZGF0YUhhbmRsZXIiLCJjYXBIYW5kbGVyIiwiVXRpbHMiLCJpbWdDb21wYXJlIiwicHJvaklkIiwic3BlY0lkIiwiaW5mbyIsImdldEluZm9Gcm9tU3BlY0lkIiwiY2FwdHVyZU9wdHMiLCJnZXRDYXB0dXJlT3B0cyIsImNsaWVudElkIiwiZXhjZWxEYXRhIiwiZ2V0UHJvamVjdERhdGFFeGNlbCIsIndhaXRGb3JDYXB0dXJlIiwiZ2xvYmFsIiwiYnJvd3NlciIsInBhdXNlIiwiaGlkZVJldkVsZSIsImdldEhpZGVSZW1vdmVFbGUiLCJzdGF0dXMiLCJjYXB0dXJlVHlwZSIsIndlYkNhcHR1cmVPcHRzIiwid2ViIiwibW9iaWxlQ2FwdHVyZU9wdHMiLCJtb2JpbGUiLCJyZXN1bHQiLCJmdWxscGFnZUhpZGVFbGVtZW50cyIsImxlbmd0aCIsImZ1bGxwYWdlUmVtb3ZlRWxlbWVudHMiLCJjaGVja0Z1bGxQYWdlU2NyZWVuIiwic2NyZWVuSGlkZUVsZW1lbnRzIiwic2NyZWVuUmVtb3ZlRWxlbWVudHMiLCJjaGVja1NjcmVlbiIsImVsZW1lbnRCbG9ja091dHMiLCJibG9ja091dHMiLCJyZXN1bHRPYmoiLCJkcml2ZXIiLCJjb21wYXJlU2NyZWVuIiwibWlzTWF0Y2hQZXJjZW50YWdlIiwiY3VzdG9tRGV0YWlsIiwiY3VzdG9tQWN0aW9ucyIsImZhaWwiLCJFcnJvciIsInBhZ2VBdXRoIiwicHJvamVjdElkIiwiZW5hYmxlZCIsImJhc2VVcmwiLCJoYW5kbGVyIiwiaHR0cCIsImluY2x1ZGVzIiwidXJsIiwicmVwbGFjZSIsImNoZWNrVmFsaWRDYXBzIiwicGxhdGZvcm0iLCJjYXBhYmlsaXRpZXMiLCJwbGF0Zm9ybU5hbWUiLCJicm93c2VyTmFtZSIsImRlc2lyZWRDYXBzIiwiZGVzaXJlZCIsInZhbGlkIiwiY2FwdHVyZURhdGFTaGVldCIsImNhcHMiLCJnZXRDYXBhYmlsaXRpZXMiLCJpIiwicm93IiwiZnVsbEhpZGUiLCJzY3JlZW5IaWRlIiwiZnVsbFJlbW92ZSIsInNjcmVlblJlbW92ZSIsIm1vYmlsZUVsZUJsb2Nrb3V0IiwibW9iaWxlQmxvY2tvdXQiLCJmdWxsSGlkZUVsZSIsIiQiLCJlcnJvciIsInB1c2giLCJzY3JlZW5IaWRlRWxlIiwiZnVsbFJlbW92ZUVsZSIsInNjcmVlblJlbW92ZUVsZSIsImJsb2Nrb3V0TWFyZ2luIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJlbGUiLCJpc0V4aXN0aW5nIiwiZWxlbWVudCIsIm1hcmdpbiIsImFyZyIsIkpTT04iLCJwYXJzZSIsImRpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsImdldFdpbmRvd1JlY3QiLCJpbWdEaW1lbnNpb25zIiwiZ2V0SW1nU2l6ZSIsImJhc2VsaW5lRm9sZGVyIiwicGFyYW0iLCJ4IiwieSIsImFkZENhcHR1cmVPcHRzIiwia2V5IiwidmFsdWUiLCJ0eXBlIiwianNvbkRhdGEiLCJnZXRHbG9iYWxEYXRhSnNvbiIsImRhdGEiLCJwcm9qZWN0cyIsImNoYW5nZWQiLCJvcHRzIiwiaWQiLCJ2YWx1ZXMiLCJkZU9wdCIsImZvdW5kIiwibiIsInVwZGF0ZURhdGFKc29uRmlsZSIsImdldEluZGljZXNPZiIsInNlYXJjaFN0ciIsInN0ciIsImNhc2VTZW5zaXRpdmUiLCJzZWFyY2hTdHJMZW4iLCJzdGFydEluZGV4IiwiaW5kZXgiLCJpbmRpY2VzIiwiaW5kZXhPZiIsImN1c3RvbVJlcG9ydCIsInJlcG9ydElkIiwiYWRkU2V2ZXJpdHkiLCJhZGRFbnZEZXRhaWwiLCJhZGRBcmd1bWVudCIsImdldElQQWRkciIsInRoZW4iLCJwdWJsaWNJcCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImFkZFN0ZXAiLCJtc2ciLCJzY3JlZW5zaG90IiwidGFrZVNjcmVlbnNob3QiLCJhZGRBdHRhY2htZW50IiwiZW5kU3RlcCIsImNoZWNrRmlyZVdhbGwiLCJlbGVNc2ciLCJnZXRUZXh0Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImlubGluZSIsImV4cGVjdCIsIm5vdCIsInRvQmVFeGlzdGluZyIsImdldFRpdGxlIiwidG9IYXZlVGl0bGVDb250YWluaW5nIiwiY29kZU1ha2VVcCIsImNvbnRlbnRzIiwiaW5kZW50X3NpemUiLCJzcGFjZV9pbl9lbXB0eV9wYXJlbiIsInByZXNlcnZlX25ld2xpbmVzIiwibWF4X3ByZXNlcnZlX25ld2xpbmVzIiwiZW9sIiwic3BlY0dlbmVyYXRpb24iLCJmaWxlIiwiZmxvd3MiLCJ0b3RhbCIsImR5bmFtaWNCYXNlVXJsIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsInJlbW92ZUZpbGVzIiwiZG9tYWluIiwicGFnZUlkIiwibGluayIsImNvcmVTY3JpcHQiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwicHJvY2VzcyIsImN3ZCIsImoiLCJmbG93IiwicHJlU3RlcCIsIm5ld0ZpbGVQYXRoIiwid3JpdGVTcGVjIiwicGF0aFBhdHRlcm4iLCJzZWFyY2hGaWxlcyIsInNlYXJjaEFsbFNwZWNzIiwiZiIsImRlbGV0ZUZpbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldCIsInJlcyIsIm9uIiwiY2h1bmsiLCJ0cmltIiwiZ2V0TG9jYWxpemF0aW9uIiwiY2FzZUlkIiwiYXJyQ2FzZUlkIiwic3BsaXQiLCJjb3VudHJ5IiwiZ2V0RHluYW1pY1VybCIsImFjdHVhbFVybCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdXRpbHNcXCIsInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXNzZXJ0ID0gcmVxdWlyZShcImFzc2VydFwiKTtcclxuXHJcbmNvbnN0IGJlYXV0aWZ5ID0gcmVxdWlyZShcImpzLWJlYXV0aWZ5XCIpLmpzO1xyXG5jb25zdCBodHRwcyA9IHJlcXVpcmUoXCJodHRwc1wiKTtcclxuXHJcbmNvbnN0IGFsbHVyZUN1c3RvbSA9IHJlcXVpcmUoXCIuL2xpYi9hbGx1cmVcIik7XHJcbmNvbnN0IGRhdGFIYW5kbGVyID0gcmVxdWlyZShcIi4vbGliL2RhdGFfaGFuZGxlclwiKTtcclxuY29uc3QgY2FwSGFuZGxlciA9IHJlcXVpcmUoXCIuL2xpYi9jYXBfaGFuZGxlclwiKTtcclxuXHJcbmNsYXNzIFV0aWxzIHtcclxuICAvKipcclxuICAgKiBTYXZlIGFuZCBjb21wYXJlIHRoZSBzY3JlZW5zaG90cyBiZXR3ZWVuIGJhc2VsaW5lIGFuZCBhY3R1YWxcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvaklkIFByb2plY3QgSURcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3BlY0lkIFNwZWMgSURcclxuICAgKi9cclxuICBhc3luYyBpbWdDb21wYXJlKHByb2pJZCwgc3BlY0lkKSB7XHJcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0SW5mb0Zyb21TcGVjSWQoc3BlY0lkKTtcclxuICAgIGNvbnN0IGNhcHR1cmVPcHRzID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0Q2FwdHVyZU9wdHMoaW5mby5jbGllbnRJZCwgcHJvaklkKTtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgIHByb2pJZFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBXQUlUIEZPUiBDQVBUVVJFIExBVEVOQ1lcclxuICAgIGNvbnN0IHdhaXRGb3JDYXB0dXJlID0gY2FwdHVyZU9wdHMuZ2xvYmFsW1wid2FpdF9mb3JcIl07XHJcbiAgICBhd2FpdCBicm93c2VyLnBhdXNlKHdhaXRGb3JDYXB0dXJlKTtcclxuXHJcbiAgICAvLyBHRVQgRUxFTUVOVFMgSElEREVOIE9SIFJFTU9WRURcclxuICAgIGNvbnN0IGhpZGVSZXZFbGUgPSBhd2FpdCB0aGlzLmdldEhpZGVSZW1vdmVFbGUoXHJcbiAgICAgIGluZm8sXHJcbiAgICAgIGNhcHR1cmVPcHRzLFxyXG4gICAgICBleGNlbERhdGFcclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qgc3RhdHVzID0gaW5mby5zdGF0dXM7XHJcbiAgICBjb25zdCBjYXB0dXJlVHlwZSA9IGluZm8uY2FwdHVyZVR5cGU7XHJcbiAgICBsZXQgd2ViQ2FwdHVyZU9wdHMgPSBjYXB0dXJlT3B0cy53ZWI7XHJcbiAgICBsZXQgbW9iaWxlQ2FwdHVyZU9wdHMgPSBjYXB0dXJlT3B0cy5tb2JpbGU7XHJcbiAgICBsZXQgcmVzdWx0ID0gMDtcclxuXHJcbiAgICAvLyBDSEVDSyBTVEFUVVNcclxuICAgIGlmIChzdGF0dXMgPT0gXCJhY3RpdmVcIikge1xyXG4gICAgICAvLyBDSEVDSyBDQVBUVVJFIFRZUEVcclxuICAgICAgc3dpdGNoIChjYXB0dXJlVHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJmdWxscGFnZVwiOlxyXG4gICAgICAgICAgLy8gQUREIEhJREUgUkVNT1ZFIEVMRU1FTlRcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdHlwZW9mIGhpZGVSZXZFbGUuZnVsbHBhZ2VIaWRlRWxlbWVudHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLmZ1bGxwYWdlSGlkZUVsZW1lbnRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB3ZWJDYXB0dXJlT3B0c1tcImhpZGVFbGVtZW50c1wiXSA9IGhpZGVSZXZFbGUuZnVsbHBhZ2VIaWRlRWxlbWVudHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBoaWRlUmV2RWxlLmZ1bGxwYWdlUmVtb3ZlRWxlbWVudHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLmZ1bGxwYWdlUmVtb3ZlRWxlbWVudHMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHdlYkNhcHR1cmVPcHRzW1wicmVtb3ZlRWxlbWVudHNcIl0gPVxyXG4gICAgICAgICAgICAgIGhpZGVSZXZFbGUuZnVsbHBhZ2VSZW1vdmVFbGVtZW50cztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBETyBDT01QQVJJU09OIC0tLSBBVVRPIFNBVkUgQkFTRUxJTkVcclxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGJyb3dzZXIuY2hlY2tGdWxsUGFnZVNjcmVlbihzcGVjSWQsIHdlYkNhcHR1cmVPcHRzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzY3JlZW5cIjpcclxuICAgICAgICAgIC8vIEFERCBISURFIFJFTU9WRSBFTEVNRU5UXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBoaWRlUmV2RWxlLnNjcmVlbkhpZGVFbGVtZW50cyAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgIGhpZGVSZXZFbGUuc2NyZWVuSGlkZUVsZW1lbnRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB3ZWJDYXB0dXJlT3B0c1tcImhpZGVFbGVtZW50c1wiXSA9IGhpZGVSZXZFbGUuc2NyZWVuSGlkZUVsZW1lbnRzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0eXBlb2YgaGlkZVJldkVsZS5zY3JlZW5SZW1vdmVFbGVtZW50cyAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgIGhpZGVSZXZFbGUuc2NyZWVuUmVtb3ZlRWxlbWVudHMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHdlYkNhcHR1cmVPcHRzW1wicmVtb3ZlRWxlbWVudHNcIl0gPSBoaWRlUmV2RWxlLnNjcmVlblJlbW92ZUVsZW1lbnRzO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIERPIENPTVBBUklTT04gLS0tIEFVVE8gU0FWRSBCQVNFTElORVxyXG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgYnJvd3Nlci5jaGVja1NjcmVlbihzcGVjSWQsIHdlYkNhcHR1cmVPcHRzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtb2JpbGVcIjpcclxuICAgICAgICAgIC8vIEFERCBCTE9DS09VVCBFTEVNRU5UXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBoaWRlUmV2RWxlLmVsZW1lbnRCbG9ja091dHMgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgICBoaWRlUmV2RWxlLmVsZW1lbnRCbG9ja091dHMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIG1vYmlsZUNhcHR1cmVPcHRzW1wiZWxlbWVudEJsb2NrT3V0c1wiXSA9IGhpZGVSZXZFbGUuZWxlbWVudEJsb2NrT3V0cztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBREQgQkxPQ0tPVVRTXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBoaWRlUmV2RWxlLmJsb2NrT3V0cyAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgIGhpZGVSZXZFbGUuYmxvY2tPdXRzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBtb2JpbGVDYXB0dXJlT3B0c1tcImJsb2NrT3V0c1wiXSA9IGhpZGVSZXZFbGUuYmxvY2tPdXRzO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIERPIENPTVBBUklTT04gLS0tIEFVVE8gU0FWRSBCQVNFTElORVxyXG4gICAgICAgICAgbGV0IHJlc3VsdE9iaiA9IGF3YWl0IGRyaXZlci5jb21wYXJlU2NyZWVuKHNwZWNJZCwgbW9iaWxlQ2FwdHVyZU9wdHMpO1xyXG5cclxuICAgICAgICAgIC8vIEdFVCBSRVNVTFRcclxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdE9iai5taXNNYXRjaFBlcmNlbnRhZ2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENVU1RPTUlaRSBBTExVUkUgUkVQT1JUXHJcbiAgICBhd2FpdCBhbGx1cmVDdXN0b20uY3VzdG9tRGV0YWlsKGluZm8sIHJlc3VsdCwgY2FwdHVyZU9wdHMpO1xyXG4gICAgYWxsdXJlQ3VzdG9tLmN1c3RvbUFjdGlvbnMoc3BlY0lkLCBzdGF0dXMpO1xyXG5cclxuICAgIC8vIFRIUk9XIEVSUk9SIElGIEZBSUxFRFxyXG4gICAgaWYgKHJlc3VsdCA+IDApIHtcclxuICAgICAgYXNzZXJ0LmZhaWwoXHJcbiAgICAgICAgbmV3IEVycm9yKGBJbWFnZSBjb21wYXJpc29uIGlzIGZhaWxlZC4gRGlmZiBwZXJjZW50YWdlIGlzICR7cmVzdWx0fSUuYClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ5cGFzcyBwYWdlIGF1dGhlbnRpY2F0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkIGNsaWVudCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qZWN0SWQgcHJvamVjdCBpZFxyXG4gICAqL1xyXG4gIGFzeW5jIHBhZ2VBdXRoKGNsaWVudElkLCBwcm9qZWN0SWQpIHtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGNsaWVudElkLFxyXG4gICAgICBwcm9qZWN0SWRcclxuICAgICk7XHJcbiAgICBjb25zdCBlbmFibGVkID0gZXhjZWxEYXRhW1wiYXV0aFwiXVswXVtcImVuYWJsZWRcIl07XHJcblxyXG4gICAgaWYgKGVuYWJsZWQgPT0gXCJ5ZXNcIikge1xyXG4gICAgICBjb25zdCBiYXNlVXJsID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiYmFzZV91cmxcIl07XHJcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBleGNlbERhdGFbXCJhdXRoXCJdWzBdW1wiaGFuZGxlclwiXTtcclxuICAgICAgbGV0IGh0dHAgPSBcImh0dHA6Ly9cIjtcclxuICAgICAgaWYgKGJhc2VVcmwuaW5jbHVkZXMoXCJodHRwczovL1wiKSkgaHR0cCA9IFwiaHR0cHM6Ly9cIjtcclxuXHJcbiAgICAgIGF3YWl0IGJyb3dzZXIudXJsKFxyXG4gICAgICAgIGAke2h0dHB9JHtleGNlbERhdGFbXCJhdXRoXCJdWzBdW1widXNyXCJdfToke1xyXG4gICAgICAgICAgZXhjZWxEYXRhW1wiYXV0aFwiXVswXVtcInBhc3NcIl1cclxuICAgICAgICB9QCR7YmFzZVVybC5yZXBsYWNlKGh0dHAsIFwiXCIpfSR7aGFuZGxlcn1gXHJcbiAgICAgICk7XHJcbiAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoYCR7ZXhjZWxEYXRhW1wiYXV0aFwiXVswXVtcIndhaXRcIl19YCk7XHJcbiAgICAgIGF3YWl0IGJyb3dzZXIudXJsKGAke2Jhc2VVcmx9JHtoYW5kbGVyfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgY3VycmVudCBjYXBhYmlsaXR5IGlzIHZhbGlkXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tWYWxpZENhcHMoKSB7XHJcbiAgICBjb25zdCBwbGF0Zm9ybSA9IGF3YWl0IGJyb3dzZXIuY2FwYWJpbGl0aWVzLnBsYXRmb3JtTmFtZTtcclxuICAgIGNvbnN0IGJyb3dzZXJOYW1lID0gYXdhaXQgYnJvd3Nlci5jYXBhYmlsaXRpZXMuYnJvd3Nlck5hbWU7XHJcbiAgICBsZXQgZGVzaXJlZENhcHMgPSBhd2FpdCBicm93c2VyLmNhcGFiaWxpdGllcy5kZXNpcmVkO1xyXG4gICAgbGV0IHZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRlc2lyZWRDYXBzID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgIGRlc2lyZWRDYXBzID0gYXdhaXQgZHJpdmVyLmNhcGFiaWxpdGllcztcclxuXHJcbiAgICAvLyBERVRFQ1QgV0VCIE9SIE1PQklMRVxyXG4gICAgaWYgKGJyb3dzZXJOYW1lID09IFwiXCIgfHwgdHlwZW9mIGJyb3dzZXJOYW1lID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgc3dpdGNoIChwbGF0Zm9ybSkge1xyXG4gICAgICAgIGNhc2UgXCJBbmRyb2lkXCI6XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICh0eXBlb2YgZGVzaXJlZENhcHNbXCJ1ZGlkXCJdID09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgICB0eXBlb2YgZGVzaXJlZENhcHNbXCJhcHBpdW06dWRpZFwiXSA9PSBcInVuZGVmaW5lZFwiKSB8fFxyXG4gICAgICAgICAgICAodHlwZW9mIGRlc2lyZWRDYXBzW1wiYXBwUGFja2FnZVwiXSA9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgICAgdHlwZW9mIGRlc2lyZWRDYXBzW1wiYXBwaXVtOmFwcFBhY2thZ2VcIl0gPT0gXCJ1bmRlZmluZWRcIikgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiBkZXNpcmVkQ2Fwc1tcImFwcEFjdGl2aXR5XCJdID09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgICB0eXBlb2YgZGVzaXJlZENhcHNbXCJhcHBpdW06YXBwQWN0aXZpdHlcIl0gPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgIClcclxuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiaU9TXCI6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWxpZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBsaXN0IG9mIGVsZW1lbnRzIHRvIGhpZGUgb3IgcmVtb3ZlIG9yIGJsb2Nrb3V0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYXB0dXJlT3B0cyBjYXB0dXJlIG9wdGlvbnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZXhjZWxEYXRhIGV4Y2VsIGRhdGFcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEhpZGVSZW1vdmVFbGUoaW5mbywgY2FwdHVyZU9wdHMsIGV4Y2VsRGF0YSkge1xyXG4gICAgY29uc3QgY2FwdHVyZURhdGFTaGVldCA9IGV4Y2VsRGF0YVtcImltZ19jb21wYXJlXCJdO1xyXG4gICAgY29uc3QgY2FwcyA9IGF3YWl0IGNhcEhhbmRsZXIuZ2V0Q2FwYWJpbGl0aWVzKGluZm8uc3BlY0lkKTtcclxuICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgIC8vIFdFQlxyXG4gICAgICBmdWxscGFnZUhpZGVFbGVtZW50czogW10sXHJcbiAgICAgIGZ1bGxwYWdlUmVtb3ZlRWxlbWVudHM6IFtdLFxyXG4gICAgICBzY3JlZW5IaWRlRWxlbWVudHM6IFtdLFxyXG4gICAgICBzY3JlZW5SZW1vdmVFbGVtZW50czogW10sXHJcbiAgICAgIC8vIE1PQklMRVxyXG4gICAgICBlbGVtZW50QmxvY2tPdXRzOiBbXSxcclxuICAgICAgYmxvY2tPdXRzOiBbXSxcclxuICAgIH07XHJcblxyXG4gICAgLy8gREVGSU5FIFBMQVRGT1JNXHJcbiAgICBsZXQgcGxhdGZvcm0gPSBcIndlYlwiO1xyXG4gICAgaWYgKGluZm8uY2FwdHVyZVR5cGUgPT0gXCJtb2JpbGVcIikgcGxhdGZvcm0gPSBcIm1vYmlsZVwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FwdHVyZURhdGFTaGVldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb3cgPSBjYXB0dXJlRGF0YVNoZWV0W2ldO1xyXG4gICAgICBjb25zdCBmdWxsSGlkZSA9IHJvd1tcImZ1bGxwYWdlX2hpZGVfZWxlbWVudFwiXTtcclxuICAgICAgY29uc3Qgc2NyZWVuSGlkZSA9IHJvd1tcInNjcmVlbl9oaWRlX2VsZW1lbnRcIl07XHJcbiAgICAgIGNvbnN0IGZ1bGxSZW1vdmUgPSByb3dbXCJmdWxscGFnZV9yZW1vdmVfZWxlbWVudFwiXTtcclxuICAgICAgY29uc3Qgc2NyZWVuUmVtb3ZlID0gcm93W1wic2NyZWVuX3JlbW92ZV9lbGVtZW50XCJdO1xyXG4gICAgICBjb25zdCBtb2JpbGVFbGVCbG9ja291dCA9IHJvd1tcIm1vYmlsZV9lbGVtZW50X2Jsb2Nrb3V0XCJdO1xyXG4gICAgICBjb25zdCBtb2JpbGVCbG9ja291dCA9IHJvd1tcIm1vYmlsZV9ibG9ja291dHNcIl07XHJcblxyXG4gICAgICBzd2l0Y2ggKHBsYXRmb3JtKSB7XHJcbiAgICAgICAgY2FzZSBcIndlYlwiOlxyXG4gICAgICAgICAgLy8gSElERSBFTEVNRU5UIC0tLSBWSVNJQklMSVRZID0gSElEREVOXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bGxIaWRlICE9IFwidW5kZWZpbmVkXCIgJiYgZnVsbEhpZGUgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25zdCBmdWxsSGlkZUVsZSA9IGF3YWl0ICQoZnVsbEhpZGUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZ1bGxIaWRlRWxlLmVycm9yID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgcmVzdWx0W1wiZnVsbHBhZ2VIaWRlRWxlbWVudHNcIl0ucHVzaChmdWxsSGlkZUVsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHNjcmVlbkhpZGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBzY3JlZW5IaWRlICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuSGlkZUVsZSA9IGF3YWl0ICQoc2NyZWVuSGlkZSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuSGlkZUVsZS5lcnJvciA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICAgIHJlc3VsdFtcInNjcmVlbkhpZGVFbGVtZW50c1wiXS5wdXNoKHNjcmVlbkhpZGVFbGUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJFTU9WRSBFTEVNRU5UIC0tLSBESVNQTEFZID0gTk9ORVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBmdWxsUmVtb3ZlICE9IFwidW5kZWZpbmVkXCIgJiYgZnVsbFJlbW92ZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxSZW1vdmVFbGUgPSBhd2FpdCAkKGZ1bGxSZW1vdmUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZ1bGxSZW1vdmVFbGUuZXJyb3IgPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgICByZXN1bHRbXCJmdWxscGFnZVJlbW92ZUVsZW1lbnRzXCJdLnB1c2goZnVsbFJlbW92ZUVsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHNjcmVlblJlbW92ZSAhPSBcInVuZGVmaW5lZFwiICYmIHNjcmVlblJlbW92ZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblJlbW92ZUVsZSA9IGF3YWl0ICQoc2NyZWVuUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JlZW5SZW1vdmVFbGUuZXJyb3IgPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgICByZXN1bHRbXCJzY3JlZW5SZW1vdmVFbGVtZW50c1wiXS5wdXNoKHNjcmVlblJlbW92ZUVsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9iaWxlXCI6XHJcbiAgICAgICAgICBjb25zdCBibG9ja291dE1hcmdpbiA9IGNhcHR1cmVPcHRzLmdsb2JhbFtcImVsZW1lbnRfYmxvY2tvdXRfbWFyZ2luXCJdO1xyXG4gICAgICAgICAgLy8gRUxFTUVOVCBCTE9DS09VVFNcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdHlwZW9mIG1vYmlsZUVsZUJsb2Nrb3V0ICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgbW9iaWxlRWxlQmxvY2tvdXQgIT0gXCJcIlxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAoY2Fwcy5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImFuZHJvaWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgbW9iaWxlRWxlQmxvY2tvdXQuaW5jbHVkZXMoXCJhbmRyb2lkPVwiKSkgfHxcclxuICAgICAgICAgICAgICAoY2Fwcy5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImlvc1wiICYmXHJcbiAgICAgICAgICAgICAgICBtb2JpbGVFbGVCbG9ja291dC5pbmNsdWRlcyhcIi1pb3NcIikpIHx8XHJcbiAgICAgICAgICAgICAgbW9iaWxlRWxlQmxvY2tvdXQuc3Vic3RyaW5nKDAsIDEpID09IFwiflwiIHx8XHJcbiAgICAgICAgICAgICAgbW9iaWxlRWxlQmxvY2tvdXQuc3Vic3RyaW5nKDAsIDIpID09IFwiLy9cIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBjb25zdCBlbGUgPSBhd2FpdCAkKG1vYmlsZUVsZUJsb2Nrb3V0KTtcclxuICAgICAgICAgICAgICBpZiAoYXdhaXQgZWxlLmlzRXhpc3RpbmcoKSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtcImVsZW1lbnRCbG9ja091dHNcIl0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZSxcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiBibG9ja291dE1hcmdpbixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBCTE9DS09VVFNcclxuICAgICAgICAgIGlmICh0eXBlb2YgbW9iaWxlQmxvY2tvdXQgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2JpbGVCbG9ja291dCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IEpTT04ucGFyc2UobW9iaWxlQmxvY2tvdXQpO1xyXG5cclxuICAgICAgICAgICAgLy8gR0VUIElNRyBESU1FTlNJT05TXHJcbiAgICAgICAgICAgIGxldCBkaW1lbnNpb25zID0ge307XHJcbiAgICAgICAgICAgIGlmIChjYXBzLnBsYXRmb3JtTmFtZS50b0xvd2VyQ2FzZSgpID09IFwiYW5kcm9pZFwiKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhd2FpdCBkcml2ZXIuZ2V0V2luZG93UmVjdCgpO1xyXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICBkaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2Fwcy5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImlvc1wiKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgaW1nRGltZW5zaW9ucyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEltZ1NpemUoXHJcbiAgICAgICAgICAgICAgICBpbmZvLFxyXG4gICAgICAgICAgICAgICAgY2Fwcy5iYXNlbGluZUZvbGRlclxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgZGltZW5zaW9ucy53aWR0aCA9IGltZ0RpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgZGltZW5zaW9ucy5oZWlnaHQgPSBpbWdEaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRpbWVuc2lvbnMud2lkdGggPiAwIHx8IGRpbWVuc2lvbnMuaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgIGxldCBwYXJhbSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IGFyZy54ICogZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHk6IGFyZy55ICogZGltZW5zaW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZy5oZWlnaHQgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uaGVpZ2h0ID0gYXJnLmhlaWdodDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcud2lkdGggIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0ud2lkdGggPSBhcmcud2lkdGg7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXN1bHRbXCJibG9ja091dHNcIl0ucHVzaChwYXJhbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgY3VzdG9tIGNhcHR1cmUgb3B0aW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwZWNJZCBTcGVjIGlkXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBvcHRpb24gbmFtZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBvcHRpb24gdmFsdWVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSB3ZWIgb3IgbW9iaWxlXHJcbiAgICovXHJcbiAgYXN5bmMgYWRkQ2FwdHVyZU9wdHMoc3BlY0lkLCBrZXksIHZhbHVlLCB0eXBlID0gXCJ3ZWJcIikge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBsZXQganNvbkRhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRHbG9iYWxEYXRhSnNvbigpO1xyXG4gICAgdmFyIGRhdGEgPSBqc29uRGF0YS5wcm9qZWN0c1tpbmZvLmNsaWVudElkXVtpbmZvLnByb2plY3RJZF1bXCJjcHRfb3B0XCJdO1xyXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgb3B0cyA9IHtcclxuICAgICAgaWQ6IHNwZWNJZCxcclxuICAgICAgdmFsdWVzOiBbXSxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09IFwidW5kZWZpbmVkXCIgfHwgZGF0YS5sZW5ndGggPD0gMCkge1xyXG4gICAgICBkYXRhID0gW107XHJcbiAgICAgIGRhdGEucHVzaChvcHRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMT09QIERBVEFcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBERUZJTkUgREVUQUlMIE9QVFxyXG4gICAgICBjb25zdCBkZU9wdCA9IHtcclxuICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIGFyZzoge1xyXG4gICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKGRhdGFbaV1bXCJpZFwiXSA9PSBzcGVjSWQpIHtcclxuICAgICAgICAvLyBDSEVDSyBPUFQgRVhJU1RcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0eXBlb2YgZGF0YVtpXS52YWx1ZXMgPT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICAgICAgZGF0YVtpXS52YWx1ZXMubGVuZ3RoIDw9IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGRhdGFbaV0udmFsdWVzID0gW107XHJcbiAgICAgICAgICBkYXRhW2ldLnZhbHVlcy5wdXNoKGRlT3B0KTtcclxuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZGF0YVtpXS52YWx1ZXMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFbaV0udmFsdWVzW25dLmtleSA9PSBrZXkpIHtcclxuICAgICAgICAgICAgICBkYXRhW2ldLnZhbHVlc1tuXSA9IGRlT3B0O1xyXG4gICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xyXG4gICAgICAgICAgICBkYXRhW2ldLnZhbHVlcy5wdXNoKGRlT3B0KTtcclxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV1JJVEUgSlNPTlxyXG4gICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAganNvbkRhdGEucHJvamVjdHNbaW5mby5jbGllbnRJZF1baW5mby5wcm9qZWN0SWRdW1wiY3B0X29wdFwiXSA9IGRhdGE7XHJcbiAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLnVwZGF0ZURhdGFKc29uRmlsZShqc29uRGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggYWxsIGluZGV4ZXMgb2Ygc3Vic3RyaW5nIGluIHN0cmluZ1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hTdHIgU2VhcmNoIHN1YnN0cmluZ1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgVGFyZ2V0IHN0cmluZ1xyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FzZVNlbnNpdGl2ZSBDYXNlIHNlbnNpdGl2ZVxyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gZm91bmQgaW5kZXhlc1xyXG4gICAqL1xyXG4gIGdldEluZGljZXNPZihzZWFyY2hTdHIsIHN0ciwgY2FzZVNlbnNpdGl2ZSkge1xyXG4gICAgdmFyIHNlYXJjaFN0ckxlbiA9IHNlYXJjaFN0ci5sZW5ndGg7XHJcbiAgICBpZiAoc2VhcmNoU3RyTGVuID09IDApIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgdmFyIHN0YXJ0SW5kZXggPSAwLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgaW5kaWNlcyA9IFtdO1xyXG4gICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XHJcbiAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBzZWFyY2hTdHIgPSBzZWFyY2hTdHIudG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxuICAgIHdoaWxlICgoaW5kZXggPSBzdHIuaW5kZXhPZihzZWFyY2hTdHIsIHN0YXJ0SW5kZXgpKSA+IC0xKSB7XHJcbiAgICAgIGluZGljZXMucHVzaChpbmRleCk7XHJcbiAgICAgIHN0YXJ0SW5kZXggPSBpbmRleCArIHNlYXJjaFN0ckxlbjtcclxuICAgIH1cclxuICAgIHJldHVybiBpbmRpY2VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3VzdG9taXplIHRoZSBhbGx1cmUgcmVwb3J0IGZvciBjdXJyZW50IHNwZWNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnIGluY2x1ZGVkIHJlcG9ydElkLCBleGNlbERhdGEsIG1zZyBhbmQgaW5mbyBvYmplY3RcclxuICAgKi9cclxuICBhc3luYyBjdXN0b21SZXBvcnQoYXJnID0ge30pIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmV4Y2VsRGF0YVtcImN1c3RvbV9yZXBvcnRcIl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm93ID0gYXJnLmV4Y2VsRGF0YVtcImN1c3RvbV9yZXBvcnRcIl1baV07XHJcblxyXG4gICAgICBpZiAocm93W1wiaWRcIl0gPT0gYXJnLnJlcG9ydElkKSB7XHJcbiAgICAgICAgLy8gQ1VTVE9NSVpFIEFMTFVSRSBSRVBPUlRcclxuICAgICAgICBhbGx1cmVDdXN0b20uYWRkU2V2ZXJpdHkocm93W1wic2V2ZXJpdHlcIl0pO1xyXG5cclxuICAgICAgICAvLyBBREQgRU5WIERFVEFJTFxyXG4gICAgICAgIGF3YWl0IGFsbHVyZUN1c3RvbS5hZGRFbnZEZXRhaWwoYXJnLmluZm8pO1xyXG5cclxuICAgICAgICAvLyBBREQgQ0FTRSBJRFxyXG4gICAgICAgIGFsbHVyZUN1c3RvbS5hZGRBcmd1bWVudChcImNhc2VcIiwgYXJnLmluZm8uc3BlY0lkKTtcclxuXHJcbiAgICAgICAgLy8gQUREIElQIEFERFJcclxuICAgICAgICBhd2FpdCB0aGlzLmdldElQQWRkcigpXHJcbiAgICAgICAgICAudGhlbigocHVibGljSXApID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHVibGljSXApOyAvLyBwcmludHMgdGhlIHB1YmxpYyBJUCBhZGRyZXNzIHRvIHRoZSBjb25zb2xlXHJcbiAgICAgICAgICAgIGFsbHVyZUN1c3RvbS5hZGRBcmd1bWVudChcImlwXCIsIHB1YmxpY0lwKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQUREIFNURVBcclxuICAgICAgICBhbGx1cmVDdXN0b20uYWRkU3RlcChhcmcubXNnKTtcclxuXHJcbiAgICAgICAgLy8gQUREIEFUVEFDSE1FTlRcclxuICAgICAgICBjb25zdCBzY3JlZW5zaG90ID0gYXdhaXQgYnJvd3Nlci50YWtlU2NyZWVuc2hvdCgpO1xyXG4gICAgICAgIGFsbHVyZUN1c3RvbS5hZGRBdHRhY2htZW50KHNjcmVlbnNob3QpO1xyXG5cclxuICAgICAgICAvLyBFTkQgU1RFUFxyXG4gICAgICAgIGFsbHVyZUN1c3RvbS5lbmRTdGVwKHJvd1tcInN0YXR1c1wiXSk7XHJcblxyXG4gICAgICAgIHJldHVybiByb3dbXCJzdGF0dXNcIl07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGZpcmV3YWxsIHJlamVjdGVkIHRoZSBhY2Nlc3NcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWRcclxuICAgKi9cclxuICBhc3luYyBjaGVja0ZpcmVXYWxsKHNwZWNJZCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoaW5mby5jYXB0dXJlVHlwZSAhPSBcIm1vYmlsZVwiKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjZWxEYXRhW1wiZmlyZXdhbGxcIl0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCByb3cgPSBleGNlbERhdGFbXCJmaXJld2FsbFwiXVtpXTtcclxuXHJcbiAgICAgICAgaWYgKHJvd1tcImVuYWJsZWRcIl0gPT0gXCJ5ZXNcIikge1xyXG4gICAgICAgICAgc3dpdGNoIChyb3dbXCJ0eXBlXCJdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzZWN1cml0eVwiOlxyXG4gICAgICAgICAgICAgIGNvbnN0IGVsZU1zZyA9IGF3YWl0ICQoXHJcbiAgICAgICAgICAgICAgICBgLy9ib2R5Ly8qW2NvbnRhaW5zKHRleHQoKSwgJyR7cm93W1wibXNnXCJdfScpXWBcclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJRiBFUlJPUiBNRVNTQUdFIElTIFJFVFVSTkVEXHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVNc2cuZXJyb3IgPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgZWxlTXNnLmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZyA9IHtcclxuICAgICAgICAgICAgICAgICAgcmVwb3J0SWQ6IHJvd1tcImN1c3RvbV9yZXBvcnRcIl0sXHJcbiAgICAgICAgICAgICAgICAgIGV4Y2VsRGF0YTogZXhjZWxEYXRhLFxyXG4gICAgICAgICAgICAgICAgICBtc2c6IG1zZyxcclxuICAgICAgICAgICAgICAgICAgaW5mbzogaW5mbyxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU0NST0xMIElOVE9WSUVXXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBlbGVNc2cuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICBibG9jazogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgaW5saW5lOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ1VTVE9NIFJFUE9SVFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5jdXN0b21SZXBvcnQoYXJnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUSFJPVyBFUlJPUlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcImZhaWxlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cGVjdChlbGVNc2cpLm5vdC50b0JlRXhpc3RpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcImJyb2tlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5mYWlsKG5ldyBFcnJvcihtc2cpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcm93W1widHlwZVwiXSA9PSBcImVycm9yXzQwNFwiIHx8XHJcbiAgICAgICAgICAgICAgICByb3dbXCJ0eXBlXCJdID09IFwiYWNjZXNzX2RlbmllZFwiXHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKGF3YWl0IGJyb3dzZXIuZ2V0VGl0bGUoKSkuaW5jbHVkZXMocm93W1wibXNnXCJdKSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0SWQ6IHJvd1tcImN1c3RvbV9yZXBvcnRcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXhjZWxEYXRhOiBleGNlbERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiByb3dbXCJtc2dcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgaW5mbzogaW5mbyxcclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFNDUk9MTCBJTlRPVklFV1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCAkKFxyXG4gICAgICAgICAgICAgICAgICAgIGAvL2JvZHkvLypbY29udGFpbnModGV4dCgpLCAnJHtyb3dbXCJtc2dcIl19JyldYFxyXG4gICAgICAgICAgICAgICAgICApLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwiY2VudGVyXCIsIGlubGluZTogXCJjZW50ZXJcIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIENVU1RPTSBSRVBPUlRcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5jdXN0b21SZXBvcnQoYXJnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFRIUk9XIEVSUk9SXHJcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZhaWxlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KGJyb3dzZXIpLm5vdC50b0hhdmVUaXRsZUNvbnRhaW5pbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tcIm1zZ1wiXVxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJicm9rZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgIGFzc2VydC5mYWlsKG5ldyBFcnJvcihyb3dbXCJtc2dcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFrZSB1cCB0aGUgY29kZSB3aXRoIGJlYXV0eSBmb3JtYXRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgc3BlYyBmaWxlIHNjcmlwdFxyXG4gICAqIEBwYXJhbSB7SW50fSBpbmRlbnRfc2l6ZSBpbmRlbnQgc2l6ZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3BhY2VfaW5fZW1wdHlfcGFyZW4ga2VlcCBvciByZW1vdmUgc3BhY2UgaW4gZW1wdHkgcGFyZW5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHByZXNlcnZlX25ld2xpbmVzIGtlZXAgb3IgcmVtb3ZlIGVtcHR5IGxpbmVzXHJcbiAgICogQHBhcmFtIHtJbnR9IG1heF9wcmVzZXJ2ZV9uZXdsaW5lcyBudW1iZXIgb2YgZW1wdHkgbGluZXMgY2FuIGJlIGtlcHRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW9sIGNoYXJhY3RlciBkZWZpbmVkIGZvciBicmVha2xpbmVcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGNvZGVNYWtlVXAoXHJcbiAgICBjb250ZW50cyxcclxuICAgIGluZGVudF9zaXplID0gMixcclxuICAgIHNwYWNlX2luX2VtcHR5X3BhcmVuID0gdHJ1ZSxcclxuICAgIHByZXNlcnZlX25ld2xpbmVzID0gdHJ1ZSxcclxuICAgIG1heF9wcmVzZXJ2ZV9uZXdsaW5lcyA9IDIsXHJcbiAgICBlb2wgPSBcIlxcclwiXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gYmVhdXRpZnkoY29udGVudHMsIHtcclxuICAgICAgaW5kZW50X3NpemU6IGluZGVudF9zaXplLFxyXG4gICAgICBzcGFjZV9pbl9lbXB0eV9wYXJlbjogc3BhY2VfaW5fZW1wdHlfcGFyZW4sXHJcbiAgICAgIHByZXNlcnZlX25ld2xpbmVzOiBwcmVzZXJ2ZV9uZXdsaW5lcyxcclxuICAgICAgbWF4X3ByZXNlcnZlX25ld2xpbmVzOiBtYXhfcHJlc2VydmVfbmV3bGluZXMsXHJcbiAgICAgIGVvbDogZW9sLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBzcGVjIGZpbGVzIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gbGlzdCBvZiBwYWdlcyBpbiBleGNlbFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCBjbGllbnQgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvamVjdElkIHByb2plY3QgaWRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWRkU3RlcCBjdXN0b20gYWRkaXRpb25hbCBzdGVwXHJcbiAgICovXHJcbiAgYXN5bmMgc3BlY0dlbmVyYXRpb24oZmlsZSwgZmxvd3MgPSBbXSwgdG90YWwgPSAtMSwgZHluYW1pY0Jhc2VVcmwgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tRmlsZVBhdGgoZmlsZSk7XHJcbiAgICBjb25zdCBjbGllbnRJZCA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBpbmZvLnByb2plY3RJZDtcclxuICAgIGNvbnN0IGNhcHR1cmVUeXBlID0gXCJmdWxscGFnZVwiO1xyXG4gICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgY2xpZW50SWQsXHJcbiAgICAgIHByb2plY3RJZFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBDSEVDSyBJRiBDT05GSUcgSVMgRU5BQkxFRFxyXG4gICAgY29uc3QgZW5hYmxlZCA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcInNwZWNfZ2VuZXJhdGlvblwiXTtcclxuICAgIGlmICh0eXBlb2YgZW5hYmxlZCA9PSBcInVuZGVmaW5lZFwiIHx8IGVuYWJsZWQgIT0gXCJ5ZXNcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhgVGhlIGNvbmZpZyBpcyBzZXQgdG8gJHtlbmFibGVkfS5gKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdFVCBUT1RBTFxyXG4gICAgaWYgKHRvdGFsID09IC0xKSB0b3RhbCA9IGV4Y2VsRGF0YVtcInBhZ2VzXCJdLmxlbmd0aDtcclxuXHJcbiAgICAvLyBSRU1PVkUgT0xEIEZJTEVTXHJcbiAgICBhd2FpdCB0aGlzLnJlbW92ZUZpbGVzKGNsaWVudElkLCBwcm9qZWN0SWQsIGNhcHR1cmVUeXBlKTtcclxuXHJcbiAgICAvLyBDUkVBVEUgTkVXIEZJTEVTXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm93ID0gZXhjZWxEYXRhW1wicGFnZXNcIl1baV07XHJcblxyXG4gICAgICBpZiAocm93W1wiZG9tYWluXCJdICE9IFwiXCIgJiYgdHlwZW9mIHJvd1tcImRvbWFpblwiXSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgY29uc3QgZG9tYWluID0gcm93W1wiZG9tYWluXCJdLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XHJcbiAgICAgICAgbGV0IGhhbmRsZXIgPSBgYDtcclxuICAgICAgICBjb25zdCBwYWdlSWQgPSByb3dbXCJwYWdlX2lkXCJdO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHJvd1tcImhhbmRsZXJcIl0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgaGFuZGxlciA9IHJvd1tcImhhbmRsZXJcIl0ucmVwbGFjZSgvXlxcLysvLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBsaW5rID0gZG9tYWluICsgXCIvXCIgKyBoYW5kbGVyO1xyXG4gICAgICAgIGxldCBjb3JlU2NyaXB0ID0gYGF3YWl0IGJyb3dzZXIudXJsKFwiJHtsaW5rfVwiKTtgO1xyXG5cclxuICAgICAgICBpZiAoZHluYW1pY0Jhc2VVcmwpIHtcclxuICAgICAgICAgIGxpbmsgPSBcImAke2dsb2JhbC5keW5hbWljQmFzZVVybH0vXCIgKyBoYW5kbGVyICsgXCJgXCI7XHJcbiAgICAgICAgICBjb3JlU2NyaXB0ID0gYGF3YWl0IGJyb3dzZXIudXJsKCR7bGlua30pO2A7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBERUZJTkUgRklMRSBQQVRIXHJcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtwcm9qZWN0SWR9LiR7Y2FwdHVyZVR5cGV9LSR7cGFnZUlkfS5qc2A7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPVxyXG4gICAgICAgICAgcHJvY2Vzcy5jd2QoKSArXHJcbiAgICAgICAgICBgL3Rlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9L3JlY29yZC8ke2NhcHR1cmVUeXBlfS8ke2ZpbGVOYW1lfWA7XHJcblxyXG4gICAgICAgIC8vIERFRklORSBDT05URU5UU1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmxvd3MubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgIGNvbnN0IGZsb3cgPSBmbG93c1tqXTtcclxuICAgICAgICAgIGlmIChmbG93LmlkID09IFwiMFwiIHx8IGZsb3cuaWQgPT0gcm93W1wiZmxvd1wiXSkge1xyXG4gICAgICAgICAgICBpZiAoZmxvdy5wcmVTdGVwICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICBjb3JlU2NyaXB0ID0gZmxvdy5wcmVTdGVwICsgXCJcXG5cIiArIGNvcmVTY3JpcHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZsb3cuYWRkU3RlcCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgY29yZVNjcmlwdCA9IGNvcmVTY3JpcHQgKyBcIlxcblwiICsgZmxvdy5hZGRTdGVwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IGB2YXIgYXNzZXJ0ID0gcmVxdWlyZShcImFzc2VydFwiKTtcclxuICAgICAgICBkZXNjcmliZShcIiR7Y2FwdHVyZVR5cGV9LSR7cGFnZUlkfVwiLGFzeW5jIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBpdChcInJlY29yZGVyIDo6ICR7Y2FwdHVyZVR5cGV9LSR7cGFnZUlkfVwiLGFzeW5jIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICR7Y29yZVNjcmlwdH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO2A7XHJcblxyXG4gICAgICAgIC8vIENIRUNLIFNUQVRVU1xyXG4gICAgICAgIGlmIChyb3dbXCJzdGF0dXNcIl0gIT0gXCJhY3RpdmVcIikge1xyXG4gICAgICAgICAgLy8gUkVOQU1FXHJcbiAgICAgICAgICBjb25zdCBuZXdGaWxlUGF0aCA9XHJcbiAgICAgICAgICAgIHByb2Nlc3MuY3dkKCkgK1xyXG4gICAgICAgICAgICBgL3Rlc3Qvc3BlY3MvJHtjbGllbnRJZH0vJHtwcm9qZWN0SWR9L3JlY29yZC8ke2NhcHR1cmVUeXBlfS8ke3Byb2plY3RJZH0uJHtjYXB0dXJlVHlwZX0tJHtwYWdlSWR9LiR7cm93W1wic3RhdHVzXCJdfS5qc2A7XHJcbiAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci53cml0ZVNwZWMobmV3RmlsZVBhdGgsIHRoaXMuY29kZU1ha2VVcChjb250ZW50cykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBXUklURSBGSUxFXHJcbiAgICAgICAgICBhd2FpdCBkYXRhSGFuZGxlci53cml0ZVNwZWMoZmlsZVBhdGgsIHRoaXMuY29kZU1ha2VVcChjb250ZW50cykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGFsbCBjdXJyZW50IHNwZWNzIGJlZm9yZSBnZW5lcmF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkIGNsaWVudCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qZWN0SWQgcHJvamVjdCBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjYXB0dXJlVHlwZSBjYXB0dXJlIHR5cGVcclxuICAgKi9cclxuICBhc3luYyByZW1vdmVGaWxlcyhjbGllbnRJZCwgcHJvamVjdElkLCBjYXB0dXJlVHlwZSkge1xyXG4gICAgY29uc3QgcGF0aFBhdHRlcm4gPSBgLi90ZXN0L3NwZWNzLyR7Y2xpZW50SWR9LyR7cHJvamVjdElkfS9yZWNvcmQvJHtjYXB0dXJlVHlwZX0vKi5mdWxscGFnZS0qLmpzYDtcclxuICAgIGNvbnN0IHNlYXJjaEZpbGVzID0gYXdhaXQgZGF0YUhhbmRsZXIuc2VhcmNoQWxsU3BlY3MocGF0aFBhdHRlcm4pO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hGaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBmID0gc2VhcmNoRmlsZXNbaV07XHJcbiAgICAgIGF3YWl0IGRhdGFIYW5kbGVyLmRlbGV0ZUZpbGUoZik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY3VycmVudCBwdWJsaWMgSVAgQWRkcmVzc1xyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0SVBBZGRyKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgaHR0cHNcclxuICAgICAgICAuZ2V0KFwiaHR0cHM6Ly9hcGkuaXBpZnkub3JnXCIsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxldCBkYXRhID0gXCJcIjtcclxuXHJcbiAgICAgICAgICByZXMub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xyXG4gICAgICAgICAgICBkYXRhICs9IGNodW5rO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmVzLm9uKFwiZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHVibGljSXAgPSBkYXRhLnRyaW0oKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShwdWJsaWNJcCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcImVycm9yXCIsIChlcnIpID0+IHtcclxuICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgbG9jYWxpemF0aW9uIGZyb20gc3BlYyBpZFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjSWQgc3BlYyBpZFxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0TG9jYWxpemF0aW9uKHNwZWNJZCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBjb25zdCBjYXNlSWQgPSBpbmZvLmNhc2VJZDtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGFyckNhc2VJZCA9IGNhc2VJZC5zcGxpdChcIl9cIik7XHJcbiAgICBsZXQgY291bnRyeSA9IGFyckNhc2VJZFthcnJDYXNlSWQubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGNlbERhdGFbXCJsb2NhbGl6YXRpb25fbWFwXCJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IGV4Y2VsRGF0YVtcImxvY2FsaXphdGlvbl9tYXBcIl1baV07XHJcbiAgICAgIGlmIChyb3dbXCJrZXlcIl0gPT09IGNvdW50cnkudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgIGNvdW50cnkgPSByb3dbXCJtYXBwaW5nXCJdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvdW50cnk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdXRvIGdldCBkeW5hbWljIGJhc2UgdXJsXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNJZCBTcGVjIGlkXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBnZXREeW5hbWljVXJsKHNwZWNJZCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICBpbmZvLnByb2plY3RJZFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBDSEVDSyBJRiBBQ1RVQUwgVVJMIElTIERFRklORURcclxuICAgIGNvbnN0IGJhc2VVcmwgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJiYXNlX3VybFwiXTtcclxuICAgIGNvbnN0IGFjdHVhbFVybCA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImFjdHVhbF91cmxcIl07XHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGVvZiBhY3R1YWxVcmwgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAoYWN0dWFsVXJsICE9IFwiXCIpICYgKGFjdHVhbFVybCAhPSBiYXNlVXJsKVxyXG4gICAgKSB7XHJcbiAgICAgIC8vIEFDVFVBTCBVUkwgSVMgREVGSU5FRFxyXG4gICAgICBjb25zdCBjYXBzID0gYXdhaXQgY2FwSGFuZGxlci5nZXRDYXBhYmlsaXRpZXMoaW5mby5zcGVjSWQpO1xyXG4gICAgICBjb25zdCBiYXNlbGluZUZvbGRlciA9IGNhcHMuYmFzZWxpbmVGb2xkZXI7XHJcbiAgICAgIGNvbnN0IHBhdGhQYXR0ZXJuID0gYCR7aW5mby5iYXNlbGluZUZvbGRlcn0vJHtiYXNlbGluZUZvbGRlcn0vJHtzcGVjSWR9LnBuZ2A7XHJcbiAgICAgIGNvbnN0IHNlYXJjaEZpbGVzID0gYXdhaXQgZGF0YUhhbmRsZXIuc2VhcmNoQWxsU3BlY3MocGF0aFBhdHRlcm4pO1xyXG5cclxuICAgICAgLy8gQ0hFQ0sgSUYgQkFTRUxJTkUgSVMgRVhJU1RJTkdcclxuICAgICAgaWYgKHNlYXJjaEZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyBCQVNFTElORSBJUyBFWElTVElOR1xyXG4gICAgICAgIHJldHVybiBhY3R1YWxVcmw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQkFTRUxJTkUgSVMgTk9UIEVYSVNUSU5HXHJcbiAgICAgICAgcmV0dXJuIGJhc2VVcmw7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEFDVFVBTCBVUkwgSVMgTk9UIERFRklORURcclxuICAgICAgcmV0dXJuIGJhc2VVcmw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBVdGlscygpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUVoQyxNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQ0UsRUFBRTtBQUMxQyxNQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFFOUIsTUFBTUksWUFBWSxHQUFHSixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzVDLE1BQU1LLFdBQVcsR0FBR0wsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ2pELE1BQU1NLFVBQVUsR0FBR04sT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBRS9DLE1BQU1PLEtBQUssQ0FBQztFQUNWO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNQyxVQUFVQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRTtJQUMvQixNQUFNQyxJQUFJLEdBQUcsTUFBTU4sV0FBVyxDQUFDTyxpQkFBaUIsQ0FBQ0YsTUFBTSxDQUFDO0lBQ3hELE1BQU1HLFdBQVcsR0FBRyxNQUFNUixXQUFXLENBQUNTLGNBQWMsQ0FBQ0gsSUFBSSxDQUFDSSxRQUFRLEVBQUVOLE1BQU0sQ0FBQztJQUMzRSxNQUFNTyxTQUFTLEdBQUcsTUFBTVgsV0FBVyxDQUFDWSxtQkFBbUIsQ0FDckROLElBQUksQ0FBQ0ksUUFBUSxFQUNiTixNQUNGLENBQUM7O0lBRUQ7SUFDQSxNQUFNUyxjQUFjLEdBQUdM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","map":{"version":3,"names":["assert","require","beautify","js","https","allureCustom","dataHandler","capHandler","Utils","imgCompare","projId","specId","info","getInfoFromSpecId","captureOpts","getCaptureOpts","clientId","excelData","getProjectDataExcel","waitForCapture","global","browser","pause","hideRevEle","getHideRemoveEle","status","captureType","webCaptureOpts","web","mobileCaptureOpts","mobile","result","fullpageHideElements","length","fullpageRemoveElements","checkFullPageScreen","screenHideElements","screenRemoveElements","checkScreen","elementBlockOuts","blockOuts","resultObj","driver","compareScreen","misMatchPercentage","customDetail","customActions","fail","Error","pageAuth","projectId","enabled","baseUrl","handler","http","includes","url","replace","checkValidCaps","platform","capabilities","platformName","browserName","desiredCaps","desired","valid","captureDataSheet","caps","getCapabilities","i","row","fullHide","screenHide","fullRemove","screenRemove","mobileEleBlockout","mobileBlockout","fullHideEle","$","error","push","screenHideEle","fullRemoveEle","screenRemoveEle","blockoutMargin","toLowerCase","substring","ele","isExisting","element","margin","arg","JSON","parse","dimensions","width","height","getWindowRect","imgDimensions","getImgSize","baselineFolder","param","x","y","addCaptureOpts","key","value","type","jsonData","getGlobalDataJson","data","projects","changed","opts","id","values","deOpt","found","n","updateDataJsonFile","getIndicesOf","searchStr","str","caseSensitive","searchStrLen","startIndex","index","indices","indexOf","customReport","reportId","addSeverity","addEnvDetail","addArgument","getIPAddr","then","publicIp","console","log","catch","err","addStep","msg","screenshot","takeScreenshot","addAttachment","endStep","checkFireWall","eleMsg","getText","scrollIntoView","block","inline","expect","not","toBeExisting","getTitle","toHaveTitleContaining","codeMakeUp","contents","indent_size","space_in_empty_paren","preserve_newlines","max_preserve_newlines","eol","specGeneration","file","flows","total","dynamicBaseUrl","getInfoFromFilePath","removeFiles","domain","pageId","link","coreScript","fileName","filePath","process","cwd","j","flow","preStep","newFilePath","writeSpec","pathPattern","searchFiles","searchAllSpecs","f","deleteFile","Promise","resolve","reject","get","res","on","chunk","trim","getLocalization","caseId","arrCaseId","split","country","getDynamicUrl","actualUrl","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\","sources":["utils.js"],"sourcesContent":["const assert = require(\"assert\");\r\n\r\nconst beautify = require(\"js-beautify\").js;\r\nconst https = require(\"https\");\r\n\r\nconst allureCustom = require(\"./lib/allure\");\r\nconst dataHandler = require(\"./lib/data_handler\");\r\nconst capHandler = require(\"./lib/cap_handler\");\r\n\r\nclass Utils {\r\n  /**\r\n   * Save and compare the screenshots between baseline and actual\r\n   * @param {string} projId Project ID\r\n   * @param {string} specId Spec ID\r\n   */\r\n  async imgCompare(projId, specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, projId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      projId\r\n    );\r\n\r\n    // WAIT FOR CAPTURE LATENCY\r\n    const waitForCapture = captureOpts.global[\"wait_for\"];\r\n    await browser.pause(waitForCapture);\r\n\r\n    // GET ELEMENTS HIDDEN OR REMOVED\r\n    const hideRevEle = await this.getHideRemoveEle(\r\n      info,\r\n      captureOpts,\r\n      excelData\r\n    );\r\n\r\n    const status = info.status;\r\n    const captureType = info.captureType;\r\n    let webCaptureOpts = captureOpts.web;\r\n    let mobileCaptureOpts = captureOpts.mobile;\r\n    let result = 0;\r\n\r\n    // CHECK STATUS\r\n    if (status == \"active\") {\r\n      // CHECK CAPTURE TYPE\r\n      switch (captureType) {\r\n        case \"fullpage\":\r\n          // ADD HIDE REMOVE ELEMENT\r\n          if (\r\n            typeof hideRevEle.fullpageHideElements != \"undefined\" &&\r\n            hideRevEle.fullpageHideElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"hideElements\"] = hideRevEle.fullpageHideElements;\r\n          }\r\n          if (\r\n            typeof hideRevEle.fullpageRemoveElements != \"undefined\" &&\r\n            hideRevEle.fullpageRemoveElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"removeElements\"] =\r\n              hideRevEle.fullpageRemoveElements;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          result = await browser.checkFullPageScreen(specId, webCaptureOpts);\r\n          break;\r\n        case \"screen\":\r\n          // ADD HIDE REMOVE ELEMENT\r\n          if (\r\n            typeof hideRevEle.screenHideElements != \"undefined\" &&\r\n            hideRevEle.screenHideElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"hideElements\"] = hideRevEle.screenHideElements;\r\n          }\r\n          if (\r\n            typeof hideRevEle.screenRemoveElements != \"undefined\" &&\r\n            hideRevEle.screenRemoveElements.length > 0\r\n          ) {\r\n            webCaptureOpts[\"removeElements\"] = hideRevEle.screenRemoveElements;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          result = await browser.checkScreen(specId, webCaptureOpts);\r\n          break;\r\n        case \"mobile\":\r\n          // ADD BLOCKOUT ELEMENT\r\n          if (\r\n            typeof hideRevEle.elementBlockOuts != \"undefined\" &&\r\n            hideRevEle.elementBlockOuts.length > 0\r\n          ) {\r\n            mobileCaptureOpts[\"elementBlockOuts\"] = hideRevEle.elementBlockOuts;\r\n          }\r\n\r\n          // ADD BLOCKOUTS\r\n          if (\r\n            typeof hideRevEle.blockOuts != \"undefined\" &&\r\n            hideRevEle.blockOuts.length > 0\r\n          ) {\r\n            mobileCaptureOpts[\"blockOuts\"] = hideRevEle.blockOuts;\r\n          }\r\n\r\n          // DO COMPARISON --- AUTO SAVE BASELINE\r\n          let resultObj = await driver.compareScreen(specId, mobileCaptureOpts);\r\n\r\n          // GET RESULT\r\n          result = resultObj.misMatchPercentage;\r\n          break;\r\n      }\r\n    }\r\n\r\n    // CUSTOMIZE ALLURE REPORT\r\n    await allureCustom.customDetail(info, result, captureOpts);\r\n    allureCustom.customActions(specId, status);\r\n\r\n    // THROW ERROR IF FAILED\r\n    if (result > 0) {\r\n      assert.fail(\r\n        new Error(`Image comparison is failed. Diff percentage is ${result}%.`)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bypass page authentication\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   */\r\n  async pageAuth(clientId, projectId) {\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n    const enabled = excelData[\"auth\"][0][\"enabled\"];\r\n\r\n    if (enabled == \"yes\") {\r\n      const baseUrl = excelData[\"config\"][0][\"base_url\"];\r\n      const handler = excelData[\"auth\"][0][\"handler\"];\r\n      let http = \"http://\";\r\n      if (baseUrl.includes(\"https://\")) http = \"https://\";\r\n\r\n      await browser.url(\r\n        `${http}${excelData[\"auth\"][0][\"usr\"]}:${\r\n          excelData[\"auth\"][0][\"pass\"]\r\n        }@${baseUrl.replace(http, \"\")}${handler}`\r\n      );\r\n      await browser.pause(`${excelData[\"auth\"][0][\"wait\"]}`);\r\n      await browser.url(`${baseUrl}${handler}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if current capability is valid\r\n   * @returns {boolean}\r\n   */\r\n  async checkValidCaps() {\r\n    const platform = await browser.capabilities.platformName;\r\n    const browserName = await browser.capabilities.browserName;\r\n    let desiredCaps = await browser.capabilities.desired;\r\n    let valid = true;\r\n\r\n    if (typeof desiredCaps == \"undefined\")\r\n      desiredCaps = await driver.capabilities;\r\n\r\n    // DETECT WEB OR MOBILE\r\n    if (browserName == \"\" || typeof browserName == \"undefined\") {\r\n      switch (platform) {\r\n        case \"Android\":\r\n          if (\r\n            (typeof desiredCaps[\"udid\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:udid\"] == \"undefined\") ||\r\n            (typeof desiredCaps[\"appPackage\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:appPackage\"] == \"undefined\") ||\r\n            (typeof desiredCaps[\"appActivity\"] == \"undefined\" &&\r\n              typeof desiredCaps[\"appium:appActivity\"] == \"undefined\")\r\n          )\r\n            valid = false;\r\n          break;\r\n\r\n        case \"iOS\":\r\n          break;\r\n      }\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  /**\r\n   * Get list of elements to hide or remove or blockout\r\n   * @param {Object} info spec information\r\n   * @param {Object} captureOpts capture options\r\n   * @param {Object} excelData excel data\r\n   * @returns {Object}\r\n   */\r\n  async getHideRemoveEle(info, captureOpts, excelData) {\r\n    const captureDataSheet = excelData[\"img_compare\"];\r\n    const caps = await capHandler.getCapabilities(info.specId);\r\n    let result = {\r\n      // WEB\r\n      fullpageHideElements: [],\r\n      fullpageRemoveElements: [],\r\n      screenHideElements: [],\r\n      screenRemoveElements: [],\r\n      // MOBILE\r\n      elementBlockOuts: [],\r\n      blockOuts: [],\r\n    };\r\n\r\n    // DEFINE PLATFORM\r\n    let platform = \"web\";\r\n    if (info.captureType == \"mobile\") platform = \"mobile\";\r\n\r\n    for (let i = 0; i < captureDataSheet.length; i++) {\r\n      const row = captureDataSheet[i];\r\n      const fullHide = row[\"fullpage_hide_element\"];\r\n      const screenHide = row[\"screen_hide_element\"];\r\n      const fullRemove = row[\"fullpage_remove_element\"];\r\n      const screenRemove = row[\"screen_remove_element\"];\r\n      const mobileEleBlockout = row[\"mobile_element_blockout\"];\r\n      const mobileBlockout = row[\"mobile_blockouts\"];\r\n\r\n      switch (platform) {\r\n        case \"web\":\r\n          // HIDE ELEMENT --- VISIBILITY = HIDDEN\r\n          if (typeof fullHide != \"undefined\" && fullHide != \"\") {\r\n            const fullHideEle = await $(fullHide);\r\n            if (typeof fullHideEle.error == \"undefined\")\r\n              result[\"fullpageHideElements\"].push(fullHideEle);\r\n          }\r\n          if (typeof screenHide != \"undefined\" && screenHide != \"\") {\r\n            const screenHideEle = await $(screenHide);\r\n            if (typeof screenHideEle.error == \"undefined\")\r\n              result[\"screenHideElements\"].push(screenHideEle);\r\n          }\r\n\r\n          // REMOVE ELEMENT --- DISPLAY = NONE\r\n          if (typeof fullRemove != \"undefined\" && fullRemove != \"\") {\r\n            const fullRemoveEle = await $(fullRemove);\r\n            if (typeof fullRemoveEle.error == \"undefined\")\r\n              result[\"fullpageRemoveElements\"].push(fullRemoveEle);\r\n          }\r\n          if (typeof screenRemove != \"undefined\" && screenRemove != \"\") {\r\n            const screenRemoveEle = await $(screenRemove);\r\n            if (typeof screenRemoveEle.error == \"undefined\")\r\n              result[\"screenRemoveElements\"].push(screenRemoveEle);\r\n          }\r\n          break;\r\n        case \"mobile\":\r\n          const blockoutMargin = captureOpts.global[\"element_blockout_margin\"];\r\n          // ELEMENT BLOCKOUTS\r\n          if (\r\n            typeof mobileEleBlockout != \"undefined\" &&\r\n            mobileEleBlockout != \"\"\r\n          ) {\r\n            if (\r\n              (caps.platformName.toLowerCase() == \"android\" &&\r\n                mobileEleBlockout.includes(\"android=\")) ||\r\n              (caps.platformName.toLowerCase() == \"ios\" &&\r\n                mobileEleBlockout.includes(\"-ios\")) ||\r\n              mobileEleBlockout.substring(0, 1) == \"~\" ||\r\n              mobileEleBlockout.substring(0, 2) == \"//\"\r\n            ) {\r\n              const ele = await $(mobileEleBlockout);\r\n              if (await ele.isExisting())\r\n                result[\"elementBlockOuts\"].push({\r\n                  element: ele,\r\n                  margin: blockoutMargin,\r\n                });\r\n            }\r\n          }\r\n          // BLOCKOUTS\r\n          if (typeof mobileBlockout != \"undefined\" && mobileBlockout != \"\") {\r\n            const arg = JSON.parse(mobileBlockout);\r\n\r\n            // GET IMG DIMENSIONS\r\n            let dimensions = {};\r\n            if (caps.platformName.toLowerCase() == \"android\") {\r\n              const { width, height } = await driver.getWindowRect();\r\n              dimensions.width = width;\r\n              dimensions.height = height;\r\n            }\r\n            if (caps.platformName.toLowerCase() == \"ios\") {\r\n              const imgDimensions = await dataHandler.getImgSize(\r\n                info,\r\n                caps.baselineFolder\r\n              );\r\n              dimensions.width = imgDimensions.width;\r\n              dimensions.height = imgDimensions.height;\r\n            }\r\n\r\n            if (dimensions.width > 0 || dimensions.height > 0) {\r\n              let param = {\r\n                x: arg.x * dimensions.width,\r\n                y: arg.y * dimensions.height,\r\n                width: dimensions.width,\r\n                height: dimensions.height,\r\n              };\r\n              if (typeof arg.height != \"undefined\") {\r\n                param.height = arg.height;\r\n              }\r\n              if (typeof arg.width != \"undefined\") {\r\n                param.width = arg.width;\r\n              }\r\n\r\n              result[\"blockOuts\"].push(param);\r\n            }\r\n          }\r\n\r\n          break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Add custom capture option\r\n   * @param {string} specId Spec id\r\n   * @param {string} key option name\r\n   * @param {string} value option value\r\n   * @param {string} type web or mobile\r\n   */\r\n  async addCaptureOpts(specId, key, value, type = \"web\") {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    var data = jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"];\r\n    let changed = false;\r\n\r\n    let opts = {\r\n      id: specId,\r\n      values: [],\r\n    };\r\n\r\n    if (typeof data == \"undefined\" || data.length <= 0) {\r\n      data = [];\r\n      data.push(opts);\r\n    }\r\n\r\n    // LOOP DATA\r\n    for (let i = 0; i < data.length; i++) {\r\n      // DEFINE DETAIL OPT\r\n      const deOpt = {\r\n        key: key,\r\n        enabled: true,\r\n        arg: {\r\n          type: type,\r\n          value: value,\r\n        },\r\n      };\r\n\r\n      if (data[i][\"id\"] == specId) {\r\n        // CHECK OPT EXIST\r\n        if (\r\n          typeof data[i].values == \"undefined\" ||\r\n          data[i].values.length <= 0\r\n        ) {\r\n          data[i].values = [];\r\n          data[i].values.push(deOpt);\r\n          changed = true;\r\n        } else {\r\n          let found = false;\r\n          for (let n = 0; n < data[i].values.length; n++) {\r\n            if (data[i].values[n].key == key) {\r\n              data[i].values[n] = deOpt;\r\n              found = true;\r\n              changed = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!found) {\r\n            data[i].values.push(deOpt);\r\n            changed = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // WRITE JSON\r\n    if (changed) {\r\n      jsonData.projects[info.clientId][info.projectId][\"cpt_opt\"] = data;\r\n      await dataHandler.updateDataJsonFile(jsonData);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Search all indexes of substring in string\r\n   * @param {string} searchStr Search substring\r\n   * @param {string} str Target string\r\n   * @param {boolean} caseSensitive Case sensitive\r\n   * @returns {Array} found indexes\r\n   */\r\n  getIndicesOf(searchStr, str, caseSensitive) {\r\n    var searchStrLen = searchStr.length;\r\n    if (searchStrLen == 0) {\r\n      return [];\r\n    }\r\n    var startIndex = 0,\r\n      index,\r\n      indices = [];\r\n    if (!caseSensitive) {\r\n      str = str.toLowerCase();\r\n      searchStr = searchStr.toLowerCase();\r\n    }\r\n    while ((index = str.indexOf(searchStr, startIndex)) > -1) {\r\n      indices.push(index);\r\n      startIndex = index + searchStrLen;\r\n    }\r\n    return indices;\r\n  }\r\n\r\n  /**\r\n   * Customize the allure report for current spec\r\n   * @param {Object} arg included reportId, excelData, msg and info object\r\n   */\r\n  async customReport(arg = {}) {\r\n    for (let i = 0; i < arg.excelData[\"custom_report\"].length; i++) {\r\n      const row = arg.excelData[\"custom_report\"][i];\r\n\r\n      if (row[\"id\"] == arg.reportId) {\r\n        // CUSTOMIZE ALLURE REPORT\r\n        allureCustom.addSeverity(row[\"severity\"]);\r\n\r\n        // ADD ENV DETAIL\r\n        await allureCustom.addEnvDetail(arg.info);\r\n\r\n        // ADD CASE ID\r\n        allureCustom.addArgument(\"case\", arg.info.specId);\r\n\r\n        // ADD IP ADDR\r\n        await this.getIPAddr()\r\n          .then((publicIp) => {\r\n            console.log(publicIp); // prints the public IP address to the console\r\n            allureCustom.addArgument(\"ip\", publicIp);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n\r\n        // ADD STEP\r\n        allureCustom.addStep(arg.msg);\r\n\r\n        // ADD ATTACHMENT\r\n        const screenshot = await browser.takeScreenshot();\r\n        allureCustom.addAttachment(screenshot);\r\n\r\n        // END STEP\r\n        allureCustom.endStep(row[\"status\"]);\r\n\r\n        return row[\"status\"];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if firewall rejected the access\r\n   * @param {String} specId spec id\r\n   */\r\n  async checkFireWall(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    if (info.captureType != \"mobile\") {\r\n      for (let i = 0; i < excelData[\"firewall\"].length; i++) {\r\n        const row = excelData[\"firewall\"][i];\r\n\r\n        if (row[\"enabled\"] == \"yes\") {\r\n          switch (row[\"type\"]) {\r\n            case \"security\":\r\n              const eleMsg = await $(\r\n                `//body//*[contains(text(), '${row[\"msg\"]}')]`\r\n              );\r\n\r\n              // IF ERROR MESSAGE IS RETURNED\r\n              if (typeof eleMsg.error == \"undefined\") {\r\n                const msg = await eleMsg.getText();\r\n                const arg = {\r\n                  reportId: row[\"custom_report\"],\r\n                  excelData: excelData,\r\n                  msg: msg,\r\n                  info: info,\r\n                };\r\n\r\n                // SCROLL INTOVIEW\r\n                await eleMsg.scrollIntoView({\r\n                  block: \"center\",\r\n                  inline: \"center\",\r\n                });\r\n\r\n                // CUSTOM REPORT\r\n                const status = await this.customReport(arg);\r\n\r\n                // THROW ERROR\r\n                switch (status) {\r\n                  case \"failed\":\r\n                    await expect(eleMsg).not.toBeExisting();\r\n                    break;\r\n                  case \"broken\":\r\n                    assert.fail(new Error(msg));\r\n                    break;\r\n                }\r\n              }\r\n              break;\r\n            default:\r\n              if (\r\n                row[\"type\"] == \"error_404\" ||\r\n                row[\"type\"] == \"access_denied\"\r\n              ) {\r\n                if ((await browser.getTitle()).includes(row[\"msg\"])) {\r\n                  const arg = {\r\n                    reportId: row[\"custom_report\"],\r\n                    excelData: excelData,\r\n                    msg: row[\"msg\"],\r\n                    info: info,\r\n                  };\r\n\r\n                  // SCROLL INTOVIEW\r\n                  await $(\r\n                    `//body//*[contains(text(), '${row[\"msg\"]}')]`\r\n                  ).scrollIntoView({ block: \"center\", inline: \"center\" });\r\n\r\n                  // CUSTOM REPORT\r\n                  const status = await this.customReport(arg);\r\n\r\n                  // THROW ERROR\r\n                  switch (status) {\r\n                    case \"failed\":\r\n                      await expect(browser).not.toHaveTitleContaining(\r\n                        row[\"msg\"]\r\n                      );\r\n                      break;\r\n                    case \"broken\":\r\n                      assert.fail(new Error(row[\"msg\"]));\r\n                      break;\r\n                  }\r\n                }\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Make up the code with beauty format\r\n   * @param {String} contents spec file script\r\n   * @param {Int} indent_size indent size\r\n   * @param {Boolean} space_in_empty_paren keep or remove space in empty paren\r\n   * @param {Boolean} preserve_newlines keep or remove empty lines\r\n   * @param {Int} max_preserve_newlines number of empty lines can be kept\r\n   * @param {String} eol character defined for breakline\r\n   * @returns {String}\r\n   */\r\n  codeMakeUp(\r\n    contents,\r\n    indent_size = 2,\r\n    space_in_empty_paren = true,\r\n    preserve_newlines = true,\r\n    max_preserve_newlines = 2,\r\n    eol = \"\\r\"\r\n  ) {\r\n    return beautify(contents, {\r\n      indent_size: indent_size,\r\n      space_in_empty_paren: space_in_empty_paren,\r\n      preserve_newlines: preserve_newlines,\r\n      max_preserve_newlines: max_preserve_newlines,\r\n      eol: eol,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate spec files automatically based on list of pages in excel\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} addStep custom additional step\r\n   */\r\n  async specGeneration(file, flows = [], total = -1, dynamicBaseUrl = false) {\r\n    const info = await dataHandler.getInfoFromFilePath(file);\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    const captureType = \"fullpage\";\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      clientId,\r\n      projectId\r\n    );\r\n\r\n    // CHECK IF CONFIG IS ENABLED\r\n    const enabled = excelData[\"config\"][0][\"spec_generation\"];\r\n    if (typeof enabled == \"undefined\" || enabled != \"yes\") {\r\n      console.log(`The config is set to ${enabled}.`);\r\n      return false;\r\n    }\r\n\r\n    // GET TOTAL\r\n    if (total == -1) total = excelData[\"pages\"].length;\r\n\r\n    // REMOVE OLD FILES\r\n    await this.removeFiles(clientId, projectId, captureType);\r\n\r\n    // CREATE NEW FILES\r\n    for (let i = 0; i < total; i++) {\r\n      const row = excelData[\"pages\"][i];\r\n\r\n      if (row[\"domain\"] != \"\" && typeof row[\"domain\"] != \"undefined\") {\r\n        const domain = row[\"domain\"].replace(/\\/+$/, \"\");\r\n        let handler = ``;\r\n        const pageId = row[\"page_id\"];\r\n\r\n        if (typeof row[\"handler\"] != \"undefined\") {\r\n          handler = row[\"handler\"].replace(/^\\/+/, \"\");\r\n        }\r\n\r\n        let link = domain + \"/\" + handler;\r\n        let coreScript = `await browser.url(\"${link}\");`;\r\n\r\n        if (dynamicBaseUrl) {\r\n          link = \"`${global.dynamicBaseUrl}/\" + handler + \"`\";\r\n          coreScript = `await browser.url(${link});`;\r\n        }\r\n\r\n        // DEFINE FILE PATH\r\n        const fileName = `${projectId}.${captureType}-${pageId}.js`;\r\n        const filePath =\r\n          process.cwd() +\r\n          `/test/specs/${clientId}/${projectId}/record/${captureType}/${fileName}`;\r\n\r\n        // DEFINE CONTENTS\r\n        for (let j = 0; j < flows.length; j++) {\r\n          const flow = flows[j];\r\n          if (flow.id == \"0\" || flow.id == row[\"flow\"]) {\r\n            if (flow.preStep != \"\") {\r\n              coreScript = flow.preStep + \"\\n\" + coreScript;\r\n            }\r\n            if (flow.addStep != \"\") {\r\n              coreScript = coreScript + \"\\n\" + flow.addStep;\r\n            }\r\n          }\r\n        }\r\n\r\n        const contents = `var assert = require(\"assert\");\r\n        describe(\"${captureType}-${pageId}\",async function(){\r\n          it(\"recorder :: ${captureType}-${pageId}\",async function(){\r\n            ${coreScript}\r\n          });\r\n        });`;\r\n\r\n        // CHECK STATUS\r\n        if (row[\"status\"] != \"active\") {\r\n          // RENAME\r\n          const newFilePath =\r\n            process.cwd() +\r\n            `/test/specs/${clientId}/${projectId}/record/${captureType}/${projectId}.${captureType}-${pageId}.${row[\"status\"]}.js`;\r\n          await dataHandler.writeSpec(newFilePath, this.codeMakeUp(contents));\r\n        } else {\r\n          // WRITE FILE\r\n          await dataHandler.writeSpec(filePath, this.codeMakeUp(contents));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove all current specs before generation\r\n   * @param {String} clientId client id\r\n   * @param {String} projectId project id\r\n   * @param {String} captureType capture type\r\n   */\r\n  async removeFiles(clientId, projectId, captureType) {\r\n    const pathPattern = `./test/specs/${clientId}/${projectId}/record/${captureType}/*.fullpage-*.js`;\r\n    const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\r\n    for (let i = 0; i < searchFiles.length; i++) {\r\n      const f = searchFiles[i];\r\n      await dataHandler.deleteFile(f);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current public IP Address\r\n   * @returns {String}\r\n   */\r\n  async getIPAddr() {\r\n    return new Promise((resolve, reject) => {\r\n      https\r\n        .get(\"https://api.ipify.org\", (res) => {\r\n          let data = \"\";\r\n\r\n          res.on(\"data\", (chunk) => {\r\n            data += chunk;\r\n          });\r\n\r\n          res.on(\"end\", () => {\r\n            const publicIp = data.trim();\r\n            resolve(publicIp);\r\n          });\r\n        })\r\n        .on(\"error\", (err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get localization from spec id\r\n   * @param {String} specId spec id\r\n   * @returns {String}\r\n   */\r\n  async getLocalization(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const caseId = info.caseId;\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    const arrCaseId = caseId.split(\"_\");\r\n    let country = arrCaseId[arrCaseId.length - 1];\r\n\r\n    for (let i = 0; i < excelData[\"localization_map\"].length; i++) {\r\n      const row = excelData[\"localization_map\"][i];\r\n      if (row[\"key\"] === country.toLowerCase()) {\r\n        country = row[\"mapping\"];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return country;\r\n  }\r\n\r\n  /**\r\n   * Auto get dynamic base url\r\n   * @param {String} specId Spec id\r\n   * @returns {String}\r\n   */\r\n  async getDynamicUrl(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    // CHECK IF ACTUAL URL IS DEFINED\r\n    const baseUrl = excelData[\"config\"][0][\"base_url\"];\r\n    const actualUrl = excelData[\"config\"][0][\"actual_url\"];\r\n    if (\r\n      typeof actualUrl != \"undefined\" &&\r\n      (actualUrl != \"\") & (actualUrl != baseUrl)\r\n    ) {\r\n      // ACTUAL URL IS DEFINED\r\n      const caps = await capHandler.getCapabilities(info.specId);\r\n      const baselineFolder = caps.baselineFolder;\r\n      const pathPattern = `${info.baselineFolder}/${baselineFolder}/${specId}.png`;\r\n      const searchFiles = await dataHandler.searchAllSpecs(pathPattern);\r\n\r\n      // CHECK IF BASELINE IS EXISTING\r\n      if (searchFiles.length > 0) {\r\n        // BASELINE IS EXISTING\r\n        return actualUrl;\r\n      } else {\r\n        // BASELINE IS NOT EXISTING\r\n        return baseUrl;\r\n      }\r\n    } else {\r\n      // ACTUAL URL IS NOT DEFINED\r\n      return baseUrl;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new Utils();\r\n"],"mappings":"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"}},"mtime":1700647516317},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\allure.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const allureReporter = require(\"@wdio/allure-reporter\").default;\nconst dataHandler = require(\"./data_handler\");\nconst capHandler = require(\"./cap_handler\");\nconst common = require(\"../common\");\nclass allureCustom {\n  constructor() {}\n\n  /**\r\n   * Custom Allure detail\r\n   * @param {Object} info spec information\r\n   * @param {Int} compareResult comparison result\r\n   * @param {Object} captureOpts capture options\r\n   */\n  async customDetail(info, compareResult, captureOpts, severity = \"critical\") {\n    const specId = info.specId;\n    const status = info.status;\n    const captureType = info.captureType;\n    const caps = await capHandler.getCapabilities(specId);\n    const screenshots = await dataHandler.getScreenshots(specId, caps.baselineFolder);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n    let clientName = excelData[\"config\"][0][\"client\"];\n    let prjName = excelData[\"config\"][0][\"project\"];\n    if (clientName == \"\") clientName = info.clientId;\n    if (prjName == \"\") prjName = info.projectId;\n\n    // ADD ENV\n    if (captureType == \"mobile\") {\n      allureReporter.addEnvironment(`${prjName} :: ${common.capitalize(captureType)} :: ${caps.platformName}`, `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`);\n    } else {\n      allureReporter.addEnvironment(`${prjName} :: ${common.capitalize(captureType)} :: ${caps.platformName}`, `${common.capitalize(caps.browserName)} ${caps.browserVersion}`);\n    }\n\n    // ADD FEATURES - USED TO DISPLAY UNDER \"FEATURES BY STORIES\"\n    allureReporter.addFeature(`${clientName} :: ${prjName}`);\n\n    // ADD CUSTOM INFO\n    switch (status) {\n      case \"active\":\n        allureReporter.addStory(captureType.charAt(0).toUpperCase() + captureType.slice(1));\n\n        // ADD DETAIL --- ONLY FAILED CASE\n        if (compareResult > 0) {\n          allureReporter.addSeverity(severity);\n\n          // ADD ATTACHMENTS\n          allureReporter.addAttachment(`Baseline: ${specId}`, screenshots.contents.baseline, \"image/png\");\n          allureReporter.addAttachment(`Actual: ${specId}`, screenshots.contents.actual, \"image/png\");\n          allureReporter.addAttachment(`Diff: ${specId}`, screenshots.contents.diff, \"image/png\");\n\n          // GET PAGE HTML\n          if (captureType != \"mobile\") {\n            const body = await $(\"body\");\n            const html = await body.getHTML();\n            allureReporter.addAttachment(`HTML: ${specId}`, html);\n          }\n\n          // ADD CONSOLE\n          console.log({\n            specId: specId,\n            captureOpts: captureOpts,\n            capabilities: driver.capabilities\n          });\n        }\n        break;\n      case \"manual\":\n        allureReporter.addStory(\"Manual Test\");\n        break;\n      case \"deactivate\":\n        allureReporter.addStory(\"Deactivated\");\n        break;\n      case \"support\":\n        allureReporter.addStory(\"Request support\");\n        break;\n    }\n\n    // ADD CASE ID\n    allureReporter.addArgument(\"case\", specId);\n\n    // ADD ENV DETAIL\n    await this.addEnvDetail(info);\n  }\n\n  /**\r\n   * Add environment detail\r\n   * @param {Object} info project information\r\n   */\n  async addEnvDetail(info) {\n    if (info.status == \"active\") {\n      const caps = await capHandler.getCapabilities(info.specId);\n      if (info.captureType == \"mobile\") {\n        allureReporter.addArgument(\"platform\", caps.platformName);\n        allureReporter.addArgument(\"device name\", `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`);\n        allureReporter.addArgument(\"device udid\", caps.deviceUDID);\n        allureReporter.addArgument(\"device screen size\", caps.deviceScreenSize);\n        allureReporter.addArgument(\"platform version\", caps.platformVersion);\n        allureReporter.addArgument(\"device api level\", caps.deviceApiLevel);\n      } else {\n        allureReporter.addArgument(\"url\", await browser.getUrl());\n        allureReporter.addArgument(\"platform\", caps.platformName);\n        allureReporter.addArgument(\"browser name\", `${common.capitalize(caps.browserName)} ${caps.browserVersion}`);\n      }\n    }\n  }\n\n  /**\r\n   * Custom Allure description and add custom actions\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} status active, deactive, manual, support\r\n   */\n  customActions(specId, status) {\n    const injectJS = `\n      <script>\n        var rvDefaultScreenshot = (timer) => {\n          // Remove default screenshot\n          var eles = document.getElementsByClassName(\"attachment-row__name long-line\");\n          var xPath = \"//div[contains(text(),'Screenshot')]\";\n          var arr = [];\n          for (let i = 0; i < eles.length; i++) {\n            if(eles[i].textContent.includes(\"Screenshot\")){\n              arr.push(eles[i].parentNode.parentNode);\n            }\n\n            if(eles[i].textContent.includes(\"Diff\")){\n              var referenceNode = eles[i].parentNode.parentNode;\n              var newNode = document.createElement(\"hr\");\n              referenceNode.after(newNode);\n            }\n          }\n          for (let j = 0; j < arr.length; j++) {\n            arr[j].remove();\n          }\n\n          // Remove default browser or device\n          var browserXPath = \"//span[contains(text(),'browser')]\";\n          var deviceXPath = \"//span[contains(text(),'device')]\";\n          var browserEle = document.evaluate(browserXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          var deviceEle = document.evaluate(deviceXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          if(browserEle != null) {\n            browserEle.parentNode.remove();\n          }\n          if(deviceEle != null) {\n            deviceEle.parentNode.remove();\n          }\n\n          console.log(\"Timer is working\");\n\n          var matchingElement = document.evaluate(xPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n          if(matchingElement == null) {\n            clearInterval(timer);\n            console.log(\"Timer is ended\");\n          }\n        }\n\n        var timer = setInterval(() => {\n          rvDefaultScreenshot(timer);\n        }, 100);\n      </script>\n    `;\n\n    // Icons are defined here: https://fontawesome.com/v4/icons/\n    let title = \"\";\n    const deactivateCommand = `qatest=tests%20deactivate%20--exec-dis-testname=${specId}`;\n    const deactivateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${deactivateCommand}`;\n    const activateCommand = `qatest=tests%20activate%20--exec-dis-testname=${specId}`;\n    const activateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${activateCommand}`;\n    const manualCommand = `qatest=tests%20manual%20--exec-dis-testname=${specId}`;\n    const manualHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${manualCommand}`;\n    const supportCommand = `qatest=tests%20support%20--exec-dis-testname=${specId}`;\n    const supportHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${supportCommand}`;\n    const rebaselineCommand = `qatest=screenshot%20override%20--scr-testname=${specId}`;\n    const rebaselineHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${rebaselineCommand}`;\n    let activeHTML = `\n      <li>\n        <span class=\"fa fa-check\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${activateHref}\">Activate this spec for automation test</a>\n      </li>\n      </br>\n    `;\n    let deactiveHTML = `\n      <li>\n        <span class=\"fa fa-archive\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${deactivateHref}\">Deactivate this spec</a>\n      </li>\n      </br>\n    `;\n    let manualHTML = `\n      <li>\n        <span class=\"fa fa-signing\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${manualHref}\">Confirm this spec for manual test</a>\n      </li>\n      </br>\n    `;\n    let supportHTML = `\n      <li>\n        <span class=\"fa fa-support\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${supportHref}\">Request support from QA Auto</a>\n      </li>\n      </br>\n    `;\n    let rebaselineHTML = `\n      <li>\n        <span class=\"fa fa-photo\"></span>\n        <a class=\"link\" target=\"_blank\" href=\"${rebaselineHref}\">Update baseline</a>\n      </li>\n    `;\n    switch (status) {\n      case \"active\":\n        title = `<span style=\"color: blue;\">This spec is active for automation test. You can change the status by one of actions below.</span>`;\n        activeHTML = \"\";\n        break;\n      case \"manual\":\n        title = `<span style=\"color: red;\">This spec is applied for manual test. You can change the status by one of actions below.</span>`;\n        manualHTML = \"\";\n        break;\n      case \"deactivate\":\n        title = `<span style=\"color: red;\">This spec is deactivated. You can change the status by one of actions below.</span>`;\n        deactiveHTML = \"\";\n        break;\n      case \"support\":\n        title = `<span style=\"color: red;\">This spec is required support from QA Automation. You can change the status by one of actions below.</span>`;\n        supportHTML = \"\";\n        break;\n    }\n    const desc = `\n      <div style=\"font-size:16pt;\">${title}</div>\n      <ul style=\"list-style: none;margin-left: -1.5em;\">\n        ${activeHTML}\n        ${deactiveHTML}\n        ${manualHTML}\n        ${supportHTML}\n        ${rebaselineHTML}\n      </ul>\n    `;\n    allureReporter.addDescription(injectJS + desc, \"html\");\n  }\n\n  /**\r\n   * Group spec into recorder or image comparison\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   */\n  async groupTest(specFileName, specTitle) {\n    const info = await dataHandler.getInfoFromFilePath(specFileName);\n    const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n\n    // Group all tests into recorder\n    if (!specTitle.includes(\"image comparison\") && !specTitle.includes(\"init project\") && !specTitle.includes(\"generate spec files\")) {\n      const clientName = excelData[\"config\"][0][\"client\"];\n      const prjName = excelData[\"config\"][0][\"project\"];\n      if (clientName == \"\") clientName = info.clientId;\n      if (prjName == \"\") prjName = info.projectId;\n      allureReporter.addFeature(`${clientName} :: ${prjName}`);\n      allureReporter.addStory(\"Recorder\");\n    }\n  }\n\n  /**\r\n   * Add custom link into Allure\r\n   * @param {String} link link to be added into Allure\r\n   */\n  addIssue(link) {\n    allureReporter.addIssue(link);\n  }\n\n  /**\r\n   * Add a custom step to report\r\n   * @param {String} msg Message throw out\r\n   */\n  addStep(msg) {\n    allureReporter.startStep(msg);\n  }\n\n  /**\r\n   * End step with status\r\n   * @param {String} status \"failed\", \"passed\", \"broken\", \"skipped\" or \"unknown\"\r\n   */\n  endStep(status) {\n    allureReporter.endStep(status);\n  }\n\n  /**\r\n   * Add severity for test in Allure\r\n   * @param {String} severity blocker, critical, normal, minor, trivial\r\n   */\n  addSeverity(severity) {\n    allureReporter.addSeverity(severity);\n  }\n\n  /**\r\n   * Add argument for test in Allure\r\n   * @param {String} name name of argument\r\n   * @param {String} value value of argument\r\n   */\n  addArgument(name, value) {\n    allureReporter.addArgument(name, value);\n  }\n\n  /**\r\n   * Add attachment into report\r\n   * @param {String} contents screenshot binary\r\n   */\n  addAttachment(contents, type = \"image/png\") {\n    allureReporter.addAttachment(`Screenshot`, Buffer.from(contents, \"base64\"), type);\n  }\n}\nmodule.exports = new allureCustom();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGx1cmVSZXBvcnRlciIsInJlcXVpcmUiLCJkZWZhdWx0IiwiZGF0YUhhbmRsZXIiLCJjYXBIYW5kbGVyIiwiY29tbW9uIiwiYWxsdXJlQ3VzdG9tIiwiY29uc3RydWN0b3IiLCJjdXN0b21EZXRhaWwiLCJpbmZvIiwiY29tcGFyZVJlc3VsdCIsImNhcHR1cmVPcHRzIiwic2V2ZXJpdHkiLCJzcGVjSWQiLCJzdGF0dXMiLCJjYXB0dXJlVHlwZSIsImNhcHMiLCJnZXRDYXBhYmlsaXRpZXMiLCJzY3JlZW5zaG90cyIsImdldFNjcmVlbnNob3RzIiwiYmFzZWxpbmVGb2xkZXIiLCJleGNlbERhdGEiLCJnZXRQcm9qZWN0RGF0YUV4Y2VsIiwiY2xpZW50SWQiLCJwcm9qZWN0SWQiLCJjbGllbnROYW1lIiwicHJqTmFtZSIsImFkZEVudmlyb25tZW50IiwiY2FwaXRhbGl6ZSIsInBsYXRmb3JtTmFtZSIsImRldmljZU1hbnVmYWN0dXJlciIsImRldmljZU1vZGVsIiwiYnJvd3Nlck5hbWUiLCJicm93c2VyVmVyc2lvbiIsImFkZEZlYXR1cmUiLCJhZGRTdG9yeSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJhZGRTZXZlcml0eSIsImFkZEF0dGFjaG1lbnQiLCJjb250ZW50cyIsImJhc2VsaW5lIiwiYWN0dWFsIiwiZGlmZiIsImJvZHkiLCIkIiwiaHRtbCIsImdldEhUTUwiLCJjb25zb2xlIiwibG9nIiwiY2FwYWJpbGl0aWVzIiwiZHJpdmVyIiwiYWRkQXJndW1lbnQiLCJhZGRFbnZEZXRhaWwiLCJkZXZpY2VVRElEIiwiZGV2aWNlU2NyZWVuU2l6ZSIsInBsYXRmb3JtVmVyc2lvbiIsImRldmljZUFwaUxldmVsIiwiYnJvd3NlciIsImdldFVybCIsImN1c3RvbUFjdGlvbnMiLCJpbmplY3RKUyIsInRpdGxlIiwiZGVhY3RpdmF0ZUNvbW1hbmQiLCJkZWFjdGl2YXRlSHJlZiIsImNvbmZpZyIsImplbmtpbnMiLCJqb2JOYW1lIiwiYWN0aXZhdGVDb21tYW5kIiwiYWN0aXZhdGVIcmVmIiwibWFudWFsQ29tbWFuZCIsIm1hbnVhbEhyZWYiLCJzdXBwb3J0Q29tbWFuZCIsInN1cHBvcnRIcmVmIiwicmViYXNlbGluZUNvbW1hbmQiLCJyZWJhc2VsaW5lSHJlZiIsImFjdGl2ZUhUTUwiLCJkZWFjdGl2ZUhUTUwiLCJtYW51YWxIVE1MIiwic3VwcG9ydEhUTUwiLCJyZWJhc2VsaW5lSFRNTCIsImRlc2MiLCJhZGREZXNjcmlwdGlvbiIsImdyb3VwVGVzdCIsInNwZWNGaWxlTmFtZSIsInNwZWNUaXRsZSIsImdldEluZm9Gcm9tRmlsZVBhdGgiLCJpbmNsdWRlcyIsImFkZElzc3VlIiwibGluayIsImFkZFN0ZXAiLCJtc2ciLCJzdGFydFN0ZXAiLCJlbmRTdGVwIiwibmFtZSIsInZhbHVlIiwidHlwZSIsIkJ1ZmZlciIsImZyb20iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiYWxsdXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsbHVyZVJlcG9ydGVyID0gcmVxdWlyZShcIkB3ZGlvL2FsbHVyZS1yZXBvcnRlclwiKS5kZWZhdWx0O1xyXG5jb25zdCBkYXRhSGFuZGxlciA9IHJlcXVpcmUoXCIuL2RhdGFfaGFuZGxlclwiKTtcclxuY29uc3QgY2FwSGFuZGxlciA9IHJlcXVpcmUoXCIuL2NhcF9oYW5kbGVyXCIpO1xyXG5jb25zdCBjb21tb24gPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xyXG5cclxuY2xhc3MgYWxsdXJlQ3VzdG9tIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEN1c3RvbSBBbGx1cmUgZGV0YWlsXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqIEBwYXJhbSB7SW50fSBjb21wYXJlUmVzdWx0IGNvbXBhcmlzb24gcmVzdWx0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhcHR1cmVPcHRzIGNhcHR1cmUgb3B0aW9uc1xyXG4gICAqL1xyXG4gIGFzeW5jIGN1c3RvbURldGFpbChpbmZvLCBjb21wYXJlUmVzdWx0LCBjYXB0dXJlT3B0cywgc2V2ZXJpdHkgPSBcImNyaXRpY2FsXCIpIHtcclxuICAgIGNvbnN0IHNwZWNJZCA9IGluZm8uc3BlY0lkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gaW5mby5zdGF0dXM7XHJcbiAgICBjb25zdCBjYXB0dXJlVHlwZSA9IGluZm8uY2FwdHVyZVR5cGU7XHJcbiAgICBjb25zdCBjYXBzID0gYXdhaXQgY2FwSGFuZGxlci5nZXRDYXBhYmlsaXRpZXMoc3BlY0lkKTtcclxuICAgIGNvbnN0IHNjcmVlbnNob3RzID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0U2NyZWVuc2hvdHMoXHJcbiAgICAgIHNwZWNJZCxcclxuICAgICAgY2Fwcy5iYXNlbGluZUZvbGRlclxyXG4gICAgKTtcclxuICAgIGNvbnN0IGV4Y2VsRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3REYXRhRXhjZWwoXHJcbiAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICApO1xyXG4gICAgbGV0IGNsaWVudE5hbWUgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJjbGllbnRcIl07XHJcbiAgICBsZXQgcHJqTmFtZSA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcInByb2plY3RcIl07XHJcbiAgICBpZiAoY2xpZW50TmFtZSA9PSBcIlwiKSBjbGllbnROYW1lID0gaW5mby5jbGllbnRJZDtcclxuICAgIGlmIChwcmpOYW1lID09IFwiXCIpIHByak5hbWUgPSBpbmZvLnByb2plY3RJZDtcclxuXHJcbiAgICAvLyBBREQgRU5WXHJcbiAgICBpZiAoY2FwdHVyZVR5cGUgPT0gXCJtb2JpbGVcIikge1xyXG4gICAgICBhbGx1cmVSZXBvcnRlci5hZGRFbnZpcm9ubWVudChcclxuICAgICAgICBgJHtwcmpOYW1lfSA6OiAke2NvbW1vbi5jYXBpdGFsaXplKGNhcHR1cmVUeXBlKX0gOjogJHtcclxuICAgICAgICAgIGNhcHMucGxhdGZvcm1OYW1lXHJcbiAgICAgICAgfWAsXHJcbiAgICAgICAgYCR7Y29tbW9uLmNhcGl0YWxpemUoY2Fwcy5kZXZpY2VNYW51ZmFjdHVyZXIpfSAke2NhcHMuZGV2aWNlTW9kZWx9YFxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkRW52aXJvbm1lbnQoXHJcbiAgICAgICAgYCR7cHJqTmFtZX0gOjogJHtjb21tb24uY2FwaXRhbGl6ZShjYXB0dXJlVHlwZSl9IDo6ICR7XHJcbiAgICAgICAgICBjYXBzLnBsYXRmb3JtTmFtZVxyXG4gICAgICAgIH1gLFxyXG4gICAgICAgIGAke2NvbW1vbi5jYXBpdGFsaXplKGNhcHMuYnJvd3Nlck5hbWUpfSAke2NhcHMuYnJvd3NlclZlcnNpb259YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFERCBGRUFUVVJFUyAtIFVTRUQgVE8gRElTUExBWSBVTkRFUiBcIkZFQVRVUkVTIEJZIFNUT1JJRVNcIlxyXG4gICAgYWxsdXJlUmVwb3J0ZXIuYWRkRmVhdHVyZShgJHtjbGllbnROYW1lfSA6OiAke3Byak5hbWV9YCk7XHJcblxyXG4gICAgLy8gQUREIENVU1RPTSBJTkZPXHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlIFwiYWN0aXZlXCI6XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkU3RvcnkoXHJcbiAgICAgICAgICBjYXB0dXJlVHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcHR1cmVUeXBlLnNsaWNlKDEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQUREIERFVEFJTCAtLS0gT05MWSBGQUlMRUQgQ0FTRVxyXG4gICAgICAgIGlmIChjb21wYXJlUmVzdWx0ID4gMCkge1xyXG4gICAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkU2V2ZXJpdHkoc2V2ZXJpdHkpO1xyXG5cclxuICAgICAgICAgIC8vIEFERCBBVFRBQ0hNRU5UU1xyXG4gICAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXR0YWNobWVudChcclxuICAgICAgICAgICAgYEJhc2VsaW5lOiAke3NwZWNJZH1gLFxyXG4gICAgICAgICAgICBzY3JlZW5zaG90cy5jb250ZW50cy5iYXNlbGluZSxcclxuICAgICAgICAgICAgXCJpbWFnZS9wbmdcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEF0dGFjaG1lbnQoXHJcbiAgICAgICAgICAgIGBBY3R1YWw6ICR7c3BlY0lkfWAsXHJcbiAgICAgICAgICAgIHNjcmVlbnNob3RzLmNvbnRlbnRzLmFjdHVhbCxcclxuICAgICAgICAgICAgXCJpbWFnZS9wbmdcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEF0dGFjaG1lbnQoXHJcbiAgICAgICAgICAgIGBEaWZmOiAke3NwZWNJZH1gLFxyXG4gICAgICAgICAgICBzY3JlZW5zaG90cy5jb250ZW50cy5kaWZmLFxyXG4gICAgICAgICAgICBcImltYWdlL3BuZ1wiXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIC8vIEdFVCBQQUdFIEhUTUxcclxuICAgICAgICAgIGlmIChjYXB0dXJlVHlwZSAhPSBcIm1vYmlsZVwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCAkKFwiYm9keVwiKTtcclxuICAgICAgICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IGJvZHkuZ2V0SFRNTCgpO1xyXG4gICAgICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBdHRhY2htZW50KGBIVE1MOiAke3NwZWNJZH1gLCBodG1sKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBREQgQ09OU09MRVxyXG4gICAgICAgICAgY29uc29sZS5sb2coe1xyXG4gICAgICAgICAgICBzcGVjSWQ6IHNwZWNJZCxcclxuICAgICAgICAgICAgY2FwdHVyZU9wdHM6IGNhcHR1cmVPcHRzLFxyXG4gICAgICAgICAgICBjYXBhYmlsaXRpZXM6IGRyaXZlci5jYXBhYmlsaXRpZXMsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJtYW51YWxcIjpcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRTdG9yeShcIk1hbnVhbCBUZXN0XCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGVhY3RpdmF0ZVwiOlxyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZFN0b3J5KFwiRGVhY3RpdmF0ZWRcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJzdXBwb3J0XCI6XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkU3RvcnkoXCJSZXF1ZXN0IHN1cHBvcnRcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQUREIENBU0UgSURcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KFwiY2FzZVwiLCBzcGVjSWQpO1xyXG5cclxuICAgIC8vIEFERCBFTlYgREVUQUlMXHJcbiAgICBhd2FpdCB0aGlzLmFkZEVudkRldGFpbChpbmZvKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBlbnZpcm9ubWVudCBkZXRhaWxcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBwcm9qZWN0IGluZm9ybWF0aW9uXHJcbiAgICovXHJcbiAgYXN5bmMgYWRkRW52RGV0YWlsKGluZm8pIHtcclxuICAgIGlmIChpbmZvLnN0YXR1cyA9PSBcImFjdGl2ZVwiKSB7XHJcbiAgICAgIGNvbnN0IGNhcHMgPSBhd2FpdCBjYXBIYW5kbGVyLmdldENhcGFiaWxpdGllcyhpbmZvLnNwZWNJZCk7XHJcblxyXG4gICAgICBpZiAoaW5mby5jYXB0dXJlVHlwZSA9PSBcIm1vYmlsZVwiKSB7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJwbGF0Zm9ybVwiLCBjYXBzLnBsYXRmb3JtTmFtZSk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXHJcbiAgICAgICAgICBcImRldmljZSBuYW1lXCIsXHJcbiAgICAgICAgICBgJHtjb21tb24uY2FwaXRhbGl6ZShjYXBzLmRldmljZU1hbnVmYWN0dXJlcil9ICR7Y2Fwcy5kZXZpY2VNb2RlbH1gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcImRldmljZSB1ZGlkXCIsIGNhcHMuZGV2aWNlVURJRCk7XHJcbiAgICAgICAgYWxsdXJlUmVwb3J0ZXIuYWRkQXJndW1lbnQoXCJkZXZpY2Ugc2NyZWVuIHNpemVcIiwgY2Fwcy5kZXZpY2VTY3JlZW5TaXplKTtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcInBsYXRmb3JtIHZlcnNpb25cIiwgY2Fwcy5wbGF0Zm9ybVZlcnNpb24pO1xyXG4gICAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KFwiZGV2aWNlIGFwaSBsZXZlbFwiLCBjYXBzLmRldmljZUFwaUxldmVsKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcInVybFwiLCBhd2FpdCBicm93c2VyLmdldFVybCgpKTtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcInBsYXRmb3JtXCIsIGNhcHMucGxhdGZvcm1OYW1lKTtcclxuICAgICAgICBhbGx1cmVSZXBvcnRlci5hZGRBcmd1bWVudChcclxuICAgICAgICAgIFwiYnJvd3NlciBuYW1lXCIsXHJcbiAgICAgICAgICBgJHtjb21tb24uY2FwaXRhbGl6ZShjYXBzLmJyb3dzZXJOYW1lKX0gJHtjYXBzLmJyb3dzZXJWZXJzaW9ufWBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDdXN0b20gQWxsdXJlIGRlc2NyaXB0aW9uIGFuZCBhZGQgY3VzdG9tIGFjdGlvbnNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0lkIHNwZWMgaWQgb3Igc3BlYyBmaWxlIG5hbWVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdHVzIGFjdGl2ZSwgZGVhY3RpdmUsIG1hbnVhbCwgc3VwcG9ydFxyXG4gICAqL1xyXG4gIGN1c3RvbUFjdGlvbnMoc3BlY0lkLCBzdGF0dXMpIHtcclxuICAgIGNvbnN0IGluamVjdEpTID0gYFxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICAgIHZhciBydkRlZmF1bHRTY3JlZW5zaG90ID0gKHRpbWVyKSA9PiB7XHJcbiAgICAgICAgICAvLyBSZW1vdmUgZGVmYXVsdCBzY3JlZW5zaG90XHJcbiAgICAgICAgICB2YXIgZWxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhdHRhY2htZW50LXJvd19fbmFtZSBsb25nLWxpbmVcIik7XHJcbiAgICAgICAgICB2YXIgeFBhdGggPSBcIi8vZGl2W2NvbnRhaW5zKHRleHQoKSwnU2NyZWVuc2hvdCcpXVwiO1xyXG4gICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKGVsZXNbaV0udGV4dENvbnRlbnQuaW5jbHVkZXMoXCJTY3JlZW5zaG90XCIpKXtcclxuICAgICAgICAgICAgICBhcnIucHVzaChlbGVzW2ldLnBhcmVudE5vZGUucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGVsZXNbaV0udGV4dENvbnRlbnQuaW5jbHVkZXMoXCJEaWZmXCIpKXtcclxuICAgICAgICAgICAgICB2YXIgcmVmZXJlbmNlTm9kZSA9IGVsZXNbaV0ucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgIHZhciBuZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO1xyXG4gICAgICAgICAgICAgIHJlZmVyZW5jZU5vZGUuYWZ0ZXIobmV3Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGFycltqXS5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgZGVmYXVsdCBicm93c2VyIG9yIGRldmljZVxyXG4gICAgICAgICAgdmFyIGJyb3dzZXJYUGF0aCA9IFwiLy9zcGFuW2NvbnRhaW5zKHRleHQoKSwnYnJvd3NlcicpXVwiO1xyXG4gICAgICAgICAgdmFyIGRldmljZVhQYXRoID0gXCIvL3NwYW5bY29udGFpbnModGV4dCgpLCdkZXZpY2UnKV1cIjtcclxuICAgICAgICAgIHZhciBicm93c2VyRWxlID0gZG9jdW1lbnQuZXZhbHVhdGUoYnJvd3NlclhQYXRoLCBkb2N1bWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZTtcclxuICAgICAgICAgIHZhciBkZXZpY2VFbGUgPSBkb2N1bWVudC5ldmFsdWF0ZShkZXZpY2VYUGF0aCwgZG9jdW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7XHJcbiAgICAgICAgICBpZihicm93c2VyRWxlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgYnJvd3NlckVsZS5wYXJlbnROb2RlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYoZGV2aWNlRWxlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZGV2aWNlRWxlLnBhcmVudE5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJUaW1lciBpcyB3b3JraW5nXCIpO1xyXG5cclxuICAgICAgICAgIHZhciBtYXRjaGluZ0VsZW1lbnQgPSBkb2N1bWVudC5ldmFsdWF0ZSh4UGF0aCwgZG9jdW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7XHJcbiAgICAgICAgICBpZihtYXRjaGluZ0VsZW1lbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaW1lciBpcyBlbmRlZFwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgIHJ2RGVmYXVsdFNjcmVlbnNob3QodGltZXIpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgIDwvc2NyaXB0PlxyXG4gICAgYDtcclxuXHJcbiAgICAvLyBJY29ucyBhcmUgZGVmaW5lZCBoZXJlOiBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS92NC9pY29ucy9cclxuICAgIGxldCB0aXRsZSA9IFwiXCI7XHJcbiAgICBjb25zdCBkZWFjdGl2YXRlQ29tbWFuZCA9IGBxYXRlc3Q9dGVzdHMlMjBkZWFjdGl2YXRlJTIwLS1leGVjLWRpcy10ZXN0bmFtZT0ke3NwZWNJZH1gO1xyXG4gICAgY29uc3QgZGVhY3RpdmF0ZUhyZWYgPSBgJHticm93c2VyLmNvbmZpZy5qZW5raW5zfS9qb2IvJHticm93c2VyLmNvbmZpZy5qb2JOYW1lfS9idWlsZFdpdGhQYXJhbWV0ZXJzPyR7ZGVhY3RpdmF0ZUNvbW1hbmR9YDtcclxuICAgIGNvbnN0IGFjdGl2YXRlQ29tbWFuZCA9IGBxYXRlc3Q9dGVzdHMlMjBhY3RpdmF0ZSUyMC0tZXhlYy1kaXMtdGVzdG5hbWU9JHtzcGVjSWR9YDtcclxuICAgIGNvbnN0IGFjdGl2YXRlSHJlZiA9IGAke2Jyb3dzZXIuY29uZmlnLmplbmtpbnN9L2pvYi8ke2Jyb3dzZXIuY29uZmlnLmpvYk5hbWV9L2J1aWxkV2l0aFBhcmFtZXRlcnM/JHthY3RpdmF0ZUNvbW1hbmR9YDtcclxuICAgIGNvbnN0IG1hbnVhbENvbW1hbmQgPSBgcWF0ZXN0PXRlc3RzJTIwbWFudWFsJTIwLS1leGVjLWRpcy10ZXN0bmFtZT0ke3NwZWNJZH1gO1xyXG4gICAgY29uc3QgbWFudWFsSHJlZiA9IGAke2Jyb3dzZXIuY29uZmlnLmplbmtpbnN9L2pvYi8ke2Jyb3dzZXIuY29uZmlnLmpvYk5hbWV9L2J1aWxkV2l0aFBhcmFtZXRlcnM/JHttYW51YWxDb21tYW5kfWA7XHJcbiAgICBjb25zdCBzdXBwb3J0Q29tbWFuZCA9IGBxYXRlc3Q9dGVzdHMlMjBzdXBwb3J0JTIwLS1leGVjLWRpcy10ZXN0bmFtZT0ke3NwZWNJZH1gO1xyXG4gICAgY29uc3Qgc3VwcG9ydEhyZWYgPSBgJHticm93c2VyLmNvbmZpZy5qZW5raW5zfS9qb2IvJHticm93c2VyLmNvbmZpZy5qb2JOYW1lfS9idWlsZFdpdGhQYXJhbWV0ZXJzPyR7c3VwcG9ydENvbW1hbmR9YDtcclxuICAgIGNvbnN0IHJlYmFzZWxpbmVDb21tYW5kID0gYHFhdGVzdD1zY3JlZW5zaG90JTIwb3ZlcnJpZGUlMjAtLXNjci10ZXN0bmFtZT0ke3NwZWNJZH1gO1xyXG4gICAgY29uc3QgcmViYXNlbGluZUhyZWYgPSBgJHticm93c2VyLmNvbmZpZy5qZW5raW5zfS9qb2IvJHticm93c2VyLmNvbmZpZy5qb2JOYW1lfS9idWlsZFdpdGhQYXJhbWV0ZXJzPyR7cmViYXNlbGluZUNvbW1hbmR9YDtcclxuXHJcbiAgICBsZXQgYWN0aXZlSFRNTCA9IGBcclxuICAgICAgPGxpPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtY2hlY2tcIj48L3NwYW4+XHJcbiAgICAgICAgPGEgY2xhc3M9XCJsaW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7YWN0aXZhdGVIcmVmfVwiPkFjdGl2YXRlIHRoaXMgc3BlYyBmb3IgYXV0b21hdGlvbiB0ZXN0PC9hPlxyXG4gICAgICA8L2xpPlxyXG4gICAgICA8L2JyPlxyXG4gICAgYDtcclxuICAgIGxldCBkZWFjdGl2ZUhUTUwgPSBgXHJcbiAgICAgIDxsaT5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLWFyY2hpdmVcIj48L3NwYW4+XHJcbiAgICAgICAgPGEgY2xhc3M9XCJsaW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7ZGVhY3RpdmF0ZUhyZWZ9XCI+RGVhY3RpdmF0ZSB0aGlzIHNwZWM8L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICAgIDwvYnI+XHJcbiAgICBgO1xyXG4gICAgbGV0IG1hbnVhbEhUTUwgPSBgXHJcbiAgICAgIDxsaT5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLXNpZ25pbmdcIj48L3NwYW4+XHJcbiAgICAgICAgPGEgY2xhc3M9XCJsaW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7bWFudWFsSHJlZn1cIj5Db25maXJtIHRoaXMgc3BlYyBmb3IgbWFudWFsIHRlc3Q8L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICAgIDwvYnI+XHJcbiAgICBgO1xyXG4gICAgbGV0IHN1cHBvcnRIVE1MID0gYFxyXG4gICAgICA8bGk+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1zdXBwb3J0XCI+PC9zcGFuPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3N1cHBvcnRIcmVmfVwiPlJlcXVlc3Qgc3VwcG9ydCBmcm9tIFFBIEF1dG88L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICAgIDwvYnI+XHJcbiAgICBgO1xyXG4gICAgbGV0IHJlYmFzZWxpbmVIVE1MID0gYFxyXG4gICAgICA8bGk+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1waG90b1wiPjwvc3Bhbj5cclxuICAgICAgICA8YSBjbGFzcz1cImxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtyZWJhc2VsaW5lSHJlZn1cIj5VcGRhdGUgYmFzZWxpbmU8L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICBgO1xyXG5cclxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgXCJhY3RpdmVcIjpcclxuICAgICAgICB0aXRsZSA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiBibHVlO1wiPlRoaXMgc3BlYyBpcyBhY3RpdmUgZm9yIGF1dG9tYXRpb24gdGVzdC4gWW91IGNhbiBjaGFuZ2UgdGhlIHN0YXR1cyBieSBvbmUgb2YgYWN0aW9ucyBiZWxvdy48L3NwYW4+YDtcclxuICAgICAgICBhY3RpdmVIVE1MID0gXCJcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIm1hbnVhbFwiOlxyXG4gICAgICAgIHRpdGxlID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5UaGlzIHNwZWMgaXMgYXBwbGllZCBmb3IgbWFudWFsIHRlc3QuIFlvdSBjYW4gY2hhbmdlIHRoZSBzdGF0dXMgYnkgb25lIG9mIGFjdGlvbnMgYmVsb3cuPC9zcGFuPmA7XHJcbiAgICAgICAgbWFudWFsSFRNTCA9IFwiXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJkZWFjdGl2YXRlXCI6XHJcbiAgICAgICAgdGl0bGUgPSBgPHNwYW4gc3R5bGU9XCJjb2xvcjogcmVkO1wiPlRoaXMgc3BlYyBpcyBkZWFjdGl2YXRlZC4gWW91IGNhbiBjaGFuZ2UgdGhlIHN0YXR1cyBieSBvbmUgb2YgYWN0aW9ucyBiZWxvdy48L3NwYW4+YDtcclxuICAgICAgICBkZWFjdGl2ZUhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic3VwcG9ydFwiOlxyXG4gICAgICAgIHRpdGxlID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5UaGlzIHNwZWMgaXMgcmVxdWlyZWQgc3VwcG9ydCBmcm9tIFFBIEF1dG9tYXRpb24uIFlvdSBjYW4gY2hhbmdlIHRoZSBzdGF0dXMgYnkgb25lIG9mIGFjdGlvbnMgYmVsb3cuPC9zcGFuPmA7XHJcbiAgICAgICAgc3VwcG9ydEhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlc2MgPSBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6MTZwdDtcIj4ke3RpdGxlfTwvZGl2PlxyXG4gICAgICA8dWwgc3R5bGU9XCJsaXN0LXN0eWxlOiBub25lO21hcmdpbi1sZWZ0OiAtMS41ZW07XCI+XHJcbiAgICAgICAgJHthY3RpdmVIVE1MfVxyXG4gICAgICAgICR7ZGVhY3RpdmVIVE1MfVxyXG4gICAgICAgICR7bWFudWFsSFRNTH1cclxuICAgICAgICAke3N1cHBvcnRIVE1MfVxyXG4gICAgICAgICR7cmViYXNlbGluZUhUTUx9XHJcbiAgICAgIDwvdWw+XHJcbiAgICBgO1xyXG5cclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZERlc2NyaXB0aW9uKGluamVjdEpTICsgZGVzYywgXCJodG1sXCIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR3JvdXAgc3BlYyBpbnRvIHJlY29yZGVyIG9yIGltYWdlIGNvbXBhcmlzb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0ZpbGVOYW1lIHNwZWMgZmlsZSBuYW1lXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNUaXRsZSBzcGVjIHRpdGxlXHJcbiAgICovXHJcbiAgYXN5bmMgZ3JvdXBUZXN0KHNwZWNGaWxlTmFtZSwgc3BlY1RpdGxlKSB7XHJcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0SW5mb0Zyb21GaWxlUGF0aChzcGVjRmlsZU5hbWUpO1xyXG4gICAgY29uc3QgZXhjZWxEYXRhID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0UHJvamVjdERhdGFFeGNlbChcclxuICAgICAgaW5mby5jbGllbnRJZCxcclxuICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gR3JvdXAgYWxsIHRlc3RzIGludG8gcmVjb3JkZXJcclxuICAgIGlmIChcclxuICAgICAgIXNwZWNUaXRsZS5pbmNsdWRlcyhcImltYWdlIGNvbXBhcmlzb25cIikgJiZcclxuICAgICAgIXNwZWNUaXRsZS5pbmNsdWRlcyhcImluaXQgcHJvamVjdFwiKSAmJlxyXG4gICAgICAhc3BlY1RpdGxlLmluY2x1ZGVzKFwiZ2VuZXJhdGUgc3BlYyBmaWxlc1wiKVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJjbGllbnRcIl07XHJcbiAgICAgIGNvbnN0IHByak5hbWUgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJwcm9qZWN0XCJdO1xyXG5cclxuICAgICAgaWYgKGNsaWVudE5hbWUgPT0gXCJcIikgY2xpZW50TmFtZSA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICAgIGlmIChwcmpOYW1lID09IFwiXCIpIHByak5hbWUgPSBpbmZvLnByb2plY3RJZDtcclxuXHJcbiAgICAgIGFsbHVyZVJlcG9ydGVyLmFkZEZlYXR1cmUoYCR7Y2xpZW50TmFtZX0gOjogJHtwcmpOYW1lfWApO1xyXG4gICAgICBhbGx1cmVSZXBvcnRlci5hZGRTdG9yeShcIlJlY29yZGVyXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGN1c3RvbSBsaW5rIGludG8gQWxsdXJlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmsgbGluayB0byBiZSBhZGRlZCBpbnRvIEFsbHVyZVxyXG4gICAqL1xyXG4gIGFkZElzc3VlKGxpbmspIHtcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZElzc3VlKGxpbmspO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgY3VzdG9tIHN0ZXAgdG8gcmVwb3J0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyBNZXNzYWdlIHRocm93IG91dFxyXG4gICAqL1xyXG4gIGFkZFN0ZXAobXNnKSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5zdGFydFN0ZXAobXNnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuZCBzdGVwIHdpdGggc3RhdHVzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXR1cyBcImZhaWxlZFwiLCBcInBhc3NlZFwiLCBcImJyb2tlblwiLCBcInNraXBwZWRcIiBvciBcInVua25vd25cIlxyXG4gICAqL1xyXG4gIGVuZFN0ZXAoc3RhdHVzKSB7XHJcbiAgICBhbGx1cmVSZXBvcnRlci5lbmRTdGVwKHN0YXR1cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgc2V2ZXJpdHkgZm9yIHRlc3QgaW4gQWxsdXJlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNldmVyaXR5IGJsb2NrZXIsIGNyaXRpY2FsLCBub3JtYWwsIG1pbm9yLCB0cml2aWFsXHJcbiAgICovXHJcbiAgYWRkU2V2ZXJpdHkoc2V2ZXJpdHkpIHtcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZFNldmVyaXR5KHNldmVyaXR5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhcmd1bWVudCBmb3IgdGVzdCBpbiBBbGx1cmVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIGFyZ3VtZW50XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHZhbHVlIG9mIGFyZ3VtZW50XHJcbiAgICovXHJcbiAgYWRkQXJndW1lbnQobmFtZSwgdmFsdWUpIHtcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZEFyZ3VtZW50KG5hbWUsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhdHRhY2htZW50IGludG8gcmVwb3J0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIHNjcmVlbnNob3QgYmluYXJ5XHJcbiAgICovXHJcbiAgYWRkQXR0YWNobWVudChjb250ZW50cywgdHlwZSA9IFwiaW1hZ2UvcG5nXCIpIHtcclxuICAgIGFsbHVyZVJlcG9ydGVyLmFkZEF0dGFjaG1lbnQoXHJcbiAgICAgIGBTY3JlZW5zaG90YCxcclxuICAgICAgQnVmZmVyLmZyb20oY29udGVudHMsIFwiYmFzZTY0XCIpLFxyXG4gICAgICB0eXBlXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBhbGx1cmVDdXN0b20oKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxjQUFjLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDQyxPQUFPO0FBQy9ELE1BQU1DLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzdDLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxNQUFNSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFFbkMsTUFBTUssWUFBWSxDQUFDO0VBQ2pCQyxXQUFXQSxDQUFBLEVBQUcsQ0FBQzs7RUFFZjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxNQUFNQyxZQUFZQSxDQUFDQyxJQUFJLEVBQUVDLGFBQWEsRUFBRUMsV0FBVyxFQUFFQyxRQUFRLEdBQUcsVUFBVSxFQUFFO0lBQzFFLE1BQU1DLE1BQU0sR0FBR0osSUFBSSxDQUFDSSxNQUFNO0lBQzFCLE1BQU1DLE1BQU0sR0FBR0wsSUFBSSxDQUFDSyxNQUFNO0lBQzFCLE1BQU1DLFdBQVcsR0FBR04sSUFBSSxDQUFDTSxXQUFXO0lBQ3BDLE1BQU1DLElBQUksR0FBRyxNQUFNWixVQUFVLENBQUNhLGVBQWUsQ0FBQ0osTUFBTSxDQUFDO0lBQ3JELE1BQU1LLFdBQVcsR0FBRyxNQUFNZixXQUFXLENBQUNnQixjQUFjLENBQ2xETixNQUFNLEVBQ05HLElBQUksQ0FBQ0ksY0FDUCxD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","map":{"version":3,"names":["allureReporter","require","default","dataHandler","capHandler","common","allureCustom","constructor","customDetail","info","compareResult","captureOpts","severity","specId","status","captureType","caps","getCapabilities","screenshots","getScreenshots","baselineFolder","excelData","getProjectDataExcel","clientId","projectId","clientName","prjName","addEnvironment","capitalize","platformName","deviceManufacturer","deviceModel","browserName","browserVersion","addFeature","addStory","charAt","toUpperCase","slice","addSeverity","addAttachment","contents","baseline","actual","diff","body","$","html","getHTML","console","log","capabilities","driver","addArgument","addEnvDetail","deviceUDID","deviceScreenSize","platformVersion","deviceApiLevel","browser","getUrl","customActions","injectJS","title","deactivateCommand","deactivateHref","config","jenkins","jobName","activateCommand","activateHref","manualCommand","manualHref","supportCommand","supportHref","rebaselineCommand","rebaselineHref","activeHTML","deactiveHTML","manualHTML","supportHTML","rebaselineHTML","desc","addDescription","groupTest","specFileName","specTitle","getInfoFromFilePath","includes","addIssue","link","addStep","msg","startStep","endStep","name","value","type","Buffer","from","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\lib\\","sources":["allure.js"],"sourcesContent":["const allureReporter = require(\"@wdio/allure-reporter\").default;\r\nconst dataHandler = require(\"./data_handler\");\r\nconst capHandler = require(\"./cap_handler\");\r\nconst common = require(\"../common\");\r\n\r\nclass allureCustom {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Custom Allure detail\r\n   * @param {Object} info spec information\r\n   * @param {Int} compareResult comparison result\r\n   * @param {Object} captureOpts capture options\r\n   */\r\n  async customDetail(info, compareResult, captureOpts, severity = \"critical\") {\r\n    const specId = info.specId;\r\n    const status = info.status;\r\n    const captureType = info.captureType;\r\n    const caps = await capHandler.getCapabilities(specId);\r\n    const screenshots = await dataHandler.getScreenshots(\r\n      specId,\r\n      caps.baselineFolder\r\n    );\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n    let clientName = excelData[\"config\"][0][\"client\"];\r\n    let prjName = excelData[\"config\"][0][\"project\"];\r\n    if (clientName == \"\") clientName = info.clientId;\r\n    if (prjName == \"\") prjName = info.projectId;\r\n\r\n    // ADD ENV\r\n    if (captureType == \"mobile\") {\r\n      allureReporter.addEnvironment(\r\n        `${prjName} :: ${common.capitalize(captureType)} :: ${\r\n          caps.platformName\r\n        }`,\r\n        `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`\r\n      );\r\n    } else {\r\n      allureReporter.addEnvironment(\r\n        `${prjName} :: ${common.capitalize(captureType)} :: ${\r\n          caps.platformName\r\n        }`,\r\n        `${common.capitalize(caps.browserName)} ${caps.browserVersion}`\r\n      );\r\n    }\r\n\r\n    // ADD FEATURES - USED TO DISPLAY UNDER \"FEATURES BY STORIES\"\r\n    allureReporter.addFeature(`${clientName} :: ${prjName}`);\r\n\r\n    // ADD CUSTOM INFO\r\n    switch (status) {\r\n      case \"active\":\r\n        allureReporter.addStory(\r\n          captureType.charAt(0).toUpperCase() + captureType.slice(1)\r\n        );\r\n\r\n        // ADD DETAIL --- ONLY FAILED CASE\r\n        if (compareResult > 0) {\r\n          allureReporter.addSeverity(severity);\r\n\r\n          // ADD ATTACHMENTS\r\n          allureReporter.addAttachment(\r\n            `Baseline: ${specId}`,\r\n            screenshots.contents.baseline,\r\n            \"image/png\"\r\n          );\r\n          allureReporter.addAttachment(\r\n            `Actual: ${specId}`,\r\n            screenshots.contents.actual,\r\n            \"image/png\"\r\n          );\r\n          allureReporter.addAttachment(\r\n            `Diff: ${specId}`,\r\n            screenshots.contents.diff,\r\n            \"image/png\"\r\n          );\r\n\r\n          // GET PAGE HTML\r\n          if (captureType != \"mobile\") {\r\n            const body = await $(\"body\");\r\n            const html = await body.getHTML();\r\n            allureReporter.addAttachment(`HTML: ${specId}`, html);\r\n          }\r\n\r\n          // ADD CONSOLE\r\n          console.log({\r\n            specId: specId,\r\n            captureOpts: captureOpts,\r\n            capabilities: driver.capabilities,\r\n          });\r\n        }\r\n        break;\r\n      case \"manual\":\r\n        allureReporter.addStory(\"Manual Test\");\r\n        break;\r\n      case \"deactivate\":\r\n        allureReporter.addStory(\"Deactivated\");\r\n        break;\r\n      case \"support\":\r\n        allureReporter.addStory(\"Request support\");\r\n        break;\r\n    }\r\n\r\n    // ADD CASE ID\r\n    allureReporter.addArgument(\"case\", specId);\r\n\r\n    // ADD ENV DETAIL\r\n    await this.addEnvDetail(info);\r\n  }\r\n\r\n  /**\r\n   * Add environment detail\r\n   * @param {Object} info project information\r\n   */\r\n  async addEnvDetail(info) {\r\n    if (info.status == \"active\") {\r\n      const caps = await capHandler.getCapabilities(info.specId);\r\n\r\n      if (info.captureType == \"mobile\") {\r\n        allureReporter.addArgument(\"platform\", caps.platformName);\r\n        allureReporter.addArgument(\r\n          \"device name\",\r\n          `${common.capitalize(caps.deviceManufacturer)} ${caps.deviceModel}`\r\n        );\r\n        allureReporter.addArgument(\"device udid\", caps.deviceUDID);\r\n        allureReporter.addArgument(\"device screen size\", caps.deviceScreenSize);\r\n        allureReporter.addArgument(\"platform version\", caps.platformVersion);\r\n        allureReporter.addArgument(\"device api level\", caps.deviceApiLevel);\r\n      } else {\r\n        allureReporter.addArgument(\"url\", await browser.getUrl());\r\n        allureReporter.addArgument(\"platform\", caps.platformName);\r\n        allureReporter.addArgument(\r\n          \"browser name\",\r\n          `${common.capitalize(caps.browserName)} ${caps.browserVersion}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Custom Allure description and add custom actions\r\n   * @param {String} specId spec id or spec file name\r\n   * @param {String} status active, deactive, manual, support\r\n   */\r\n  customActions(specId, status) {\r\n    const injectJS = `\r\n      <script>\r\n        var rvDefaultScreenshot = (timer) => {\r\n          // Remove default screenshot\r\n          var eles = document.getElementsByClassName(\"attachment-row__name long-line\");\r\n          var xPath = \"//div[contains(text(),'Screenshot')]\";\r\n          var arr = [];\r\n          for (let i = 0; i < eles.length; i++) {\r\n            if(eles[i].textContent.includes(\"Screenshot\")){\r\n              arr.push(eles[i].parentNode.parentNode);\r\n            }\r\n\r\n            if(eles[i].textContent.includes(\"Diff\")){\r\n              var referenceNode = eles[i].parentNode.parentNode;\r\n              var newNode = document.createElement(\"hr\");\r\n              referenceNode.after(newNode);\r\n            }\r\n          }\r\n          for (let j = 0; j < arr.length; j++) {\r\n            arr[j].remove();\r\n          }\r\n\r\n          // Remove default browser or device\r\n          var browserXPath = \"//span[contains(text(),'browser')]\";\r\n          var deviceXPath = \"//span[contains(text(),'device')]\";\r\n          var browserEle = document.evaluate(browserXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          var deviceEle = document.evaluate(deviceXPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          if(browserEle != null) {\r\n            browserEle.parentNode.remove();\r\n          }\r\n          if(deviceEle != null) {\r\n            deviceEle.parentNode.remove();\r\n          }\r\n\r\n          console.log(\"Timer is working\");\r\n\r\n          var matchingElement = document.evaluate(xPath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n          if(matchingElement == null) {\r\n            clearInterval(timer);\r\n            console.log(\"Timer is ended\");\r\n          }\r\n        }\r\n\r\n        var timer = setInterval(() => {\r\n          rvDefaultScreenshot(timer);\r\n        }, 100);\r\n      </script>\r\n    `;\r\n\r\n    // Icons are defined here: https://fontawesome.com/v4/icons/\r\n    let title = \"\";\r\n    const deactivateCommand = `qatest=tests%20deactivate%20--exec-dis-testname=${specId}`;\r\n    const deactivateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${deactivateCommand}`;\r\n    const activateCommand = `qatest=tests%20activate%20--exec-dis-testname=${specId}`;\r\n    const activateHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${activateCommand}`;\r\n    const manualCommand = `qatest=tests%20manual%20--exec-dis-testname=${specId}`;\r\n    const manualHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${manualCommand}`;\r\n    const supportCommand = `qatest=tests%20support%20--exec-dis-testname=${specId}`;\r\n    const supportHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${supportCommand}`;\r\n    const rebaselineCommand = `qatest=screenshot%20override%20--scr-testname=${specId}`;\r\n    const rebaselineHref = `${browser.config.jenkins}/job/${browser.config.jobName}/buildWithParameters?${rebaselineCommand}`;\r\n\r\n    let activeHTML = `\r\n      <li>\r\n        <span class=\"fa fa-check\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${activateHref}\">Activate this spec for automation test</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let deactiveHTML = `\r\n      <li>\r\n        <span class=\"fa fa-archive\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${deactivateHref}\">Deactivate this spec</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let manualHTML = `\r\n      <li>\r\n        <span class=\"fa fa-signing\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${manualHref}\">Confirm this spec for manual test</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let supportHTML = `\r\n      <li>\r\n        <span class=\"fa fa-support\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${supportHref}\">Request support from QA Auto</a>\r\n      </li>\r\n      </br>\r\n    `;\r\n    let rebaselineHTML = `\r\n      <li>\r\n        <span class=\"fa fa-photo\"></span>\r\n        <a class=\"link\" target=\"_blank\" href=\"${rebaselineHref}\">Update baseline</a>\r\n      </li>\r\n    `;\r\n\r\n    switch (status) {\r\n      case \"active\":\r\n        title = `<span style=\"color: blue;\">This spec is active for automation test. You can change the status by one of actions below.</span>`;\r\n        activeHTML = \"\";\r\n        break;\r\n      case \"manual\":\r\n        title = `<span style=\"color: red;\">This spec is applied for manual test. You can change the status by one of actions below.</span>`;\r\n        manualHTML = \"\";\r\n        break;\r\n      case \"deactivate\":\r\n        title = `<span style=\"color: red;\">This spec is deactivated. You can change the status by one of actions below.</span>`;\r\n        deactiveHTML = \"\";\r\n        break;\r\n      case \"support\":\r\n        title = `<span style=\"color: red;\">This spec is required support from QA Automation. You can change the status by one of actions below.</span>`;\r\n        supportHTML = \"\";\r\n        break;\r\n    }\r\n\r\n    const desc = `\r\n      <div style=\"font-size:16pt;\">${title}</div>\r\n      <ul style=\"list-style: none;margin-left: -1.5em;\">\r\n        ${activeHTML}\r\n        ${deactiveHTML}\r\n        ${manualHTML}\r\n        ${supportHTML}\r\n        ${rebaselineHTML}\r\n      </ul>\r\n    `;\r\n\r\n    allureReporter.addDescription(injectJS + desc, \"html\");\r\n  }\r\n\r\n  /**\r\n   * Group spec into recorder or image comparison\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   */\r\n  async groupTest(specFileName, specTitle) {\r\n    const info = await dataHandler.getInfoFromFilePath(specFileName);\r\n    const excelData = await dataHandler.getProjectDataExcel(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    // Group all tests into recorder\r\n    if (\r\n      !specTitle.includes(\"image comparison\") &&\r\n      !specTitle.includes(\"init project\") &&\r\n      !specTitle.includes(\"generate spec files\")\r\n    ) {\r\n      const clientName = excelData[\"config\"][0][\"client\"];\r\n      const prjName = excelData[\"config\"][0][\"project\"];\r\n\r\n      if (clientName == \"\") clientName = info.clientId;\r\n      if (prjName == \"\") prjName = info.projectId;\r\n\r\n      allureReporter.addFeature(`${clientName} :: ${prjName}`);\r\n      allureReporter.addStory(\"Recorder\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add custom link into Allure\r\n   * @param {String} link link to be added into Allure\r\n   */\r\n  addIssue(link) {\r\n    allureReporter.addIssue(link);\r\n  }\r\n\r\n  /**\r\n   * Add a custom step to report\r\n   * @param {String} msg Message throw out\r\n   */\r\n  addStep(msg) {\r\n    allureReporter.startStep(msg);\r\n  }\r\n\r\n  /**\r\n   * End step with status\r\n   * @param {String} status \"failed\", \"passed\", \"broken\", \"skipped\" or \"unknown\"\r\n   */\r\n  endStep(status) {\r\n    allureReporter.endStep(status);\r\n  }\r\n\r\n  /**\r\n   * Add severity for test in Allure\r\n   * @param {String} severity blocker, critical, normal, minor, trivial\r\n   */\r\n  addSeverity(severity) {\r\n    allureReporter.addSeverity(severity);\r\n  }\r\n\r\n  /**\r\n   * Add argument for test in Allure\r\n   * @param {String} name name of argument\r\n   * @param {String} value value of argument\r\n   */\r\n  addArgument(name, value) {\r\n    allureReporter.addArgument(name, value);\r\n  }\r\n\r\n  /**\r\n   * Add attachment into report\r\n   * @param {String} contents screenshot binary\r\n   */\r\n  addAttachment(contents, type = \"image/png\") {\r\n    allureReporter.addAttachment(\r\n      `Screenshot`,\r\n      Buffer.from(contents, \"base64\"),\r\n      type\r\n    );\r\n  }\r\n}\r\nmodule.exports = new allureCustom();\r\n"],"mappings":"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"}},"mtime":1700647517100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\cap_handler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const path = require(\"path\");\nconst dataHandler = require(\"./data_handler\");\nconst common = require(\"../common\");\nclass capHandler {\n  constructor() {}\n\n  /**\r\n   * Generate capabilities from json into config\r\n   * @param {Array} specs list of running spec files\r\n   * @param {JSON} caps object contain capabilities that will be merged into config\r\n   * @returns {JSON}\r\n   */\n  async generateCapabilities(specs, caps) {\n    if (specs.length > 0) {\n      const specFilePath = specs[0];\n      if (common.isNormalSpec(specFilePath)) {\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\n        const projectCapabilities = await dataHandler.getProjectCapabilities(info.clientId, info.projectId);\n        const dirPath = path.parse(specFilePath).dir;\n        const dataPath = path.dirname(path.dirname(dirPath)) + `/data`;\n        if (typeof projectCapabilities[caps[\"custom:cid\"]] != \"undefined\") {\n          const prjCaps = projectCapabilities[caps[\"custom:cid\"]];\n          for (var key in prjCaps) {\n            var value = prjCaps[key];\n            switch (key) {\n              case \"custom:enabled\":\n                if (!value) {\n                  caps[\"appium:deviceName\"] = prjCaps[\"appium:deviceName\"];\n                  return false;\n                }\n                break;\n              case \"appium:app\":\n                caps[key] = `${dataPath}/${value}`;\n                break;\n              default:\n                caps[key] = value;\n                break;\n            }\n          }\n        }\n      }\n    }\n    return caps;\n  }\n\n  /**\r\n   * Get test capabilities used for Allure report\r\n   * @param {String} specId spec id\r\n   * @returns {Object}\r\n   */\n  async getCapabilities(specId) {\n    const info = await dataHandler.getInfoFromSpecId(specId);\n    let cap = {};\n    if (info.captureType == \"mobile\") {\n      // GET PLATFORM NAME - Android or iOS\n      cap.platformName = driver.capabilities.platformName;\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n        cap.platformName = driver.capabilities.desired.platformName;\n        if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n          cap.platformName = common.capitalize(info.captureType);\n        }\n      }\n\n      // GET DEVICE INFO\n      cap.deviceName = driver.capabilities.deviceName;\n      cap.deviceModel = driver.capabilities.deviceModel;\n      cap.deviceUDID = driver.capabilities.udid;\n      cap.deviceManufacturer = driver.capabilities.deviceManufacturer;\n      cap.platformVersion = driver.capabilities.platformVersion;\n      if (cap.platformName.toLowerCase() != \"ios\") {\n        cap.deviceScreenSize = driver.capabilities.deviceScreenSize;\n        cap.deviceApiLevel = driver.capabilities.deviceApiLevel;\n\n        // GET BASELINE FOLDER\n        cap.baselineFolder = driver.capabilities.desired.deviceName;\n      } else {\n        // GET BASELINE FOLDER\n        cap.baselineFolder = driver.capabilities.deviceName;\n      }\n    } else {\n      // GET PLATFORM NAME\n      cap.platformName = browser.capabilities.platformName.toLowerCase();\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\n        cap.platformName = \"desktop\";\n      }\n      cap.platformName = common.capitalize(cap.platformName);\n\n      // GET BROWSER INFO\n      cap.browserName = browser.capabilities.browserName;\n      cap.browserVersion = browser.capabilities.browserVersion;\n\n      // GET BASELINE FOLDER\n      cap.baselineFolder = `desktop_${browser.capabilities.browserName}`;\n    }\n    return cap;\n  }\n}\nmodule.exports = new capHandler();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImRhdGFIYW5kbGVyIiwiY29tbW9uIiwiY2FwSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiZ2VuZXJhdGVDYXBhYmlsaXRpZXMiLCJzcGVjcyIsImNhcHMiLCJsZW5ndGgiLCJzcGVjRmlsZVBhdGgiLCJpc05vcm1hbFNwZWMiLCJpbmZvIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsInByb2plY3RDYXBhYmlsaXRpZXMiLCJnZXRQcm9qZWN0Q2FwYWJpbGl0aWVzIiwiY2xpZW50SWQiLCJwcm9qZWN0SWQiLCJkaXJQYXRoIiwicGFyc2UiLCJkaXIiLCJkYXRhUGF0aCIsImRpcm5hbWUiLCJwcmpDYXBzIiwia2V5IiwidmFsdWUiLCJnZXRDYXBhYmlsaXRpZXMiLCJzcGVjSWQiLCJnZXRJbmZvRnJvbVNwZWNJZCIsImNhcCIsImNhcHR1cmVUeXBlIiwicGxhdGZvcm1OYW1lIiwiZHJpdmVyIiwiY2FwYWJpbGl0aWVzIiwiZGVzaXJlZCIsImNhcGl0YWxpemUiLCJkZXZpY2VOYW1lIiwiZGV2aWNlTW9kZWwiLCJkZXZpY2VVRElEIiwidWRpZCIsImRldmljZU1hbnVmYWN0dXJlciIsInBsYXRmb3JtVmVyc2lvbiIsInRvTG93ZXJDYXNlIiwiZGV2aWNlU2NyZWVuU2l6ZSIsImRldmljZUFwaUxldmVsIiwiYmFzZWxpbmVGb2xkZXIiLCJicm93c2VyIiwiYnJvd3Nlck5hbWUiLCJicm93c2VyVmVyc2lvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdXRpbHNcXGxpYlxcIiwic291cmNlcyI6WyJjYXBfaGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcblxyXG5jb25zdCBkYXRhSGFuZGxlciA9IHJlcXVpcmUoXCIuL2RhdGFfaGFuZGxlclwiKTtcclxuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcclxuXHJcbmNsYXNzIGNhcEhhbmRsZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgY2FwYWJpbGl0aWVzIGZyb20ganNvbiBpbnRvIGNvbmZpZ1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNwZWNzIGxpc3Qgb2YgcnVubmluZyBzcGVjIGZpbGVzXHJcbiAgICogQHBhcmFtIHtKU09OfSBjYXBzIG9iamVjdCBjb250YWluIGNhcGFiaWxpdGllcyB0aGF0IHdpbGwgYmUgbWVyZ2VkIGludG8gY29uZmlnXHJcbiAgICogQHJldHVybnMge0pTT059XHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVDYXBhYmlsaXRpZXMoc3BlY3MsIGNhcHMpIHtcclxuICAgIGlmIChzcGVjcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHNwZWNGaWxlUGF0aCA9IHNwZWNzWzBdO1xyXG5cclxuICAgICAgaWYgKGNvbW1vbi5pc05vcm1hbFNwZWMoc3BlY0ZpbGVQYXRoKSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRJbmZvRnJvbUZpbGVQYXRoKHNwZWNGaWxlUGF0aCk7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdENhcGFiaWxpdGllcyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFByb2plY3RDYXBhYmlsaXRpZXMoXHJcbiAgICAgICAgICBpbmZvLmNsaWVudElkLFxyXG4gICAgICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBkaXJQYXRoID0gcGF0aC5wYXJzZShzcGVjRmlsZVBhdGgpLmRpcjtcclxuICAgICAgICBjb25zdCBkYXRhUGF0aCA9IHBhdGguZGlybmFtZShwYXRoLmRpcm5hbWUoZGlyUGF0aCkpICsgYC9kYXRhYDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0Q2FwYWJpbGl0aWVzW2NhcHNbXCJjdXN0b206Y2lkXCJdXSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICBjb25zdCBwcmpDYXBzID0gcHJvamVjdENhcGFiaWxpdGllc1tjYXBzW1wiY3VzdG9tOmNpZFwiXV07XHJcblxyXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHByakNhcHMpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gcHJqQ2Fwc1trZXldO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJjdXN0b206ZW5hYmxlZFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICBjYXBzW1wiYXBwaXVtOmRldmljZU5hbWVcIl0gPSBwcmpDYXBzW1wiYXBwaXVtOmRldmljZU5hbWVcIl07XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJhcHBpdW06YXBwXCI6XHJcbiAgICAgICAgICAgICAgICBjYXBzW2tleV0gPSBgJHtkYXRhUGF0aH0vJHt2YWx1ZX1gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjYXBzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhcHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGVzdCBjYXBhYmlsaXRpZXMgdXNlZCBmb3IgQWxsdXJlIHJlcG9ydFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcGVjSWQgc3BlYyBpZFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FwYWJpbGl0aWVzKHNwZWNJZCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEluZm9Gcm9tU3BlY0lkKHNwZWNJZCk7XHJcbiAgICBsZXQgY2FwID0ge307XHJcblxyXG4gICAgaWYgKGluZm8uY2FwdHVyZVR5cGUgPT0gXCJtb2JpbGVcIikge1xyXG4gICAgICAvLyBHRVQgUExBVEZPUk0gTkFNRSAtIEFuZHJvaWQgb3IgaU9TXHJcbiAgICAgIGNhcC5wbGF0Zm9ybU5hbWUgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLnBsYXRmb3JtTmFtZTtcclxuICAgICAgaWYgKHR5cGVvZiBjYXAucGxhdGZvcm1OYW1lID09IFwidW5kZWZpbmVkXCIgfHwgY2FwLnBsYXRmb3JtTmFtZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgY2FwLnBsYXRmb3JtTmFtZSA9IGRyaXZlci5jYXBhYmlsaXRpZXMuZGVzaXJlZC5wbGF0Zm9ybU5hbWU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYXAucGxhdGZvcm1OYW1lID09IFwidW5kZWZpbmVkXCIgfHwgY2FwLnBsYXRmb3JtTmFtZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICBjYXAucGxhdGZvcm1OYW1lID0gY29tbW9uLmNhcGl0YWxpemUoaW5mby5jYXB0dXJlVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHRVQgREVWSUNFIElORk9cclxuICAgICAgY2FwLmRldmljZU5hbWUgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRldmljZU5hbWU7XHJcbiAgICAgIGNhcC5kZXZpY2VNb2RlbCA9IGRyaXZlci5jYXBhYmlsaXRpZXMuZGV2aWNlTW9kZWw7XHJcbiAgICAgIGNhcC5kZXZpY2VVRElEID0gZHJpdmVyLmNhcGFiaWxpdGllcy51ZGlkO1xyXG4gICAgICBjYXAuZGV2aWNlTWFudWZhY3R1cmVyID0gZHJpdmVyLmNhcGFiaWxpdGllcy5kZXZpY2VNYW51ZmFjdHVyZXI7XHJcbiAgICAgIGNhcC5wbGF0Zm9ybVZlcnNpb24gPSBkcml2ZXIuY2FwYWJpbGl0aWVzLnBsYXRmb3JtVmVyc2lvbjtcclxuICAgICAgaWYgKGNhcC5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKSAhPSBcImlvc1wiKSB7XHJcbiAgICAgICAgY2FwLmRldmljZVNjcmVlblNpemUgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRldmljZVNjcmVlblNpemU7XHJcbiAgICAgICAgY2FwLmRldmljZUFwaUxldmVsID0gZHJpdmVyLmNhcGFiaWxpdGllcy5kZXZpY2VBcGlMZXZlbDtcclxuXHJcbiAgICAgICAgLy8gR0VUIEJBU0VMSU5FIEZPTERFUlxyXG4gICAgICAgIGNhcC5iYXNlbGluZUZvbGRlciA9IGRyaXZlci5jYXBhYmlsaXRpZXMuZGVzaXJlZC5kZXZpY2VOYW1lO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEdFVCBCQVNFTElORSBGT0xERVJcclxuICAgICAgICBjYXAuYmFzZWxpbmVGb2xkZXIgPSBkcml2ZXIuY2FwYWJpbGl0aWVzLmRldmljZU5hbWU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEdFVCBQTEFURk9STSBOQU1FXHJcbiAgICAgIGNhcC5wbGF0Zm9ybU5hbWUgPSBicm93c2VyLmNhcGFiaWxpdGllcy5wbGF0Zm9ybU5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgaWYgKHR5cGVvZiBjYXAucGxhdGZvcm1OYW1lID09IFwidW5kZWZpbmVkXCIgfHwgY2FwLnBsYXRmb3JtTmFtZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgY2FwLnBsYXRmb3JtTmFtZSA9IFwiZGVza3RvcFwiO1xyXG4gICAgICB9XHJcbiAgICAgIGNhcC5wbGF0Zm9ybU5hbWUgPSBjb21tb24uY2FwaXRhbGl6ZShjYXAucGxhdGZvcm1OYW1lKTtcclxuXHJcbiAgICAgIC8vIEdFVCBCUk9XU0VSIElORk9cclxuICAgICAgY2FwLmJyb3dzZXJOYW1lID0gYnJvd3Nlci5jYXBhYmlsaXRpZXMuYnJvd3Nlck5hbWU7XHJcbiAgICAgIGNhcC5icm93c2VyVmVyc2lvbiA9IGJyb3dzZXIuY2FwYWJpbGl0aWVzLmJyb3dzZXJWZXJzaW9uO1xyXG5cclxuICAgICAgLy8gR0VUIEJBU0VMSU5FIEZPTERFUlxyXG4gICAgICBjYXAuYmFzZWxpbmVGb2xkZXIgPSBgZGVza3RvcF8ke2Jyb3dzZXIuY2FwYWJpbGl0aWVzLmJyb3dzZXJOYW1lfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhcDtcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgY2FwSGFuZGxlcigpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUU1QixNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUM3QyxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFFbkMsTUFBTUcsVUFBVSxDQUFDO0VBQ2ZDLFdBQVdBLENBQUEsRUFBRyxDQUFDOztFQUVmO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFLE1BQU1DLG9CQUFvQkEsQ0FBQ0MsS0FBSyxFQUFFQyxJQUFJLEVBQUU7SUFDdEMsSUFBSUQsS0FBSyxDQUFDRSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3BCLE1BQU1DLFlBQVksR0FBR0gsS0FBSyxDQUFDLENBQUMsQ0FBQztNQUU3QixJQUFJSixNQUFNLENBQUNRLFlBQVksQ0FBQ0QsWUFBWSxDQUFDLEVBQUU7UUFDckMsTUFBTUUsSUFBSSxHQUFHLE1BQU1WLFdBQVcsQ0FBQ1csbUJBQW1CLENBQUNILFlBQVksQ0FBQztRQUNoRSxNQUFNSSxtQkFBbUIsR0FBRyxNQUFNWixXQUFXLENBQUNhLHNCQUFzQixDQUNsRUgsSUFBSSxDQUFDSSxRQUFRLEVBQ2JKLElBQUksQ0FBQ0ssU0FDUCxDQUFDO1FBRUQsTUFBTUMsT0FBTyxHQUFHbEIsSUFBSSxD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","map":{"version":3,"names":["path","require","dataHandler","common","capHandler","constructor","generateCapabilities","specs","caps","length","specFilePath","isNormalSpec","info","getInfoFromFilePath","projectCapabilities","getProjectCapabilities","clientId","projectId","dirPath","parse","dir","dataPath","dirname","prjCaps","key","value","getCapabilities","specId","getInfoFromSpecId","cap","captureType","platformName","driver","capabilities","desired","capitalize","deviceName","deviceModel","deviceUDID","udid","deviceManufacturer","platformVersion","toLowerCase","deviceScreenSize","deviceApiLevel","baselineFolder","browser","browserName","browserVersion","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\lib\\","sources":["cap_handler.js"],"sourcesContent":["const path = require(\"path\");\r\n\r\nconst dataHandler = require(\"./data_handler\");\r\nconst common = require(\"../common\");\r\n\r\nclass capHandler {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Generate capabilities from json into config\r\n   * @param {Array} specs list of running spec files\r\n   * @param {JSON} caps object contain capabilities that will be merged into config\r\n   * @returns {JSON}\r\n   */\r\n  async generateCapabilities(specs, caps) {\r\n    if (specs.length > 0) {\r\n      const specFilePath = specs[0];\r\n\r\n      if (common.isNormalSpec(specFilePath)) {\r\n        const info = await dataHandler.getInfoFromFilePath(specFilePath);\r\n        const projectCapabilities = await dataHandler.getProjectCapabilities(\r\n          info.clientId,\r\n          info.projectId\r\n        );\r\n\r\n        const dirPath = path.parse(specFilePath).dir;\r\n        const dataPath = path.dirname(path.dirname(dirPath)) + `/data`;\r\n\r\n        if (typeof projectCapabilities[caps[\"custom:cid\"]] != \"undefined\") {\r\n          const prjCaps = projectCapabilities[caps[\"custom:cid\"]];\r\n\r\n          for (var key in prjCaps) {\r\n            var value = prjCaps[key];\r\n            switch (key) {\r\n              case \"custom:enabled\":\r\n                if (!value) {\r\n                  caps[\"appium:deviceName\"] = prjCaps[\"appium:deviceName\"];\r\n                  return false;\r\n                }\r\n                break;\r\n              case \"appium:app\":\r\n                caps[key] = `${dataPath}/${value}`;\r\n                break;\r\n\r\n              default:\r\n                caps[key] = value;\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return caps;\r\n  }\r\n\r\n  /**\r\n   * Get test capabilities used for Allure report\r\n   * @param {String} specId spec id\r\n   * @returns {Object}\r\n   */\r\n  async getCapabilities(specId) {\r\n    const info = await dataHandler.getInfoFromSpecId(specId);\r\n    let cap = {};\r\n\r\n    if (info.captureType == \"mobile\") {\r\n      // GET PLATFORM NAME - Android or iOS\r\n      cap.platformName = driver.capabilities.platformName;\r\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n        cap.platformName = driver.capabilities.desired.platformName;\r\n        if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n          cap.platformName = common.capitalize(info.captureType);\r\n        }\r\n      }\r\n\r\n      // GET DEVICE INFO\r\n      cap.deviceName = driver.capabilities.deviceName;\r\n      cap.deviceModel = driver.capabilities.deviceModel;\r\n      cap.deviceUDID = driver.capabilities.udid;\r\n      cap.deviceManufacturer = driver.capabilities.deviceManufacturer;\r\n      cap.platformVersion = driver.capabilities.platformVersion;\r\n      if (cap.platformName.toLowerCase() != \"ios\") {\r\n        cap.deviceScreenSize = driver.capabilities.deviceScreenSize;\r\n        cap.deviceApiLevel = driver.capabilities.deviceApiLevel;\r\n\r\n        // GET BASELINE FOLDER\r\n        cap.baselineFolder = driver.capabilities.desired.deviceName;\r\n      } else {\r\n        // GET BASELINE FOLDER\r\n        cap.baselineFolder = driver.capabilities.deviceName;\r\n      }\r\n    } else {\r\n      // GET PLATFORM NAME\r\n      cap.platformName = browser.capabilities.platformName.toLowerCase();\r\n      if (typeof cap.platformName == \"undefined\" || cap.platformName == \"\") {\r\n        cap.platformName = \"desktop\";\r\n      }\r\n      cap.platformName = common.capitalize(cap.platformName);\r\n\r\n      // GET BROWSER INFO\r\n      cap.browserName = browser.capabilities.browserName;\r\n      cap.browserVersion = browser.capabilities.browserVersion;\r\n\r\n      // GET BASELINE FOLDER\r\n      cap.baselineFolder = `desktop_${browser.capabilities.browserName}`;\r\n    }\r\n\r\n    return cap;\r\n  }\r\n}\r\nmodule.exports = new capHandler();\r\n"],"mappings":"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"}},"mtime":1700647516853},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\utils\\\\lib\\\\jira.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const dataHandler = require(\"./data_handler\");\nconst allureCustom = require(\"./allure\");\nconst capHandler = require(\"./cap_handler\");\nconst common = require(\"../common\");\nconst axios = require(\"axios\");\nconst FormData = require(\"form-data\");\nconst fs = require(\"fs\");\nclass jiraIntegration {\n  constructor() {}\n\n  /**\r\n   * Main job of Jira intergration, is used to connect and update Jira ticket\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   * @param {Boolean} passed test result\r\n   * @param {Object} error error returned if failed\r\n   */\n  async jobs(specFileName, specTitle, passed, error) {\n    if (common.isNormalSpec(specFileName)) {\n      const info = await dataHandler.getInfoFromFilePath(specFileName);\n      const excelData = await dataHandler.getProjectDataExcel(info.clientId, info.projectId);\n      let jiraPrjKey = excelData[\"config\"][0][\"jira_key\"];\n      let isCreateJira = excelData[\"config\"][0][\"create_jira\"];\n      let issue = await this.getIssue(info);\n\n      // CONDITIONS :: TICKET NOT EXISTING & FAILED CASE\n      // CREATE NEW TICKET\n      if (!passed && specTitle.includes(\"image comparison\") && isCreateJira == \"yes\" && jiraPrjKey != \"\" && issue.key == \"\") {\n        var createIssueRes = await browser.call(async () => await this.createIssue(info, error.message, jiraPrjKey));\n        if (typeof createIssueRes != \"undefined\" && typeof createIssueRes[\"data\"] != \"undefined\") {\n          const newIssueKey = createIssueRes[\"data\"].key;\n\n          // UPDATE ISSUE KEY BACK TO GLOBAL JSON\n          this.updateIssueKeyIntoJson(info, newIssueKey, \"open\");\n\n          // ADD ATTACHMENTS\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"diff\"));\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"baseline\"));\n          await browser.call(async () => await this.addIssueAttachment(info, newIssueKey, \"actual\"));\n        }\n      }\n\n      // UPDATE TICKET IF EXISTING\n      if (specTitle.includes(\"image comparison\") && isCreateJira == \"yes\" && jiraPrjKey != \"\" && issue.key != \"\") {\n        const closedTranId = excelData[\"config\"][0][\"closed_transition_id\"];\n        const reopenTranId = excelData[\"config\"][0][\"reopen_transition_id\"];\n\n        // CLOSE TICKET IF PASSED\n        if (passed && issue.status == \"open\") {\n          await browser.call(async () => await this.transitionIssue(issue.key, closedTranId));\n          this.updateIssueKeyIntoJson(info, issue.key, \"closed\");\n        }\n\n        // REOPEN TICKET IF FAILED\n        if (!passed && issue.status == \"closed\") {\n          await browser.call(async () => await this.transitionIssue(issue.key, reopenTranId));\n          this.updateIssueKeyIntoJson(info, issue.key, \"open\");\n        }\n\n        // UPDATE ATTACHMENTS\n        var jiraIssueRes = await browser.call(async () => await this.getJiraIssue(issue.key));\n        if (typeof jiraIssueRes != \"undefined\" && typeof jiraIssueRes[\"data\"] != \"undefined\") {\n          var attachments = jiraIssueRes[\"data\"].fields.attachment;\n\n          // DELETE ALL ATTACHMENTS\n          for (let index = 0; index < attachments.length; index++) {\n            const attachment = attachments[index];\n            await browser.call(async () => await this.delIssueAttachment(attachment.id));\n          }\n\n          // ADD NEW ATTACHMENT\n          if (!passed) {\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"diff\"));\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"baseline\"));\n            await browser.call(async () => await this.addIssueAttachment(info, issue.key, \"actual\"));\n          }\n        }\n      }\n      await this.addIssueLink(info);\n    }\n  }\n\n  /**\r\n   * Get issue key from global data json\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\n  async getIssue(info) {\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const projects = jsonData.projects;\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    let issueId = \"\";\n    let status = \"\";\n    if (typeof projects[clientId] != \"undefined\" && typeof projects[clientId][projectId] != \"undefined\" && typeof projects[clientId][projectId][specId] != \"undefined\" && typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\") {\n      issueId = projects[clientId][projectId][specId][\"jira\"];\n      status = projects[clientId][projectId][specId][\"status\"];\n    }\n    return {\n      key: issueId,\n      status: status\n    };\n  }\n\n  /**\r\n   * Create new Jira issue and return issue key\r\n   * @param {Object} info spec information\r\n   * @param {String} errMsg error message will be thrown\r\n   * @param {String} jiraPrjKey Jira project key\r\n   * @returns {Object}\r\n   */\n  async createIssue(info, errMsg, jiraPrjKey) {\n    if (errMsg.includes(\"Image comparison is failed\")) {\n      let issue = await this.getIssue(info);\n      const jiraUrl = browser.config.jira;\n      const jiraAuth = browser.config.jiraAuth;\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Basic ${jiraAuth}`\n      };\n      const bodyData = {\n        fields: {\n          summary: `${info.specId} - Auto test flow is failed`,\n          issuetype: {\n            name: \"Automation Bug\"\n          },\n          project: {\n            key: jiraPrjKey\n          },\n          description: errMsg,\n          labels: [\"img_comparison\"]\n        }\n      };\n      let response = \"\";\n\n      // ONLY CREATE IF NOT EXISTING\n      if (issue.key == \"\") {\n        response = await axios.post(`${jiraUrl}rest/api/2/issue`, bodyData, {\n          headers: headers\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n      return response;\n    }\n  }\n\n  /**\r\n   * Update status and issue key into data json\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey issue key\r\n   * @param {String} status closed or open\r\n   */\n  async updateIssueKeyIntoJson(info, issueKey, status) {\n    let jsonData = await dataHandler.getGlobalDataJson();\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    if (typeof jsonData.projects[clientId] == \"undefined\") jsonData.projects[clientId] = {};\n    if (typeof jsonData.projects[clientId][projectId] == \"undefined\") jsonData.projects[clientId][projectId] = {};\n    if (typeof jsonData.projects[clientId][projectId][specId] == \"undefined\") jsonData.projects[clientId][projectId][specId] = {};\n    jsonData.projects[clientId][projectId][specId][\"jira\"] = issueKey;\n    jsonData.projects[clientId][projectId][specId][\"status\"] = status;\n    await dataHandler.updateDataJsonFile(jsonData);\n  }\n\n  /**\r\n   * Add attachments into Jira issue\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} type diff, actual or baseline\r\n   * @returns {Object}\r\n   */\n  async addIssueAttachment(info, issueKey, type) {\n    const specId = info.specId;\n    const caps = await capHandler.getCapabilities(specId);\n    const captureOpts = await dataHandler.getCaptureOpts(info.clientId, info.projectId);\n    if (issueKey != \"\") {\n      try {\n        const form = new FormData();\n        let screenshots = await dataHandler.getScreenshots(specId, caps.baselineFolder);\n        const stats = fs.statSync(screenshots.filePaths[type]);\n        const fileSizeInBytes = stats.size;\n        const fileStream = fs.createReadStream(screenshots.filePaths[type]);\n        form.append(\"file\", fileStream, {\n          knownLength: fileSizeInBytes,\n          filename: type + \".png\"\n        });\n        const jiraUrl = browser.config.jira;\n        const jiraAuth = browser.config.jiraAuth;\n        const headers = {\n          Accept: \"application/json\",\n          Authorization: `Basic ${jiraAuth}`,\n          \"X-Atlassian-Token\": \"no-check\"\n        };\n        let response = await axios.post(`${jiraUrl}rest/api/2/issue/${issueKey}/attachments`, form, {\n          headers: headers\n        }).catch(err => {\n          console.log(err);\n        });\n        return response;\n      } catch (error) {\n        return error;\n      }\n    }\n  }\n\n  /**\r\n   * Change Jira issue status\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} transitionId Jira tranistion id\r\n   * @returns {Object}\r\n   */\n  async transitionIssue(issueKey, transitionId) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `Basic ${jiraAuth}`\n    };\n    const bodyData = {\n      transition: {\n        id: transitionId\n      }\n    };\n    let response = await axios.post(`${jiraUrl}rest/api/2/issue/${issueKey}/transitions`, bodyData, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Get Jira issue ticket\r\n   * @param {String} issueKey Jira issue key\r\n   * @returns {Object}\r\n   */\n  async getJiraIssue(issueKey) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      Authorization: `Basic ${jiraAuth}`\n    };\n    let response = await axios.get(`${jiraUrl}rest/api/2/issue/${issueKey}`, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Delete Jira issue attachment\r\n   * @param {String} attachmentId Jira attachment id\r\n   * @returns {Object}\r\n   */\n  async delIssueAttachment(attachmentId) {\n    const jiraUrl = browser.config.jira;\n    const jiraAuth = browser.config.jiraAuth;\n    const headers = {\n      Authorization: `Basic ${jiraAuth}`\n    };\n    let response = await axios.delete(`${jiraUrl}rest/api/2/attachment/${attachmentId}`, {\n      headers: headers\n    }).catch(err => {\n      console.log(err);\n    });\n    return response;\n  }\n\n  /**\r\n   * Add issue link to data json and Allure\r\n   * @param {Object} info spec information\r\n   */\n  async addIssueLink(info) {\n    const jsonData = await dataHandler.getGlobalDataJson();\n    const projects = jsonData.projects;\n    const specId = info.specId;\n    const clientId = info.clientId;\n    const projectId = info.projectId;\n    if (typeof projects[clientId] != \"undefined\" && typeof projects[clientId][projectId] != \"undefined\" && typeof projects[clientId][projectId][specId] != \"undefined\" && typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\" && projects[clientId][projectId][specId][\"jira\"] != \"\") {\n      allureCustom.addIssue(projects[clientId][projectId][specId][\"jira\"]);\n    }\n  }\n}\nmodule.exports = new jiraIntegration();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYXRhSGFuZGxlciIsInJlcXVpcmUiLCJhbGx1cmVDdXN0b20iLCJjYXBIYW5kbGVyIiwiY29tbW9uIiwiYXhpb3MiLCJGb3JtRGF0YSIsImZzIiwiamlyYUludGVncmF0aW9uIiwiY29uc3RydWN0b3IiLCJqb2JzIiwic3BlY0ZpbGVOYW1lIiwic3BlY1RpdGxlIiwicGFzc2VkIiwiZXJyb3IiLCJpc05vcm1hbFNwZWMiLCJpbmZvIiwiZ2V0SW5mb0Zyb21GaWxlUGF0aCIsImV4Y2VsRGF0YSIsImdldFByb2plY3REYXRhRXhjZWwiLCJjbGllbnRJZCIsInByb2plY3RJZCIsImppcmFQcmpLZXkiLCJpc0NyZWF0ZUppcmEiLCJpc3N1ZSIsImdldElzc3VlIiwiaW5jbHVkZXMiLCJrZXkiLCJjcmVhdGVJc3N1ZVJlcyIsImJyb3dzZXIiLCJjYWxsIiwiY3JlYXRlSXNzdWUiLCJtZXNzYWdlIiwibmV3SXNzdWVLZXkiLCJ1cGRhdGVJc3N1ZUtleUludG9Kc29uIiwiYWRkSXNzdWVBdHRhY2htZW50IiwiY2xvc2VkVHJhbklkIiwicmVvcGVuVHJhbklkIiwic3RhdHVzIiwidHJhbnNpdGlvbklzc3VlIiwiamlyYUlzc3VlUmVzIiwiZ2V0SmlyYUlzc3VlIiwiYXR0YWNobWVudHMiLCJmaWVsZHMiLCJhdHRhY2htZW50IiwiaW5kZXgiLCJsZW5ndGgiLCJkZWxJc3N1ZUF0dGFjaG1lbnQiLCJpZCIsImFkZElzc3VlTGluayIsImpzb25EYXRhIiwiZ2V0R2xvYmFsRGF0YUpzb24iLCJwcm9qZWN0cyIsInNwZWNJZCIsImlzc3VlSWQiLCJlcnJNc2ciLCJqaXJhVXJsIiwiY29uZmlnIiwiamlyYSIsImppcmFBdXRoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5RGF0YSIsInN1bW1hcnkiLCJpc3N1ZXR5cGUiLCJuYW1lIiwicHJvamVjdCIsImRlc2NyaXB0aW9uIiwibGFiZWxzIiwicmVzcG9uc2UiLCJwb3N0IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiaXNzdWVLZXkiLCJ1cGRhdGVEYXRhSnNvbkZpbGUiLCJ0eXBlIiwiY2FwcyIsImdldENhcGFiaWxpdGllcyIsImNhcHR1cmVPcHRzIiwiZ2V0Q2FwdHVyZU9wdHMiLCJmb3JtIiwic2NyZWVuc2hvdHMiLCJnZXRTY3JlZW5zaG90cyIsImJhc2VsaW5lRm9sZGVyIiwic3RhdHMiLCJzdGF0U3luYyIsImZpbGVQYXRocyIsImZpbGVTaXplSW5CeXRlcyIsInNpemUiLCJmaWxlU3RyZWFtIiwiY3JlYXRlUmVhZFN0cmVhbSIsImFwcGVuZCIsImtub3duTGVuZ3RoIiwiZmlsZW5hbWUiLCJBY2NlcHQiLCJ0cmFuc2l0aW9uSWQiLCJ0cmFuc2l0aW9uIiwiZ2V0IiwiYXR0YWNobWVudElkIiwiZGVsZXRlIiwiYWRkSXNzdWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHV0aWxzXFxsaWJcXCIsInNvdXJjZXMiOlsiamlyYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYXRhSGFuZGxlciA9IHJlcXVpcmUoXCIuL2RhdGFfaGFuZGxlclwiKTtcclxuY29uc3QgYWxsdXJlQ3VzdG9tID0gcmVxdWlyZShcIi4vYWxsdXJlXCIpO1xyXG5jb25zdCBjYXBIYW5kbGVyID0gcmVxdWlyZShcIi4vY2FwX2hhbmRsZXJcIik7XHJcbmNvbnN0IGNvbW1vbiA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XHJcblxyXG5jb25zdCBheGlvcyA9IHJlcXVpcmUoXCJheGlvc1wiKTtcclxuY29uc3QgRm9ybURhdGEgPSByZXF1aXJlKFwiZm9ybS1kYXRhXCIpO1xyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuXHJcbmNsYXNzIGppcmFJbnRlZ3JhdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBNYWluIGpvYiBvZiBKaXJhIGludGVyZ3JhdGlvbiwgaXMgdXNlZCB0byBjb25uZWN0IGFuZCB1cGRhdGUgSmlyYSB0aWNrZXRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY0ZpbGVOYW1lIHNwZWMgZmlsZSBuYW1lXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNUaXRsZSBzcGVjIHRpdGxlXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBwYXNzZWQgdGVzdCByZXN1bHRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZXJyb3IgZXJyb3IgcmV0dXJuZWQgaWYgZmFpbGVkXHJcbiAgICovXHJcbiAgYXN5bmMgam9icyhzcGVjRmlsZU5hbWUsIHNwZWNUaXRsZSwgcGFzc2VkLCBlcnJvcikge1xyXG4gICAgaWYgKGNvbW1vbi5pc05vcm1hbFNwZWMoc3BlY0ZpbGVOYW1lKSkge1xyXG4gICAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0SW5mb0Zyb21GaWxlUGF0aChzcGVjRmlsZU5hbWUpO1xyXG4gICAgICBjb25zdCBleGNlbERhdGEgPSBhd2FpdCBkYXRhSGFuZGxlci5nZXRQcm9qZWN0RGF0YUV4Y2VsKFxyXG4gICAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgICAgaW5mby5wcm9qZWN0SWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGxldCBqaXJhUHJqS2V5ID0gZXhjZWxEYXRhW1wiY29uZmlnXCJdWzBdW1wiamlyYV9rZXlcIl07XHJcbiAgICAgIGxldCBpc0NyZWF0ZUppcmEgPSBleGNlbERhdGFbXCJjb25maWdcIl1bMF1bXCJjcmVhdGVfamlyYVwiXTtcclxuICAgICAgbGV0IGlzc3VlID0gYXdhaXQgdGhpcy5nZXRJc3N1ZShpbmZvKTtcclxuXHJcbiAgICAgIC8vIENPTkRJVElPTlMgOjogVElDS0VUIE5PVCBFWElTVElORyAmIEZBSUxFRCBDQVNFXHJcbiAgICAgIC8vIENSRUFURSBORVcgVElDS0VUXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhcGFzc2VkICYmXHJcbiAgICAgICAgc3BlY1RpdGxlLmluY2x1ZGVzKFwiaW1hZ2UgY29tcGFyaXNvblwiKSAmJlxyXG4gICAgICAgIGlzQ3JlYXRlSmlyYSA9PSBcInllc1wiICYmXHJcbiAgICAgICAgamlyYVByaktleSAhPSBcIlwiICYmXHJcbiAgICAgICAgaXNzdWUua2V5ID09IFwiXCJcclxuICAgICAgKSB7XHJcbiAgICAgICAgdmFyIGNyZWF0ZUlzc3VlUmVzID0gYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5jcmVhdGVJc3N1ZShpbmZvLCBlcnJvci5tZXNzYWdlLCBqaXJhUHJqS2V5KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHR5cGVvZiBjcmVhdGVJc3N1ZVJlcyAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICB0eXBlb2YgY3JlYXRlSXNzdWVSZXNbXCJkYXRhXCJdICE9IFwidW5kZWZpbmVkXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnN0IG5ld0lzc3VlS2V5ID0gY3JlYXRlSXNzdWVSZXNbXCJkYXRhXCJdLmtleTtcclxuXHJcbiAgICAgICAgICAvLyBVUERBVEUgSVNTVUUgS0VZIEJBQ0sgVE8gR0xPQkFMIEpTT05cclxuICAgICAgICAgIHRoaXMudXBkYXRlSXNzdWVLZXlJbnRvSnNvbihpbmZvLCBuZXdJc3N1ZUtleSwgXCJvcGVuXCIpO1xyXG5cclxuICAgICAgICAgIC8vIEFERCBBVFRBQ0hNRU5UU1xyXG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBuZXdJc3N1ZUtleSwgXCJkaWZmXCIpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICBhc3luYyAoKSA9PlxyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXNzdWVBdHRhY2htZW50KGluZm8sIG5ld0lzc3VlS2V5LCBcImJhc2VsaW5lXCIpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5jYWxsKFxyXG4gICAgICAgICAgICBhc3luYyAoKSA9PlxyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXNzdWVBdHRhY2htZW50KGluZm8sIG5ld0lzc3VlS2V5LCBcImFjdHVhbFwiKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVQREFURSBUSUNLRVQgSUYgRVhJU1RJTkdcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHNwZWNUaXRsZS5pbmNsdWRlcyhcImltYWdlIGNvbXBhcmlzb25cIikgJiZcclxuICAgICAgICBpc0NyZWF0ZUppcmEgPT0gXCJ5ZXNcIiAmJlxyXG4gICAgICAgIGppcmFQcmpLZXkgIT0gXCJcIiAmJlxyXG4gICAgICAgIGlzc3VlLmtleSAhPSBcIlwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGNsb3NlZFRyYW5JZCA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcImNsb3NlZF90cmFuc2l0aW9uX2lkXCJdO1xyXG4gICAgICAgIGNvbnN0IHJlb3BlblRyYW5JZCA9IGV4Y2VsRGF0YVtcImNvbmZpZ1wiXVswXVtcInJlb3Blbl90cmFuc2l0aW9uX2lkXCJdO1xyXG5cclxuICAgICAgICAvLyBDTE9TRSBUSUNLRVQgSUYgUEFTU0VEXHJcbiAgICAgICAgaWYgKHBhc3NlZCAmJiBpc3N1ZS5zdGF0dXMgPT0gXCJvcGVuXCIpIHtcclxuICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy50cmFuc2l0aW9uSXNzdWUoaXNzdWUua2V5LCBjbG9zZWRUcmFuSWQpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVJc3N1ZUtleUludG9Kc29uKGluZm8sIGlzc3VlLmtleSwgXCJjbG9zZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSRU9QRU4gVElDS0VUIElGIEZBSUxFRFxyXG4gICAgICAgIGlmICghcGFzc2VkICYmIGlzc3VlLnN0YXR1cyA9PSBcImNsb3NlZFwiKSB7XHJcbiAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgIGFzeW5jICgpID0+IGF3YWl0IHRoaXMudHJhbnNpdGlvbklzc3VlKGlzc3VlLmtleSwgcmVvcGVuVHJhbklkKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHRoaXMudXBkYXRlSXNzdWVLZXlJbnRvSnNvbihpbmZvLCBpc3N1ZS5rZXksIFwib3BlblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVQREFURSBBVFRBQ0hNRU5UU1xyXG4gICAgICAgIHZhciBqaXJhSXNzdWVSZXMgPSBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmdldEppcmFJc3N1ZShpc3N1ZS5rZXkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0eXBlb2YgamlyYUlzc3VlUmVzICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgIHR5cGVvZiBqaXJhSXNzdWVSZXNbXCJkYXRhXCJdICE9IFwidW5kZWZpbmVkXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHZhciBhdHRhY2htZW50cyA9IGppcmFJc3N1ZVJlc1tcImRhdGFcIl0uZmllbGRzLmF0dGFjaG1lbnQ7XHJcblxyXG4gICAgICAgICAgLy8gREVMRVRFIEFMTCBBVFRBQ0hNRU5UU1xyXG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dGFjaG1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gYXR0YWNobWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5kZWxJc3N1ZUF0dGFjaG1lbnQoYXR0YWNobWVudC5pZClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBREQgTkVXIEFUVEFDSE1FTlRcclxuICAgICAgICAgIGlmICghcGFzc2VkKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2FsbChcclxuICAgICAgICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmFkZElzc3VlQXR0YWNobWVudChpbmZvLCBpc3N1ZS5rZXksIFwiZGlmZlwiKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgICAgYXN5bmMgKCkgPT5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXNzdWVBdHRhY2htZW50KGluZm8sIGlzc3VlLmtleSwgXCJiYXNlbGluZVwiKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmNhbGwoXHJcbiAgICAgICAgICAgICAgYXN5bmMgKCkgPT5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXNzdWVBdHRhY2htZW50KGluZm8sIGlzc3VlLmtleSwgXCJhY3R1YWxcIilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMuYWRkSXNzdWVMaW5rKGluZm8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGlzc3VlIGtleSBmcm9tIGdsb2JhbCBkYXRhIGpzb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICBhc3luYyBnZXRJc3N1ZShpbmZvKSB7XHJcbiAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICBjb25zdCBwcm9qZWN0cyA9IGpzb25EYXRhLnByb2plY3RzO1xyXG4gICAgY29uc3Qgc3BlY0lkID0gaW5mby5zcGVjSWQ7XHJcbiAgICBjb25zdCBjbGllbnRJZCA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBpbmZvLnByb2plY3RJZDtcclxuICAgIGxldCBpc3N1ZUlkID0gXCJcIjtcclxuICAgIGxldCBzdGF0dXMgPSBcIlwiO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdHlwZW9mIHByb2plY3RzW2NsaWVudElkXSAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXSAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdICE9IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgdHlwZW9mIHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJqaXJhXCJdICE9IFwidW5kZWZpbmVkXCJcclxuICAgICkge1xyXG4gICAgICBpc3N1ZUlkID0gcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXVtcImppcmFcIl07XHJcbiAgICAgIHN0YXR1cyA9IHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJzdGF0dXNcIl07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAga2V5OiBpc3N1ZUlkLFxyXG4gICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgbmV3IEppcmEgaXNzdWUgYW5kIHJldHVybiBpc3N1ZSBrZXlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVyck1zZyBlcnJvciBtZXNzYWdlIHdpbGwgYmUgdGhyb3duXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGppcmFQcmpLZXkgSmlyYSBwcm9qZWN0IGtleVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgY3JlYXRlSXNzdWUoaW5mbywgZXJyTXNnLCBqaXJhUHJqS2V5KSB7XHJcbiAgICBpZiAoZXJyTXNnLmluY2x1ZGVzKFwiSW1hZ2UgY29tcGFyaXNvbiBpcyBmYWlsZWRcIikpIHtcclxuICAgICAgbGV0IGlzc3VlID0gYXdhaXQgdGhpcy5nZXRJc3N1ZShpbmZvKTtcclxuICAgICAgY29uc3QgamlyYVVybCA9IGJyb3dzZXIuY29uZmlnLmppcmE7XHJcbiAgICAgIGNvbnN0IGppcmFBdXRoID0gYnJvd3Nlci5jb25maWcuamlyYUF1dGg7XHJcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7amlyYUF1dGh9YCxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgYm9keURhdGEgPSB7XHJcbiAgICAgICAgZmllbGRzOiB7XHJcbiAgICAgICAgICBzdW1tYXJ5OiBgJHtpbmZvLnNwZWNJZH0gLSBBdXRvIHRlc3QgZmxvdyBpcyBmYWlsZWRgLFxyXG4gICAgICAgICAgaXNzdWV0eXBlOiB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiQXV0b21hdGlvbiBCdWdcIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgIGtleTogamlyYVByaktleSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyTXNnLFxyXG4gICAgICAgICAgbGFiZWxzOiBbXCJpbWdfY29tcGFyaXNvblwiXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBsZXQgcmVzcG9uc2UgPSBcIlwiO1xyXG5cclxuICAgICAgLy8gT05MWSBDUkVBVEUgSUYgTk9UIEVYSVNUSU5HXHJcbiAgICAgIGlmIChpc3N1ZS5rZXkgPT0gXCJcIikge1xyXG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3NcclxuICAgICAgICAgIC5wb3N0KGAke2ppcmFVcmx9cmVzdC9hcGkvMi9pc3N1ZWAsIGJvZHlEYXRhLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgc3RhdHVzIGFuZCBpc3N1ZSBrZXkgaW50byBkYXRhIGpzb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBzcGVjIGluZm9ybWF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlzc3VlS2V5IGlzc3VlIGtleVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0dXMgY2xvc2VkIG9yIG9wZW5cclxuICAgKi9cclxuICBhc3luYyB1cGRhdGVJc3N1ZUtleUludG9Kc29uKGluZm8sIGlzc3VlS2V5LCBzdGF0dXMpIHtcclxuICAgIGxldCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICBjb25zdCBzcGVjSWQgPSBpbmZvLnNwZWNJZDtcclxuICAgIGNvbnN0IGNsaWVudElkID0gaW5mby5jbGllbnRJZDtcclxuICAgIGNvbnN0IHByb2plY3RJZCA9IGluZm8ucHJvamVjdElkO1xyXG5cclxuICAgIGlmICh0eXBlb2YganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgIGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXSA9IHt9O1xyXG4gICAgaWYgKHR5cGVvZiBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXSA9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXSA9IHt9O1xyXG4gICAgaWYgKHR5cGVvZiBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdID09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgIGpzb25EYXRhLnByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF0gPSB7fTtcclxuXHJcbiAgICBqc29uRGF0YS5wcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdW1wiamlyYVwiXSA9IGlzc3VlS2V5O1xyXG4gICAganNvbkRhdGEucHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXVtcInN0YXR1c1wiXSA9IHN0YXR1cztcclxuXHJcbiAgICBhd2FpdCBkYXRhSGFuZGxlci51cGRhdGVEYXRhSnNvbkZpbGUoanNvbkRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGF0dGFjaG1lbnRzIGludG8gSmlyYSBpc3N1ZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIHNwZWMgaW5mb3JtYXRpb25cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaXNzdWVLZXkgSmlyYSBpc3N1ZSBrZXlcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBkaWZmLCBhY3R1YWwgb3IgYmFzZWxpbmVcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGFzeW5jIGFkZElzc3VlQXR0YWNobWVudChpbmZvLCBpc3N1ZUtleSwgdHlwZSkge1xyXG4gICAgY29uc3Qgc3BlY0lkID0gaW5mby5zcGVjSWQ7XHJcbiAgICBjb25zdCBjYXBzID0gYXdhaXQgY2FwSGFuZGxlci5nZXRDYXBhYmlsaXRpZXMoc3BlY0lkKTtcclxuICAgIGNvbnN0IGNhcHR1cmVPcHRzID0gYXdhaXQgZGF0YUhhbmRsZXIuZ2V0Q2FwdHVyZU9wdHMoXHJcbiAgICAgIGluZm8uY2xpZW50SWQsXHJcbiAgICAgIGluZm8ucHJvamVjdElkXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChpc3N1ZUtleSAhPSBcIlwiKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGxldCBzY3JlZW5zaG90cyA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldFNjcmVlbnNob3RzKFxyXG4gICAgICAgICAgc3BlY0lkLFxyXG4gICAgICAgICAgY2Fwcy5iYXNlbGluZUZvbGRlclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBmcy5zdGF0U3luYyhzY3JlZW5zaG90cy5maWxlUGF0aHNbdHlwZV0pO1xyXG4gICAgICAgIGNvbnN0IGZpbGVTaXplSW5CeXRlcyA9IHN0YXRzLnNpemU7XHJcbiAgICAgICAgY29uc3QgZmlsZVN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oc2NyZWVuc2hvdHMuZmlsZVBhdGhzW3R5cGVdKTtcclxuICAgICAgICBmb3JtLmFwcGVuZChcImZpbGVcIiwgZmlsZVN0cmVhbSwge1xyXG4gICAgICAgICAga25vd25MZW5ndGg6IGZpbGVTaXplSW5CeXRlcyxcclxuICAgICAgICAgIGZpbGVuYW1lOiB0eXBlICsgXCIucG5nXCIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGppcmFVcmwgPSBicm93c2VyLmNvbmZpZy5qaXJhO1xyXG4gICAgICAgIGNvbnN0IGppcmFBdXRoID0gYnJvd3Nlci5jb25maWcuamlyYUF1dGg7XHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHtqaXJhQXV0aH1gLFxyXG4gICAgICAgICAgXCJYLUF0bGFzc2lhbi1Ub2tlblwiOiBcIm5vLWNoZWNrXCIsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3NcclxuICAgICAgICAgIC5wb3N0KGAke2ppcmFVcmx9cmVzdC9hcGkvMi9pc3N1ZS8ke2lzc3VlS2V5fS9hdHRhY2htZW50c2AsIGZvcm0sIHtcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoYW5nZSBKaXJhIGlzc3VlIHN0YXR1c1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpc3N1ZUtleSBKaXJhIGlzc3VlIGtleVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc2l0aW9uSWQgSmlyYSB0cmFuaXN0aW9uIGlkXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyB0cmFuc2l0aW9uSXNzdWUoaXNzdWVLZXksIHRyYW5zaXRpb25JZCkge1xyXG4gICAgY29uc3QgamlyYVVybCA9IGJyb3dzZXIuY29uZmlnLmppcmE7XHJcbiAgICBjb25zdCBqaXJhQXV0aCA9IGJyb3dzZXIuY29uZmlnLmppcmFBdXRoO1xyXG5cclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHtqaXJhQXV0aH1gLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGJvZHlEYXRhID0ge1xyXG4gICAgICB0cmFuc2l0aW9uOiB7XHJcbiAgICAgICAgaWQ6IHRyYW5zaXRpb25JZCxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3NcclxuICAgICAgLnBvc3QoYCR7amlyYVVybH1yZXN0L2FwaS8yL2lzc3VlLyR7aXNzdWVLZXl9L3RyYW5zaXRpb25zYCwgYm9keURhdGEsIHtcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBKaXJhIGlzc3VlIHRpY2tldFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpc3N1ZUtleSBKaXJhIGlzc3VlIGtleVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0SmlyYUlzc3VlKGlzc3VlS2V5KSB7XHJcbiAgICBjb25zdCBqaXJhVXJsID0gYnJvd3Nlci5jb25maWcuamlyYTtcclxuICAgIGNvbnN0IGppcmFBdXRoID0gYnJvd3Nlci5jb25maWcuamlyYUF1dGg7XHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHtqaXJhQXV0aH1gLFxyXG4gICAgfTtcclxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zXHJcbiAgICAgIC5nZXQoYCR7amlyYVVybH1yZXN0L2FwaS8yL2lzc3VlLyR7aXNzdWVLZXl9YCwge1xyXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlIEppcmEgaXNzdWUgYXR0YWNobWVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRhY2htZW50SWQgSmlyYSBhdHRhY2htZW50IGlkXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBhc3luYyBkZWxJc3N1ZUF0dGFjaG1lbnQoYXR0YWNobWVudElkKSB7XHJcbiAgICBjb25zdCBqaXJhVXJsID0gYnJvd3Nlci5jb25maWcuamlyYTtcclxuICAgIGNvbnN0IGppcmFBdXRoID0gYnJvd3Nlci5jb25maWcuamlyYUF1dGg7XHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHtqaXJhQXV0aH1gLFxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBheGlvc1xyXG4gICAgICAuZGVsZXRlKGAke2ppcmFVcmx9cmVzdC9hcGkvMi9hdHRhY2htZW50LyR7YXR0YWNobWVudElkfWAsIHtcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBpc3N1ZSBsaW5rIHRvIGRhdGEganNvbiBhbmQgQWxsdXJlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGluZm8gc3BlYyBpbmZvcm1hdGlvblxyXG4gICAqL1xyXG4gIGFzeW5jIGFkZElzc3VlTGluayhpbmZvKSB7XHJcbiAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IGRhdGFIYW5kbGVyLmdldEdsb2JhbERhdGFKc29uKCk7XHJcbiAgICBjb25zdCBwcm9qZWN0cyA9IGpzb25EYXRhLnByb2plY3RzO1xyXG4gICAgY29uc3Qgc3BlY0lkID0gaW5mby5zcGVjSWQ7XHJcbiAgICBjb25zdCBjbGllbnRJZCA9IGluZm8uY2xpZW50SWQ7XHJcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBpbmZvLnByb2plY3RJZDtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF0gIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICB0eXBlb2YgcHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXSAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgIHR5cGVvZiBwcm9qZWN0c1tjbGllbnRJZF1bcHJvamVjdElkXVtzcGVjSWRdW1wiamlyYVwiXSAhPSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgIHByb2plY3RzW2NsaWVudElkXVtwcm9qZWN0SWRdW3NwZWNJZF1bXCJqaXJhXCJdICE9IFwiXCJcclxuICAgICkge1xyXG4gICAgICBhbGx1cmVDdXN0b20uYWRkSXNzdWUocHJvamVjdHNbY2xpZW50SWRdW3Byb2plY3RJZF1bc3BlY0lkXVtcImppcmFcIl0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBqaXJhSW50ZWdyYXRpb24oKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUM3QyxNQUFNQyxZQUFZLEdBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDeEMsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENB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","map":{"version":3,"names":["dataHandler","require","allureCustom","capHandler","common","axios","FormData","fs","jiraIntegration","constructor","jobs","specFileName","specTitle","passed","error","isNormalSpec","info","getInfoFromFilePath","excelData","getProjectDataExcel","clientId","projectId","jiraPrjKey","isCreateJira","issue","getIssue","includes","key","createIssueRes","browser","call","createIssue","message","newIssueKey","updateIssueKeyIntoJson","addIssueAttachment","closedTranId","reopenTranId","status","transitionIssue","jiraIssueRes","getJiraIssue","attachments","fields","attachment","index","length","delIssueAttachment","id","addIssueLink","jsonData","getGlobalDataJson","projects","specId","issueId","errMsg","jiraUrl","config","jira","jiraAuth","headers","Authorization","bodyData","summary","issuetype","name","project","description","labels","response","post","catch","err","console","log","issueKey","updateDataJsonFile","type","caps","getCapabilities","captureOpts","getCaptureOpts","form","screenshots","getScreenshots","baselineFolder","stats","statSync","filePaths","fileSizeInBytes","size","fileStream","createReadStream","append","knownLength","filename","Accept","transitionId","transition","get","attachmentId","delete","addIssue","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\utils\\lib\\","sources":["jira.js"],"sourcesContent":["const dataHandler = require(\"./data_handler\");\r\nconst allureCustom = require(\"./allure\");\r\nconst capHandler = require(\"./cap_handler\");\r\nconst common = require(\"../common\");\r\n\r\nconst axios = require(\"axios\");\r\nconst FormData = require(\"form-data\");\r\nconst fs = require(\"fs\");\r\n\r\nclass jiraIntegration {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Main job of Jira intergration, is used to connect and update Jira ticket\r\n   * @param {String} specFileName spec file name\r\n   * @param {String} specTitle spec title\r\n   * @param {Boolean} passed test result\r\n   * @param {Object} error error returned if failed\r\n   */\r\n  async jobs(specFileName, specTitle, passed, error) {\r\n    if (common.isNormalSpec(specFileName)) {\r\n      const info = await dataHandler.getInfoFromFilePath(specFileName);\r\n      const excelData = await dataHandler.getProjectDataExcel(\r\n        info.clientId,\r\n        info.projectId\r\n      );\r\n\r\n      let jiraPrjKey = excelData[\"config\"][0][\"jira_key\"];\r\n      let isCreateJira = excelData[\"config\"][0][\"create_jira\"];\r\n      let issue = await this.getIssue(info);\r\n\r\n      // CONDITIONS :: TICKET NOT EXISTING & FAILED CASE\r\n      // CREATE NEW TICKET\r\n      if (\r\n        !passed &&\r\n        specTitle.includes(\"image comparison\") &&\r\n        isCreateJira == \"yes\" &&\r\n        jiraPrjKey != \"\" &&\r\n        issue.key == \"\"\r\n      ) {\r\n        var createIssueRes = await browser.call(\r\n          async () => await this.createIssue(info, error.message, jiraPrjKey)\r\n        );\r\n\r\n        if (\r\n          typeof createIssueRes != \"undefined\" &&\r\n          typeof createIssueRes[\"data\"] != \"undefined\"\r\n        ) {\r\n          const newIssueKey = createIssueRes[\"data\"].key;\r\n\r\n          // UPDATE ISSUE KEY BACK TO GLOBAL JSON\r\n          this.updateIssueKeyIntoJson(info, newIssueKey, \"open\");\r\n\r\n          // ADD ATTACHMENTS\r\n          await browser.call(\r\n            async () => await this.addIssueAttachment(info, newIssueKey, \"diff\")\r\n          );\r\n          await browser.call(\r\n            async () =>\r\n              await this.addIssueAttachment(info, newIssueKey, \"baseline\")\r\n          );\r\n          await browser.call(\r\n            async () =>\r\n              await this.addIssueAttachment(info, newIssueKey, \"actual\")\r\n          );\r\n        }\r\n      }\r\n\r\n      // UPDATE TICKET IF EXISTING\r\n      if (\r\n        specTitle.includes(\"image comparison\") &&\r\n        isCreateJira == \"yes\" &&\r\n        jiraPrjKey != \"\" &&\r\n        issue.key != \"\"\r\n      ) {\r\n        const closedTranId = excelData[\"config\"][0][\"closed_transition_id\"];\r\n        const reopenTranId = excelData[\"config\"][0][\"reopen_transition_id\"];\r\n\r\n        // CLOSE TICKET IF PASSED\r\n        if (passed && issue.status == \"open\") {\r\n          await browser.call(\r\n            async () => await this.transitionIssue(issue.key, closedTranId)\r\n          );\r\n          this.updateIssueKeyIntoJson(info, issue.key, \"closed\");\r\n        }\r\n\r\n        // REOPEN TICKET IF FAILED\r\n        if (!passed && issue.status == \"closed\") {\r\n          await browser.call(\r\n            async () => await this.transitionIssue(issue.key, reopenTranId)\r\n          );\r\n          this.updateIssueKeyIntoJson(info, issue.key, \"open\");\r\n        }\r\n\r\n        // UPDATE ATTACHMENTS\r\n        var jiraIssueRes = await browser.call(\r\n          async () => await this.getJiraIssue(issue.key)\r\n        );\r\n        if (\r\n          typeof jiraIssueRes != \"undefined\" &&\r\n          typeof jiraIssueRes[\"data\"] != \"undefined\"\r\n        ) {\r\n          var attachments = jiraIssueRes[\"data\"].fields.attachment;\r\n\r\n          // DELETE ALL ATTACHMENTS\r\n          for (let index = 0; index < attachments.length; index++) {\r\n            const attachment = attachments[index];\r\n            await browser.call(\r\n              async () => await this.delIssueAttachment(attachment.id)\r\n            );\r\n          }\r\n\r\n          // ADD NEW ATTACHMENT\r\n          if (!passed) {\r\n            await browser.call(\r\n              async () => await this.addIssueAttachment(info, issue.key, \"diff\")\r\n            );\r\n            await browser.call(\r\n              async () =>\r\n                await this.addIssueAttachment(info, issue.key, \"baseline\")\r\n            );\r\n            await browser.call(\r\n              async () =>\r\n                await this.addIssueAttachment(info, issue.key, \"actual\")\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      await this.addIssueLink(info);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get issue key from global data json\r\n   * @param {Object} info spec information\r\n   * @returns {String}\r\n   */\r\n  async getIssue(info) {\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const projects = jsonData.projects;\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n    let issueId = \"\";\r\n    let status = \"\";\r\n\r\n    if (\r\n      typeof projects[clientId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\"\r\n    ) {\r\n      issueId = projects[clientId][projectId][specId][\"jira\"];\r\n      status = projects[clientId][projectId][specId][\"status\"];\r\n    }\r\n\r\n    return {\r\n      key: issueId,\r\n      status: status,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create new Jira issue and return issue key\r\n   * @param {Object} info spec information\r\n   * @param {String} errMsg error message will be thrown\r\n   * @param {String} jiraPrjKey Jira project key\r\n   * @returns {Object}\r\n   */\r\n  async createIssue(info, errMsg, jiraPrjKey) {\r\n    if (errMsg.includes(\"Image comparison is failed\")) {\r\n      let issue = await this.getIssue(info);\r\n      const jiraUrl = browser.config.jira;\r\n      const jiraAuth = browser.config.jiraAuth;\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Basic ${jiraAuth}`,\r\n      };\r\n      const bodyData = {\r\n        fields: {\r\n          summary: `${info.specId} - Auto test flow is failed`,\r\n          issuetype: {\r\n            name: \"Automation Bug\",\r\n          },\r\n          project: {\r\n            key: jiraPrjKey,\r\n          },\r\n          description: errMsg,\r\n          labels: [\"img_comparison\"],\r\n        },\r\n      };\r\n      let response = \"\";\r\n\r\n      // ONLY CREATE IF NOT EXISTING\r\n      if (issue.key == \"\") {\r\n        response = await axios\r\n          .post(`${jiraUrl}rest/api/2/issue`, bodyData, {\r\n            headers: headers,\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n\r\n      return response;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update status and issue key into data json\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey issue key\r\n   * @param {String} status closed or open\r\n   */\r\n  async updateIssueKeyIntoJson(info, issueKey, status) {\r\n    let jsonData = await dataHandler.getGlobalDataJson();\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n\r\n    if (typeof jsonData.projects[clientId] == \"undefined\")\r\n      jsonData.projects[clientId] = {};\r\n    if (typeof jsonData.projects[clientId][projectId] == \"undefined\")\r\n      jsonData.projects[clientId][projectId] = {};\r\n    if (typeof jsonData.projects[clientId][projectId][specId] == \"undefined\")\r\n      jsonData.projects[clientId][projectId][specId] = {};\r\n\r\n    jsonData.projects[clientId][projectId][specId][\"jira\"] = issueKey;\r\n    jsonData.projects[clientId][projectId][specId][\"status\"] = status;\r\n\r\n    await dataHandler.updateDataJsonFile(jsonData);\r\n  }\r\n\r\n  /**\r\n   * Add attachments into Jira issue\r\n   * @param {Object} info spec information\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} type diff, actual or baseline\r\n   * @returns {Object}\r\n   */\r\n  async addIssueAttachment(info, issueKey, type) {\r\n    const specId = info.specId;\r\n    const caps = await capHandler.getCapabilities(specId);\r\n    const captureOpts = await dataHandler.getCaptureOpts(\r\n      info.clientId,\r\n      info.projectId\r\n    );\r\n\r\n    if (issueKey != \"\") {\r\n      try {\r\n        const form = new FormData();\r\n        let screenshots = await dataHandler.getScreenshots(\r\n          specId,\r\n          caps.baselineFolder\r\n        );\r\n        const stats = fs.statSync(screenshots.filePaths[type]);\r\n        const fileSizeInBytes = stats.size;\r\n        const fileStream = fs.createReadStream(screenshots.filePaths[type]);\r\n        form.append(\"file\", fileStream, {\r\n          knownLength: fileSizeInBytes,\r\n          filename: type + \".png\",\r\n        });\r\n\r\n        const jiraUrl = browser.config.jira;\r\n        const jiraAuth = browser.config.jiraAuth;\r\n        const headers = {\r\n          Accept: \"application/json\",\r\n          Authorization: `Basic ${jiraAuth}`,\r\n          \"X-Atlassian-Token\": \"no-check\",\r\n        };\r\n\r\n        let response = await axios\r\n          .post(`${jiraUrl}rest/api/2/issue/${issueKey}/attachments`, form, {\r\n            headers: headers,\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        return response;\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change Jira issue status\r\n   * @param {String} issueKey Jira issue key\r\n   * @param {String} transitionId Jira tranistion id\r\n   * @returns {Object}\r\n   */\r\n  async transitionIssue(issueKey, transitionId) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n    const bodyData = {\r\n      transition: {\r\n        id: transitionId,\r\n      },\r\n    };\r\n\r\n    let response = await axios\r\n      .post(`${jiraUrl}rest/api/2/issue/${issueKey}/transitions`, bodyData, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Get Jira issue ticket\r\n   * @param {String} issueKey Jira issue key\r\n   * @returns {Object}\r\n   */\r\n  async getJiraIssue(issueKey) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n    const headers = {\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n    let response = await axios\r\n      .get(`${jiraUrl}rest/api/2/issue/${issueKey}`, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Delete Jira issue attachment\r\n   * @param {String} attachmentId Jira attachment id\r\n   * @returns {Object}\r\n   */\r\n  async delIssueAttachment(attachmentId) {\r\n    const jiraUrl = browser.config.jira;\r\n    const jiraAuth = browser.config.jiraAuth;\r\n    const headers = {\r\n      Authorization: `Basic ${jiraAuth}`,\r\n    };\r\n\r\n    let response = await axios\r\n      .delete(`${jiraUrl}rest/api/2/attachment/${attachmentId}`, {\r\n        headers: headers,\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Add issue link to data json and Allure\r\n   * @param {Object} info spec information\r\n   */\r\n  async addIssueLink(info) {\r\n    const jsonData = await dataHandler.getGlobalDataJson();\r\n    const projects = jsonData.projects;\r\n    const specId = info.specId;\r\n    const clientId = info.clientId;\r\n    const projectId = info.projectId;\r\n\r\n    if (\r\n      typeof projects[clientId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId] != \"undefined\" &&\r\n      typeof projects[clientId][projectId][specId][\"jira\"] != \"undefined\" &&\r\n      projects[clientId][projectId][specId][\"jira\"] != \"\"\r\n    ) {\r\n      allureCustom.addIssue(projects[clientId][projectId][specId][\"jira\"]);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new jiraIntegration();\r\n"],"mappings":"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"}},"mtime":1700647516895},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\004_bods.1627-DropdownSize_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst dropdownpage = require('../../pageobjects/size_page');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-DropdownSize_en\", async () => {\n    await Homepage.open();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // wait for avatar to be displayed\n    await avatarpage.avatardisplayed();\n    //await browser.pause(6000);\n\n    // click the dropdown of Size\n    await dropdownpage.clicksizedropdown();\n    // I get the enabled size list\n    await dropdownpage.getDropdownOptions();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-DropdownSize_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"004_bods.1627-DropdownSize_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"004_bods.1627-DropdownSize_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJkcm9wZG93bnBhZ2UiLCJkZXNjcmliZSIsIml0Iiwib3BlbiIsIndhcm5pbmdPdmVybGF5IiwiY2xpY2twb2xvZml0bWVzaCIsImNsaWNrYm9kczNEIiwiY2xpY2tMb2dpbmxpbmsiLCJsb2dpbiIsImF2YXRhcmRpc3BsYXllZCIsImNsaWNrc2l6ZWRyb3Bkb3duIiwiZ2V0RHJvcGRvd25PcHRpb25zIiwidXRpbHMiLCJwcm9jZXNzIiwiY3dkIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxzY3JlZW5cXCIsInNvdXJjZXMiOlsiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSG9tZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9ob21lX3BhZ2UnKTtcclxuY29uc3QgUHJvZHVjdHBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9wcm9kdWN0X3BhZ2UnKTtcclxuY29uc3QgYXZhdGFycGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2F2YXRhcl9wYWdlJylcclxuY29uc3QgZHJvcGRvd25wYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvc2l6ZV9wYWdlJyk7XHJcblxyXG5kZXNjcmliZShcIkJPRFMgOjogU2NyZWVuXCIsIGFzeW5jICgpID0+IHtcclxuICBpdChcInJlY29yZGVyIDo6IDE2MjctRHJvcGRvd25TaXplX2VuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IEhvbWVwYWdlLm9wZW4oKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBQcm9kdWN0IGhvbWUgcGFnZSBBZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IFByb2R1Y3RwYWdlLmNsaWNrcG9sb2ZpdG1lc2goKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIGxhbmQgb24gcHJvZmlsZSBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICAvLyBsYW5kIG9uIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tMb2dpbmxpbmsoKTtcclxuICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5sb2dpbigpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIC8vYXdhaXQgYnJvd3Nlci5wYXVzZSg2MDAwKTtcclxuXHJcbiAgICAvLyBjbGljayB0aGUgZHJvcGRvd24gb2YgU2l6ZVxyXG4gICAgYXdhaXQgZHJvcGRvd25wYWdlLmNsaWNrc2l6ZWRyb3Bkb3duKCk7XHJcbiAgICAvLyBJIGdldCB0aGUgZW5hYmxlZCBzaXplIGxpc3RcclxuICAgIGF3YWl0IGRyb3Bkb3ducGFnZS5nZXREcm9wZG93bk9wdGlvbnMoKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyNy1Ecm9wZG93blNpemVfZW5cIiwgYXN5bmMgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IENIRUNLIEZJUkVXQUxMXHJcbiAgICBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW5cIik7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b20gY2FwdHVyZSBvcHRzLiBVbmNvbW1lbnQgYW5kIGNoYW5nZSB0aGUgdmFsdWUgdG8gdXNlIGl0LlxyXG4gICAgICogVGhlIGdsb2JhbCBjb25maWcgaXMgc2V0IGluIGRhdGEueGxzeCBhbmQgaXMgYXBwbGllZCBieSBkZWZhdWx0IGZvciBhbGwgc3BlY3MuXHJcbiAgICAgKiBOb3RlOiB0aGVzZSBjb25maWcgbWF5IGJlIHJlcGxhY2VkIGlmIHRoZXJlIGlzIG5ldyB2ZXJzaW9uIG9mIFV0aWxzIGxpYiByZWxlYXNlZC5cclxuICAgICAqL1xyXG5cclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwNF9ib2RzLjE2MjctRHJvcGRvd25TaXplX2VuXCIsIFwiaWdub3JlVHJhbnNwYXJlbnRQaXhlbFwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW5cIiwgXCJpZ25vcmVBbnRpYWxpYXNpbmdcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwNF9ib2RzLjE2MjctRHJvcGRvd25TaXplX2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW5cIiwgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsIDEwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwNF9ib2RzLjE2MjctRHJvcGRvd25TaXplX2VuXCIsIFwiZGlzYWJsZUNTU0FuaW1hdGlvblwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA0X2JvZHMuMTYyNy1Ecm9wZG93blNpemVfZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwNF9ib2RzLjE2MjctRHJvcGRvd25TaXplX2VuXCIsIFwiaWdub3JlQWxwaGFcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgXCIwMDRfYm9kcy4xNjI3LURyb3Bkb3duU2l6ZV9lblwiKTtcclxuXHJcbiAgfSk7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gPT09PT09PSBJTUdfQ09NUCA6IEVORCA9PT09PT09XHJcblxyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3ZELE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdELE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQzNELE1BQU1HLFlBQVksR0FBR0gsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRTNESSxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBWTtFQUNyQ0MsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLFlBQVk7SUFDakQsTUFBTU4sUUFBUSxDQUFDTyxJQUFJLENBQUMsQ0FBQztJQUNyQjtJQUNBLE1BQU1QLFFBQVEsQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDL0I7SUFDQSxNQUFNTixXQUFXLENBQUNPLGdCQUFnQixDQUFDLENBQUM7SUFDcEM7SUFDQSxNQUFNVCxRQUFRLENBQUNRLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTUwsVUFBVSxDQUFDTyxXQUFXLENBQUMsQ0FBQztJQUM5QjtJQUNBLE1BQU1QLFVBQVUsQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDakM7SUFDQSxNQUFNUixVQUFVLENBQUNTLEtBQUssQ0FBQyxDQUFDO0lBQ3hCO0lBQ0EsTUFBTVQsVUFBVSxDQUFDVSxlQUFlLENBQUMsQ0FBQztJQUNsQzs7SUFFQTtJQUNBLE1BQU1ULFlBQVksQ0FBQ1UsaUJBQWlCLENBQUMsQ0FBQztJQUN0QztJQUNBLE1BQU1WLFlBQVksQ0FBQ1csa0JBQWtCLENBQUMsQ0FBQztFQUV6QyxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBVCxFQUFFLENBQUMsaURBQWlELEVBQUUsa0JBQWlCO0lBQ3JFLE1BQU1VLEtBQUssR0FBR2YsT0FBTyxDQUFDZ0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGNBQWMsQ0FBQzs7SUFFckQ7SUFDQSxJQUFJQyxLQUFLLEdBQUcsTUFBTUgsS0FBSyxDQUFDSSxjQUFjLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUNELEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQ0UsSUFBSSxDQUFDLENBQUM7O0lBRTdCO0lBQ0EsTUFBTUwsS0FBSyxDQUFDTSxhQUFhLENBQUMsK0JBQStCLENBQUM7O0lBRTFEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0lBRUk7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7SUFFQTtJQUNBLE1BQU1OLEtBQUssQ0FBQ08sVUFBVSxDQUFDLE1BQU0sRUFBRSwrQkFBK0IsQ0FBQztFQUVqRSxDQUFDLENBQUM7RUFDRjtFQUNBO0FBRUYsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","dropdownpage","describe","it","open","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","avatardisplayed","clicksizedropdown","getDropdownOptions","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["004_bods.1627-DropdownSize_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page')\r\nconst dropdownpage = require('../../pageobjects/size_page');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-DropdownSize_en\", async () => {\r\n    await Homepage.open();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    //await browser.pause(6000);\r\n\r\n    // click the dropdown of Size\r\n    await dropdownpage.clicksizedropdown();\r\n    // I get the enabled size list\r\n    await dropdownpage.getDropdownOptions();\r\n\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-DropdownSize_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"004_bods.1627-DropdownSize_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"004_bods.1627-DropdownSize_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"004_bods.1627-DropdownSize_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,YAAY,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE3DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,kCAAkC,EAAE,YAAY;IACjD,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB;IACA,MAAMP,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMN,WAAW,CAACO,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMT,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAML,UAAU,CAACO,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMP,UAAU,CAACQ,cAAc,CAAC,CAAC;IACjC;IACA,MAAMR,UAAU,CAACS,KAAK,CAAC,CAAC;IACxB;IACA,MAAMT,UAAU,CAACU,eAAe,CAAC,CAAC;IAClC;;IAEA;IACA,MAAMT,YAAY,CAACU,iBAAiB,CAAC,CAAC;IACtC;IACA,MAAMV,YAAY,CAACW,kBAAkB,CAAC,CAAC;EAEzC,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAT,EAAE,CAAC,iDAAiD,EAAE,kBAAiB;IACrE,MAAMU,KAAK,GAAGf,OAAO,CAACgB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,+BAA+B,CAAC;;IAE1D;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,+BAA+B,CAAC;EAEjE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655823},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\home_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nclass Homepage extends Page {\n  // ========= Selectors =========\n  get warningCloseicon() {\n    return $('//button[@class=\"close\"]');\n  }\n\n  // ========== Methods ==========\n  open() {\n    return browser.url('https://ralphlauren.feature.dev.bods.me/');\n  }\n  async warningOverlay() {\n    await browser.pause(1000);\n    const warningCloseicon = await this.warningCloseicon;\n    await warningCloseicon.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await this.warningCloseicon.click();\n  }\n}\nmodule.exports = new Homepage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsIkhvbWVwYWdlIiwid2FybmluZ0Nsb3NlaWNvbiIsIiQiLCJvcGVuIiwiYnJvd3NlciIsInVybCIsIndhcm5pbmdPdmVybGF5IiwicGF1c2UiLCJ3YWl0Rm9yRGlzcGxheWVkIiwidGltZW91dCIsImNsaWNrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccGFnZW9iamVjdHNcXCIsInNvdXJjZXMiOlsiaG9tZV9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhZ2UgPSByZXF1aXJlKFwiLi9wYWdlXCIpO1xyXG5cclxuY2xhc3MgSG9tZXBhZ2UgZXh0ZW5kcyBQYWdlIHtcclxuICAgLy8gPT09PT09PT09IFNlbGVjdG9ycyA9PT09PT09PT1cclxuICAgZ2V0IHdhcm5pbmdDbG9zZWljb24oKXtcclxuICAgICAgIHJldHVybiAkKCcvL2J1dHRvbltAY2xhc3M9XCJjbG9zZVwiXScpO1xyXG4gICB9ICAgIFxyXG5cclxuICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgb3Blbigpe1xyXG4gICAgcmV0dXJuIGJyb3dzZXIudXJsKCdodHRwczovL3JhbHBobGF1cmVuLmZlYXR1cmUuZGV2LmJvZHMubWUvJyk7XHJcbiAgIH1cclxuICAgYXN5bmMgd2FybmluZ092ZXJsYXkoKSB7XHJcbiAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgIGNvbnN0IHdhcm5pbmdDbG9zZWljb24gPSBhd2FpdCB0aGlzLndhcm5pbmdDbG9zZWljb247XHJcbiAgIGF3YWl0IHdhcm5pbmdDbG9zZWljb24ud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDUwMDAgfSk7ICAgXHJcbiAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7IFxyXG4gICBhd2FpdCB0aGlzLndhcm5pbmdDbG9zZWljb24uY2xpY2soKTtcclxuICAgfVxyXG59IFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgSG9tZXBhZ2UoKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUU5QixNQUFNQyxRQUFRLFNBQVNGLElBQUksQ0FBQztFQUN6QjtFQUNBLElBQUlHLGdCQUFnQkEsQ0FBQSxFQUFFO0lBQ2xCLE9BQU9DLENBQUMsQ0FBQywwQkFBMEIsQ0FBQztFQUN4Qzs7RUFFQTtFQUNBQyxJQUFJQSxDQUFBLEVBQUU7SUFDTCxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQztFQUMvRDtFQUNBLE1BQU1DLGNBQWNBLENBQUEsRUFBRztJQUN2QixNQUFNRixPQUFPLENBQUNHLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDekIsTUFBTU4sZ0JBQWdCLEdBQUcsTUFBTSxJQUFJLENBQUNBLGdCQUFnQjtJQUNwRCxNQUFNQSxnQkFBZ0IsQ0FBQ08sZ0JBQWdCLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQzFELE1BQU1MLE9BQU8sQ0FBQ0csS0FBSyxDQUFDLElBQUksQ0FBQztJQUN6QixNQUFNLElBQUksQ0FBQ04sZ0JBQWdCLENBQUNTLEtBQUssQ0FBQyxDQUFDO0VBQ25DO0FBQ0g7QUFFQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsSUFBSVosUUFBUSxDQUFDLENBQUMifQ==","map":{"version":3,"names":["Page","require","Homepage","warningCloseicon","$","open","browser","url","warningOverlay","pause","waitForDisplayed","timeout","click","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["home_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\n\r\nclass Homepage extends Page {\r\n   // ========= Selectors =========\r\n   get warningCloseicon(){\r\n       return $('//button[@class=\"close\"]');\r\n   }    \r\n\r\n   // ========== Methods ==========\r\n   open(){\r\n    return browser.url('https://ralphlauren.feature.dev.bods.me/');\r\n   }\r\n   async warningOverlay() {\r\n   await browser.pause(1000);\r\n   const warningCloseicon = await this.warningCloseicon;\r\n   await warningCloseicon.waitForDisplayed({ timeout: 5000 });   \r\n   await browser.pause(1000); \r\n   await this.warningCloseicon.click();\r\n   }\r\n} \r\n\r\nmodule.exports = new Homepage();"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE9B,MAAMC,QAAQ,SAASF,IAAI,CAAC;EACzB;EACA,IAAIG,gBAAgBA,CAAA,EAAE;IAClB,OAAOC,CAAC,CAAC,0BAA0B,CAAC;EACxC;;EAEA;EACAC,IAAIA,CAAA,EAAE;IACL,OAAOC,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;EAC/D;EACA,MAAMC,cAAcA,CAAA,EAAG;IACvB,MAAMF,OAAO,CAACG,KAAK,CAAC,IAAI,CAAC;IACzB,MAAMN,gBAAgB,GAAG,MAAM,IAAI,CAACA,gBAAgB;IACpD,MAAMA,gBAAgB,CAACO,gBAAgB,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAC1D,MAAML,OAAO,CAACG,KAAK,CAAC,IAAI,CAAC;IACzB,MAAM,IAAI,CAACN,gBAAgB,CAACS,KAAK,CAAC,CAAC;EACnC;AACH;AAEAC,MAAM,CAACC,OAAO,GAAG,IAAIZ,QAAQ,CAAC,CAAC"}},"mtime":1704461655810},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"/**\r\n * main page object containing all methods, selectors and functionality\r\n * that is shared across all page objects\r\n */\n\nmodule.exports = class Page {\n  // ========= Constances =========\n  // ==============================\n  // ========= Common Selectors =========\n  get loadingelement() {\n    return $('//div[@class=\"loading-label\"]');\n  }\n  // ========== Common Methods ==========\n  async waitForLoadingToDisappear() {\n    const loadingElement = await this.loadingelement;\n    const startTime = Date.now();\n    const timeout = 5000; // 5 seconds\n\n    while (Date.now() - startTime < timeout) {\n      const isDisplayed = await loadingElement.isDisplayed();\n      if (!isDisplayed) {\n        return; // Loading element has disappeared\n      }\n\n      await new Promise(resolve => setTimeout(resolve, 200)); // Wait for 200 milliseconds before checking again\n    }\n\n    throw new Error('Loading element did not disappear within 5 seconds.');\n  }\n  async verifyURLContainsText(text) {\n    const currentUrl = await browser.getUrl();\n    if (currentUrl.includes(text)) {\n      console.log(`URL contains \"${text}\"`);\n    } else {\n      console.log(`URL does not contain \"${text}\"`);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiUGFnZSIsImxvYWRpbmdlbGVtZW50IiwiJCIsIndhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIiLCJsb2FkaW5nRWxlbWVudCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJ0aW1lb3V0IiwiaXNEaXNwbGF5ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJFcnJvciIsInZlcmlmeVVSTENvbnRhaW5zVGV4dCIsInRleHQiLCJjdXJyZW50VXJsIiwiYnJvd3NlciIsImdldFVybCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccGFnZW9iamVjdHNcXCIsInNvdXJjZXMiOlsicGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogbWFpbiBwYWdlIG9iamVjdCBjb250YWluaW5nIGFsbCBtZXRob2RzLCBzZWxlY3RvcnMgYW5kIGZ1bmN0aW9uYWxpdHlcclxuICogdGhhdCBpcyBzaGFyZWQgYWNyb3NzIGFsbCBwYWdlIG9iamVjdHNcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBhZ2Uge1xyXG4gICAgLy8gPT09PT09PT09IENvbnN0YW5jZXMgPT09PT09PT09XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vID09PT09PT09PSBDb21tb24gU2VsZWN0b3JzID09PT09PT09PVxyXG4gICAgZ2V0IGxvYWRpbmdlbGVtZW50KCl7XHJcbiAgICAgIHJldHVybiAkKCcvL2RpdltAY2xhc3M9XCJsb2FkaW5nLWxhYmVsXCJdJyk7XHJcbiAgICB9XHJcbiAgICAvLyA9PT09PT09PT09IENvbW1vbiBNZXRob2RzID09PT09PT09PT1cclxuICAgIGFzeW5jIHdhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIoKSB7XHJcbiAgICAgIGNvbnN0IGxvYWRpbmdFbGVtZW50ID0gYXdhaXQgdGhpcy5sb2FkaW5nZWxlbWVudDsgXHJcbiAgXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSA1MDAwOyAvLyA1IHNlY29uZHNcclxuICBcclxuICAgICAgd2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCB0aW1lb3V0KSB7XHJcbiAgICAgICAgY29uc3QgaXNEaXNwbGF5ZWQgPSBhd2FpdCBsb2FkaW5nRWxlbWVudC5pc0Rpc3BsYXllZCgpO1xyXG4gICAgICAgIGlmICghaXNEaXNwbGF5ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBMb2FkaW5nIGVsZW1lbnQgaGFzIGRpc2FwcGVhcmVkXHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMCkpOyAvLyBXYWl0IGZvciAyMDAgbWlsbGlzZWNvbmRzIGJlZm9yZSBjaGVja2luZyBhZ2FpblxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTG9hZGluZyBlbGVtZW50IGRpZCBub3QgZGlzYXBwZWFyIHdpdGhpbiA1IHNlY29uZHMuJyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB2ZXJpZnlVUkxDb250YWluc1RleHQodGV4dCkge1xyXG4gICAgY29uc3QgY3VycmVudFVybCA9IGF3YWl0IGJyb3dzZXIuZ2V0VXJsKCk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50VXJsLmluY2x1ZGVzKHRleHQpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBVUkwgY29udGFpbnMgXCIke3RleHR9XCJgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBVUkwgZG9lcyBub3QgY29udGFpbiBcIiR7dGV4dH1cImApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsTUFBTUMsSUFBSSxDQUFDO0VBQ3hCO0VBQ0E7RUFDQTtFQUNBLElBQUlDLGNBQWNBLENBQUEsRUFBRTtJQUNsQixPQUFPQyxDQUFDLENBQUMsK0JBQStCLENBQUM7RUFDM0M7RUFDQTtFQUNBLE1BQU1DLHlCQUF5QkEsQ0FBQSxFQUFHO0lBQ2hDLE1BQU1DLGNBQWMsR0FBRyxNQUFNLElBQUksQ0FBQ0gsY0FBYztJQUVoRCxNQUFNSSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7SUFDNUIsTUFBTUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDOztJQUV0QixPQUFPRixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUdGLFNBQVMsR0FBR0csT0FBTyxFQUFFO01BQ3ZDLE1BQU1DLFdBQVcsR0FBRyxNQUFNTCxjQUFjLENBQUNLLFdBQVcsQ0FBQyxDQUFDO01BQ3RELElBQUksQ0FBQ0EsV0FBVyxFQUFFO1FBQ2QsT0FBTyxDQUFDO01BQ1o7O01BRUUsTUFBTSxJQUFJQyxPQUFPLENBQUNDLE9BQU8sSUFBSUMsVUFBVSxDQUFDRCxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVEOztJQUVBLE1BQU0sSUFBSUUsS0FBSyxDQUFDLHFEQUFxRCxDQUFDO0VBQzFFO0VBRUEsTUFBTUMscUJBQXFCQSxDQUFDQyxJQUFJLEVBQUU7SUFDaEMsTUFBTUMsVUFBVSxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7SUFFekMsSUFBSUYsVUFBVSxDQUFDRyxRQUFRLENBQUNKLElBQUksQ0FBQyxFQUFFO01BQzdCSyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxpQkFBZ0JOLElBQUssR0FBRSxDQUFDO0lBQ3ZDLENBQUMsTUFBTTtNQUNMSyxPQUFPLENBQUNDLEdBQUcsQ0FBRSx5QkFBd0JOLElBQUssR0FBRSxDQUFDO0lBQy9DO0VBQ0Y7QUFFRixDQUFDIn0=","map":{"version":3,"names":["module","exports","Page","loadingelement","$","waitForLoadingToDisappear","loadingElement","startTime","Date","now","timeout","isDisplayed","Promise","resolve","setTimeout","Error","verifyURLContainsText","text","currentUrl","browser","getUrl","includes","console","log"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["page.js"],"sourcesContent":["/**\r\n * main page object containing all methods, selectors and functionality\r\n * that is shared across all page objects\r\n */\r\n\r\nmodule.exports = class Page {\r\n    // ========= Constances =========\r\n    // ==============================\r\n    // ========= Common Selectors =========\r\n    get loadingelement(){\r\n      return $('//div[@class=\"loading-label\"]');\r\n    }\r\n    // ========== Common Methods ==========\r\n    async waitForLoadingToDisappear() {\r\n      const loadingElement = await this.loadingelement; \r\n  \r\n      const startTime = Date.now();\r\n      const timeout = 5000; // 5 seconds\r\n  \r\n      while (Date.now() - startTime < timeout) {\r\n        const isDisplayed = await loadingElement.isDisplayed();\r\n        if (!isDisplayed) {\r\n            return; // Loading element has disappeared\r\n        }\r\n  \r\n          await new Promise(resolve => setTimeout(resolve, 200)); // Wait for 200 milliseconds before checking again\r\n      }\r\n  \r\n      throw new Error('Loading element did not disappear within 5 seconds.');\r\n  }\r\n\r\n  async verifyURLContainsText(text) {\r\n    const currentUrl = await browser.getUrl();\r\n    \r\n    if (currentUrl.includes(text)) {\r\n      console.log(`URL contains \"${text}\"`);\r\n    } else {\r\n      console.log(`URL does not contain \"${text}\"`);\r\n    }\r\n  }\r\n\r\n};"],"mappings":"AAAA;AACA;AACA;AACA;;AAEAA,MAAM,CAACC,OAAO,GAAG,MAAMC,IAAI,CAAC;EACxB;EACA;EACA;EACA,IAAIC,cAAcA,CAAA,EAAE;IAClB,OAAOC,CAAC,CAAC,+BAA+B,CAAC;EAC3C;EACA;EACA,MAAMC,yBAAyBA,CAAA,EAAG;IAChC,MAAMC,cAAc,GAAG,MAAM,IAAI,CAACH,cAAc;IAEhD,MAAMI,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5B,MAAMC,OAAO,GAAG,IAAI,CAAC,CAAC;;IAEtB,OAAOF,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS,GAAGG,OAAO,EAAE;MACvC,MAAMC,WAAW,GAAG,MAAML,cAAc,CAACK,WAAW,CAAC,CAAC;MACtD,IAAI,CAACA,WAAW,EAAE;QACd,OAAO,CAAC;MACZ;;MAEE,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5D;;IAEA,MAAM,IAAIE,KAAK,CAAC,qDAAqD,CAAC;EAC1E;EAEA,MAAMC,qBAAqBA,CAACC,IAAI,EAAE;IAChC,MAAMC,UAAU,GAAG,MAAMC,OAAO,CAACC,MAAM,CAAC,CAAC;IAEzC,IAAIF,UAAU,CAACG,QAAQ,CAACJ,IAAI,CAAC,EAAE;MAC7BK,OAAO,CAACC,GAAG,CAAE,iBAAgBN,IAAK,GAAE,CAAC;IACvC,CAAC,MAAM;MACLK,OAAO,CAACC,GAAG,CAAE,yBAAwBN,IAAK,GAAE,CAAC;IAC/C;EACF;AAEF,CAAC"}},"mtime":1704461655810},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\product_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nclass Productpage extends Page {\n  // ========= Selectors =========\n  get polofitmeshElement() {\n    return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\");\n  }\n\n  // ========== Methods ==========\n  async clickpolofitmesh() {\n    const polofitmesh = await this.polofitmeshElement;\n    await polofitmesh.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await polofitmesh.click();\n  }\n}\nmodule.exports = new Productpage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsIlByb2R1Y3RwYWdlIiwicG9sb2ZpdG1lc2hFbGVtZW50IiwiJCIsImNsaWNrcG9sb2ZpdG1lc2giLCJwb2xvZml0bWVzaCIsIndhaXRGb3JEaXNwbGF5ZWQiLCJ0aW1lb3V0IiwiYnJvd3NlciIsInBhdXNlIiwiY2xpY2siLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHRlc3RcXHNwZWNzXFxib2RzLXVzXFxib2RzXFxwYWdlb2JqZWN0c1xcIiwic291cmNlcyI6WyJwcm9kdWN0X3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUGFnZSA9IHJlcXVpcmUoXCIuL3BhZ2VcIik7XHJcblxyXG5jbGFzcyBQcm9kdWN0cGFnZSBleHRlbmRzIFBhZ2Uge1xyXG4gICAgLy8gPT09PT09PT09IFNlbGVjdG9ycyA9PT09PT09PT1cclxuICAgIGdldCBwb2xvZml0bWVzaEVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIigvL2RpdltAaWQ9J2hvbWUnXS8vZGVzY2VuZGFudDo6ZGl2W0BjbGFzcz0nY29sLTYgY29sLWxnLTQnXSlbNV1cIik7XHJcbiAgICB9ICAgIFxyXG4gXHJcbiAgICAvLyA9PT09PT09PT09IE1ldGhvZHMgPT09PT09PT09PVxyXG4gICAgYXN5bmMgY2xpY2twb2xvZml0bWVzaCgpIHtcclxuICAgICAgICBjb25zdCBwb2xvZml0bWVzaCA9IGF3YWl0IHRoaXMucG9sb2ZpdG1lc2hFbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IHBvbG9maXRtZXNoLndhaXRGb3JEaXNwbGF5ZWQoeyB0aW1lb3V0OiA1MDAwIH0pOyAgIFxyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7IFxyXG4gICAgICAgIGF3YWl0IHBvbG9maXRtZXNoLmNsaWNrKCk7XHJcbiAgICB9XHJcbiB9IFxyXG4gXHJcbiBtb2R1bGUuZXhwb3J0cyA9IG5ldyBQcm9kdWN0cGFnZSgpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBRTlCLE1BQU1DLFdBQVcsU0FBU0YsSUFBSSxDQUFDO0VBQzNCO0VBQ0EsSUFBSUcsa0JBQWtCQSxDQUFBLEVBQUU7SUFDcEIsT0FBT0MsQ0FBQyxDQUFDLGtFQUFrRSxDQUFDO0VBQ2hGOztFQUVBO0VBQ0EsTUFBTUMsZ0JBQWdCQSxDQUFBLEVBQUc7SUFDckIsTUFBTUMsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDSCxrQkFBa0I7SUFDakQsTUFBTUcsV0FBVyxDQUFDQyxnQkFBZ0IsQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBSyxDQUFDLENBQUM7SUFDckQsTUFBTUMsT0FBTyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQ3pCLE1BQU1KLFdBQVcsQ0FBQ0ssS0FBSyxDQUFDLENBQUM7RUFDN0I7QUFDSDtBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxJQUFJWCxXQUFXLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Page","require","Productpage","polofitmeshElement","$","clickpolofitmesh","polofitmesh","waitForDisplayed","timeout","browser","pause","click","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["product_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\n\r\nclass Productpage extends Page {\r\n    // ========= Selectors =========\r\n    get polofitmeshElement(){\r\n        return $(\"(//div[@id='home']//descendant::div[@class='col-6 col-lg-4'])[5]\");\r\n    }    \r\n \r\n    // ========== Methods ==========\r\n    async clickpolofitmesh() {\r\n        const polofitmesh = await this.polofitmeshElement;\r\n        await polofitmesh.waitForDisplayed({ timeout: 5000 });   \r\n        await browser.pause(1000); \r\n        await polofitmesh.click();\r\n    }\r\n } \r\n \r\n module.exports = new Productpage();"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE9B,MAAMC,WAAW,SAASF,IAAI,CAAC;EAC3B;EACA,IAAIG,kBAAkBA,CAAA,EAAE;IACpB,OAAOC,CAAC,CAAC,kEAAkE,CAAC;EAChF;;EAEA;EACA,MAAMC,gBAAgBA,CAAA,EAAG;IACrB,MAAMC,WAAW,GAAG,MAAM,IAAI,CAACH,kBAAkB;IACjD,MAAMG,WAAW,CAACC,gBAAgB,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IACrD,MAAMC,OAAO,CAACC,KAAK,CAAC,IAAI,CAAC;IACzB,MAAMJ,WAAW,CAACK,KAAK,CAAC,CAAC;EAC7B;AACH;AAEAC,MAAM,CAACC,OAAO,GAAG,IAAIX,WAAW,CAAC,CAAC"}},"mtime":1704461655816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\avatar_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nclass avatarpage extends Page {\n  // ========= Selectors =========\n  get bods3DButtonElement() {\n    //return $('//a[@class=\"btn.btn-lg.btn-dark\"][text()=\"BODS 3D Fitting\"]');\n    return $('.btn.btn-lg.btn-dark');\n  }\n  get loginElement() {\n    return $('//a[text()=\"Log in\"]');\n  }\n  get emailelement() {\n    return $('#filled-hidden-label-small');\n  }\n  get passwordelement() {\n    //return $('//div[contains(@class,\"adornedEnd MuiInputBase-hiddenLabel css-k72cy0\")]');\n    return $('//*[@type=\"password\"]');\n  }\n  get signinelement() {\n    return $('.bods__card__cta');\n  }\n  get loadingelement() {\n    return $('//div[@class=\"loading-label\"]');\n  }\n  get avatarelement() {\n    return $('.bods__avatar video');\n  }\n  get fitmapelement() {\n    return $(\"//div[contains(@class,'bods__fitmap')]//div\");\n  }\n  get myprofileelelment() {\n    return $(\"//*[contains(@class,'bods__profile')]\");\n  }\n  get cupsizeelement() {\n    //return $('//p[text()=\"Cup Size\"]');\n    let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";\n    return $(cupsizeele);\n  }\n  get bodsOverlay() {\n    return $('(//div[@id=\"bods-app\"]//descendant::div)[2]');\n  }\n\n  // ========== Methods ==========\n  async clickWithRetry(elementGetter, retryCount = 5, delay = 1000) {\n    for (let retry = 0; retry < retryCount; retry++) {\n      try {\n        const element = await elementGetter();\n        const overlay = await this.bodsOverlay;\n        await browser.pause(3000);\n        await element.waitForDisplayed({\n          timeout: 30000\n        });\n        await element.waitForClickable({\n          timeout: 30000\n        });\n        await browser.pause(3000);\n        await element.click();\n        await browser.waitUntil(async () => await overlay.isDisplayed(), {\n          timeout: 10000\n        });\n        console.log('Clicked successfully');\n        return; // Exit the loop if click is successful\n      } catch (error) {\n        console.error(`Attempt ${retry + 1} failed: ${error.message}`);\n        await browser.pause(delay); // Wait before retrying\n      }\n    }\n\n    throw new Error(`Failed to click element after ${retryCount} attempts`);\n  }\n  async clickbods3DWithRetry() {\n    await this.clickWithRetry(() => this.bods3DButtonElement);\n  }\n  async clickbods3D() {\n    await this.clickbods3DWithRetry();\n  }\n  async clickLoginlink() {\n    // On Classic Fit Mesh Polo Shirt Bods- will land on login Page\n    const loginLink = await this.loginElement;\n    await browser.pause(3000);\n    await loginLink.waitForDisplayed();\n    await loginLink.click();\n  }\n  async login() {\n    const inputmail = await this.emailelement;\n    await inputmail.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputmail.setValue(\"test001@bods.me\");\n    const inputPassword = await this.passwordelement;\n    await inputPassword.waitForDisplayed({\n      timeout: 5000\n    });\n    await inputPassword.click();\n    await inputPassword.setValue(\"123456\");\n    await this.signinelement.click();\n    const element = await this.loadingelement;\n    // Set a custom timeout (in milliseconds)\n    const customTimeout = 20000;\n\n    // Wait for the element to not exist in the DOM within the specified timeout\n    const elementExists = await element.waitForExist({\n      timeout: customTimeout,\n      reverse: true\n    });\n  }\n  async avatardisplayed() {\n    // On Classic Fit Mesh Polo Shirt Bods- 3D Interface\n    const avatar = await this.avatarelement;\n    await browser.waitUntil(async () => await avatar.isDisplayed(), {\n      timeout: 40000\n    });\n    await browser.pause(20000);\n  }\n  async clickfitmap() {\n    const fitmap = await this.fitmapelement;\n    await browser.waitUntil(async () => await fitmap.isDisplayed(), {\n      timeout: 40000\n    });\n    await fitmap.click();\n    const avatar = await this.avatardisplayed();\n  }\n}\nmodule.exports = new avatarpage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsImF2YXRhcnBhZ2UiLCJib2RzM0RCdXR0b25FbGVtZW50IiwiJCIsImxvZ2luRWxlbWVudCIsImVtYWlsZWxlbWVudCIsInBhc3N3b3JkZWxlbWVudCIsInNpZ25pbmVsZW1lbnQiLCJsb2FkaW5nZWxlbWVudCIsImF2YXRhcmVsZW1lbnQiLCJmaXRtYXBlbGVtZW50IiwibXlwcm9maWxlZWxlbG1lbnQiLCJjdXBzaXplZWxlbWVudCIsImN1cHNpemVlbGUiLCJib2RzT3ZlcmxheSIsImNsaWNrV2l0aFJldHJ5IiwiZWxlbWVudEdldHRlciIsInJldHJ5Q291bnQiLCJkZWxheSIsInJldHJ5IiwiZWxlbWVudCIsIm92ZXJsYXkiLCJicm93c2VyIiwicGF1c2UiLCJ3YWl0Rm9yRGlzcGxheWVkIiwidGltZW91dCIsIndhaXRGb3JDbGlja2FibGUiLCJjbGljayIsIndhaXRVbnRpbCIsImlzRGlzcGxheWVkIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSIsIkVycm9yIiwiY2xpY2tib2RzM0RXaXRoUmV0cnkiLCJjbGlja2JvZHMzRCIsImNsaWNrTG9naW5saW5rIiwibG9naW5MaW5rIiwibG9naW4iLCJpbnB1dG1haWwiLCJzZXRWYWx1ZSIsImlucHV0UGFzc3dvcmQiLCJjdXN0b21UaW1lb3V0IiwiZWxlbWVudEV4aXN0cyIsIndhaXRGb3JFeGlzdCIsInJldmVyc2UiLCJhdmF0YXJkaXNwbGF5ZWQiLCJhdmF0YXIiLCJjbGlja2ZpdG1hcCIsImZpdG1hcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHBhZ2VvYmplY3RzXFwiLCJzb3VyY2VzIjpbImF2YXRhcl9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhZ2UgPSByZXF1aXJlKFwiLi9wYWdlXCIpO1xyXG5cclxuY2xhc3MgYXZhdGFycGFnZSBleHRlbmRzIFBhZ2Uge1xyXG4gICAgLy8gPT09PT09PT09IFNlbGVjdG9ycyA9PT09PT09PT1cclxuICAgIGdldCBib2RzM0RCdXR0b25FbGVtZW50KCl7XHJcbiAgICAgICAgLy9yZXR1cm4gJCgnLy9hW0BjbGFzcz1cImJ0bi5idG4tbGcuYnRuLWRhcmtcIl1bdGV4dCgpPVwiQk9EUyAzRCBGaXR0aW5nXCJdJyk7XHJcbiAgICAgICAgcmV0dXJuICQoJy5idG4uYnRuLWxnLmJ0bi1kYXJrJyk7XHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbiAgICBnZXQgbG9naW5FbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vYVt0ZXh0KCk9XCJMb2cgaW5cIl0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW1haWxlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJyNmaWxsZWQtaGlkZGVuLWxhYmVsLXNtYWxsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhc3N3b3JkZWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJy8vZGl2W2NvbnRhaW5zKEBjbGFzcyxcImFkb3JuZWRFbmQgTXVpSW5wdXRCYXNlLWhpZGRlbkxhYmVsIGNzcy1rNzJjeTBcIildJyk7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vKltAdHlwZT1cInBhc3N3b3JkXCJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNpZ25pbmVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnLmJvZHNfX2NhcmRfX2N0YScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsb2FkaW5nZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcvL2RpdltAY2xhc3M9XCJsb2FkaW5nLWxhYmVsXCJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGF2YXRhcmVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnLmJvZHNfX2F2YXRhciB2aWRlbycpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaXRtYXBlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL2Rpdltjb250YWlucyhAY2xhc3MsJ2JvZHNfX2ZpdG1hcCcpXS8vZGl2XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBteXByb2ZpbGVlbGVsbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKFwiLy8qW2NvbnRhaW5zKEBjbGFzcywnYm9kc19fcHJvZmlsZScpXVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3Vwc2l6ZWVsZW1lbnQoKXtcclxuICAgICAgICAvL3JldHVybiAkKCcvL3BbdGV4dCgpPVwiQ3VwIFNpemVcIl0nKTtcclxuICAgICAgICBsZXQgY3Vwc2l6ZWVsZSA9IFwiI3NpbXBsZS10YWJwYW5lbC0wID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2LnNjLXRzRllFLmRwRU1vbC5NdWlCb3gtcm9vdC5jc3MtMCA+IGRpdjpudGgtY2hpbGQoMykgPiBwLk11aVR5cG9ncmFwaHktcm9vdC5NdWlUeXBvZ3JhcGh5LWJvZHkxLnNjLWtZV1ZZQS5pRVpZVy5jc3MtMWlxeXdwOVwiOyAgICBcclxuICAgICAgICByZXR1cm4gJChjdXBzaXplZWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYm9kc092ZXJsYXkoKXtcclxuICAgICAgICByZXR1cm4gJCgnKC8vZGl2W0BpZD1cImJvZHMtYXBwXCJdLy9kZXNjZW5kYW50OjpkaXYpWzJdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgIGFzeW5jIGNsaWNrV2l0aFJldHJ5KGVsZW1lbnRHZXR0ZXIsIHJldHJ5Q291bnQgPSA1LCBkZWxheSA9IDEwMDApIHtcclxuICAgICAgICBmb3IgKGxldCByZXRyeSA9IDA7IHJldHJ5IDwgcmV0cnlDb3VudDsgcmV0cnkrKykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGF3YWl0IGVsZW1lbnRHZXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBhd2FpdCB0aGlzLmJvZHNPdmVybGF5O1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgzMDAwKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGVsZW1lbnQud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDMwMDAwIH0pO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudC53YWl0Rm9yQ2xpY2thYmxlKHsgdGltZW91dDogMzAwMDAgfSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDMwMDApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgb3ZlcmxheS5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogMTAwMDB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGlja2VkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IHRoZSBsb29wIGlmIGNsaWNrIGlzIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEF0dGVtcHQgJHtyZXRyeSArIDF9IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZShkZWxheSk7IC8vIFdhaXQgYmVmb3JlIHJldHJ5aW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY2xpY2sgZWxlbWVudCBhZnRlciAke3JldHJ5Q291bnR9IGF0dGVtcHRzYCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGNsaWNrYm9kczNEV2l0aFJldHJ5KCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2tXaXRoUmV0cnkoKCkgPT4gdGhpcy5ib2RzM0RCdXR0b25FbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjbGlja2JvZHMzRCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsaWNrYm9kczNEV2l0aFJldHJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tMb2dpbmxpbmsoKXtcclxuICAgICAgICAvLyBPbiBDbGFzc2ljIEZpdCBNZXNoIFBvbG8gU2hpcnQgQm9kcy0gd2lsbCBsYW5kIG9uIGxvZ2luIFBhZ2VcclxuICAgICAgICBjb25zdCBsb2dpbkxpbmsgPSBhd2FpdCB0aGlzLmxvZ2luRWxlbWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDMwMDApO1xyXG4gICAgICAgIGF3YWl0IGxvZ2luTGluay53YWl0Rm9yRGlzcGxheWVkKCk7XHJcbiAgICAgICAgYXdhaXQgbG9naW5MaW5rLmNsaWNrKCk7XHJcbiAgICB9ICBcclxuXHJcbiAgICBhc3luYyBsb2dpbigpIHtcclxuICAgICAgICBjb25zdCBpbnB1dG1haWwgPSBhd2FpdCB0aGlzLmVtYWlsZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBpbnB1dG1haWwud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDUwMDAgfSk7XHJcbiAgICAgICAgYXdhaXQgaW5wdXRtYWlsLnNldFZhbHVlKFwidGVzdDAwMUBib2RzLm1lXCIpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgaW5wdXRQYXNzd29yZCA9IGF3YWl0IHRoaXMucGFzc3dvcmRlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGlucHV0UGFzc3dvcmQud2FpdEZvckRpc3BsYXllZCh7IHRpbWVvdXQ6IDUwMDAgfSk7XHJcbiAgICAgICAgYXdhaXQgaW5wdXRQYXNzd29yZC5jbGljaygpO1xyXG4gICAgICAgIGF3YWl0IGlucHV0UGFzc3dvcmQuc2V0VmFsdWUoXCIxMjM0NTZcIik7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zaWduaW5lbGVtZW50LmNsaWNrKCk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gYXdhaXQgdGhpcy5sb2FkaW5nZWxlbWVudDtcclxuICAgICAgICAvLyBTZXQgYSBjdXN0b20gdGltZW91dCAoaW4gbWlsbGlzZWNvbmRzKVxyXG4gICAgICAgIGNvbnN0IGN1c3RvbVRpbWVvdXQgPSAyMDAwMDsgXHJcblxyXG4gICAgICAgIC8vIFdhaXQgZm9yIHRoZSBlbGVtZW50IHRvIG5vdCBleGlzdCBpbiB0aGUgRE9NIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWVvdXRcclxuICAgICAgICBjb25zdCBlbGVtZW50RXhpc3RzID0gYXdhaXQgZWxlbWVudC53YWl0Rm9yRXhpc3QoeyB0aW1lb3V0OiBjdXN0b21UaW1lb3V0LCByZXZlcnNlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF2YXRhcmRpc3BsYXllZCgpe1xyXG4gICAgICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBCb2RzLSAzRCBJbnRlcmZhY2VcclxuICAgICAgICBjb25zdCBhdmF0YXIgPSBhd2FpdCB0aGlzLmF2YXRhcmVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgYXZhdGFyLmlzRGlzcGxheWVkKCksIHt0aW1lb3V0OiA0MDAwMH0pO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMjAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNsaWNrZml0bWFwKCl7XHJcbiAgICAgICAgY29uc3QgZml0bWFwID0gYXdhaXQgdGhpcy5maXRtYXBlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IGZpdG1hcC5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogNDAwMDB9KTtcclxuICAgICAgICBhd2FpdCBmaXRtYXAuY2xpY2soKTtcclxuICAgICAgICBjb25zdCBhdmF0YXIgPSBhd2FpdCB0aGlzLmF2YXRhcmRpc3BsYXllZCgpO1xyXG4gICAgfVxyXG5cclxufSAgICAgXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IG5ldyBhdmF0YXJwYWdlKCk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFOUIsTUFBTUMsVUFBVSxTQUFTRixJQUFJLENBQUM7RUFDMUI7RUFDQSxJQUFJRyxtQkFBbUJBLENBQUEsRUFBRTtJQUNyQjtJQUNBLE9BQU9DLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztFQUNwQztFQUVBLElBQUlDLFlBQVlBLENBQUEsRUFBRTtJQUNkLE9BQU9ELENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztFQUNwQztFQUVBLElBQUlFLFlBQVlBLENBQUEsRUFBRTtJQUNkLE9BQU9GLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQztFQUMxQztFQUVBLElBQUlHLGVBQWVBLENBQUEsRUFBRTtJQUNqQjtJQUNBLE9BQU9ILENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztFQUNyQztFQUVBLElBQUlJLGFBQWFBLENBQUEsRUFBRTtJQUNmLE9BQU9KLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoQztFQUVBLElBQUlLLGNBQWNBLENBQUEsRUFBRTtJQUNoQixPQUFPTCxDQUFDLENBQUMsK0JBQStCLENBQUM7RUFDN0M7RUFFQSxJQUFJTSxhQUFhQSxDQUFBLEVBQUU7SUFDZixPQUFPTixDQUFDLENBQUMscUJBQXFCLENBQUM7RUFDbkM7RUFFQSxJQUFJTyxhQUFhQSxDQUFBLEVBQUU7SUFDZixPQUFPUCxDQUFDLENBQUMsNkNBQTZDLENBQUM7RUFDM0Q7RUFFQSxJQUFJUSxpQkFBaUJBLENBQUEsRUFBRTtJQUNuQixPQUFPUixDQUFDLENBQUMsdUNBQXVDLENBQUM7RUFDckQ7RUFFQSxJQUFJUyxjQUFj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","map":{"version":3,"names":["Page","require","avatarpage","bods3DButtonElement","$","loginElement","emailelement","passwordelement","signinelement","loadingelement","avatarelement","fitmapelement","myprofileelelment","cupsizeelement","cupsizeele","bodsOverlay","clickWithRetry","elementGetter","retryCount","delay","retry","element","overlay","browser","pause","waitForDisplayed","timeout","waitForClickable","click","waitUntil","isDisplayed","console","log","error","message","Error","clickbods3DWithRetry","clickbods3D","clickLoginlink","loginLink","login","inputmail","setValue","inputPassword","customTimeout","elementExists","waitForExist","reverse","avatardisplayed","avatar","clickfitmap","fitmap","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["avatar_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\n\r\nclass avatarpage extends Page {\r\n    // ========= Selectors =========\r\n    get bods3DButtonElement(){\r\n        //return $('//a[@class=\"btn.btn-lg.btn-dark\"][text()=\"BODS 3D Fitting\"]');\r\n        return $('.btn.btn-lg.btn-dark');\r\n    }    \r\n    \r\n    get loginElement(){\r\n        return $('//a[text()=\"Log in\"]');\r\n    }\r\n\r\n    get emailelement(){\r\n        return $('#filled-hidden-label-small');\r\n    }\r\n\r\n    get passwordelement(){\r\n        //return $('//div[contains(@class,\"adornedEnd MuiInputBase-hiddenLabel css-k72cy0\")]');\r\n        return $('//*[@type=\"password\"]');\r\n    }\r\n\r\n    get signinelement(){\r\n        return $('.bods__card__cta');\r\n    }\r\n\r\n    get loadingelement(){\r\n        return $('//div[@class=\"loading-label\"]');\r\n    }\r\n\r\n    get avatarelement(){\r\n        return $('.bods__avatar video');\r\n    }\r\n\r\n    get fitmapelement(){\r\n        return $(\"//div[contains(@class,'bods__fitmap')]//div\");\r\n    }\r\n\r\n    get myprofileelelment(){\r\n        return $(\"//*[contains(@class,'bods__profile')]\");\r\n    }\r\n\r\n    get cupsizeelement(){\r\n        //return $('//p[text()=\"Cup Size\"]');\r\n        let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \r\n        return $(cupsizeele);\r\n    }\r\n\r\n    get bodsOverlay(){\r\n        return $('(//div[@id=\"bods-app\"]//descendant::div)[2]');\r\n    }\r\n\r\n    // ========== Methods ==========\r\n    async clickWithRetry(elementGetter, retryCount = 5, delay = 1000) {\r\n        for (let retry = 0; retry < retryCount; retry++) {\r\n            try {\r\n                const element = await elementGetter();\r\n                const overlay = await this.bodsOverlay;\r\n                await browser.pause(3000);\r\n                await element.waitForDisplayed({ timeout: 30000 });\r\n                await element.waitForClickable({ timeout: 30000 });\r\n                await browser.pause(3000);\r\n                await element.click();\r\n                await browser.waitUntil(async () => await overlay.isDisplayed(), {timeout: 10000});\r\n                console.log('Clicked successfully');\r\n                return; // Exit the loop if click is successful\r\n            } catch (error) {\r\n                console.error(`Attempt ${retry + 1} failed: ${error.message}`);\r\n                await browser.pause(delay); // Wait before retrying\r\n            }\r\n        }\r\n        throw new Error(`Failed to click element after ${retryCount} attempts`);\r\n    }\r\n    \r\n    async clickbods3DWithRetry() {\r\n        await this.clickWithRetry(() => this.bods3DButtonElement);\r\n    }\r\n\r\n    async clickbods3D() {\r\n        await this.clickbods3DWithRetry();\r\n    }\r\n\r\n    async clickLoginlink(){\r\n        // On Classic Fit Mesh Polo Shirt Bods- will land on login Page\r\n        const loginLink = await this.loginElement;\r\n        await browser.pause(3000);\r\n        await loginLink.waitForDisplayed();\r\n        await loginLink.click();\r\n    }  \r\n\r\n    async login() {\r\n        const inputmail = await this.emailelement;\r\n        await inputmail.waitForDisplayed({ timeout: 5000 });\r\n        await inputmail.setValue(\"test001@bods.me\");\r\n    \r\n        const inputPassword = await this.passwordelement;\r\n        await inputPassword.waitForDisplayed({ timeout: 5000 });\r\n        await inputPassword.click();\r\n        await inputPassword.setValue(\"123456\");\r\n        await this.signinelement.click();\r\n    \r\n        const element = await this.loadingelement;\r\n        // Set a custom timeout (in milliseconds)\r\n        const customTimeout = 20000; \r\n\r\n        // Wait for the element to not exist in the DOM within the specified timeout\r\n        const elementExists = await element.waitForExist({ timeout: customTimeout, reverse: true });\r\n    }\r\n\r\n    async avatardisplayed(){\r\n        // On Classic Fit Mesh Polo Shirt Bods- 3D Interface\r\n        const avatar = await this.avatarelement;\r\n        await browser.waitUntil(async () => await avatar.isDisplayed(), {timeout: 40000});\r\n        await browser.pause(20000);\r\n    }\r\n\r\n    async clickfitmap(){\r\n        const fitmap = await this.fitmapelement;\r\n        await browser.waitUntil(async () => await fitmap.isDisplayed(), {timeout: 40000});\r\n        await fitmap.click();\r\n        const avatar = await this.avatardisplayed();\r\n    }\r\n\r\n}     \r\n    module.exports = new avatarpage();"],"mappings":"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"}},"mtime":1704461655809},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\size_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nclass Sizepage extends Page {\n  // ========= Selectors =========\n  get sizeElement() {\n    return $(\"//select[contains(@class,'input MuiInput-input')]\");\n  }\n  get listofsizeselement() {\n    return $$('//select[contains(@class,\"input MuiInput-input\")]//option');\n  }\n  get nextsizelement() {\n    return $('//select[contains(@class,\"input MuiInput-input\")]//option)[5]');\n  }\n  // ========== Methods ==========\n\n  async clicksizedropdown() {\n    const sizelist = await this.sizeElement;\n    await sizelist.waitForDisplayed({\n      timeout: 5000\n    });\n    await browser.pause(1000);\n    await sizelist.click();\n  }\n  async getDropdownOptions() {\n    const listofsizes = await this.listofsizeselement;\n    let defaultSize;\n    let availableSizeCount = 1;\n    for (let i = 0; i < listofsizes.length; i++) {\n      const listofsize = listofsizes[i];\n      const value = await listofsize.getText();\n      const isEnabled = !(await listofsize.getAttribute('disabled'));\n      if (value.trim() !== '' && isEnabled) {\n        if (!defaultSize) {\n          defaultSize = value;\n          console.log(`Default size: ${defaultSize}`);\n        } else {\n          console.log(`Available size ${availableSizeCount}: ${value}`);\n          availableSizeCount++;\n        }\n      }\n    }\n  }\n  async clickNextAvailableSize() {\n    const listofsizes = await this.listofsizeselement; // Make sure this is correctly defined\n\n    let availableSizeCount = 0;\n    let selectedIndex = -1;\n    for (let i = 0; i < listofsizes.length; i++) {\n      const listofsize = listofsizes[i];\n      const value = await listofsize.getText();\n      const isEnabled = !(await listofsize.getAttribute('disabled'));\n      if (value.trim() !== '' && isEnabled) {\n        availableSizeCount++;\n        if (selectedIndex === -1) {\n          selectedIndex = i;\n        }\n      }\n    }\n    if (availableSizeCount > 0) {\n      const startIndex = (selectedIndex + 1) % listofsizes.length;\n      let nextIndex = startIndex;\n      do {\n        const nextSizeOption = listofsizes[nextIndex];\n        const isEnabled = !(await nextSizeOption.getAttribute('disabled'));\n        if (isEnabled) {\n          const nextSize = await nextSizeOption.getText();\n          // Here, perform the action to actually select the next size, e.g., click the option\n          await nextSizeOption.click();\n          await browser.pause(2000);\n          await super.waitForLoadingToDisappear();\n          console.log(`Selected size: ${nextSize}`);\n          break;\n        }\n        nextIndex = (nextIndex + 1) % listofsizes.length;\n      } while (nextIndex !== startIndex);\n    } else {\n      console.log('No available sizes.');\n    }\n  }\n}\nmodule.exports = new Sizepage();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsIlNpemVwYWdlIiwic2l6ZUVsZW1lbnQiLCIkIiwibGlzdG9mc2l6ZXNlbGVtZW50IiwiJCQiLCJuZXh0c2l6ZWxlbWVudCIsImNsaWNrc2l6ZWRyb3Bkb3duIiwic2l6ZWxpc3QiLCJ3YWl0Rm9yRGlzcGxheWVkIiwidGltZW91dCIsImJyb3dzZXIiLCJwYXVzZSIsImNsaWNrIiwiZ2V0RHJvcGRvd25PcHRpb25zIiwibGlzdG9mc2l6ZXMiLCJkZWZhdWx0U2l6ZSIsImF2YWlsYWJsZVNpemVDb3VudCIsImkiLCJsZW5ndGgiLCJsaXN0b2ZzaXplIiwidmFsdWUiLCJnZXRUZXh0IiwiaXNFbmFibGVkIiwiZ2V0QXR0cmlidXRlIiwidHJpbSIsImNvbnNvbGUiLCJsb2ciLCJjbGlja05leHRBdmFpbGFibGVTaXplIiwic2VsZWN0ZWRJbmRleCIsInN0YXJ0SW5kZXgiLCJuZXh0SW5kZXgiLCJuZXh0U2l6ZU9wdGlvbiIsIm5leHRTaXplIiwid2FpdEZvckxvYWRpbmdUb0Rpc2FwcGVhciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHBhZ2VvYmplY3RzXFwiLCJzb3VyY2VzIjpbInNpemVfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQYWdlID0gcmVxdWlyZShcIi4vcGFnZVwiKTtcclxuXHJcbmNsYXNzIFNpemVwYWdlIGV4dGVuZHMgUGFnZSB7XHJcbiAgICAvLyA9PT09PT09PT0gU2VsZWN0b3JzID09PT09PT09PVxyXG4gICAgZ2V0IHNpemVFbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvL3NlbGVjdFtjb250YWlucyhAY2xhc3MsJ2lucHV0IE11aUlucHV0LWlucHV0JyldXCIpO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICBnZXQgbGlzdG9mc2l6ZXNlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQkKCcvL3NlbGVjdFtjb250YWlucyhAY2xhc3MsXCJpbnB1dCBNdWlJbnB1dC1pbnB1dFwiKV0vL29wdGlvbicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgbmV4dHNpemVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnLy9zZWxlY3RbY29udGFpbnMoQGNsYXNzLFwiaW5wdXQgTXVpSW5wdXQtaW5wdXRcIildLy9vcHRpb24pWzVdJyk7XHJcbiAgICB9XHJcbiAgICAvLyA9PT09PT09PT09IE1ldGhvZHMgPT09PT09PT09PVxyXG5cclxuICAgIGFzeW5jIGNsaWNrc2l6ZWRyb3Bkb3duKCkge1xyXG4gICAgICAgIGNvbnN0IHNpemVsaXN0ID0gYXdhaXQgdGhpcy5zaXplRWxlbWVudDtcclxuICAgICAgICBhd2FpdCBzaXplbGlzdC53YWl0Rm9yRGlzcGxheWVkKHsgdGltZW91dDogNTAwMCB9KTsgICBcclxuICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDEwMDApOyBcclxuICAgICAgICBhd2FpdCBzaXplbGlzdC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldERyb3Bkb3duT3B0aW9ucygpIHtcclxuICAgIGNvbnN0IGxpc3RvZnNpemVzID0gYXdhaXQgdGhpcy5saXN0b2ZzaXplc2VsZW1lbnQ7XHJcblxyXG4gICAgbGV0IGRlZmF1bHRTaXplO1xyXG4gICAgbGV0IGF2YWlsYWJsZVNpemVDb3VudCA9IDE7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0b2ZzaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGxpc3RvZnNpemUgPSBsaXN0b2ZzaXplc1tpXTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGxpc3RvZnNpemUuZ2V0VGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9ICEoYXdhaXQgbGlzdG9mc2l6ZS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUudHJpbSgpICE9PSAnJyAmJiBpc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFkZWZhdWx0U2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFNpemUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZWZhdWx0IHNpemU6ICR7ZGVmYXVsdFNpemV9YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQXZhaWxhYmxlIHNpemUgJHthdmFpbGFibGVTaXplQ291bnR9OiAke3ZhbHVlfWApO1xyXG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlU2l6ZUNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGNsaWNrTmV4dEF2YWlsYWJsZVNpemUoKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdG9mc2l6ZXMgPSBhd2FpdCB0aGlzLmxpc3RvZnNpemVzZWxlbWVudDsgLy8gTWFrZSBzdXJlIHRoaXMgaXMgY29ycmVjdGx5IGRlZmluZWRcclxuICAgIFxyXG4gICAgICAgIGxldCBhdmFpbGFibGVTaXplQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RvZnNpemVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RvZnNpemUgPSBsaXN0b2ZzaXplc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBsaXN0b2ZzaXplLmdldFRleHQoKTtcclxuICAgICAgICAgICAgY29uc3QgaXNFbmFibGVkID0gIShhd2FpdCBsaXN0b2ZzaXplLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSk7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSAhPT0gJycgJiYgaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVTaXplQ291bnQrKztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoYXZhaWxhYmxlU2l6ZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gKHNlbGVjdGVkSW5kZXggKyAxKSAlIGxpc3RvZnNpemVzLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IG5leHRJbmRleCA9IHN0YXJ0SW5kZXg7XHJcbiAgICBcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNpemVPcHRpb24gPSBsaXN0b2ZzaXplc1tuZXh0SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNFbmFibGVkID0gIShhd2FpdCBuZXh0U2l6ZU9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFNpemUgPSBhd2FpdCBuZXh0U2l6ZU9wdGlvbi5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSwgcGVyZm9ybSB0aGUgYWN0aW9uIHRvIGFjdHVhbGx5IHNlbGVjdCB0aGUgbmV4dCBzaXplLCBlLmcuLCBjbGljayB0aGUgb3B0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV4dFNpemVPcHRpb24uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDIwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN1cGVyLndhaXRGb3JMb2FkaW5nVG9EaXNhcHBlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VsZWN0ZWQgc2l6ZTogJHtuZXh0U2l6ZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gKG5leHRJbmRleCArIDEpICUgbGlzdG9mc2l6ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChuZXh0SW5kZXggIT09IHN0YXJ0SW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBhdmFpbGFibGUgc2l6ZXMuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgIFxyXG59IFxyXG4gXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IFNpemVwYWdlKCk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFOUIsTUFBTUMsUUFBUSxTQUFTRixJQUFJLENBQUM7RUFDeEI7RUFDQSxJQUFJRyxXQUFXQSxDQUFBLEVBQUU7SUFDYixPQUFPQyxDQUFDLENBQUMsbURBQW1ELENBQUM7RUFDakU7RUFFQSxJQUFJQyxrQkFBa0JBLENBQUEsRUFBRTtJQUNwQixPQUFPQyxFQUFFLENBQUMsMkRBQTJELENBQUM7RUFDMUU7RUFFQSxJQUFJQyxjQUFjQSxDQUFBLEVBQUU7SUFDaEIsT0FBT0gsQ0FBQyxDQUFDLCtEQUErRCxDQUFDO0VBQzdFO0VBQ0E7O0VBRUEsTUFBTUksaUJBQWlCQSxDQUFBLEVBQUc7SUFDdEIsTUFBTUMsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDTixXQUFXO0lBQ3ZDLE1BQU1NLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lB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","map":{"version":3,"names":["Page","require","Sizepage","sizeElement","$","listofsizeselement","$$","nextsizelement","clicksizedropdown","sizelist","waitForDisplayed","timeout","browser","pause","click","getDropdownOptions","listofsizes","defaultSize","availableSizeCount","i","length","listofsize","value","getText","isEnabled","getAttribute","trim","console","log","clickNextAvailableSize","selectedIndex","startIndex","nextIndex","nextSizeOption","nextSize","waitForLoadingToDisappear","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["size_page.js"],"sourcesContent":["const Page = require(\"./page\");\r\n\r\nclass Sizepage extends Page {\r\n    // ========= Selectors =========\r\n    get sizeElement(){\r\n        return $(\"//select[contains(@class,'input MuiInput-input')]\");\r\n    }    \r\n\r\n    get listofsizeselement(){\r\n        return $$('//select[contains(@class,\"input MuiInput-input\")]//option');\r\n    }\r\n    \r\n    get nextsizelement(){\r\n        return $('//select[contains(@class,\"input MuiInput-input\")]//option)[5]');\r\n    }\r\n    // ========== Methods ==========\r\n\r\n    async clicksizedropdown() {\r\n        const sizelist = await this.sizeElement;\r\n        await sizelist.waitForDisplayed({ timeout: 5000 });   \r\n        await browser.pause(1000); \r\n        await sizelist.click();\r\n    }\r\n\r\n    async getDropdownOptions() {\r\n    const listofsizes = await this.listofsizeselement;\r\n\r\n    let defaultSize;\r\n    let availableSizeCount = 1;\r\n\r\n    for (let i = 0; i < listofsizes.length; i++) {\r\n        const listofsize = listofsizes[i];\r\n        const value = await listofsize.getText();\r\n        const isEnabled = !(await listofsize.getAttribute('disabled'));\r\n\r\n        if (value.trim() !== '' && isEnabled) {\r\n            if (!defaultSize) {\r\n                defaultSize = value;\r\n                console.log(`Default size: ${defaultSize}`);\r\n            } else {\r\n                console.log(`Available size ${availableSizeCount}: ${value}`);\r\n                availableSizeCount++;\r\n            }\r\n        }\r\n    }\r\n    }\r\n    \r\n    async clickNextAvailableSize() {\r\n        const listofsizes = await this.listofsizeselement; // Make sure this is correctly defined\r\n    \r\n        let availableSizeCount = 0;\r\n        let selectedIndex = -1;\r\n    \r\n        for (let i = 0; i < listofsizes.length; i++) {\r\n            const listofsize = listofsizes[i];\r\n            const value = await listofsize.getText();\r\n            const isEnabled = !(await listofsize.getAttribute('disabled'));\r\n    \r\n            if (value.trim() !== '' && isEnabled) {\r\n                availableSizeCount++;\r\n    \r\n                if (selectedIndex === -1) {\r\n                    selectedIndex = i;\r\n                }\r\n            }\r\n        }\r\n    \r\n        if (availableSizeCount > 0) {\r\n            const startIndex = (selectedIndex + 1) % listofsizes.length;\r\n            let nextIndex = startIndex;\r\n    \r\n            do {\r\n                const nextSizeOption = listofsizes[nextIndex];\r\n                const isEnabled = !(await nextSizeOption.getAttribute('disabled'));\r\n    \r\n                if (isEnabled) {\r\n                    const nextSize = await nextSizeOption.getText();\r\n                    // Here, perform the action to actually select the next size, e.g., click the option\r\n                    await nextSizeOption.click();\r\n                    await browser.pause(2000);\r\n                    await super.waitForLoadingToDisappear();\r\n                    console.log(`Selected size: ${nextSize}`);\r\n                    break;\r\n                }\r\n    \r\n                nextIndex = (nextIndex + 1) % listofsizes.length;\r\n            } while (nextIndex !== startIndex);\r\n        } else {\r\n            console.log('No available sizes.');\r\n        }\r\n    }   \r\n} \r\n \r\nmodule.exports = new Sizepage();"],"mappings":"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"}},"mtime":1704461655816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\007_bods.1627-ChangeSizeofPolo_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst dropdownpage = require('../../pageobjects/size_page');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-ChangeSizeofPolo_en\", async () => {\n    await Homepage.open();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // wait for avatar to be displayed\n    await avatarpage.avatardisplayed();\n    //await browser.pause(6000);\n\n    // click the dropdown of Size\n    await dropdownpage.clicksizedropdown();\n    // Get the enabled size list\n    await dropdownpage.getDropdownOptions();\n    // click the next size from the dropdown\n    await dropdownpage.clickNextAvailableSize();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-ChangeSizeofPolo_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"007_bods.1627-ChangeSizeofPolo_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"007_bods.1627-ChangeSizeofPolo_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJkcm9wZG93bnBhZ2UiLCJkZXNjcmliZSIsIml0Iiwib3BlbiIsIndhcm5pbmdPdmVybGF5IiwiY2xpY2twb2xvZml0bWVzaCIsImNsaWNrYm9kczNEIiwiY2xpY2tMb2dpbmxpbmsiLCJsb2dpbiIsImF2YXRhcmRpc3BsYXllZCIsImNsaWNrc2l6ZWRyb3Bkb3duIiwiZ2V0RHJvcGRvd25PcHRpb25zIiwiY2xpY2tOZXh0QXZhaWxhYmxlU2l6ZSIsInV0aWxzIiwicHJvY2VzcyIsImN3ZCIsInZhbGlkIiwiY2hlY2tWYWxpZENhcHMiLCJza2lwIiwiY2hlY2tGaXJlV2FsbCIsImltZ0NvbXBhcmUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHJlY29yZFxcc2NyZWVuXFwiLCJzb3VyY2VzIjpbIjAwN19ib2RzLjE2MjctQ2hhbmdlU2l6ZW9mUG9sb19lbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIb21lcGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2hvbWVfcGFnZScpO1xyXG5jb25zdCBQcm9kdWN0cGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL3Byb2R1Y3RfcGFnZScpO1xyXG5jb25zdCBhdmF0YXJwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvYXZhdGFyX3BhZ2UnKVxyXG5jb25zdCBkcm9wZG93bnBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9zaXplX3BhZ2UnKTtcclxuXHJcbmRlc2NyaWJlKFwiQk9EUyA6OiBTY3JlZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gIGl0KFwicmVjb3JkZXIgOjogMTYyNy1DaGFuZ2VTaXplb2ZQb2xvX2VuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IEhvbWVwYWdlLm9wZW4oKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBQcm9kdWN0IGhvbWUgcGFnZSBBZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IFByb2R1Y3RwYWdlLmNsaWNrcG9sb2ZpdG1lc2goKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIGxhbmQgb24gcHJvZmlsZSBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICAvLyBsYW5kIG9uIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tMb2dpbmxpbmsoKTtcclxuICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5sb2dpbigpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIC8vYXdhaXQgYnJvd3Nlci5wYXVzZSg2MDAwKTtcclxuXHJcbiAgICAvLyBjbGljayB0aGUgZHJvcGRvd24gb2YgU2l6ZVxyXG4gICAgYXdhaXQgZHJvcGRvd25wYWdlLmNsaWNrc2l6ZWRyb3Bkb3duKCk7XHJcbiAgICAvLyBHZXQgdGhlIGVuYWJsZWQgc2l6ZSBsaXN0XHJcbiAgICBhd2FpdCBkcm9wZG93bnBhZ2UuZ2V0RHJvcGRvd25PcHRpb25zKCk7XHJcbiAgICAvLyBjbGljayB0aGUgbmV4dCBzaXplIGZyb20gdGhlIGRyb3Bkb3duXHJcbiAgICBhd2FpdCBkcm9wZG93bnBhZ2UuY2xpY2tOZXh0QXZhaWxhYmxlU2l6ZSgpO1xyXG5cclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PSBJTUdfQ09NUCA6IFNUQVJUID09PT09PT1cclxuICAvKlxyXG4gICAqIFRoaXMgaXMgQ09SRSBmdW5jdGlvbiB0byBkbyB0aGUgaW1hZ2UgY29tcGFyaXNvbi5cclxuICAgKiBUaGlzIHNjcmlwdCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGV2ZXJ5IHRpbWUgdGhlcmUgaXMgYSBuZXcgdmVyc2lvbiByZWxlYXNlZC5cclxuICAgKiBZb3UgY2FuIG9wZW4gdGhlIGN1c3RvbSBzY3JpcHRzIGZvciBjYXB0dXJlIG9wdGlvbnMgdG8gYXBwbHkgb25seSBmb3IgY3VycmVudCBzcGVjLlxyXG4gICAqIE5vdGU6IGRvbid0IG1vZGlmeSBvciByZW1vdmUgYW55IHNjcmlwdCBoZXJlLlxyXG4gICAqL1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgaXQoXCJpbWFnZSBjb21wYXJpc29uIHYxLjEuNCA6OiAxNjI3LUNoYW5nZVNpemVvZlBvbG9fZW5cIiwgYXN5bmMgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IENIRUNLIEZJUkVXQUxMXHJcbiAgICBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiMDA3X2JvZHMuMTYyNy1DaGFuZ2VTaXplb2ZQb2xvX2VuXCIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tIGNhcHR1cmUgb3B0cy4gVW5jb21tZW50IGFuZCBjaGFuZ2UgdGhlIHZhbHVlIHRvIHVzZSBpdC5cclxuICAgICAqIFRoZSBnbG9iYWwgY29uZmlnIGlzIHNldCBpbiBkYXRhLnhsc3ggYW5kIGlzIGFwcGxpZWQgYnkgZGVmYXVsdCBmb3IgYWxsIHNwZWNzLlxyXG4gICAgICogTm90ZTogdGhlc2UgY29uZmlnIG1heSBiZSByZXBsYWNlZCBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvbiBvZiBVdGlscyBsaWIgcmVsZWFzZWQuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwN19ib2RzLjE2MjctQ2hhbmdlU2l6ZW9mUG9sb19lblwiLCBcImZ1bGxQYWdlU2Nyb2xsVGltZW91dFwiLCAzMDAwLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA3X2JvZHMuMTYyNy1DaGFuZ2VTaXplb2ZQb2xvX2VuXCIsIFwiaWdub3JlVHJhbnNwYXJlbnRQaXhlbFwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA3X2JvZHMuMTYyNy1DaGFuZ2VTaXplb2ZQb2xvX2VuXCIsIFwiaWdub3JlQW50aWFsaWFzaW5nXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDdfYm9kcy4xNjI3LUNoYW5nZVNpemVvZlBvbG9fZW5cIiwgXCJzY2FsZUltYWdlc1RvU2FtZVNpemVcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDdfYm9kcy4xNjI3LUNoYW5nZVNpemVvZlBvbG9fZW5cIiwgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsIDEwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwN19ib2RzLjE2MjctQ2hhbmdlU2l6ZW9mUG9sb19lblwiLCBcImRpc2FibGVDU1NBbmltYXRpb25cIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwN19ib2RzLjE2MjctQ2hhbmdlU2l6ZW9mUG9sb19lblwiLCBcImlnbm9yZUNvbG9yc1wiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA3X2JvZHMuMTYyNy1DaGFuZ2VTaXplb2ZQb2xvX2VuXCIsIFwiaWdub3JlQWxwaGFcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgXCIwMDdfYm9kcy4xNjI3LUNoYW5nZVNpemVvZlBvbG9fZW5cIik7XHJcblxyXG4gIH0pO1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBFTkQgPT09PT09PVxyXG5cclxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUN2RCxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUM3RCxNQUFNRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUMzRCxNQUFNRyxZQUFZLEdBQUdILE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQztBQUUzREksUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQVk7RUFDckNDLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxZQUFZO0lBQ3JELE1BQU1OLFFBQVEsQ0FBQ08sSUFBSSxDQUFDLENBQUM7SUFDckI7SUFDQSxNQUFNUCxRQUFRLENBQUNRLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTU4sV0FBVyxDQUFDTyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BDO0lBQ0EsTUFBTVQsUUFBUSxDQUFDUSxjQUFjLENBQUMsQ0FBQztJQUMvQjtJQUNBLE1BQU1MLFVBQVUsQ0FBQ08sV0FBVyxDQUFDLENBQUM7SUFDOUI7SUFDQSxNQUFNUCxVQUFVLENBQUNRLGNBQWMsQ0FBQyxDQUFDO0lBQ2pDO0lBQ0EsTUFBTVIsVUFBVSxDQUFDUyxLQUFLLENBQUMsQ0FBQztJQUN4QjtJQUNBLE1BQU1ULFVBQVUsQ0FBQ1UsZUFBZSxDQUFDLENBQUM7SUFDbEM7O0lBRUE7SUFDQSxNQUFNVCxZQUFZLENBQUNVLGlCQUFpQixDQUFDLENBQUM7SUFDdEM7SUFDQSxNQUFNVixZQUFZLENBQUNXLGtCQUFrQixDQUFDLENBQUM7SUFDdkM7SUFDQSxNQUFNWCxZQUFZLENBQUNZLHNCQUFzQixDQUFDLENBQUM7RUFFN0MsQ0FBQyxDQUFDOztFQUVGO0VBQ0E7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U7RUFDQVYsRUFBRSxDQUFDLHFEQUFxRCxFQUFFLGtCQUFpQjtJQUN6RSxNQUFNVyxLQUFLLEdBQUdoQixPQUFPLENBQUNpQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDOztJQUVyRDtJQUNBLElBQUlDLEtBQUssR0FBRyxNQUFNSCxLQUFLLENBQUNJLGNBQWMsQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQ0QsS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDRSxJQUFJLENBQUMsQ0FBQzs7SUFFN0I7SUFDQSxNQUFNTCxLQUFLLENBQUNNLGFBQWEsQ0FBQyxtQ0FBbUMsQ0FBQzs7SUFFOUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7SUFFSTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBO0lBQ0EsTUFBTU4sS0FBSyxDQUFDTyxVQUFVLENBQUMsTUFBTSxFQUFFLG1DQUFtQyxDQUFDO0VBRXJFLENBQUMsQ0FBQztFQUNGO0VBQ0E7QUFFRixDQUFDLENBQUMifQ==","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","dropdownpage","describe","it","open","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","avatardisplayed","clicksizedropdown","getDropdownOptions","clickNextAvailableSize","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["007_bods.1627-ChangeSizeofPolo_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page')\r\nconst dropdownpage = require('../../pageobjects/size_page');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-ChangeSizeofPolo_en\", async () => {\r\n    await Homepage.open();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    //await browser.pause(6000);\r\n\r\n    // click the dropdown of Size\r\n    await dropdownpage.clicksizedropdown();\r\n    // Get the enabled size list\r\n    await dropdownpage.getDropdownOptions();\r\n    // click the next size from the dropdown\r\n    await dropdownpage.clickNextAvailableSize();\r\n\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-ChangeSizeofPolo_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"007_bods.1627-ChangeSizeofPolo_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"007_bods.1627-ChangeSizeofPolo_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"007_bods.1627-ChangeSizeofPolo_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,YAAY,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE3DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,sCAAsC,EAAE,YAAY;IACrD,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB;IACA,MAAMP,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMN,WAAW,CAACO,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMT,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAML,UAAU,CAACO,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMP,UAAU,CAACQ,cAAc,CAAC,CAAC;IACjC;IACA,MAAMR,UAAU,CAACS,KAAK,CAAC,CAAC;IACxB;IACA,MAAMT,UAAU,CAACU,eAAe,CAAC,CAAC;IAClC;;IAEA;IACA,MAAMT,YAAY,CAACU,iBAAiB,CAAC,CAAC;IACtC;IACA,MAAMV,YAAY,CAACW,kBAAkB,CAAC,CAAC;IACvC;IACA,MAAMX,YAAY,CAACY,sBAAsB,CAAC,CAAC;EAE7C,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAV,EAAE,CAAC,qDAAqD,EAAE,kBAAiB;IACzE,MAAMW,KAAK,GAAGhB,OAAO,CAACiB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,mCAAmC,CAAC;;IAE9D;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,mCAAmC,CAAC;EAErE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655833},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\009_bods.1627-MyprofileSettings1_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst myprofilepage = require('../../pageobjects/myProfile');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-MyprofileSettings1_en\", async () => {\n    await Homepage.open();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // wait for avatar to be displayed\n    await avatarpage.avatardisplayed();\n    // click on myprofile to capture settings\n    await myprofilepage.clickMyprofile();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-MyprofileSettings1_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"009_bods.1627-MyprofileSettings1_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"009_bods.1627-MyprofileSettings1_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJteXByb2ZpbGVwYWdlIiwiZGVzY3JpYmUiLCJpdCIsIm9wZW4iLCJ3YXJuaW5nT3ZlcmxheSIsImNsaWNrcG9sb2ZpdG1lc2giLCJjbGlja2JvZHMzRCIsImNsaWNrTG9naW5saW5rIiwibG9naW4iLCJhdmF0YXJkaXNwbGF5ZWQiLCJjbGlja015cHJvZmlsZSIsInV0aWxzIiwicHJvY2VzcyIsImN3ZCIsInZhbGlkIiwiY2hlY2tWYWxpZENhcHMiLCJza2lwIiwiY2hlY2tGaXJlV2FsbCIsImltZ0NvbXBhcmUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbXlpbHZcXE15Rmlyc3RQcm9qZWN0XFxib2RzLXRlc3QtZmxvd1xcdGVzdFxcc3BlY3NcXGJvZHMtdXNcXGJvZHNcXHJlY29yZFxcc2NyZWVuXFwiLCJzb3VyY2VzIjpbIjAwOV9ib2RzLjE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEhvbWVwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvaG9tZV9wYWdlJyk7XHJcbmNvbnN0IFByb2R1Y3RwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvcHJvZHVjdF9wYWdlJyk7XHJcbmNvbnN0IGF2YXRhcnBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9hdmF0YXJfcGFnZScpO1xyXG5jb25zdCBteXByb2ZpbGVwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvbXlQcm9maWxlJyk7XHJcblxyXG5kZXNjcmliZShcIkJPRFMgOjogU2NyZWVuXCIsIGFzeW5jICgpID0+IHtcclxuICBpdChcInJlY29yZGVyIDo6IDE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IEhvbWVwYWdlLm9wZW4oKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBQcm9kdWN0IGhvbWUgcGFnZSBBZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IFByb2R1Y3RwYWdlLmNsaWNrcG9sb2ZpdG1lc2goKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIGxhbmQgb24gcHJvZmlsZSBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICAvLyBsYW5kIG9uIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tMb2dpbmxpbmsoKTtcclxuICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5sb2dpbigpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIC8vIGNsaWNrIG9uIG15cHJvZmlsZSB0byBjYXB0dXJlIHNldHRpbmdzXHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIiwgYXN5bmMgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IENIRUNLIEZJUkVXQUxMXHJcbiAgICBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiMDA5X2JvZHMuMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIik7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b20gY2FwdHVyZSBvcHRzLiBVbmNvbW1lbnQgYW5kIGNoYW5nZSB0aGUgdmFsdWUgdG8gdXNlIGl0LlxyXG4gICAgICogVGhlIGdsb2JhbCBjb25maWcgaXMgc2V0IGluIGRhdGEueGxzeCBhbmQgaXMgYXBwbGllZCBieSBkZWZhdWx0IGZvciBhbGwgc3BlY3MuXHJcbiAgICAgKiBOb3RlOiB0aGVzZSBjb25maWcgbWF5IGJlIHJlcGxhY2VkIGlmIHRoZXJlIGlzIG5ldyB2ZXJzaW9uIG9mIFV0aWxzIGxpYiByZWxlYXNlZC5cclxuICAgICAqL1xyXG5cclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA5X2JvZHMuMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwOV9ib2RzLjE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuXCIsIFwiaWdub3JlVHJhbnNwYXJlbnRQaXhlbFwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA5X2JvZHMuMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIiwgXCJpZ25vcmVBbnRpYWxpYXNpbmdcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwOV9ib2RzLjE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA5X2JvZHMuMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIiwgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsIDEwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwOV9ib2RzLjE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuXCIsIFwiZGlzYWJsZUNTU0FuaW1hdGlvblwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDA5X2JvZHMuMTYyNy1NeXByb2ZpbGVTZXR0aW5nczFfZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwOV9ib2RzLjE2MjctTXlwcm9maWxlU2V0dGluZ3MxX2VuXCIsIFwiaWdub3JlQWxwaGFcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgXCIwMDlfYm9kcy4xNjI3LU15cHJvZmlsZVNldHRpbmdzMV9lblwiKTtcclxuXHJcbiAgfSk7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gPT09PT09PSBJTUdfQ09NUCA6IEVORCA9PT09PT09XHJcblxyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3ZELE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdELE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQzNELE1BQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRTVESSxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBWTtFQUNyQ0MsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLFlBQVk7SUFDdkQsTUFBTU4sUUFBUSxDQUFDTyxJQUFJLENBQUMsQ0FBQztJQUNyQjtJQUNBLE1BQU1QLFFBQVEsQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDL0I7SUFDQSxNQUFNTixXQUFXLENBQUNPLGdCQUFnQixDQUFDLENBQUM7SUFDcEM7SUFDQSxNQUFNVCxRQUFRLENBQUNRLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTUwsVUFBVSxDQUFDTyxXQUFXLENBQUMsQ0FBQztJQUM5QjtJQUNBLE1BQU1QLFVBQVUsQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDakM7SUFDQSxNQUFNUixVQUFVLENBQUNTLEtBQUssQ0FBQyxDQUFDO0lBQ3hCO0lBQ0EsTUFBTVQsVUFBVSxDQUFDVSxlQUFlLENBQUMsQ0FBQztJQUNsQztJQUNBLE1BQU1ULGFBQWEsQ0FBQ1UsY0FBYyxDQUFDLENBQUM7RUFDdEMsQ0FBQyxDQUFDOztFQUVGO0VBQ0E7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U7RUFDQVIsRUFBRSxDQUFDLHVEQUF1RCxFQUFFLGtCQUFpQjtJQUMzRSxNQUFNUyxLQUFLLEdBQUdkLE9BQU8sQ0FBQ2UsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGNBQWMsQ0FBQzs7SUFFckQ7SUFDQSxJQUFJQyxLQUFLLEdBQUcsTUFBTUgsS0FBSyxDQUFDSSxjQUFjLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUNELEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQ0UsSUFBSSxDQUFDLENBQUM7O0lBRTdCO0lBQ0EsTUFBTUwsS0FBSyxDQUFDTSxhQUFhLENBQUMscUNBQXFDLENBQUM7O0lBRWhFO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0lBRUk7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7SUFFQTtJQUNBLE1BQU1OLEtBQUssQ0FBQ08sVUFBVSxDQUFDLE1BQU0sRUFBRSxxQ0FBcUMsQ0FBQztFQUV2RSxDQUFDLENBQUM7RUFDRjtFQUNBO0FBRUYsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","myprofilepage","describe","it","open","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","avatardisplayed","clickMyprofile","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["009_bods.1627-MyprofileSettings1_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst myprofilepage = require('../../pageobjects/myProfile');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-MyprofileSettings1_en\", async () => {\r\n    await Homepage.open();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    // click on myprofile to capture settings\r\n    await myprofilepage.clickMyprofile();\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-MyprofileSettings1_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"009_bods.1627-MyprofileSettings1_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"009_bods.1627-MyprofileSettings1_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"009_bods.1627-MyprofileSettings1_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,aAAa,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE5DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,wCAAwC,EAAE,YAAY;IACvD,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB;IACA,MAAMP,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMN,WAAW,CAACO,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMT,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAML,UAAU,CAACO,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMP,UAAU,CAACQ,cAAc,CAAC,CAAC;IACjC;IACA,MAAMR,UAAU,CAACS,KAAK,CAAC,CAAC;IACxB;IACA,MAAMT,UAAU,CAACU,eAAe,CAAC,CAAC;IAClC;IACA,MAAMT,aAAa,CAACU,cAAc,CAAC,CAAC;EACtC,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAR,EAAE,CAAC,uDAAuD,EAAE,kBAAiB;IAC3E,MAAMS,KAAK,GAAGd,OAAO,CAACe,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,qCAAqC,CAAC;;IAEhE;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,qCAAqC,CAAC;EAEvE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655839},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\pageobjects\\\\myProfile.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Page = require(\"./page\");\nconst AvatarPage = require('./avatar_page');\nclass myprofile extends Page {\n  // ========= Selectors =========\n\n  get myprofileelelment() {\n    return $(\"//*[contains(@class,'bods__profile')]\");\n  }\n  get cupsizeelement() {\n    //return $('//p[text()=\"Cup Size\"]');\n    //let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \n    return $('(//*[@id=\"simple-tabpanel-0\"]//descendant::p)[8]');\n  }\n  get dropdowncupelement() {\n    return $('//p[text()=\"Cup Size\"]//parent::div//descendant::select');\n  }\n  get cupBelement() {\n    return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[4]');\n  }\n  get cupCelement() {\n    return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[5]');\n  }\n  get measurment() {\n    return $(\"//button[contains(@class,'bods__link-measurements')]\");\n  }\n  get myinformation() {\n    return $('#simple-tab-1');\n  }\n  get logoutelement() {\n    return $('//button[contains(@class,\"bods__button bods__button\")]');\n  }\n  get recommendationelement() {\n    return $('(//div[contains(@class,\"bods__product-list\")])[2]');\n  }\n  get pantelement() {\n    return $('#bods__related-product-item--1');\n  }\n\n  // ========== Methods ==========\n  async clickMyprofile() {\n    const myprofile = await this.myprofileelelment;\n    await browser.waitUntil(async () => await myprofile.isDisplayed(), {\n      timeout: 40000\n    });\n    await myprofile.click();\n  }\n  async scrolltocupsize() {\n    const cupsize = await this.cupsizeelement;\n    await browser.waitUntil(async () => await cupsize.isDisplayed(), {\n      timeout: 40000\n    });\n    await cupsize.scrollIntoView();\n    await browser.pause(2000);\n  }\n\n  // Cup size B to C\n  async toggleDropdownValueC() {\n    const dropdown = await this.dropdowncupelement;\n    await dropdown.scrollIntoView();\n    const cupB = await this.cupBelement;\n\n    // Get the current value\n    const currentValue = await cupB.getText();\n    // Click the dropdown to switch to the desired value\n    if (currentValue === 'B') {\n      await dropdown.click();\n      const optionC = await this.cupCelement;\n      await browser.pause(2000);\n      await optionC.click();\n      await browser.pause(1000);\n    }\n  }\n\n  // Cup size C to B\n  async toggleDropdownValueB() {\n    const dropdown = await this.dropdowncupelement;\n    await dropdown.scrollIntoView();\n    const cupC = await this.cupCelement;\n    // Get the current value\n    const currentValue = await cupC.getText();\n\n    // Click the dropdown to switch to the desired value\n    if (currentValue === 'C') {\n      await dropdown.click();\n      const optionB = await this.cupBelement;\n      await browser.pause(2000);\n      await optionB.click();\n      await browser.pause(2000);\n    }\n  }\n  async scrolltomeasurment() {\n    const measurementlink = await this.measurment;\n    await browser.waitUntil(async () => await measurementlink.isDisplayed(), {\n      timeout: 4000\n    });\n    await measurementlink.scrollIntoView();\n    await browser.pause(2000);\n  }\n  async clickMyInformation() {\n    const information = await this.myinformation;\n    await browser.waitUntil(async () => await information.isDisplayed(), {\n      timeout: 4000\n    });\n    await information.click();\n    await browser.pause(1000);\n  }\n  async clickLogout() {\n    const logout = await this.logoutelement;\n    await browser.waitUntil(async () => await logout.isDisplayed(), {\n      timeout: 4000\n    });\n    await logout.click();\n    await expect;\n  }\n  async scrolltoListOfRecommendation() {\n    const list = await this.recommendationelement;\n    await browser.waitUntil(async () => await list.isDisplayed(), {\n      timeout: 4000\n    });\n    await list.scrollIntoView();\n    await browser.pause(2000);\n  }\n  async clickPant() {\n    const pant = await this.pantelement;\n    await browser.waitUntil(async () => await pant.isDisplayed(), {\n      timeout: 40000\n    });\n    await pant.click();\n  }\n}\nmodule.exports = new myprofile();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWdlIiwicmVxdWlyZSIsIkF2YXRhclBhZ2UiLCJteXByb2ZpbGUiLCJteXByb2ZpbGVlbGVsbWVudCIsIiQiLCJjdXBzaXplZWxlbWVudCIsImRyb3Bkb3duY3VwZWxlbWVudCIsImN1cEJlbGVtZW50IiwiY3VwQ2VsZW1lbnQiLCJtZWFzdXJtZW50IiwibXlpbmZvcm1hdGlvbiIsImxvZ291dGVsZW1lbnQiLCJyZWNvbW1lbmRhdGlvbmVsZW1lbnQiLCJwYW50ZWxlbWVudCIsImNsaWNrTXlwcm9maWxlIiwiYnJvd3NlciIsIndhaXRVbnRpbCIsImlzRGlzcGxheWVkIiwidGltZW91dCIsImNsaWNrIiwic2Nyb2xsdG9jdXBzaXplIiwiY3Vwc2l6ZSIsInNjcm9sbEludG9WaWV3IiwicGF1c2UiLCJ0b2dnbGVEcm9wZG93blZhbHVlQyIsImRyb3Bkb3duIiwiY3VwQiIsImN1cnJlbnRWYWx1ZSIsImdldFRleHQiLCJvcHRpb25DIiwidG9nZ2xlRHJvcGRvd25WYWx1ZUIiLCJjdXBDIiwib3B0aW9uQiIsInNjcm9sbHRvbWVhc3VybWVudCIsIm1lYXN1cmVtZW50bGluayIsImNsaWNrTXlJbmZvcm1hdGlvbiIsImluZm9ybWF0aW9uIiwiY2xpY2tMb2dvdXQiLCJsb2dvdXQiLCJleHBlY3QiLCJzY3JvbGx0b0xpc3RPZlJlY29tbWVuZGF0aW9uIiwibGlzdCIsImNsaWNrUGFudCIsInBhbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG15aWx2XFxNeUZpcnN0UHJvamVjdFxcYm9kcy10ZXN0LWZsb3dcXHRlc3RcXHNwZWNzXFxib2RzLXVzXFxib2RzXFxwYWdlb2JqZWN0c1xcIiwic291cmNlcyI6WyJteVByb2ZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUGFnZSA9IHJlcXVpcmUoXCIuL3BhZ2VcIik7XHJcbmNvbnN0IEF2YXRhclBhZ2UgPSByZXF1aXJlKCcuL2F2YXRhcl9wYWdlJyk7XHJcblxyXG5jbGFzcyBteXByb2ZpbGUgZXh0ZW5kcyBQYWdlIHtcclxuICAgIC8vID09PT09PT09PSBTZWxlY3RvcnMgPT09PT09PT09XHJcblxyXG4gICAgZ2V0IG15cHJvZmlsZWVsZWxtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoXCIvLypbY29udGFpbnMoQGNsYXNzLCdib2RzX19wcm9maWxlJyldXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXBzaXplZWxlbWVudCgpe1xyXG4gICAgICAgIC8vcmV0dXJuICQoJy8vcFt0ZXh0KCk9XCJDdXAgU2l6ZVwiXScpO1xyXG4gICAgICAgIC8vbGV0IGN1cHNpemVlbGUgPSBcIiNzaW1wbGUtdGFicGFuZWwtMCA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdi5zYy10c0ZZRS5kcEVNb2wuTXVpQm94LXJvb3QuY3NzLTAgPiBkaXY6bnRoLWNoaWxkKDMpID4gcC5NdWlUeXBvZ3JhcGh5LXJvb3QuTXVpVHlwb2dyYXBoeS1ib2R5MS5zYy1rWVdWWUEuaUVaWVcuY3NzLTFpcXl3cDlcIjsgICAgXHJcbiAgICAgICAgcmV0dXJuICQoJygvLypbQGlkPVwic2ltcGxlLXRhYnBhbmVsLTBcIl0vL2Rlc2NlbmRhbnQ6OnApWzhdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRyb3Bkb3duY3VwZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcvL3BbdGV4dCgpPVwiQ3VwIFNpemVcIl0vL3BhcmVudDo6ZGl2Ly9kZXNjZW5kYW50OjpzZWxlY3QnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VwQmVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnKC8vcFt0ZXh0KCk9XCJDdXAgU2l6ZVwiXS8vcGFyZW50OjpkaXYvL2Rlc2NlbmRhbnQ6OnNlbGVjdC8vb3B0aW9uKVs0XScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXBDZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcoLy9wW3RleHQoKT1cIkN1cCBTaXplXCJdLy9wYXJlbnQ6OmRpdi8vZGVzY2VuZGFudDo6c2VsZWN0Ly9vcHRpb24pWzVdJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1lYXN1cm1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJChcIi8vYnV0dG9uW2NvbnRhaW5zKEBjbGFzcywnYm9kc19fbGluay1tZWFzdXJlbWVudHMnKV1cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG15aW5mb3JtYXRpb24oKXtcclxuICAgICAgICByZXR1cm4gJCgnI3NpbXBsZS10YWItMScpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsb2dvdXRlbGVtZW50KCl7XHJcbiAgICAgICAgcmV0dXJuICQoJy8vYnV0dG9uW2NvbnRhaW5zKEBjbGFzcyxcImJvZHNfX2J1dHRvbiBib2RzX19idXR0b25cIildJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlY29tbWVuZGF0aW9uZWxlbWVudCgpe1xyXG4gICAgICAgIHJldHVybiAkKCcoLy9kaXZbY29udGFpbnMoQGNsYXNzLFwiYm9kc19fcHJvZHVjdC1saXN0XCIpXSlbMl0nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFudGVsZW1lbnQoKXtcclxuICAgICAgICByZXR1cm4gJCgnI2JvZHNfX3JlbGF0ZWQtcHJvZHVjdC1pdGVtLS0xJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09PT09PT09PSBNZXRob2RzID09PT09PT09PT1cclxuICAgIGFzeW5jIGNsaWNrTXlwcm9maWxlKCl7XHJcbiAgICAgICAgY29uc3QgbXlwcm9maWxlID0gYXdhaXQgdGhpcy5teXByb2ZpbGVlbGVsbWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBteXByb2ZpbGUuaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDQwMDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbXlwcm9maWxlLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2Nyb2xsdG9jdXBzaXplKCl7XHJcbiAgICAgICAgY29uc3QgY3Vwc2l6ZSA9IGF3YWl0IHRoaXMuY3Vwc2l6ZWVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgY3Vwc2l6ZS5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogNDAwMDB9KTtcclxuICAgICAgICBhd2FpdCBjdXBzaXplLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgyMDAwKTtcclxuICAgIH0gIFxyXG4gICAgXHJcbiAgICAvLyBDdXAgc2l6ZSBCIHRvIENcclxuICAgIGFzeW5jIHRvZ2dsZURyb3Bkb3duVmFsdWVDKCkge1xyXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gYXdhaXQgdGhpcy5kcm9wZG93bmN1cGVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgZHJvcGRvd24uc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICBjb25zdCBjdXBCID0gYXdhaXQgdGhpcy5jdXBCZWxlbWVudDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdmFsdWVcclxuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBhd2FpdCBjdXBCLmdldFRleHQoKTtcclxuICAgICAgICAvLyBDbGljayB0aGUgZHJvcGRvd24gdG8gc3dpdGNoIHRvIHRoZSBkZXNpcmVkIHZhbHVlXHJcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gJ0InKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRyb3Bkb3duLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkMgPSBhd2FpdCB0aGlzLmN1cENlbGVtZW50O1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDIwMDApO1xyXG4gICAgICAgICAgICBhd2FpdCBvcHRpb25DLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuIFxyXG4gICAgLy8gQ3VwIHNpemUgQyB0byBCXHJcbiAgICBhc3luYyB0b2dnbGVEcm9wZG93blZhbHVlQigpIHtcclxuICAgICAgICBjb25zdCBkcm9wZG93biA9IGF3YWl0IHRoaXMuZHJvcGRvd25jdXBlbGVtZW50O1xyXG4gICAgICAgIGF3YWl0IGRyb3Bkb3duLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgY29uc3QgY3VwQyA9IGF3YWl0IHRoaXMuY3VwQ2VsZW1lbnQ7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gYXdhaXQgY3VwQy5nZXRUZXh0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2xpY2sgdGhlIGRyb3Bkb3duIHRvIHN3aXRjaCB0byB0aGUgZGVzaXJlZCB2YWx1ZVxyXG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09ICdDJykge1xyXG4gICAgICAgICAgICBhd2FpdCBkcm9wZG93bi5jbGljaygpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25CID0gYXdhaXQgdGhpcy5jdXBCZWxlbWVudDtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5wYXVzZSgyMDAwKTtcclxuICAgICAgICAgICAgYXdhaXQgb3B0aW9uQi5jbGljaygpO1xyXG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLnBhdXNlKDIwMDApO1xyXG4gICAgICAgIH0gXHJcbiAgICB9ICAgXHJcblxyXG4gICAgYXN5bmMgc2Nyb2xsdG9tZWFzdXJtZW50KCl7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRsaW5rID0gYXdhaXQgdGhpcy5tZWFzdXJtZW50O1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIud2FpdFVudGlsKGFzeW5jICgpID0+IGF3YWl0IG1lYXN1cmVtZW50bGluay5pc0Rpc3BsYXllZCgpLCB7dGltZW91dDogNDAwMH0pO1xyXG4gICAgICAgIGF3YWl0IG1lYXN1cmVtZW50bGluay5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tNeUluZm9ybWF0aW9uKCl7XHJcbiAgICAgICAgY29uc3QgaW5mb3JtYXRpb24gPSBhd2FpdCB0aGlzLm15aW5mb3JtYXRpb247XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgaW5mb3JtYXRpb24uaXNEaXNwbGF5ZWQoKSwge3RpbWVvdXQ6IDQwMDB9KTtcclxuICAgICAgICBhd2FpdCBpbmZvcm1hdGlvbi5jbGljaygpO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2xpY2tMb2dvdXQoKXtcclxuICAgICAgICBjb25zdCBsb2dvdXQgPSBhd2FpdCB0aGlzLmxvZ291dGVsZW1lbnQ7XHJcbiAgICAgICAgYXdhaXQgYnJvd3Nlci53YWl0VW50aWwoYXN5bmMgKCkgPT4gYXdhaXQgbG9nb3V0LmlzRGlzcGxheWVkKCksIHt0aW1lb3V0OiA0MDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbG9nb3V0LmNsaWNrKCk7XHJcbiAgICAgICAgYXdhaXQgZXhwZWN0XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2Nyb2xsdG9MaXN0T2ZSZWNvbW1lbmRhdGlvbigpe1xyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBhd2FpdCB0aGlzLnJlY29tbWVuZGF0aW9uZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBsaXN0LmlzRGlzcGxheWVkKCksIHt0aW1lb3V0OiA0MDAwfSk7XHJcbiAgICAgICAgYXdhaXQgbGlzdC5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIucGF1c2UoMjAwMCk7XHJcbiAgICB9ICBcclxuXHJcbiAgICBhc3luYyBjbGlja1BhbnQoKXtcclxuICAgICAgICBjb25zdCBwYW50ID0gYXdhaXQgdGhpcy5wYW50ZWxlbWVudDtcclxuICAgICAgICBhd2FpdCBicm93c2VyLndhaXRVbnRpbChhc3luYyAoKSA9PiBhd2FpdCBwYW50LmlzRGlzcGxheWVkKCksIHt0aW1lb3V0OiA0MDAwMH0pO1xyXG4gICAgICAgIGF3YWl0IHBhbnQuY2xpY2soKTtcclxuICAgIH1cclxufSAgICAgXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IG15cHJvZmlsZSgpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzlCLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUUzQyxNQUFNRSxTQUFTLFNBQVNILElBQUksQ0FBQztFQUN6Qjs7RUFFQSxJQUFJSSxpQkFBaUJBLENBQUEsRUFBRTtJQUNuQixPQUFPQyxDQUFDLENBQUMsdUNBQXVDLENBQUM7RUFDckQ7RUFFQSxJQUFJQyxjQUFjQSxDQUFBLEVBQUU7SUFDaEI7SUFDQTtJQUNBLE9BQU9ELENBQUMsQ0FBQyxrREFBa0QsQ0FBQztFQUNoRTtFQUVBLElBQUlFLGtCQUFrQkEsQ0FBQSxFQUFFO0lBQ3BCLE9BQU9GLENBQUMsQ0FBQyx5REFBeUQsQ0FBQztFQUN2RTtFQUVBLElBQUlHLFdBQVdBLENBQUEsRUFBRTtJQUNiLE9BQU9ILENBQUMsQ0FBQyxzRUFBc0UsQ0FBQztFQUNwRjtFQUVBLElBQUlJLFdBQVdBLENBQUEsRUFBRTtJQUNiLE9BQU9KLENBQUMsQ0FBQyxzRUFBc0UsQ0FBQztFQUNwRjtFQUVBLElBQUlLLFVBQVVBLENBQUEsRUFBRTtJQUNaLE9BQU9MLENBQUMsQ0FBQyxzREFBc0QsQ0FBQztFQUNwRTtFQUVBLElBQUlNLGFBQWFBLENBQUEsRUFBRTtJQUNmLE9BQU9OLENBQUMsQ0FBQyxlQUFlLENBQUM7RUFDN0I7RUFFQSxJQUFJTyxhQUFhQSxDQUFBLEVBQUU7SUFDZixPQUFPUCxD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","map":{"version":3,"names":["Page","require","AvatarPage","myprofile","myprofileelelment","$","cupsizeelement","dropdowncupelement","cupBelement","cupCelement","measurment","myinformation","logoutelement","recommendationelement","pantelement","clickMyprofile","browser","waitUntil","isDisplayed","timeout","click","scrolltocupsize","cupsize","scrollIntoView","pause","toggleDropdownValueC","dropdown","cupB","currentValue","getText","optionC","toggleDropdownValueB","cupC","optionB","scrolltomeasurment","measurementlink","clickMyInformation","information","clickLogout","logout","expect","scrolltoListOfRecommendation","list","clickPant","pant","module","exports"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\pageobjects\\","sources":["myProfile.js"],"sourcesContent":["const Page = require(\"./page\");\r\nconst AvatarPage = require('./avatar_page');\r\n\r\nclass myprofile extends Page {\r\n    // ========= Selectors =========\r\n\r\n    get myprofileelelment(){\r\n        return $(\"//*[contains(@class,'bods__profile')]\");\r\n    }\r\n\r\n    get cupsizeelement(){\r\n        //return $('//p[text()=\"Cup Size\"]');\r\n        //let cupsizeele = \"#simple-tabpanel-0 > div > div > div > div > div.sc-tsFYE.dpEMol.MuiBox-root.css-0 > div:nth-child(3) > p.MuiTypography-root.MuiTypography-body1.sc-kYWVYA.iEZYW.css-1iqywp9\";    \r\n        return $('(//*[@id=\"simple-tabpanel-0\"]//descendant::p)[8]');\r\n    }\r\n\r\n    get dropdowncupelement(){\r\n        return $('//p[text()=\"Cup Size\"]//parent::div//descendant::select');\r\n    }\r\n\r\n    get cupBelement(){\r\n        return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[4]');\r\n    }\r\n\r\n    get cupCelement(){\r\n        return $('(//p[text()=\"Cup Size\"]//parent::div//descendant::select//option)[5]');\r\n    }\r\n\r\n    get measurment(){\r\n        return $(\"//button[contains(@class,'bods__link-measurements')]\");\r\n    }\r\n\r\n    get myinformation(){\r\n        return $('#simple-tab-1');\r\n    }\r\n\r\n    get logoutelement(){\r\n        return $('//button[contains(@class,\"bods__button bods__button\")]');\r\n    }\r\n\r\n    get recommendationelement(){\r\n        return $('(//div[contains(@class,\"bods__product-list\")])[2]');\r\n    }\r\n\r\n    get pantelement(){\r\n        return $('#bods__related-product-item--1');\r\n    }\r\n\r\n    // ========== Methods ==========\r\n    async clickMyprofile(){\r\n        const myprofile = await this.myprofileelelment;\r\n        await browser.waitUntil(async () => await myprofile.isDisplayed(), {timeout: 40000});\r\n        await myprofile.click();\r\n    }\r\n\r\n    async scrolltocupsize(){\r\n        const cupsize = await this.cupsizeelement;\r\n        await browser.waitUntil(async () => await cupsize.isDisplayed(), {timeout: 40000});\r\n        await cupsize.scrollIntoView();\r\n        await browser.pause(2000);\r\n    }  \r\n    \r\n    // Cup size B to C\r\n    async toggleDropdownValueC() {\r\n        const dropdown = await this.dropdowncupelement;\r\n        await dropdown.scrollIntoView();\r\n        const cupB = await this.cupBelement;\r\n        \r\n        // Get the current value\r\n        const currentValue = await cupB.getText();\r\n        // Click the dropdown to switch to the desired value\r\n        if (currentValue === 'B') {\r\n            await dropdown.click();\r\n            const optionC = await this.cupCelement;\r\n            await browser.pause(2000);\r\n            await optionC.click();\r\n            await browser.pause(1000);\r\n        } \r\n    }\r\n \r\n    // Cup size C to B\r\n    async toggleDropdownValueB() {\r\n        const dropdown = await this.dropdowncupelement;\r\n        await dropdown.scrollIntoView();\r\n        const cupC = await this.cupCelement;\r\n        // Get the current value\r\n        const currentValue = await cupC.getText();\r\n        \r\n        // Click the dropdown to switch to the desired value\r\n        if (currentValue === 'C') {\r\n            await dropdown.click();\r\n            const optionB = await this.cupBelement;\r\n            await browser.pause(2000);\r\n            await optionB.click();\r\n            await browser.pause(2000);\r\n        } \r\n    }   \r\n\r\n    async scrolltomeasurment(){\r\n        const measurementlink = await this.measurment;\r\n        await browser.waitUntil(async () => await measurementlink.isDisplayed(), {timeout: 4000});\r\n        await measurementlink.scrollIntoView();\r\n        await browser.pause(2000);\r\n    }\r\n\r\n    async clickMyInformation(){\r\n        const information = await this.myinformation;\r\n        await browser.waitUntil(async () => await information.isDisplayed(), {timeout: 4000});\r\n        await information.click();\r\n        await browser.pause(1000);\r\n    }\r\n\r\n    async clickLogout(){\r\n        const logout = await this.logoutelement;\r\n        await browser.waitUntil(async () => await logout.isDisplayed(), {timeout: 4000});\r\n        await logout.click();\r\n        await expect\r\n    }\r\n\r\n    async scrolltoListOfRecommendation(){\r\n        const list = await this.recommendationelement;\r\n        await browser.waitUntil(async () => await list.isDisplayed(), {timeout: 4000});\r\n        await list.scrollIntoView();\r\n        await browser.pause(2000);\r\n    }  \r\n\r\n    async clickPant(){\r\n        const pant = await this.pantelement;\r\n        await browser.waitUntil(async () => await pant.isDisplayed(), {timeout: 40000});\r\n        await pant.click();\r\n    }\r\n}     \r\nmodule.exports = new myprofile();"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC9B,MAAMC,UAAU,GAAGD,OAAO,CAAC,eAAe,CAAC;AAE3C,MAAME,SAAS,SAASH,IAAI,CAAC;EACzB;;EAEA,IAAII,iBAAiBA,CAAA,EAAE;IACnB,OAAOC,CAAC,CAAC,uCAAuC,CAAC;EACrD;EAEA,IAAIC,cAAcA,CAAA,EAAE;IAChB;IACA;IACA,OAAOD,CAAC,CAAC,kDAAkD,CAAC;EAChE;EAEA,IAAIE,kBAAkBA,CAAA,EAAE;IACpB,OAAOF,CAAC,CAAC,yDAAyD,CAAC;EACvE;EAEA,IAAIG,WAAWA,CAAA,EAAE;IACb,OAAOH,CAAC,CAAC,sEAAsE,CAAC;EACpF;EAEA,IAAII,WAAWA,CAAA,EAAE;IACb,OAAOJ,CAAC,CAAC,sEAAsE,CAAC;EACpF;EAEA,IAAIK,UAAUA,CAAA,EAAE;IACZ,OAAOL,CAAC,CAAC,sDAAsD,CAAC;EACpE;EAEA,IAAIM,aAAaA,CAAA,EAAE;IACf,OAAON,CAAC,CAAC,eAAe,CAAC;EAC7B;EAEA,IAAIO,aAAaA,CAAA,EAAE;IACf,OAAOP,CAAC,CAAC,wDAAwD,CAAC;EACtE;EAEA,IAAIQ,qBAAqBA,CAAA,EAAE;IACvB,OAAOR,CAAC,CAAC,mDAAmD,CAAC;EACjE;EAEA,IAAIS,WAAWA,CAAA,EAAE;IACb,OAAOT,CAAC,CAAC,gCAAgC,CAAC;EAC9C;;EAEA;EACA,MAAMU,cAAcA,CAAA,EAAE;IAClB,MAAMZ,SAAS,GAAG,MAAM,IAAI,CAACC,iBAAiB;IAC9C,MAAMY,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMd,SAAS,CAACe,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAK,CAAC,CAAC;IACpF,MAAMhB,SAAS,CAACiB,KAAK,CAAC,CAAC;EAC3B;EAEA,MAAMC,eAAeA,CAAA,EAAE;IACnB,MAAMC,OAAO,GAAG,MAAM,IAAI,CAAChB,cAAc;IACzC,MAAMU,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMK,OAAO,CAACJ,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAK,CAAC,CAAC;IAClF,MAAMG,OAAO,CAACC,cAAc,CAAC,CAAC;IAC9B,MAAMP,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;EAC7B;;EAEA;EACA,MAAMC,oBAAoBA,CAAA,EAAG;IACzB,MAAMC,QAAQ,GAAG,MAAM,IAAI,CAACnB,kBAAkB;IAC9C,MAAMmB,QAAQ,CAACH,cAAc,CAAC,CAAC;IAC/B,MAAMI,IAAI,GAAG,MAAM,IAAI,CAACnB,WAAW;;IAEnC;IACA,MAAMoB,YAAY,GAAG,MAAMD,IAAI,CAACE,OAAO,CAAC,CAAC;IACzC;IACA,IAAID,YAAY,KAAK,GAAG,EAAE;MACtB,MAAMF,QAAQ,CAACN,KAAK,CAAC,CAAC;MACtB,MAAMU,OAAO,GAAG,MAAM,IAAI,CAACrB,WAAW;MACtC,MAAMO,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;MACzB,MAAMM,OAAO,CAACV,KAAK,CAAC,CAAC;MACrB,MAAMJ,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;IAC7B;EACJ;;EAEA;EACA,MAAMO,oBAAoBA,CAAA,EAAG;IACzB,MAAML,QAAQ,GAAG,MAAM,IAAI,CAACnB,kBAAkB;IAC9C,MAAMmB,QAAQ,CAACH,cAAc,CAAC,CAAC;IAC/B,MAAMS,IAAI,GAAG,MAAM,IAAI,CAACvB,WAAW;IACnC;IACA,MAAMmB,YAAY,GAAG,MAAMI,IAAI,CAACH,OAAO,CAAC,CAAC;;IAEzC;IACA,IAAID,YAAY,KAAK,GAAG,EAAE;MACtB,MAAMF,QAAQ,CAACN,KAAK,CAAC,CAAC;MACtB,MAAMa,OAAO,GAAG,MAAM,IAAI,CAACzB,WAAW;MACtC,MAAMQ,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;MACzB,MAAMS,OAAO,CAACb,KAAK,CAAC,CAAC;MACrB,MAAMJ,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;IAC7B;EACJ;EAEA,MAAMU,kBAAkBA,CAAA,EAAE;IACtB,MAAMC,eAAe,GAAG,MAAM,IAAI,CAACzB,UAAU;IAC7C,MAAMM,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMkB,eAAe,CAACjB,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IACzF,MAAMgB,eAAe,CAACZ,cAAc,CAAC,CAAC;IACtC,MAAMP,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;EAC7B;EAEA,MAAMY,kBAAkBA,CAAA,EAAE;IACtB,MAAMC,WAAW,GAAG,MAAM,IAAI,CAAC1B,aAAa;IAC5C,MAAMK,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMoB,WAAW,CAACnB,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IACrF,MAAMkB,WAAW,CAACjB,KAAK,CAAC,CAAC;IACzB,MAAMJ,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;EAC7B;EAEA,MAAMc,WAAWA,CAAA,EAAE;IACf,MAAMC,MAAM,GAAG,MAAM,IAAI,CAAC3B,aAAa;IACvC,MAAMI,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMsB,MAAM,CAACrB,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IAChF,MAAMoB,MAAM,CAACnB,KAAK,CAAC,CAAC;IACpB,MAAMoB,MAAM;EAChB;EAEA,MAAMC,4BAA4BA,CAAA,EAAE;IAChC,MAAMC,IAAI,GAAG,MAAM,IAAI,CAAC7B,qBAAqB;IAC7C,MAAMG,OAAO,CAACC,SAAS,CAAC,YAAY,MAAMyB,IAAI,CAACxB,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IAC9E,MAAMuB,IAAI,CAACnB,cAAc,CAAC,CAAC;IAC3B,MAAMP,OAAO,CAACQ,KAAK,CAAC,IAAI,CAAC;EAC7B;EAEA,MAAMmB,SAASA,CAAA,EAAE;IACb,MAAMC,IAAI,GAAG,MAAM,IAAI,CAAC9B,WAAW;IACnC,MAAME,OAAO,CAACC,SAAS,CAAC,YAAY,MAAM2B,IAAI,CAAC1B,WAAW,CAAC,CAAC,EAAE;MAACC,OAAO,EAAE;IAAK,CAAC,CAAC;IAC/E,MAAMyB,IAAI,CAACxB,KAAK,CAAC,CAAC;EACtB;AACJ;AACAyB,MAAM,CAACC,OAAO,GAAG,IAAI3C,SAAS,CAAC,CAAC"}},"mtime":1704461655810},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\012_bods.1627-cupSizeBtoC_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst myprofilepage = require('../../pageobjects/myProfile');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-cupSizeBtoC_en\", async () => {\n    await Homepage.open();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // wait for avatar to be displayed\n    await avatarpage.avatardisplayed();\n    // click on myprofile to capture settings\n    await myprofilepage.clickMyprofile();\n    // click the cup size B to C\n    await myprofilepage.toggleDropdownValueC();\n    // click on myprofile to capture settings\n    await myprofilepage.clickMyprofile();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-cupSizeBtoC_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"012_bods.1627-cupSizeBtoC_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"012_bods.1627-cupSizeBtoC_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJteXByb2ZpbGVwYWdlIiwiZGVzY3JpYmUiLCJpdCIsIm9wZW4iLCJ3YXJuaW5nT3ZlcmxheSIsImNsaWNrcG9sb2ZpdG1lc2giLCJjbGlja2JvZHMzRCIsImNsaWNrTG9naW5saW5rIiwibG9naW4iLCJhdmF0YXJkaXNwbGF5ZWQiLCJjbGlja015cHJvZmlsZSIsInRvZ2dsZURyb3Bkb3duVmFsdWVDIiwidXRpbHMiLCJwcm9jZXNzIiwiY3dkIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxzY3JlZW5cXCIsInNvdXJjZXMiOlsiMDEyX2JvZHMuMTYyNy1jdXBTaXplQnRvQ19lbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIb21lcGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL2hvbWVfcGFnZScpO1xyXG5jb25zdCBQcm9kdWN0cGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL3Byb2R1Y3RfcGFnZScpO1xyXG5jb25zdCBhdmF0YXJwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvYXZhdGFyX3BhZ2UnKTtcclxuY29uc3QgbXlwcm9maWxlcGFnZSA9IHJlcXVpcmUoJy4uLy4uL3BhZ2VvYmplY3RzL215UHJvZmlsZScpO1xyXG5cclxuZGVzY3JpYmUoXCJCT0RTIDo6IFNjcmVlblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgaXQoXCJyZWNvcmRlciA6OiAxNjI3LWN1cFNpemVCdG9DX2VuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IEhvbWVwYWdlLm9wZW4oKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBQcm9kdWN0IGhvbWUgcGFnZSBBZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IFByb2R1Y3RwYWdlLmNsaWNrcG9sb2ZpdG1lc2goKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIGxhbmQgb24gcHJvZmlsZSBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICAvLyBsYW5kIG9uIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tMb2dpbmxpbmsoKTtcclxuICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5sb2dpbigpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIC8vIGNsaWNrIG9uIG15cHJvZmlsZSB0byBjYXB0dXJlIHNldHRpbmdzXHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICAvLyBjbGljayB0aGUgY3VwIHNpemUgQiB0byBDXHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLnRvZ2dsZURyb3Bkb3duVmFsdWVDKCk7XHJcbiAgICAvLyBjbGljayBvbiBteXByb2ZpbGUgdG8gY2FwdHVyZSBzZXR0aW5nc1xyXG4gICAgYXdhaXQgbXlwcm9maWxlcGFnZS5jbGlja015cHJvZmlsZSgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09IElNR19DT01QIDogU1RBUlQgPT09PT09PVxyXG4gIC8qXHJcbiAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGRvIHRoZSBpbWFnZSBjb21wYXJpc29uLlxyXG4gICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAqIFlvdSBjYW4gb3BlbiB0aGUgY3VzdG9tIHNjcmlwdHMgZm9yIGNhcHR1cmUgb3B0aW9ucyB0byBhcHBseSBvbmx5IGZvciBjdXJyZW50IHNwZWMuXHJcbiAgICogTm90ZTogZG9uJ3QgbW9kaWZ5IG9yIHJlbW92ZSBhbnkgc2NyaXB0IGhlcmUuXHJcbiAgICovXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBpdChcImltYWdlIGNvbXBhcmlzb24gdjEuMS40IDo6IDE2MjctY3VwU2l6ZUJ0b0NfZW5cIiwgYXN5bmMgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB1dGlscyA9IHJlcXVpcmUocHJvY2Vzcy5jd2QoKSArIFwiL3V0aWxzL3V0aWxzXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogU0tJUCBTUEVDIElGIFdST05HIENBUEFCSUxJVFlcclxuICAgIGxldCB2YWxpZCA9IGF3YWl0IHV0aWxzLmNoZWNrVmFsaWRDYXBzKCk7XHJcbiAgICBpZiAoIXZhbGlkKSBhd2FpdCB0aGlzLnNraXAoKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IENIRUNLIEZJUkVXQUxMXHJcbiAgICBhd2FpdCB1dGlscy5jaGVja0ZpcmVXYWxsKFwiMDEyX2JvZHMuMTYyNy1jdXBTaXplQnRvQ19lblwiKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1c3RvbSBjYXB0dXJlIG9wdHMuIFVuY29tbWVudCBhbmQgY2hhbmdlIHRoZSB2YWx1ZSB0byB1c2UgaXQuXHJcbiAgICAgKiBUaGUgZ2xvYmFsIGNvbmZpZyBpcyBzZXQgaW4gZGF0YS54bHN4IGFuZCBpcyBhcHBsaWVkIGJ5IGRlZmF1bHQgZm9yIGFsbCBzcGVjcy5cclxuICAgICAqIE5vdGU6IHRoZXNlIGNvbmZpZyBtYXkgYmUgcmVwbGFjZWQgaWYgdGhlcmUgaXMgbmV3IHZlcnNpb24gb2YgVXRpbHMgbGliIHJlbGVhc2VkLlxyXG4gICAgICovXHJcblxyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTJfYm9kcy4xNjI3LWN1cFNpemVCdG9DX2VuXCIsIFwiZnVsbFBhZ2VTY3JvbGxUaW1lb3V0XCIsIDMwMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTJfYm9kcy4xNjI3LWN1cFNpemVCdG9DX2VuXCIsIFwiaWdub3JlVHJhbnNwYXJlbnRQaXhlbFwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDEyX2JvZHMuMTYyNy1jdXBTaXplQnRvQ19lblwiLCBcImlnbm9yZUFudGlhbGlhc2luZ1wiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDEyX2JvZHMuMTYyNy1jdXBTaXplQnRvQ19lblwiLCBcInNjYWxlSW1hZ2VzVG9TYW1lU2l6ZVwiLCBmYWxzZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxMl9ib2RzLjE2MjctY3VwU2l6ZUJ0b0NfZW5cIiwgXCJsYXJnZUltYWdlVGhyZXNob2xkXCIsIDEwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxMl9ib2RzLjE2MjctY3VwU2l6ZUJ0b0NfZW5cIiwgXCJkaXNhYmxlQ1NTQW5pbWF0aW9uXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTJfYm9kcy4xNjI3LWN1cFNpemVCdG9DX2VuXCIsIFwiaWdub3JlQ29sb3JzXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTJfYm9kcy4xNjI3LWN1cFNpemVCdG9DX2VuXCIsIFwiaWdub3JlQWxwaGFcIiwgZmFsc2UsIFwid2ViXCIpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogSU1HIENPTVBBUklTT04gU1RFUFxyXG4gICAgYXdhaXQgdXRpbHMuaW1nQ29tcGFyZShcImJvZHNcIiwgXCIwMTJfYm9kcy4xNjI3LWN1cFNpemVCdG9DX2VuXCIpO1xyXG5cclxuICB9KTtcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyA9PT09PT09IElNR19DT01QIDogRU5EID09PT09PT1cclxuXHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFDdkQsTUFBTUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDN0QsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsK0JBQStCLENBQUM7QUFDM0QsTUFBTUcsYUFBYSxHQUFHSCxPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFFNURJLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZO0VBQ3JDQyxFQUFFLENBQUMsaUNBQWlDLEVBQUUsWUFBWTtJQUNoRCxNQUFNTixRQUFRLENBQUNPLElBQUksQ0FBQyxDQUFDO0lBQ3JCO0lBQ0EsTUFBTVAsUUFBUSxDQUFDUSxjQUFjLENBQUMsQ0FBQztJQUMvQjtJQUNBLE1BQU1OLFdBQVcsQ0FBQ08sZ0JBQWdCLENBQUMsQ0FBQztJQUNwQztJQUNBLE1BQU1ULFFBQVEsQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDL0I7SUFDQSxNQUFNTCxVQUFVLENBQUNPLFdBQVcsQ0FBQyxDQUFDO0lBQzlCO0lBQ0EsTUFBTVAsVUFBVSxDQUFDUSxjQUFjLENBQUMsQ0FBQztJQUNqQztJQUNBLE1BQU1SLFVBQVUsQ0FBQ1MsS0FBSyxDQUFDLENBQUM7SUFDeEI7SUFDQSxNQUFNVCxVQUFVLENBQUNVLGVBQWUsQ0FBQyxDQUFDO0lBQ2xDO0lBQ0EsTUFBTVQsYUFBYSxDQUFDVSxjQUFjLENBQUMsQ0FBQztJQUNwQztJQUNBLE1BQU1WLGFBQWEsQ0FBQ1csb0JBQW9CLENBQUMsQ0FBQztJQUMxQztJQUNBLE1BQU1YLGFBQWEsQ0FBQ1UsY0FBYyxDQUFDLENBQUM7RUFDdEMsQ0FBQyxDQUFDOztFQUVGO0VBQ0E7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0U7RUFDQVIsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLGtCQUFpQjtJQUNwRSxNQUFNVSxLQUFLLEdBQUdmLE9BQU8sQ0FBQ2dCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxjQUFjLENBQUM7O0lBRXJEO0lBQ0EsSUFBSUMsS0FBSyxHQUFHLE1BQU1ILEtBQUssQ0FBQ0ksY0FBYyxDQUFDLENBQUM7SUFDeEMsSUFBSSxDQUFDRCxLQUFLLEVBQUUsTUFBTSxJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFDOztJQUU3QjtJQUNBLE1BQU1MLEtBQUssQ0FBQ00sYUFBYSxDQUFDLDhCQUE4QixDQUFDOztJQUV6RDtBQUNKO0FBQ0E7QUFDQTtBQUNBOztJQUVJO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQSxNQUFNTixLQUFLLENBQUNPLFVBQVUsQ0FBQyxNQUFNLEVBQUUsOEJBQThCLENBQUM7RUFFaEUsQ0FBQyxDQUFDO0VBQ0Y7RUFDQTtBQUVGLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","myprofilepage","describe","it","open","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","avatardisplayed","clickMyprofile","toggleDropdownValueC","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["012_bods.1627-cupSizeBtoC_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst myprofilepage = require('../../pageobjects/myProfile');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-cupSizeBtoC_en\", async () => {\r\n    await Homepage.open();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    // click on myprofile to capture settings\r\n    await myprofilepage.clickMyprofile();\r\n    // click the cup size B to C\r\n    await myprofilepage.toggleDropdownValueC();\r\n    // click on myprofile to capture settings\r\n    await myprofilepage.clickMyprofile();\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-cupSizeBtoC_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"012_bods.1627-cupSizeBtoC_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"012_bods.1627-cupSizeBtoC_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"012_bods.1627-cupSizeBtoC_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,aAAa,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE5DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,iCAAiC,EAAE,YAAY;IAChD,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB;IACA,MAAMP,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMN,WAAW,CAACO,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMT,QAAQ,CAACQ,cAAc,CAAC,CAAC;IAC/B;IACA,MAAML,UAAU,CAACO,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMP,UAAU,CAACQ,cAAc,CAAC,CAAC;IACjC;IACA,MAAMR,UAAU,CAACS,KAAK,CAAC,CAAC;IACxB;IACA,MAAMT,UAAU,CAACU,eAAe,CAAC,CAAC;IAClC;IACA,MAAMT,aAAa,CAACU,cAAc,CAAC,CAAC;IACpC;IACA,MAAMV,aAAa,CAACW,oBAAoB,CAAC,CAAC;IAC1C;IACA,MAAMX,aAAa,CAACU,cAAc,CAAC,CAAC;EACtC,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAR,EAAE,CAAC,gDAAgD,EAAE,kBAAiB;IACpE,MAAMU,KAAK,GAAGf,OAAO,CAACgB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,8BAA8B,CAAC;;IAEzD;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,8BAA8B,CAAC;EAEhE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655843},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\screen\\\\015_bods.1627-myInformation_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\nconst Productpage = require('../../pageobjects/product_page');\nconst avatarpage = require('../../pageobjects/avatar_page');\nconst myprofilepage = require('../../pageobjects/myProfile');\ndescribe(\"BODS :: Screen\", async () => {\n  it(\"recorder :: 1627-myInformation_en\", async () => {\n    await Homepage.open();\n    await browser.deleteAllCookies();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\n    await Productpage.clickpolofitmesh();\n    // On Raplauren Home page after handling warning overlay \n    await Homepage.warningOverlay();\n    // land on profile page\n    await avatarpage.clickbods3D();\n    // land on login page\n    await avatarpage.clickLoginlink();\n    // login with existing account\n    await avatarpage.login();\n    // wait for avatar to be displayed\n    await avatarpage.avatardisplayed();\n    // click on myprofile to capture settings\n    await myprofilepage.clickMyprofile();\n    await myprofilepage.clickMyInformation();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-myInformation_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"015_bods.1627-myInformation_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"015_bods.1627-myInformation_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJQcm9kdWN0cGFnZSIsImF2YXRhcnBhZ2UiLCJteXByb2ZpbGVwYWdlIiwiZGVzY3JpYmUiLCJpdCIsIm9wZW4iLCJicm93c2VyIiwiZGVsZXRlQWxsQ29va2llcyIsIndhcm5pbmdPdmVybGF5IiwiY2xpY2twb2xvZml0bWVzaCIsImNsaWNrYm9kczNEIiwiY2xpY2tMb2dpbmxpbmsiLCJsb2dpbiIsImF2YXRhcmRpc3BsYXllZCIsImNsaWNrTXlwcm9maWxlIiwiY2xpY2tNeUluZm9ybWF0aW9uIiwidXRpbHMiLCJwcm9jZXNzIiwiY3dkIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxzY3JlZW5cXCIsInNvdXJjZXMiOlsiMDE1X2JvZHMuMTYyNy1teUluZm9ybWF0aW9uX2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEhvbWVwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvaG9tZV9wYWdlJyk7XHJcbmNvbnN0IFByb2R1Y3RwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvcHJvZHVjdF9wYWdlJyk7XHJcbmNvbnN0IGF2YXRhcnBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9hdmF0YXJfcGFnZScpO1xyXG5jb25zdCBteXByb2ZpbGVwYWdlID0gcmVxdWlyZSgnLi4vLi4vcGFnZW9iamVjdHMvbXlQcm9maWxlJyk7XHJcblxyXG5kZXNjcmliZShcIkJPRFMgOjogU2NyZWVuXCIsIGFzeW5jICgpID0+IHtcclxuICBpdChcInJlY29yZGVyIDo6IDE2MjctbXlJbmZvcm1hdGlvbl9lblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBIb21lcGFnZS5vcGVuKCk7XHJcbiAgICBhd2FpdCBicm93c2VyLmRlbGV0ZUFsbENvb2tpZXMoKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIE9uIENsYXNzaWMgRml0IE1lc2ggUG9sbyBTaGlydCBQcm9kdWN0IGhvbWUgcGFnZSBBZnRlciBoYW5kbGluZyB3YXJuaW5nIG92ZXJsYXlcclxuICAgIGF3YWl0IFByb2R1Y3RwYWdlLmNsaWNrcG9sb2ZpdG1lc2goKTtcclxuICAgIC8vIE9uIFJhcGxhdXJlbiBIb21lIHBhZ2UgYWZ0ZXIgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5IFxyXG4gICAgYXdhaXQgSG9tZXBhZ2Uud2FybmluZ092ZXJsYXkoKTtcclxuICAgIC8vIGxhbmQgb24gcHJvZmlsZSBwYWdlXHJcbiAgICBhd2FpdCBhdmF0YXJwYWdlLmNsaWNrYm9kczNEKCk7XHJcbiAgICAvLyBsYW5kIG9uIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IGF2YXRhcnBhZ2UuY2xpY2tMb2dpbmxpbmsoKTtcclxuICAgIC8vIGxvZ2luIHdpdGggZXhpc3RpbmcgYWNjb3VudFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5sb2dpbigpO1xyXG4gICAgLy8gd2FpdCBmb3IgYXZhdGFyIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgYXdhaXQgYXZhdGFycGFnZS5hdmF0YXJkaXNwbGF5ZWQoKTtcclxuICAgIC8vIGNsaWNrIG9uIG15cHJvZmlsZSB0byBjYXB0dXJlIHNldHRpbmdzXHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLmNsaWNrTXlwcm9maWxlKCk7XHJcbiAgICBhd2FpdCBteXByb2ZpbGVwYWdlLmNsaWNrTXlJbmZvcm1hdGlvbigpO1xyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09IElNR19DT01QIDogU1RBUlQgPT09PT09PVxyXG4gIC8qXHJcbiAgICogVGhpcyBpcyBDT1JFIGZ1bmN0aW9uIHRvIGRvIHRoZSBpbWFnZSBjb21wYXJpc29uLlxyXG4gICAqIFRoaXMgc2NyaXB0IGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgZXZlcnkgdGltZSB0aGVyZSBpcyBhIG5ldyB2ZXJzaW9uIHJlbGVhc2VkLlxyXG4gICAqIFlvdSBjYW4gb3BlbiB0aGUgY3VzdG9tIHNjcmlwdHMgZm9yIGNhcHR1cmUgb3B0aW9ucyB0byBhcHBseSBvbmx5IGZvciBjdXJyZW50IHNwZWMuXHJcbiAgICogTm90ZTogZG9uJ3QgbW9kaWZ5IG9yIHJlbW92ZSBhbnkgc2NyaXB0IGhlcmUuXHJcbiAgICovXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBpdChcImltYWdlIGNvbXBhcmlzb24gdjEuMS40IDo6IDE2MjctbXlJbmZvcm1hdGlvbl9lblwiLCBhc3luYyBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IHV0aWxzID0gcmVxdWlyZShwcm9jZXNzLmN3ZCgpICsgXCIvdXRpbHMvdXRpbHNcIik7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBTS0lQIFNQRUMgSUYgV1JPTkcgQ0FQQUJJTElUWVxyXG4gICAgbGV0IHZhbGlkID0gYXdhaXQgdXRpbHMuY2hlY2tWYWxpZENhcHMoKTtcclxuICAgIGlmICghdmFsaWQpIGF3YWl0IHRoaXMuc2tpcCgpO1xyXG5cclxuICAgIC8vIENPUkUgKGFjdGl2ZSkgOjogQ0hFQ0sgRklSRVdBTExcclxuICAgIGF3YWl0IHV0aWxzLmNoZWNrRmlyZVdhbGwoXCIwMTVfYm9kcy4xNjI3LW15SW5mb3JtYXRpb25fZW5cIik7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b20gY2FwdHVyZSBvcHRzLiBVbmNvbW1lbnQgYW5kIGNoYW5nZSB0aGUgdmFsdWUgdG8gdXNlIGl0LlxyXG4gICAgICogVGhlIGdsb2JhbCBjb25maWcgaXMgc2V0IGluIGRhdGEueGxzeCBhbmQgaXMgYXBwbGllZCBieSBkZWZhdWx0IGZvciBhbGwgc3BlY3MuXHJcbiAgICAgKiBOb3RlOiB0aGVzZSBjb25maWcgbWF5IGJlIHJlcGxhY2VkIGlmIHRoZXJlIGlzIG5ldyB2ZXJzaW9uIG9mIFV0aWxzIGxpYiByZWxlYXNlZC5cclxuICAgICAqL1xyXG5cclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE1X2JvZHMuMTYyNy1teUluZm9ybWF0aW9uX2VuXCIsIFwiZnVsbFBhZ2VTY3JvbGxUaW1lb3V0XCIsIDMwMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTVfYm9kcy4xNjI3LW15SW5mb3JtYXRpb25fZW5cIiwgXCJpZ25vcmVUcmFuc3BhcmVudFBpeGVsXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTVfYm9kcy4xNjI3LW15SW5mb3JtYXRpb25fZW5cIiwgXCJpZ25vcmVBbnRpYWxpYXNpbmdcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNV9ib2RzLjE2MjctbXlJbmZvcm1hdGlvbl9lblwiLCBcInNjYWxlSW1hZ2VzVG9TYW1lU2l6ZVwiLCBmYWxzZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAxNV9ib2RzLjE2MjctbXlJbmZvcm1hdGlvbl9lblwiLCBcImxhcmdlSW1hZ2VUaHJlc2hvbGRcIiwgMTAwLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE1X2JvZHMuMTYyNy1teUluZm9ybWF0aW9uX2VuXCIsIFwiZGlzYWJsZUNTU0FuaW1hdGlvblwiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDE1X2JvZHMuMTYyNy1teUluZm9ybWF0aW9uX2VuXCIsIFwiaWdub3JlQ29sb3JzXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMTVfYm9kcy4xNjI3LW15SW5mb3JtYXRpb25fZW5cIiwgXCJpZ25vcmVBbHBoYVwiLCBmYWxzZSwgXCJ3ZWJcIik7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBJTUcgQ09NUEFSSVNPTiBTVEVQXHJcbiAgICBhd2FpdCB1dGlscy5pbWdDb21wYXJlKFwiYm9kc1wiLCBcIjAxNV9ib2RzLjE2MjctbXlJbmZvcm1hdGlvbl9lblwiKTtcclxuXHJcbiAgfSk7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gPT09PT09PSBJTUdfQ09NUCA6IEVORCA9PT09PT09XHJcblxyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3ZELE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdELE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQzNELE1BQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBRTVESSxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBWTtFQUNyQ0MsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLFlBQVk7SUFDbEQsTUFBTU4sUUFBUSxDQUFDTyxJQUFJLENBQUMsQ0FBQztJQUNyQixNQUFNQyxPQUFPLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDaEM7SUFDQSxNQUFNVCxRQUFRLENBQUNVLGNBQWMsQ0FBQyxDQUFDO0lBQy9CO0lBQ0EsTUFBTVIsV0FBVyxDQUFDUyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BDO0lBQ0EsTUFBTVgsUUFBUSxDQUFDVSxjQUFjLENBQUMsQ0FBQztJQUMvQjtJQUNBLE1BQU1QLFVBQVUsQ0FBQ1MsV0FBVyxDQUFDLENBQUM7SUFDOUI7SUFDQSxNQUFNVCxVQUFVLENBQUNVLGNBQWMsQ0FBQyxDQUFDO0lBQ2pDO0lBQ0EsTUFBTVYsVUFBVSxDQUFDVyxLQUFLLENBQUMsQ0FBQztJQUN4QjtJQUNBLE1BQU1YLFVBQVUsQ0FBQ1ksZUFBZSxDQUFDLENBQUM7SUFDbEM7SUFDQSxNQUFNWCxhQUFhLENBQUNZLGNBQWMsQ0FBQyxDQUFDO0lBQ3BDLE1BQU1aLGFBQWEsQ0FBQ2Esa0JBQWtCLENBQUMsQ0FBQztFQUMxQyxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBWCxFQUFFLENBQUMsa0RBQWtELEVBQUUsa0JBQWlCO0lBQ3RFLE1BQU1ZLEtBQUssR0FBR2pCLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxjQUFjLENBQUM7O0lBRXJEO0lBQ0EsSUFBSUMsS0FBSyxHQUFHLE1BQU1ILEtBQUssQ0FBQ0ksY0FBYyxDQUFDLENBQUM7SUFDeEMsSUFBSSxDQUFDRCxLQUFLLEVBQUUsTUFBTSxJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFDOztJQUU3QjtJQUNBLE1BQU1MLEtBQUssQ0FBQ00sYUFBYSxDQUFDLGdDQUFnQyxDQUFDOztJQUUzRDtBQUNKO0FBQ0E7QUFDQTtBQUNBOztJQUVJO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQSxNQUFNTixLQUFLLENBQUNPLFVBQVUsQ0FBQyxNQUFNLEVBQUUsZ0NBQWdDLENBQUM7RUFFbEUsQ0FBQyxDQUFDO0VBQ0Y7RUFDQTtBQUVGLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["Homepage","require","Productpage","avatarpage","myprofilepage","describe","it","open","browser","deleteAllCookies","warningOverlay","clickpolofitmesh","clickbods3D","clickLoginlink","login","avatardisplayed","clickMyprofile","clickMyInformation","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\screen\\","sources":["015_bods.1627-myInformation_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\nconst Productpage = require('../../pageobjects/product_page');\r\nconst avatarpage = require('../../pageobjects/avatar_page');\r\nconst myprofilepage = require('../../pageobjects/myProfile');\r\n\r\ndescribe(\"BODS :: Screen\", async () => {\r\n  it(\"recorder :: 1627-myInformation_en\", async () => {\r\n    await Homepage.open();\r\n    await browser.deleteAllCookies();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // On Classic Fit Mesh Polo Shirt Product home page After handling warning overlay\r\n    await Productpage.clickpolofitmesh();\r\n    // On Raplauren Home page after handling warning overlay \r\n    await Homepage.warningOverlay();\r\n    // land on profile page\r\n    await avatarpage.clickbods3D();\r\n    // land on login page\r\n    await avatarpage.clickLoginlink();\r\n    // login with existing account\r\n    await avatarpage.login();\r\n    // wait for avatar to be displayed\r\n    await avatarpage.avatardisplayed();\r\n    // click on myprofile to capture settings\r\n    await myprofilepage.clickMyprofile();\r\n    await myprofilepage.clickMyInformation();\r\n  });\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-myInformation_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"015_bods.1627-myInformation_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"015_bods.1627-myInformation_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"015_bods.1627-myInformation_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAC7D,MAAME,UAAU,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC3D,MAAMG,aAAa,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAE5DI,QAAQ,CAAC,gBAAgB,EAAE,YAAY;EACrCC,EAAE,CAAC,mCAAmC,EAAE,YAAY;IAClD,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACrB,MAAMC,OAAO,CAACC,gBAAgB,CAAC,CAAC;IAChC;IACA,MAAMT,QAAQ,CAACU,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMR,WAAW,CAACS,gBAAgB,CAAC,CAAC;IACpC;IACA,MAAMX,QAAQ,CAACU,cAAc,CAAC,CAAC;IAC/B;IACA,MAAMP,UAAU,CAACS,WAAW,CAAC,CAAC;IAC9B;IACA,MAAMT,UAAU,CAACU,cAAc,CAAC,CAAC;IACjC;IACA,MAAMV,UAAU,CAACW,KAAK,CAAC,CAAC;IACxB;IACA,MAAMX,UAAU,CAACY,eAAe,CAAC,CAAC;IAClC;IACA,MAAMX,aAAa,CAACY,cAAc,CAAC,CAAC;IACpC,MAAMZ,aAAa,CAACa,kBAAkB,CAAC,CAAC;EAC1C,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAX,EAAE,CAAC,kDAAkD,EAAE,kBAAiB;IACtE,MAAMY,KAAK,GAAGjB,OAAO,CAACkB,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,gCAAgC,CAAC;;IAE3D;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,gCAAgC,CAAC;EAElE,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655850},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\fullpage\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"filename\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\\\\test\\\\specs\\\\bods-us\\\\bods\\\\record\\\\fullpage\\\\002_bods.1627-HomepageRL_en.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\myilv\\\\MyFirstProject\\\\bods-test-flow\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:test":{"value":{"code":"const Homepage = require('../../pageobjects/home_page');\ndescribe(\"BODS :: Fullpage\", async () => {\n  it(\"recorder :: 1627-HomepageRL_en\", async () => {\n    // On Raplauren Home page before handling warning overlay\n    await Homepage.open();\n    await Homepage.warningOverlay();\n  });\n\n  // ======= IMG_COMP : START =======\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\n  // ================================\n  it(\"image comparison v1.1.4 :: 1627-HomepageRL_en\", async function () {\n    const utils = require(process.cwd() + \"/utils/utils\");\n\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\n    let valid = await utils.checkValidCaps();\n    if (!valid) await this.skip();\n\n    // CORE (active) :: CHECK FIREWALL\n    await utils.checkFireWall(\"002_bods.1627-HomepageRL_en\");\n\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\n\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"fullPageScrollTimeout\", 3000, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreTransparentPixel\", true, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreAntialiasing\", true, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"scaleImagesToSameSize\", false, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"largeImageThreshold\", 100, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"disableCSSAnimation\", true, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreColors\", true, \"web\");\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreAlpha\", false, \"web\");\n\n    // CORE (active) :: IMG COMPARISON STEP\n    await utils.imgCompare(\"bods\", \"002_bods.1627-HomepageRL_en\");\n  });\n  // ==============================\n  // ======= IMG_COMP : END =======\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIb21lcGFnZSIsInJlcXVpcmUiLCJkZXNjcmliZSIsIml0Iiwib3BlbiIsIndhcm5pbmdPdmVybGF5IiwidXRpbHMiLCJwcm9jZXNzIiwiY3dkIiwidmFsaWQiLCJjaGVja1ZhbGlkQ2FwcyIsInNraXAiLCJjaGVja0ZpcmVXYWxsIiwiaW1nQ29tcGFyZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxteWlsdlxcTXlGaXJzdFByb2plY3RcXGJvZHMtdGVzdC1mbG93XFx0ZXN0XFxzcGVjc1xcYm9kcy11c1xcYm9kc1xccmVjb3JkXFxmdWxscGFnZVxcIiwic291cmNlcyI6WyIwMDJfYm9kcy4xNjI3LUhvbWVwYWdlUkxfZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSG9tZXBhZ2UgPSByZXF1aXJlKCcuLi8uLi9wYWdlb2JqZWN0cy9ob21lX3BhZ2UnKTtcclxuXHJcbmRlc2NyaWJlKFwiQk9EUyA6OiBGdWxscGFnZVwiLCBhc3luYyAoKSA9PiB7XHJcbiAgaXQoXCJyZWNvcmRlciA6OiAxNjI3LUhvbWVwYWdlUkxfZW5cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gT24gUmFwbGF1cmVuIEhvbWUgcGFnZSBiZWZvcmUgaGFuZGxpbmcgd2FybmluZyBvdmVybGF5XHJcbiAgICBhd2FpdCBIb21lcGFnZS5vcGVuKCk7XHJcbiAgICBhd2FpdCBIb21lcGFnZS53YXJuaW5nT3ZlcmxheSgpO1xyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT0gSU1HX0NPTVAgOiBTVEFSVCA9PT09PT09XHJcbiAgLypcclxuICAgKiBUaGlzIGlzIENPUkUgZnVuY3Rpb24gdG8gZG8gdGhlIGltYWdlIGNvbXBhcmlzb24uXHJcbiAgICogVGhpcyBzY3JpcHQgaXMgYWRkZWQgYXV0b21hdGljYWxseSBldmVyeSB0aW1lIHRoZXJlIGlzIGEgbmV3IHZlcnNpb24gcmVsZWFzZWQuXHJcbiAgICogWW91IGNhbiBvcGVuIHRoZSBjdXN0b20gc2NyaXB0cyBmb3IgY2FwdHVyZSBvcHRpb25zIHRvIGFwcGx5IG9ubHkgZm9yIGN1cnJlbnQgc3BlYy5cclxuICAgKiBOb3RlOiBkb24ndCBtb2RpZnkgb3IgcmVtb3ZlIGFueSBzY3JpcHQgaGVyZS5cclxuICAgKi9cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGl0KFwiaW1hZ2UgY29tcGFyaXNvbiB2MS4xLjQgOjogMTYyNy1Ib21lcGFnZVJMX2VuXCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgdXRpbHMgPSByZXF1aXJlKHByb2Nlc3MuY3dkKCkgKyBcIi91dGlscy91dGlsc1wiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IFNLSVAgU1BFQyBJRiBXUk9ORyBDQVBBQklMSVRZXHJcbiAgICBsZXQgdmFsaWQgPSBhd2FpdCB1dGlscy5jaGVja1ZhbGlkQ2FwcygpO1xyXG4gICAgaWYgKCF2YWxpZCkgYXdhaXQgdGhpcy5za2lwKCk7XHJcblxyXG4gICAgLy8gQ09SRSAoYWN0aXZlKSA6OiBDSEVDSyBGSVJFV0FMTFxyXG4gICAgYXdhaXQgdXRpbHMuY2hlY2tGaXJlV2FsbChcIjAwMl9ib2RzLjE2MjctSG9tZXBhZ2VSTF9lblwiKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1c3RvbSBjYXB0dXJlIG9wdHMuIFVuY29tbWVudCBhbmQgY2hhbmdlIHRoZSB2YWx1ZSB0byB1c2UgaXQuXHJcbiAgICAgKiBUaGUgZ2xvYmFsIGNvbmZpZyBpcyBzZXQgaW4gZGF0YS54bHN4IGFuZCBpcyBhcHBsaWVkIGJ5IGRlZmF1bHQgZm9yIGFsbCBzcGVjcy5cclxuICAgICAqIE5vdGU6IHRoZXNlIGNvbmZpZyBtYXkgYmUgcmVwbGFjZWQgaWYgdGhlcmUgaXMgbmV3IHZlcnNpb24gb2YgVXRpbHMgbGliIHJlbGVhc2VkLlxyXG4gICAgICovXHJcblxyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDJfYm9kcy4xNjI3LUhvbWVwYWdlUkxfZW5cIiwgXCJmdWxsUGFnZVNjcm9sbFRpbWVvdXRcIiwgMzAwMCwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMl9ib2RzLjE2MjctSG9tZXBhZ2VSTF9lblwiLCBcImlnbm9yZVRyYW5zcGFyZW50UGl4ZWxcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMl9ib2RzLjE2MjctSG9tZXBhZ2VSTF9lblwiLCBcImlnbm9yZUFudGlhbGlhc2luZ1wiLCB0cnVlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDAyX2JvZHMuMTYyNy1Ib21lcGFnZVJMX2VuXCIsIFwic2NhbGVJbWFnZXNUb1NhbWVTaXplXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuICAgIC8vIGF3YWl0IHV0aWxzLmFkZENhcHR1cmVPcHRzKFwiMDAyX2JvZHMuMTYyNy1Ib21lcGFnZVJMX2VuXCIsIFwibGFyZ2VJbWFnZVRocmVzaG9sZFwiLCAxMDAsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDJfYm9kcy4xNjI3LUhvbWVwYWdlUkxfZW5cIiwgXCJkaXNhYmxlQ1NTQW5pbWF0aW9uXCIsIHRydWUsIFwid2ViXCIpO1xyXG4gICAgLy8gYXdhaXQgdXRpbHMuYWRkQ2FwdHVyZU9wdHMoXCIwMDJfYm9kcy4xNjI3LUhvbWVwYWdlUkxfZW5cIiwgXCJpZ25vcmVDb2xvcnNcIiwgdHJ1ZSwgXCJ3ZWJcIik7XHJcbiAgICAvLyBhd2FpdCB1dGlscy5hZGRDYXB0dXJlT3B0cyhcIjAwMl9ib2RzLjE2MjctSG9tZXBhZ2VSTF9lblwiLCBcImlnbm9yZUFscGhhXCIsIGZhbHNlLCBcIndlYlwiKTtcclxuXHJcbiAgICAvLyBDT1JFIChhY3RpdmUpIDo6IElNRyBDT01QQVJJU09OIFNURVBcclxuICAgIGF3YWl0IHV0aWxzLmltZ0NvbXBhcmUoXCJib2RzXCIsIFwiMDAyX2JvZHMuMTYyNy1Ib21lcGFnZVJMX2VuXCIpO1xyXG5cclxuICB9KTtcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyA9PT09PT09IElNR19DT01QIDogRU5EID09PT09PT1cclxuXHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFFdkRDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFZO0VBQ3ZDQyxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBWTtJQUMvQztJQUNBLE1BQU1ILFFBQVEsQ0FBQ0ksSUFBSSxDQUFDLENBQUM7SUFDckIsTUFBTUosUUFBUSxDQUFDSyxjQUFjLENBQUMsQ0FBQztFQUNqQyxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRTtFQUNBRixFQUFFLENBQUMsK0NBQStDLEVBQUUsa0JBQWlCO0lBQ25FLE1BQU1HLEtBQUssR0FBR0wsT0FBTyxDQUFDTSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDOztJQUVyRDtJQUNBLElBQUlDLEtBQUssR0FBRyxNQUFNSCxLQUFLLENBQUNJLGNBQWMsQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQ0QsS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDRSxJQUFJLENBQUMsQ0FBQzs7SUFFN0I7SUFDQSxNQUFNTCxLQUFLLENBQUNNLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQzs7SUFFeEQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7SUFFSTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBO0lBQ0EsTUFBTU4sS0FBSyxDQUFDTyxVQUFVLENBQUMsTUFBTSxFQUFFLDZCQUE2QixDQUFDO0VBRS9ELENBQUMsQ0FBQztFQUNGO0VBQ0E7QUFFRixDQUFDLENBQUMifQ==","map":{"version":3,"names":["Homepage","require","describe","it","open","warningOverlay","utils","process","cwd","valid","checkValidCaps","skip","checkFireWall","imgCompare"],"sourceRoot":"C:\\Users\\myilv\\MyFirstProject\\bods-test-flow\\test\\specs\\bods-us\\bods\\record\\fullpage\\","sources":["002_bods.1627-HomepageRL_en.js"],"sourcesContent":["const Homepage = require('../../pageobjects/home_page');\r\n\r\ndescribe(\"BODS :: Fullpage\", async () => {\r\n  it(\"recorder :: 1627-HomepageRL_en\", async () => {\r\n    // On Raplauren Home page before handling warning overlay\r\n    await Homepage.open();\r\n    await Homepage.warningOverlay();\r\n  })\r\n\r\n  // ======= IMG_COMP : START =======\r\n  /*\r\n   * This is CORE function to do the image comparison.\r\n   * This script is added automatically every time there is a new version released.\r\n   * You can open the custom scripts for capture options to apply only for current spec.\r\n   * Note: don't modify or remove any script here.\r\n   */\r\n  // ================================\r\n  it(\"image comparison v1.1.4 :: 1627-HomepageRL_en\", async function() {\r\n    const utils = require(process.cwd() + \"/utils/utils\");\r\n\r\n    // CORE (active) :: SKIP SPEC IF WRONG CAPABILITY\r\n    let valid = await utils.checkValidCaps();\r\n    if (!valid) await this.skip();\r\n\r\n    // CORE (active) :: CHECK FIREWALL\r\n    await utils.checkFireWall(\"002_bods.1627-HomepageRL_en\");\r\n\r\n    /**\r\n     * Custom capture opts. Uncomment and change the value to use it.\r\n     * The global config is set in data.xlsx and is applied by default for all specs.\r\n     * Note: these config may be replaced if there is new version of Utils lib released.\r\n     */\r\n\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"fullPageScrollTimeout\", 3000, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreTransparentPixel\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreAntialiasing\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"scaleImagesToSameSize\", false, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"largeImageThreshold\", 100, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"disableCSSAnimation\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreColors\", true, \"web\");\r\n    // await utils.addCaptureOpts(\"002_bods.1627-HomepageRL_en\", \"ignoreAlpha\", false, \"web\");\r\n\r\n    // CORE (active) :: IMG COMPARISON STEP\r\n    await utils.imgCompare(\"bods\", \"002_bods.1627-HomepageRL_en\");\r\n\r\n  });\r\n  // ==============================\r\n  // ======= IMG_COMP : END =======\r\n\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AAEvDC,QAAQ,CAAC,kBAAkB,EAAE,YAAY;EACvCC,EAAE,CAAC,gCAAgC,EAAE,YAAY;IAC/C;IACA,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IACrB,MAAMJ,QAAQ,CAACK,cAAc,CAAC,CAAC;EACjC,CAAC,CAAC;;EAEF;EACA;AACF;AACA;AACA;AACA;AACA;EACE;EACAF,EAAE,CAAC,+CAA+C,EAAE,kBAAiB;IACnE,MAAMG,KAAK,GAAGL,OAAO,CAACM,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;;IAErD;IACA,IAAIC,KAAK,GAAG,MAAMH,KAAK,CAACI,cAAc,CAAC,CAAC;IACxC,IAAI,CAACD,KAAK,EAAE,MAAM,IAAI,CAACE,IAAI,CAAC,CAAC;;IAE7B;IACA,MAAML,KAAK,CAACM,aAAa,CAAC,6BAA6B,CAAC;;IAExD;AACJ;AACA;AACA;AACA;;IAEI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAMN,KAAK,CAACO,UAAU,CAAC,MAAM,EAAE,6BAA6B,CAAC;EAE/D,CAAC,CAAC;EACF;EACA;AAEF,CAAC,CAAC"}},"mtime":1704461655820}}